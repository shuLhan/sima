/*
This file is part of Ext JS 4.2

Copyright (c) 2011-2013 Sencha Inc

Contact:  http://www.sencha.com/contact

GNU General Public License Usage This file may be used under the terms of the
GNU General Public License version 3.0 as published by the Free Software
Foundation and appearing in the file LICENSE included in the packaging of this
file.

Please review the following information to ensure the GNU General Public
License version 3.0 requirements will be met:
http://www.gnu.org/copyleft/gpl.html.

If you are unsure which license is appropriate for your use, please contact the
sales department at http://www.sencha.com/contact.
*/
var Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var a,b,c=this,d=Object.prototype,e=d.toString,f=!0,g={toString:1},h=function(){},i=function(){var a=i.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},j=/\S/,k=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=!0,Ext.global=c;for(a in g)f=null;f&&(f=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=f,Ext.apply=function(a,b,c){if(c&&Ext.apply(a,c),a&&b&&"object"==typeof b){var d,e,g;for(d in b)a[d]=b[d];if(f)for(e=f.length;e--;)g=f[e],b.hasOwnProperty(g)&&(a[g]=b[g])}return a},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:h,identityFn:function(a){return a},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(a,b){var c;if(a)for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},iterate:function(a,b,c){Ext.isEmpty(a)||(void 0===c&&(c=a),Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,b,c):Ext.Object.each.call(Ext.Object,a,b,c))}}),Ext.apply(Ext,{extend:function(){var a=d.constructor,b=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return function(c,d,e){Ext.isObject(d)&&(e=d,d=c,c=e.constructor!==a?e.constructor:function(){d.apply(this,arguments)});var f,g=function(){},h=d.prototype;return g.prototype=h,f=c.prototype=new g,f.constructor=c,c.superclass=h,h.constructor===a&&(h.constructor=d),c.override=function(a){Ext.override(c,a)},f.override=b,f.proto=f,c.override(e),c.extend=function(a){return Ext.extend(c,a)},c}}(),override:function(a,b){if(a.$isClass)a.override(b);else if("function"==typeof a)Ext.apply(a.prototype,b);else{var c,d,e=a.self;if(e&&e.$isClass)for(c in b)b.hasOwnProperty(c)&&(d=b[c],"function"==typeof d&&(d.$name=c,d.$owner=e,d.$previous=a.hasOwnProperty(c)?a[c]:i),a[c]=d);else Ext.apply(a,b)}return a}}),Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},typeOf:function(a){var b,c;if(null===a)return"null";if(b=typeof a,"undefined"===b||"string"===b||"number"===b||"boolean"===b)return b;switch(c=e.call(a)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===b?"function":"object"===b?void 0!==a.nodeType?3===a.nodeType?j.test(a.nodeValue)?"textnode":"whitespace":"element":"object":void 0},coerce:function(a,b){var c=Ext.typeOf(a),d=Ext.typeOf(b),e="string"==typeof a;if(c!==d)switch(d){case"string":return String(a);case"number":return Number(a);case"boolean":return!e||a&&"false"!==a?Boolean(a):!1;case"null":return!e||a&&"null"!==a?a:null;case"undefined":return!e||a&&"undefined"!==a?a:void 0;case"date":return e&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a))}return a},isEmpty:function(a,b){return null===a||void 0===a||(b?!1:""===a)||Ext.isArray(a)&&0===a.length},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===e.call(a)},isDate:function(a){return"[object Date]"===e.call(a)},isObject:"[object Object]"===e.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===e.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===e.call(a)},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){var b=typeof a;return"string"===b||"number"===b||"boolean"===b},isFunction:function(a){return!(!a||!a.$extIsFunction)},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isElement:function(a){return a?1===a.nodeType:!1},isTextNode:function(a){return a?"#text"===a.nodeName:!1},isDefined:function(a){return"undefined"!=typeof a},isIterable:function(a){return!a||"number"!=typeof a.length||"string"==typeof a||a.$extIsFunction?!1:a.propertyIsEnumerable?a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")?!0:k.test(e.call(a)):!!a.item}}),Ext.apply(Ext,{clone:function(a){var b,c,d,g,h,i;if(null===a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);if(b=e.call(a),"[object Date]"===b)return new Date(a.getTime());if("[object Array]"===b)for(c=a.length,h=[];c--;)h[c]=Ext.clone(a[c]);else if("[object Object]"===b&&a.constructor===Object){h={};for(i in a)h[i]=Ext.clone(a[i]);if(f)for(d=f.length;d--;)g=f[d],a.hasOwnProperty(g)&&(h[g]=a[g])}return h||a},getUniqueGlobalNamespace:function(){var a,b=this.uniqueGlobalNamespace;if(void 0===b){a=0;do b="ExtBox"+ ++a;while(void 0!==Ext.global[b]);Ext.global[b]=Ext,this.uniqueGlobalNamespace=b}return b},functionFactoryCache:{},cacheableFunctionFactory:function(){var a,b,c,d=this,e=Array.prototype.slice.call(arguments),f=d.functionFactoryCache;return Ext.isSandboxed&&(c=e.length,c>0&&(c--,e[c]="var Ext=window."+Ext.name+";"+e[c])),a=e.join(""),b=f[a],b||(b=Function.prototype.constructor.apply(Function.prototype,e),f[a]=b),b},functionFactory:function(){var a,b=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(a=b.length,a>0&&(a--,b[a]="var Ext=window."+Ext.name+";"+b[a])),Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:h,log:h,info:h,warn:h,error:function(a){throw new Error(a)},deprecate:h}}),Ext.type=Ext.typeOf,b=Ext.app,b||(b=Ext.app={}),Ext.apply(b,{namespaces:{},collectNamespaces:function(a){var b,c=Ext.app.namespaces;for(b in a)a.hasOwnProperty(b)&&(c[b]=!0)},addNamespaces:function(a){var b,c,d=Ext.app.namespaces;for(Ext.isArray(a)||(a=[a]),b=0,c=a.length;c>b;b++)d[a[b]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(a){var b,c=Ext.app.namespaces,d="";for(b in c)c.hasOwnProperty(b)&&b.length>d.length&&b+"."===a.substring(0,b.length+1)&&(d=b);return""===d?void 0:d}})}(),Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},function(){var a,b="4.2.1.883";Ext.Version=a=Ext.extend(Object,{constructor:function(b){var c,d;return b instanceof a?b:(this.version=this.shortVersion=String(b).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),d=this.version.search(/([^\d\.])/),-1!==d&&(this.release=this.version.substr(d,b.length),this.shortVersion=this.version.substr(0,d)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),c=this.version.split("."),this.major=parseInt(c.shift()||0,10),this.minor=parseInt(c.shift()||0,10),this.patch=parseInt(c.shift()||0,10),this.build=parseInt(c.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(b){return 1===a.compare(this.version,b)},isGreaterThanOrEqual:function(b){return a.compare(this.version,b)>=0},isLessThan:function(b){return-1===a.compare(this.version,b)},isLessThanOrEqual:function(b){return a.compare(this.version,b)<=0},equals:function(b){return 0===a.compare(this.version,b)},match:function(a){return a=String(a),this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(a,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return a?isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10):0},compare:function(b,c){var d,e,f;for(b=new a(b).toArray(),c=new a(c).toArray(),f=0;f<Math.max(b.length,c.length);f++){if(d=this.getComponentValue(b[f]),e=this.getComponentValue(c[f]),e>d)return-1;if(d>e)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(b,c){return Ext.versions[b]=new a(c),Ext.lastRegisteredVersion=Ext.versions[b],this},getVersion:function(a){return void 0===a?Ext.lastRegisteredVersion:Ext.versions[a]},deprecate:function(b,c,d,e){a.compare(Ext.getVersion(b),c)<1&&d.call(e)}}),Ext.setVersion("core",b)}(),Ext.String=function(){var a,b,c,d,e=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,f=/('|\\)/g,g=/\{(\d+)\}/g,h=/([-.*+?\^${}()|\[\]\/\\])/g,i=/^\s+|\s+$/g,j=/\s+/,k=/(^[^a-z]*|[^\w])/gi,l=function(b,c){return a[c]},m=function(a,c){return c in b?b[c]:String.fromCharCode(parseInt(c.substr(2),10))},n=function(a,b){return null===a||void 0===a||null===b||void 0===b?!1:b.length<=a.length};return{insert:function(a,b,c){if(!a)return b;if(!b)return a;var d=a.length;return c||0===c||(c=d),0>c&&(c*=-1,c=c>=d?0:d-c),0===c?a=b+a:c>=a.length?a+=b:a=a.substr(0,c)+b+a.substr(c),a},startsWith:function(a,b,c){var d=n(a,b);return d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=0===a.lastIndexOf(b,0)),d},endsWith:function(a,b,c){var d=n(a,b);return d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=-1!==a.indexOf(b,a.length-b.length)),d},createVarName:function(a){return a.replace(k,"")},htmlEncode:function(a){return a?String(a).replace(c,l):a},htmlDecode:function(a){return a?String(a).replace(d,m):a},addCharacterEntities:function(e){var f,g,h=[],i=[];for(f in e)g=e[f],b[f]=g,a[g]=f,h.push(g),i.push(f);c=new RegExp("("+h.join("|")+")","g"),d=new RegExp("("+i.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){a={},b={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,b){return Ext.isEmpty(b)?a:a+(-1===a.indexOf("?")?"?":"&")+b},trim:function(a){return a.replace(e,"")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var d=a.substr(0,b-2),e=Math.max(d.lastIndexOf(" "),d.lastIndexOf("."),d.lastIndexOf("!"),d.lastIndexOf("?"));if(-1!==e&&e>=b-15)return d.substr(0,e)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(h,"\\$1")},escape:function(a){return a.replace(f,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){var d=String(a);for(c=c||" ";d.length<b;)d=c+d;return d},format:function(a){var b=Ext.Array.toArray(arguments,1);return a.replace(g,function(a,c){return b[c]})},repeat:function(a,b,c){1>b&&(b=0);for(var d=[],e=b;e--;)d.push(a);return d.join(c||"")},splitWords:function(a){return a&&"string"==typeof a?a.replace(i,"").split(j):a||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var a=this,b="1"!==.9.toFixed(),c=Math;Ext.apply(this,{constrain:function(a,b,c){var d=parseFloat(a);return b>d?b:d>c?c:d},snap:function(b,c,d,e){var f;return void 0===b||d>b?d||0:(c&&(f=b%c,0!==f&&(b-=f,2*f>=c?b+=c:-c>2*f&&(b-=c))),a.constrain(b,d,e))},snapInRange:function(b,c,d,e){var f;return d=d||0,void 0===b||d>b?d:(c&&(f=(b-d)%c)&&(b-=f,f*=2,f>=c&&(b+=c)),void 0!==e&&b>(e=a.snapInRange(e,c,d))&&(b=e),b)},toFixed:b?function(a,b){b=b||0;var d=c.pow(10,b);return(c.round(a*d)/d).toFixed(b)}:function(a,b){return a.toFixed(b)},from:function(a,b){return isFinite(a)&&(a=parseFloat(a)),isNaN(a)?b:a},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}}),Ext.num=function(){return a.from.apply(this,arguments)}},function(){function a(a,b){return 0>b?Math.max(0,a.length+b):Math.min(a.length,b)}function b(b,c,d,e){var f,g,h,i,j,k,l=e?e.length:0,m=b.length,n=a(b,c);if(n===m)l&&b.push.apply(b,e);else{if(f=Math.min(d,m-n),g=n+f,h=g+l-f,i=m-g,j=m-f,g>h)for(k=0;i>k;++k)b[h+k]=b[g+k];else if(h>g)for(k=i;k--;)b[h+k]=b[g+k];if(l&&n===j)b.length=j,b.push.apply(b,e);else for(b.length=j+l,k=0;l>k;++k)b[n+k]=e[k]}return b}function c(a,b,c,d){return d&&d.length?0!==b||c?b<a.length?a.splice.apply(a,[b,c].concat(d)):a.push.apply(a,d):a.unshift.apply(a,d):a.splice(b,c),a}function d(a,c,d){return b(a,c,d)}function e(a,b,c){return a.splice(b,c),a}function f(c,d,e){var f=a(c,d),g=c.slice(d,a(c,f+e));return arguments.length<4?b(c,f,e):b(c,f,e,m.call(arguments,3)),g}function g(a){return a.splice.apply(a,m.call(arguments,1))}var h,i,j,k,l=Array.prototype,m=l.slice,n=function(){var a,b=[],c=20;if(!b.splice)return!1;for(;c--;)b.push("A");return b.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),a=b.length,b.splice(13,0,"XXX"),a+1!=b.length?!1:!0}(),o="forEach"in l,p="map"in l,q="indexOf"in l,r="every"in l,s="some"in l,t="filter"in l,u=function(){var a=[1,2,3,4,5].sort(function(){return 0});return 1===a[0]&&2===a[1]&&3===a[2]&&4===a[3]&&5===a[4]}(),v=!0;try{"undefined"!=typeof document&&m.call(document.getElementsByTagName("body"))}catch(w){v=!1}i=n?e:d,j=n?c:b,k=n?g:f,h=Ext.Array={each:function(a,b,c,d){a=h.from(a);var e,f=a.length;if(d!==!0){for(e=0;f>e;e++)if(b.call(c||a[e],a[e],e,a)===!1)return e}else for(e=f-1;e>-1;e--)if(b.call(c||a[e],a[e],e,a)===!1)return e;return!0},forEach:o?function(a,b,c){a.forEach(b,c)}:function(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a)},indexOf:q?function(a,b,c){return l.indexOf.call(a,b,c)}:function(a,b,c){var d,e=a.length;for(d=0>c?Math.max(0,e+c):c||0;e>d;d++)if(a[d]===b)return d;return-1},contains:q?function(a,b){return-1!==l.indexOf.call(a,b)}:function(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},toArray:function(a,b,c){if(!a||!a.length)return[];if("string"==typeof a&&(a=a.split("")),v)return m.call(a,b||0,c||a.length);var d,e=[];for(b=b||0,c=c?0>c?a.length+c:c:a.length,d=b;c>d;d++)e.push(a[d]);return e},pluck:function(a,b){var c,d,e,f=[];for(c=0,d=a.length;d>c;c++)e=a[c],f.push(e[b]);return f},map:p?function(a,b,c){return a.map(b,c)}:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)d[e]=b.call(c,a[e],e,a);return d},every:r?function(a,b,c){return a.every(b,c)}:function(a,b,c){for(var d=0,e=a.length;e>d;++d)if(!b.call(c,a[d],d,a))return!1;return!0},some:s?function(a,b,c){return a.some(b,c)}:function(a,b,c){for(var d=0,e=a.length;e>d;++d)if(b.call(c,a[d],d,a))return!0;return!1},equals:function(a,b){var c,d=a.length,e=b.length;if(a===b)return!0;if(d!==e)return!1;for(c=0;d>c;++c)if(a[c]!==b[c])return!1;return!0},clean:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],Ext.isEmpty(b)||c.push(b);return c},unique:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],-1===h.indexOf(c,b)&&c.push(b);return c},filter:t?function(a,b,c){return a.filter(b,c)}:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d},findBy:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c||a,a[d],d))return a[d];return null},from:function(a,b){if(void 0===a||null===a)return[];if(Ext.isArray(a))return b?m.call(a):a;var c=typeof a;return!a||void 0===a.length||"string"===c||"function"===c&&a.apply?[a]:h.toArray(a)},remove:function(a,b){var c=h.indexOf(a,b);return-1!==c&&i(a,c,1),a},include:function(a,b){h.contains(a,b)||a.push(b)},clone:function(a){return m.call(a)},merge:function(){var a,b,c=m.call(arguments),d=[];for(a=0,b=c.length;b>a;a++)d=d.concat(c[a]);return h.unique(d)},intersect:function(){var a,b,c,d,e,f,g,j,k,l,n,o,p,q=[],r=m.call(arguments);if(!r.length)return q;for(a=r.length,n=e=0;a>n;n++)f=r[n],(!d||f.length<d.length)&&(d=f,e=n);for(d=h.unique(d),i(r,e,1),g=d.length,a=r.length,n=0;g>n;n++){for(j=d[n],l=0,o=0;a>o;o++)for(b=r[o],c=b.length,p=0;c>p;p++)if(k=b[p],j===k){l++;break}l===a&&q.push(j)}return q},difference:function(a,b){var c,d,e,f=m.call(a),g=f.length;for(c=0,e=b.length;e>c;c++)for(d=0;g>d;d++)f[d]===b[c]&&(i(f,d,1),d--,g--);return f},slice:[1,2].slice(1,void 0).length?function(a,b,c){return m.call(a,b,c)}:function(a,b,c){return"undefined"==typeof b?m.call(a):"undefined"==typeof c?m.call(a,b):m.call(a,b,c)},sort:u?function(a,b){return b?a.sort(b):a.sort()}:function(a,b){for(var c,d,e,f,g=a.length,h=0;g>h;h++){for(e=h,d=h+1;g>d;d++)b?(c=b(a[d],a[e]),0>c&&(e=d)):a[d]<a[e]&&(e=d);e!==h&&(f=a[h],a[h]=a[e],a[e]=f)}return a},flatten:function(a){function b(a){var d,e,f;for(d=0,e=a.length;e>d;d++)f=a[d],Ext.isArray(f)?b(f):c.push(f);return c}var c=[];return b(a)},min:function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;d>c;c++)e=a[c],b?1===b(f,e)&&(f=e):f>e&&(f=e);return f},max:function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;d>c;c++)e=a[c],b?-1===b(f,e)&&(f=e):e>f&&(f=e);return f},mean:function(a){return a.length>0?h.sum(a)/a.length:void 0},sum:function(a){var b,c,d,e=0;for(b=0,c=a.length;c>b;b++)d=a[b],e+=d;return e},toMap:function(a,b,c){var d={},e=a.length;if(b)if("string"==typeof b)for(;e--;)d[a[e][b]]=e+1;else for(;e--;)d[b.call(c,a[e])]=e+1;else for(;e--;)d[a[e]]=e+1;return d},toValueMap:function(a,b,c){var d={},e=a.length;if(b)if("string"==typeof b)for(;e--;)d[a[e][b]]=a[e];else for(;e--;)d[b.call(c,a[e])]=a[e];else for(;e--;)d[a[e]]=a[e];return d},erase:i,insert:function(a,b,c){return j(a,b,0,c)},replace:j,splice:k,push:function(a){var b,c=arguments.length,d=1;for(void 0===a?a=[]:Ext.isArray(a)||(a=[a]);c>d;d++)b=arguments[d],Array.prototype.push[Ext.isIterable(b)?"apply":"call"](a,b);return a}},Ext.each=h.each,h.union=h.merge,Ext.min=h.min,Ext.max=h.max,Ext.sum=h.sum,Ext.mean=h.mean,Ext.flatten=h.flatten,Ext.clean=h.clean,Ext.unique=h.unique,Ext.pluck=h.pluck,Ext.toArray=function(){return h.toArray.apply(h,arguments)}}(),Ext.Function={flexSetter:function(a){return function(b,c){var d,e;if(null===b)return this;if("string"!=typeof b){for(d in b)b.hasOwnProperty(d)&&a.call(this,d,b[d]);if(Ext.enumerables)for(e=Ext.enumerables.length;e--;)d=Ext.enumerables[e],b.hasOwnProperty(d)&&a.call(this,d,b[d])}else a.call(this,b,c);return this}},bind:function(a,b,c,d){if(2===arguments.length)return function(){return a.apply(b,arguments)};var e=a,f=Array.prototype.slice;return function(){var a=c||arguments;return d===!0?(a=f.call(arguments,0),a=a.concat(c)):"number"==typeof d&&(a=f.call(arguments,0),Ext.Array.insert(a,d,c)),e.apply(b||Ext.global,a)}},pass:function(a,b,c){return Ext.isArray(b)||(b=Ext.isIterable(b)?Ext.Array.clone(b):void 0!==b?[b]:[]),function(){var d=[].concat(b);return d.push.apply(d,arguments),a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,b,c,d){return Ext.isFunction(b)?(d=Ext.isDefined(d)?d:null,function(){var e=this,f=arguments;return b.target=e,b.method=a,b.apply(c||e||Ext.global,f)!==!1?a.apply(e||Ext.global,f):d}):a},createDelayed:function(a,b,c,d,e){return(c||d)&&(a=Ext.Function.bind(a,c,d,e)),function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(c,d)},b)}},defer:function(a,b,c,d,e){return a=Ext.Function.bind(a,c,d,e),b>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b):(a(),0)},createSequence:function(a,b,c){return b?function(){var d=a.apply(this,arguments);return b.apply(c||this,arguments),d}:a},createBuffered:function(a,b,c,d){var e;return function(){var f=d||Array.prototype.slice.call(arguments,0),g=c||this;e&&clearTimeout(e),e=setTimeout(function(){a.apply(g,f)},b)}},createThrottled:function(a,b,c){var d,e,f,g,h=function(){a.apply(c||this,f),d=Ext.Date.now()};return function(){e=Ext.Date.now()-d,f=arguments,clearTimeout(g),!d||e>=b?h():g=setTimeout(h,b-e)}},interceptBefore:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);return e.apply(this,arguments),a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){return e.apply(this,arguments),c.apply(d||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var a=function(){},b=Ext.Object={chain:Object.create||function(b){a.prototype=b;var c=new a;return a.prototype=null,c},toQueryObjects:function(a,c,d){var e,f,g=b.toQueryObjects,h=[];if(Ext.isArray(c))for(e=0,f=c.length;f>e;e++)d?h=h.concat(g(a+"["+e+"]",c[e],!0)):h.push({name:a,value:c[e]});else if(Ext.isObject(c))for(e in c)c.hasOwnProperty(e)&&(d?h=h.concat(g(a+"["+e+"]",c[e],!0)):h.push({name:a,value:c[e]}));else h.push({name:a,value:c});return h},toQueryString:function(a,c){var d,e,f,g,h,i=[],j=[];for(d in a)a.hasOwnProperty(d)&&(i=i.concat(b.toQueryObjects(d,a[d],c)));for(e=0,f=i.length;f>e;e++)g=i[e],h=g.value,Ext.isEmpty(h)?h="":Ext.isDate(h)&&(h=Ext.Date.toString(h)),j.push(encodeURIComponent(g.name)+"="+encodeURIComponent(String(h)));return j.join("&")},fromQueryString:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.replace(/^\?/,"").split("&"),r={};for(g=0,h=q.length;h>g;g++)if(i=q[g],i.length>0)if(d=i.split("="),e=decodeURIComponent(d[0]),f=void 0!==d[1]?decodeURIComponent(d[1]):"",b){if(l=e.match(/(\[):?([^\]]*)\]/g),m=e.match(/^([^\[]+)/),e=m[0],n=[],null===l){r[e]=f;continue}for(j=0,k=l.length;k>j;j++)o=l[j],o=2===o.length?"":o.substring(1,o.length-1),n.push(o);for(n.unshift(e),c=r,j=0,k=n.length;k>j;j++)o=n[j],j===k-1?Ext.isArray(c)&&""===o?c.push(f):c[o]=f:((void 0===c[o]||"string"==typeof c[o])&&(p=n[j+1],c[o]=Ext.isNumeric(p)||""===p?[]:{}),c=c[o])}else r.hasOwnProperty(e)?(Ext.isArray(r[e])||(r[e]=[r[e]]),r[e].push(f)):r[e]=f;return r},each:function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)&&b.call(c||a,d,a[d],a)===!1)return},merge:function(a){for(var c,d,e,f,g=1,h=arguments.length,i=b.merge,j=Ext.clone;h>g;g++){c=arguments[g];for(d in c)e=c[d],e&&e.constructor===Object?(f=a[d],f&&f.constructor===Object?i(f,e):a[d]=j(e)):a[d]=e}return a},mergeIf:function(a){for(var b,c,d,e=1,f=arguments.length,g=Ext.clone;f>e;e++){b=arguments[e];for(c in b)c in a||(d=b[c],a[c]=d&&d.constructor===Object?g(d):d)}return a},getKey:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null},getValues:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c},getKeys:"function"==typeof Object.keys?function(a){return a?Object.keys(a):[]}:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},getSize:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},equals:function(){var a=function(a,b){var c;for(c in a)if(a.hasOwnProperty(c)&&a[c]!==b[c])return!1;return!0};return function(b,c){return b===c?!0:b&&c?a(b,c)&&a(c,b):b||c?!1:b===c}}(),classify:function(a){var c,d,e=a,f=[],g={},h=function(){for(var a,b=0,c=f.length;c>b;b++)a=f[b],this[a]=new g[a]};for(c in a)a.hasOwnProperty(c)&&(d=a[c],d&&d.constructor===Object&&(f.push(c),g[c]=b.classify(d)));return h.prototype=e,h}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var a=Ext.Array.from(arguments),c="";return"string"==typeof a[1]&&(c=a[1]+"&",a[1]=!1),c+b.toQueryString.apply(b,a)},Ext.urlDecode=function(){return b.fromQueryString.apply(b,arguments)}}(),Ext.Date=new function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(g,function(a,c){return b[c]})}var b=this,c=/(\\.)/g,d=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,f=/\\/gi,g=/\{(\d+)\}/g,h=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),i=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");Ext.apply(b,{now:Date.now||function(){return+new Date},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),2,"0")+":"+b(a.getSeconds(),2,"0")},getElapsed:function(a,c){return Math.abs(a-(c||b.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];return e&&(e="function"==typeof e?e():e,b.parseCodes[c]=e),e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a){var b=(a||"").match(h);return b?new Date(1*((b[1]||"")+b[2])):null},time:function(a){var b=parseInt(a,10);return b||0===b?new Date(b):null},timestamp:function(a){var b=parseInt(a,10);return b||0===b?new Date(1e3*b):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return b.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return d.test(a.replace(c,""))},formatContainsDateInfo:function(a){return e.test(a.replace(c,""))},unescapeFormat:function(a){return a.replace(f,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var a,c,d,e,f;for(a="Y-m-dTH:i:sP",c=[],d=0,e=a.length;e>d;++d)f=a.charAt(d),c.push("T"==f?"'T'":b.getFormatCode(f));return c.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,c,d,e,f,g,h){e=e||0,f=f||0,g=g||0,h=h||0;var i=b.add(new Date(100>a?100:a,c-1,d,e,f,g,h),b.YEAR,100>a?a-100:0);return a==i.getFullYear()&&c==i.getMonth()+1&&d==i.getDate()&&e==i.getHours()&&f==i.getMinutes()&&g==i.getSeconds()&&h==i.getMilliseconds()},parse:function(a,c,d){var e=b.parseFunctions;return null==e[c]&&b.createParser(c),e[c].call(b,a,Ext.isDefined(d)?d:b.useStrict)},parseDate:function(a,c,d){return b.parse(a,c,d)},getFormatCode:function(a){var c=b.formatCodes[a];return c&&(c="function"==typeof c?c():c,b.formatCodes[a]=c),c||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var c,d=[],e=!1,f="";for(c=0;c<a.length;++c)f=a.charAt(c),e||"\\"!=f?e?(e=!1,d.push("'"+Ext.String.escape(f)+"'")):d.push(b.getFormatCode(f)):e=!0;b.formatFunctions[a]=Ext.functionFactory("return "+d.join("+"))},createParser:function(c){for(var d,e=b.parseRegexes.length,f=1,g=[],h=[],j=!1,k="",l=0,m=c.length,n=[];m>l;++l)k=c.charAt(l),j||"\\"!=k?j?(j=!1,h.push(Ext.String.escape(k))):(d=b.formatCodeToRegex(k,f),f+=d.g,h.push(d.s),d.g&&d.c&&(d.calcAtEnd?n.push(d.c):g.push(d.c))):j=!0;g=g.concat(n),b.parseRegexes[e]=new RegExp("^"+h.join("")+"$","i"),b.parseFunctions[c]=Ext.functionFactory("input","strict",a(i,e,g.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],c=0;7>c;a.push(b.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;12>c;a.push(b.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a,c,d=[],e=[b.formatCodeToRegex("Y",1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("H",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];
for(a=0,c=e.length;c>a;++a)d.push(e[a].c);return{g:1,c:d.join(""),s:[e[0].s,"(?:","-",e[1].s,"(?:","-",e[2].s,"(?:","(?:T| )?",e[3].s,":",e[4].s,"(?::",e[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,c){return b.format(a,c)},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},format:function(a,c){var d=b.formatFunctions;return Ext.isDate(a)?(null==d[c]&&b.createFormat(c),d[c].call(a)+""):""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(c>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(a){var c,d=0,e=Ext.Date.clone(a),f=a.getMonth();for(c=0,e.setDate(1),e.setMonth(0);f>c;e.setMonth(++c))d+=b.getDaysInMonth(e);return d+a.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(c){var d=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,e=Math.floor(d/7),f=new Date(e*b).getUTCFullYear();return e-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(a){var b=a.getFullYear();return!(0!=(3&b)||!(b%100||b%400==0&&b))},getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return 0>b?b+7:b},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return 1==d&&b.isLeapYear(c)?29:a[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return new Date(a.getFullYear(),0,1).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,c){if(c)return Ext.Date.clearTime(Ext.Date.clone(a));var d,e,f=a.getDate();if(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.getDate()!=f){for(d=1,e=b.add(a,Ext.Date.HOUR,d);e.getDate()!=f;d++,e=b.add(a,Ext.Date.HOUR,d));a.setDate(f),a.setHours(e.getHours())}return a},add:function(a,c,d){var e,f,g=Ext.Date.clone(a),h=(Ext.Date,0);if(!c||0===d)return g;if(f=d-parseInt(d,10),d=parseInt(d,10))switch(c.toLowerCase()){case Ext.Date.MILLI:g.setTime(g.getTime()+d);break;case Ext.Date.SECOND:g.setTime(g.getTime()+1e3*d);break;case Ext.Date.MINUTE:g.setTime(g.getTime()+60*d*1e3);break;case Ext.Date.HOUR:g.setTime(g.getTime()+60*d*60*1e3);break;case Ext.Date.DAY:g.setDate(g.getDate()+d);break;case Ext.Date.MONTH:e=a.getDate(),e>28&&(e=Math.min(e,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.MONTH,d)).getDate())),g.setDate(e),g.setMonth(a.getMonth()+d);break;case Ext.Date.YEAR:e=a.getDate(),e>28&&(e=Math.min(e,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.YEAR,d)).getDate())),g.setDate(e),g.setFullYear(a.getFullYear()+d)}if(f){switch(c.toLowerCase()){case Ext.Date.MILLI:h=1;break;case Ext.Date.SECOND:h=1e3;break;case Ext.Date.MINUTE:h=6e4;break;case Ext.Date.HOUR:h=36e5;break;case Ext.Date.DAY:h=864e5;break;case Ext.Date.MONTH:e=b.getDaysInMonth(g),h=864e5*e;break;case Ext.Date.YEAR:e=b.isLeapYear(g)?366:365,h=864e5*e}h&&g.setTime(g.getTime()+h*f)}return g},subtract:function(a,c,d){return b.add(a,c,-d)},between:function(a,b,c){var d=a.getTime();return b.getTime()<=d&&d<=c.getTime()},compat:function(){var a,c,d,e,f=window.Date,g=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],h=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],i=g.length,j=h.length;for(e=0;i>e;e++)c=g[e],f[c]=b[c];for(a=0;j>a;a++)d=h[a],f.prototype[d]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(this),b[d].apply(b,a)}}})},function(a){var b=[],c=function(){},d=function(a,b,c,d){var e=function(){var b=this.callParent(arguments);return a.apply(this,arguments),b};return e.$name=c,e.$owner=d,b&&(e.$previous=b.$previous,b.$previous=e),e};Ext.apply(c,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(a){var b,c,d,e,f,g,h=a.prototype;if(c=this.prototype=Ext.Object.chain(h),c.self=this,this.superclass=c.superclass=h,!a.$isClass){b=Ext.Base.prototype;for(d in b)d in c&&(c[d]=b[d])}if(g=h.$inheritableStatics)for(d=0,e=g.length;e>d;d++)f=g[d],this.hasOwnProperty(f)||(this[f]=a[f]);a.$onExtended&&(this.$onExtended=a.$onExtended.slice()),c.config=new c.configClass,c.initConfigList=c.initConfigList.slice(),c.initConfigMap=Ext.clone(c.initConfigMap),c.configMap=Ext.Object.chain(c.configMap)},$onExtended:[],triggerExtended:function(){var a,b,c=this.$onExtended,d=c.length;if(d>0)for(a=0;d>a;a++)b=c[a],b.fn.apply(b.scope||this,arguments)},onExtended:function(a,b){return this.$onExtended.push({fn:a,scope:b}),this},addConfig:function(a,b){var c,d,e,f=this.prototype,g=Ext.Class.configNameCache,h=f.configMap,i=f.initConfigList,j=f.initConfigMap,k=f.config;for(d in a)a.hasOwnProperty(d)&&(h[d]||(h[d]=!0),e=a[d],c=g[d].initialized,j[d]||null===e||f[c]||(j[d]=!0,i.push(d)));b?Ext.merge(k,a):Ext.mergeIf(k,a),f.configClass=Ext.Object.classify(k)},addStatics:function(a){var b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],"function"!=typeof b||b.$isClass||b===Ext.emptyFn||b===Ext.identityFn||(b.$owner=this,b.$name=c),this[c]=b);return this},addInheritableStatics:function(a){var b,c,d,e,f=this.prototype;b=f.$inheritableStatics,c=f.$hasInheritableStatics,b||(b=f.$inheritableStatics=[],c=f.$hasInheritableStatics={});for(d in a)a.hasOwnProperty(d)&&(e=a[d],this[d]=e,c[d]||(c[d]=!0,b.push(d)));return this},addMembers:function(a){var b,c,d,e,f=this.prototype,g=Ext.enumerables,h=[];for(d in a)h.push(d);for(g&&h.push.apply(h,g),b=0,c=h.length;c>b;b++)d=h[b],a.hasOwnProperty(d)&&(e=a[d],"function"!=typeof e||e.$isClass||e===Ext.emptyFn||e===Ext.identityFn||(e.$owner=this,e.$name=d),f[d]=e);return this},addMember:function(a,b){return"function"!=typeof b||b.$isClass||b===Ext.emptyFn||b===Ext.identityFn||(b.$owner=this,b.$name=a),this.prototype[a]=b,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(a,b){var c,d,e,f,g,h=this.prototype,i=a.prototype;for(b=Ext.Array.from(b),c=0,d=b.length;d>c;c++)e=b[c],g=i[e],"function"==typeof g?(f=Ext.Function.clone(g),f.$owner=this,f.$name=e,h[e]=f):h[e]=g;return this},override:function(a){var b,c,d,e,f,g,h=this,i=Ext.enumerables,j=h.prototype,k=Ext.Function.clone;2===arguments.length&&(b=a,a={},a[b]=arguments[1],i=null);do{f=[],e=null;for(b in a)"statics"==b?e=a[b]:"inheritableStatics"==b?h.addInheritableStatics(a[b]):"config"==b?h.addConfig(a[b],!0):f.push(b);for(i&&f.push.apply(f,i),c=f.length;c--;)b=f[c],a.hasOwnProperty(b)&&(d=a[b],"function"!=typeof d||d.$className||d===Ext.emptyFn||d===Ext.identityFn||("undefined"!=typeof d.$owner&&(d=k(d)),d.$owner=h,d.$name=b,g=j[b],g&&(d.$previous=g)),j[b]=d);j=h,a=e}while(a);return this},callParent:function(a){var c;return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,b){var c,e,f,g,h,i,j,k,l=this,m=b.prototype,n=l.prototype;"undefined"!=typeof m.onClassMixedIn&&m.onClassMixedIn.call(b,l),n.hasOwnProperty("mixins")||(n.mixins="mixins"in n?Ext.Object.chain(n.mixins):{});for(c in m)if(i=m[c],"mixins"===c)Ext.merge(n.mixins,i);else if("xhooks"===c)for(j in i)k=i[j],k.$previous=Ext.emptyFn,n.hasOwnProperty(j)?d(k,n[j],j,l):n[j]=d(k,null,j,l);else"mixinId"!==c&&"config"!==c&&void 0===n[c]&&(n[c]=i);if(e=m.$inheritableStatics)for(f=0,g=e.length;g>f;f++)h=e[f],l.hasOwnProperty(h)||(l[h]=b[h]);return"config"in m&&l.addConfig(m.config,!1),n.mixins[a]=m,l},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){this.override(a,function(){return this[b].apply(this,arguments)})}),addXtype:function(a){var b=this.prototype,c=b.xtypesMap,d=b.xtypes,e=b.xtypesChain;return b.hasOwnProperty("xtypesMap")||(c=b.xtypesMap=Ext.merge({},b.xtypesMap||{}),d=b.xtypes=b.xtypes?[].concat(b.xtypes):[],e=b.xtypesChain=b.xtypesChain?[].concat(b.xtypesChain):[],b.xtype=a),c[a]||(c[a]=!0,d.push(a),e.push(a),Ext.ClassManager.setAlias(this,"widget."+a)),this}}),c.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,b=this.self;return a?a.$owner:b},callParent:function(a){var c,d=(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);return d.apply(this,a||b)},callSuper:function(a){var c,d=(c=this.callSuper.caller)&&(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name];return d.apply(this,a||b)},self:c,constructor:function(){return this},initConfig:function(a){var b,c,d,e,f,g=a,h=Ext.Class.configNameCache,i=new this.configClass,j=this.initConfigList,k=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=g||{},this.config=a=g?Ext.merge(i,a):i,g){j=j.slice();for(e in g)k[e]&&null!==g[e]&&(j.push(e),this[h[e].initialized]=!1)}for(c=0,d=j.length;d>c;c++)e=j[c],b=h[e],f=b.initialized,this[f]||(this[f]=!0,this[b.set].call(this,a[e]));return this},hasConfig:function(a){return Boolean(this.configMap[a])},setConfig:function(a,b){if(!a)return this;var c,d,e=Ext.Class.configNameCache,f=this.config,g=this.configMap,h=this.initialConfig;b=Boolean(b);for(c in a)b&&h.hasOwnProperty(c)||(d=a[c],f[c]=d,g[c]&&this[e[c].set](d));return this},getConfig:function(a){var b=Ext.Class.configNameCache;return this[b[a].get]()},getInitialConfig:function(a){var b=this.config;return a?b[a]:b},onConfigUpdate:function(a,b,c){var d,e,f,g,h,i,j=this.self;for(a=Ext.Array.from(a),c=c||this,d=0,e=a.length;e>d;d++)f=a[d],g="update"+Ext.String.capitalize(f),h=this[g]||Ext.emptyFn,i=function(){h.apply(this,arguments),c[b].apply(c,arguments)},i.$name=g,i.$owner=j,this[g]=i},destroy:function(){this.destroy=Ext.emptyFn}}),c.prototype.callOverridden=c.prototype.callParent,Ext.Base=c}(Ext.Function.flexSetter),function(){function a(){function a(){return this.constructor.apply(this,arguments)||null}return a}var b,c,d,e=Ext.Base,f=[];for(c in e)e.hasOwnProperty(c)&&f.push(c);d=f.length,Ext.Class=b=function(a,c,d){return"function"!=typeof a&&(d=c,c=a,a=null),c||(c={}),a=b.create(a,c),b.process(a,c,d),a},Ext.apply(b,{onBeforeCreated:function(a,b,c){a.addMembers(b),c.onCreated.call(a,a)},create:function(b){var c,g;for(b||(b=a()),g=0;d>g;g++)c=f[g],b[c]=e[c];return b},process:function(a,c,d){var e,f,g,h,i,j,k,l=c.preprocessors||b.defaultPreprocessors,m=this.preprocessors,n={onBeforeCreated:this.onBeforeCreated},o=[];for(delete c.preprocessors,g=0,h=l.length;h>g;g++)if(e=l[g],"string"==typeof e){if(e=m[e],f=e.properties,f===!0)o.push(e.fn);else if(f)for(i=0,j=f.length;j>i;i++)if(k=f[i],c.hasOwnProperty(k)){o.push(e.fn);break}}else o.push(e);n.onCreated=d?d:Ext.emptyFn,n.preprocessors=o,this.doProcess(a,c,n)},doProcess:function(a,b,c){for(var d=this,e=c.preprocessors,f=e.shift(),g=d.doProcess;f;f=e.shift())if(f.call(d,a,b,c,g)===!1)return;c.onBeforeCreated.apply(d,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,e){return d||(d="last"),c||(c=[a]),this.preprocessors[a]={name:a,properties:c||!1,fn:b},this.setDefaultPreprocessorPosition(a,d,e),this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){return this.defaultPreprocessors=Ext.Array.from(a),this},setDefaultPreprocessorPosition:function(a,b,c){var d,e=this.defaultPreprocessors;if("string"==typeof b){if("first"===b)return e.unshift(a),this;if("last"===b)return e.push(a),this;b="after"===b?1:-1}return d=Ext.Array.indexOf(e,c),-1!==d&&Ext.Array.splice(e,Math.max(0,d+b),0,a),this},configNameCache:{},getConfigNameMap:function(a){var b,c=this.configNameCache,d=c[a];return d||(b=a.charAt(0).toUpperCase()+a.substr(1),d=c[a]={internal:a,initialized:"_is"+b+"Initialized",apply:"apply"+b,update:"update"+b,set:"set"+b,get:"get"+b,doSet:"doSet"+b,changeEvent:a.toLowerCase()+"change"}),d}}),b.registerPreprocessor("extend",function(a,b){var c,d,e,f=Ext.Base,g=f.prototype,h=b.extend;if(delete b.extend,c=h&&h!==Object?h:f,d=c.prototype,!c.$isClass)for(e in g)d[e]||(d[e]=g[e]);a.extend(c),a.triggerExtended.apply(a,arguments),b.onClassExtended&&(a.onExtended(b.onClassExtended,a),delete b.onClassExtended)},!0),b.registerPreprocessor("statics",function(a,b){a.addStatics(b.statics),delete b.statics}),b.registerPreprocessor("inheritableStatics",function(a,b){a.addInheritableStatics(b.inheritableStatics),delete b.inheritableStatics}),b.registerPreprocessor("config",function(a,c){var d=c.config,e=a.prototype;delete c.config,Ext.Object.each(d,function(a,d){var f,g,h=b.getConfigNameMap(a),i=h.internal,j=h.initialized,k=h.apply,l=h.update,m=h.set,n=h.get,o=m in e||c.hasOwnProperty(m),p=k in e||c.hasOwnProperty(k),q=l in e||c.hasOwnProperty(l);null!==d&&(o||p||q)?e[j]=!1:(e[i]=d,e[j]=!0),o||(c[m]=function(a){var b=this[i],c=this[k],d=this[l];return this[j]||(this[j]=!0),c&&(a=c.call(this,a,b)),"undefined"!=typeof a&&(this[i]=a,d&&a!==b&&d.call(this,a,b)),this}),n in e&&!c.hasOwnProperty(n)||(g=c[n]||!1,f=g?function(){return g.apply(this,arguments)}:function(){return this[i]},c[n]=function(){var b;return this[j]||(this[j]=!0,this[m](this.config[a])),b=this[n],"$previous"in b?b.$previous=f:this[n]=f,f.apply(this,arguments)})}),a.addConfig(d,!0)}),b.registerPreprocessor("mixins",function(a,b,c){var d,e,f,g,h=b.mixins;delete b.mixins,Ext.Function.interceptBefore(c,"onCreated",function(){if(h instanceof Array)for(f=0,g=h.length;g>f;f++)e=h[f],d=e.prototype.mixinId||e.$className,a.mixin(d,e);else for(var b in h)h.hasOwnProperty(b)&&a.mixin(b,h[b])})}),Ext.extend=function(a,c,d){2===arguments.length&&Ext.isObject(c)&&(d=c,c=a,a=null);var e;if(!c)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return d.extend=c,d.preprocessors=["extend","statics","inheritableStatics","mixins","config"],a?(e=new b(a,d),e.prototype.constructor=a):e=new b(d),e.prototype.override=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},e}}(),function(a,b,c,d,e){function f(){function a(){return this.constructor.apply(this,arguments)||null}return a}var g=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(a){var b,c,d,f,g,h=this.existCache;if(this.classes[a]||h[a])return!0;for(f=e,g=this.parseNamespace(a),b=0,c=g.length;c>b;b++)if(d=g[b],"string"!=typeof d)f=d;else{if(!f||!f[d])return!1;f=f[d]}return h[a]=!0,this.triggerCreated(a),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(a){var b,c,d,e,f,g,h=this.createdListeners,i=this.nameCreatedListeners,j=this.maps.nameToAlternates[a],k=[a];for(b=0,c=h.length;c>b;b++)f=h[b],f.fn.call(f.scope,a);for(j&&k.push.apply(k,j),b=0,c=k.length;c>b;b++)if(g=k[b],h=i[g]){for(d=0,e=h.length;e>d;d++)f=h[d],f.fn.call(f.scope,g);delete i[g]}},onCreated:function(a,b,c){var d=this.createdListeners,e=this.nameCreatedListeners,f={fn:a,scope:b};if(c){if(this.isCreated(c))return void a.call(b,c);e[c]||(e[c]=[]),e[c].push(f)}else d.push(f)},parseNamespace:function(a){var b,c,d,f,g,h,i,j,k,l=this.namespaceParseCache;if(this.enableNamespaceParseCache&&l.hasOwnProperty(a))return l[a];for(b=[],c=this.namespaceRewrites,d=e,f=a,j=0,k=c.length;k>j;j++)if(g=c[j],h=g.from,i=g.to,f===h||f.substring(0,h.length)===h){f=f.substring(h.length),"string"!=typeof i?d=i:b=b.concat(i.split("."));break}return b.push(d),b=b.concat(f.split(".")),this.enableNamespaceParseCache&&(l[a]=b),b},setNamespace:function(a,b){var c,d,f=e,g=this.parseNamespace(a),h=g.length-1,i=g[h];for(c=0;h>c;c++)d=g[c],"string"!=typeof d?f=d:(f[d]||(f[d]={}),f=f[d]);return f[i]=b,f[i]},createNamespaces:function(){var a,b,c,d,f,g,h=e;for(c=0,f=arguments.length;f>c;c++)for(a=this.parseNamespace(arguments[c]),d=0,g=a.length;g>d;d++)b=a[d],"string"!=typeof b?h=b:(h[b]||(h[b]={}),h=h[b]);return h},set:function(a,b){var c,d=this,e=d.maps,f=e.nameToAlternates,g=d.getName(b);return d.classes[a]=d.setNamespace(a,b),g&&g!==a&&(e.alternateToName[a]=g,c=f[g]||(f[g]=[]),c.push(a)),this},get:function(a){var b,c,d,f,g,h=this.classes;if(h[a])return h[a];for(b=e,c=this.parseNamespace(a),f=0,g=c.length;g>f;f++)if(d=c[f],"string"!=typeof d)b=d;else{if(!b||!b[d])return null;b=b[d]}return b},setAlias:function(a,b){var c,d=this.maps.aliasToName,f=this.maps.nameToAliases;return c="string"==typeof a?a:this.getName(a),b&&d[b]!==c&&(d[b]&&Ext.isDefined(e.console)&&e.console.log("[Ext.ClassManager] Overriding existing alias: '"+b+"' of: '"+d[b]+"' with: '"+c+"'. Be sure it's intentional."),d[b]=c),f[c]||(f[c]=[]),b&&Ext.Array.include(f[c],b),this},addNameAliasMappings:function(a){var b,c,d,e,f=this.maps.aliasToName,g=this.maps.nameToAliases;for(b in a)for(c=g[b]||(g[b]=[]),e=0;e<a[b].length;e++)d=a[b][e],f[d]||(f[d]=b,c.push(d));return this},addNameAlternateMappings:function(a){var b,c,d,e,f=this.maps.alternateToName,g=this.maps.nameToAlternates;for(b in a)for(c=g[b]||(g[b]=[]),e=0;e<a[b].length;e++)d=a[b][e],f[d]||(f[d]=b,c.push(d));return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){var e=f();return"function"==typeof c&&(c=c(e)),c.$className=b,new a(e,c,function(){var a,e,f,h,i,j,k,l=c.postprocessors||g.defaultPostprocessors,m=g.postprocessors,n=[];for(delete c.postprocessors,e=0,f=l.length;f>e;e++)if(a=l[e],"string"==typeof a){if(a=m[a],j=a.properties,j===!0)n.push(a.fn);else if(j)for(h=0,i=j.length;i>h;h++)if(k=j[h],c.hasOwnProperty(k)){n.push(a.fn);break}}else n.push(a);c.postprocessors=n,c.createdFn=d,g.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=this,e=c.postprocessors.shift(),f=c.createdFn;return e?void(e.call(d,a,b,c,d.processCreate)!==!1&&d.processCreate(a,b,c)):(a&&d.set(a,b),f&&f.call(b,b),void(a&&d.triggerCreated(a)))},createOverride:function(a,b,c){var d=this,e=b.override,f=b.requires,g=b.uses,h=function(){var i,j;f?(j=f,f=null,Ext.Loader.require(j,h)):(i=d.get(e),delete b.override,delete b.requires,delete b.uses,Ext.override(i,b),d.triggerCreated(a),g&&Ext.Loader.addUsedClasses(g),c&&c.call(i))};return d.existCache[a]=!0,d.onCreated(h,d,e),d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),d=this.getNameByAlias(a);return d||(d=this.maps.aliasToName[a],e.console&&e.console.warn("[Ext.Loader] Synchronously loading '"+d+"'; consider adding Ext.require('"+a+"') above Ext.onReady"),Ext.syncRequire(d)),b[0]=d,this.instantiate.apply(this,b)},instantiate:function(){var a,b,d=arguments[0],f=typeof d,g=c.call(arguments,1),h=d;return"function"!=f?("string"!=f&&0===g.length&&(g=[d],d=d.xclass),b=this.get(d)):b=d,b||(a=this.getNameByAlias(d),a&&(d=a,b=this.get(d))),b||(a=this.getNameByAlternate(d),a&&(d=a,b=this.get(d))),b||(e.console&&e.console.warn("[Ext.Loader] Synchronously loading '"+d+"'; consider adding Ext.require('"+(a?h:d)+"') above Ext.onReady"),Ext.syncRequire(d),b=this.get(d)),this.getInstantiator(g.length)(b,g)},dynInstantiate:function(a,b){return b=d(b,!0),b.unshift(a),this.instantiate.apply(this,b)},getInstantiator:function(a){var b,c,d,e=this.instantiators;if(b=e[a],!b){for(c=a,d=[],c=0;a>c;c++)d.push("a["+c+"]");b=e[a]=new Function("c","a","return new c("+d.join(",")+")")}return b},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){return d||(d="last"),c||(c=[a]),this.postprocessors[a]={name:a,properties:c||!1,fn:b},this.setDefaultPostprocessorPosition(a,d,e),this},setDefaultPostprocessors:function(a){return this.defaultPostprocessors=d(a),this},setDefaultPostprocessorPosition:function(a,b,c){var d,e=this.defaultPostprocessors;if("string"==typeof b){if("first"===b)return e.unshift(a),this;if("last"===b)return e.push(a),this;b="after"===b?1:-1}return d=Ext.Array.indexOf(e,c),-1!==d&&Ext.Array.splice(e,Math.max(0,d+b),0,a),this},getNamesByExpression:function(a){var b,c,d,e,f,g,h,i=this.maps.nameToAliases,j=[];if(-1!==a.indexOf("*")){a=a.replace(/\*/g,"(.*?)"),f=new RegExp("^"+a+"$");for(b in i)if(i.hasOwnProperty(b))if(d=i[b],-1!==b.search(f))j.push(b);else for(g=0,h=d.length;h>g;g++)if(c=d[g],-1!==c.search(f)){j.push(b);break}}else e=this.getNameByAlias(a),e?j.push(e):(e=this.getNameByAlternate(a),j.push(e?e:a));return j}};g.registerPostprocessor("alias",function(a,c,d){var e,f,g=d.alias;for(e=0,f=g.length;f>e;e++)b=g[e],this.setAlias(c,b)},["xtype","alias"]),g.registerPostprocessor("singleton",function(a,b,c,d){return c.singleton?(d.call(this,a,new b,c),!1):!0}),g.registerPostprocessor("alternateClassName",function(a,b,c){var d,e,f,g=c.alternateClassName;for(g instanceof Array||(g=[g]),d=0,e=g.length;e>d;d++)f=g[d],this.set(f,b)}),Ext.apply(Ext,{create:b(g,"instantiate"),widget:function(a,b){var c,d,e,f,h=a;return"string"!=typeof h?(b=a,h=b.xtype):b=b||{},b.isComponent?b:(c="widget."+h,d=g.getNameByAlias(c),d||(f=!0),e=g.get(d),f||!e?g.instantiateByAlias(c,b):new e(b))},createByAlias:b(g,"instantiateByAlias"),define:function(a,b){return b.override?g.createOverride.apply(g,arguments):g.create.apply(g,arguments)},undefine:function(a){var b,c,d,e,f=g.classes,h=g.maps,i=h.aliasToName,j=h.nameToAliases,k=h.alternateToName,l=h.nameToAlternates,m=j[a],n=l[a];if(delete g.namespaceParseCache[a],delete j[a],delete l[a],delete f[a],m)for(e=m.length;e--;)delete i[m[e]];if(n)for(e=n.length;e--;)delete k[n[e]];for(b=g.parseNamespace(a),c=b.length-1,d=b[0],e=1;c>e;e++)if(d=d[b[e]],!d)return;try{delete d[b[c]]}catch(o){d[b[c]]=void 0}},getClassName:b(g,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},getClass:b(g,"getClass"),namespace:b(g,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,a.registerPreprocessor("className",function(a,b){b.$className&&(a.$className=b.$className)},!0,"first"),a.registerPreprocessor("alias",function(a,b){var c,e,f,g,h=a.prototype,i=d(b.xtype),j=d(b.alias),k="widget.",l=k.length,m=Array.prototype.slice.call(h.xtypesChain||[]),n=Ext.merge({},h.xtypesMap||{});for(c=0,e=j.length;e>c;c++)f=j[c],f.substring(0,l)===k&&(g=f.substring(l),Ext.Array.include(i,g));for(a.xtype=b.xtype=i[0],b.xtypes=i,c=0,e=i.length;e>c;c++)g=i[c],n[g]||(n[g]=!0,m.push(g));for(b.xtypesChain=m,b.xtypesMap=n,Ext.Function.interceptAfter(b,"onClassCreated",function(){var a,b,d=h.mixins;for(a in d)if(d.hasOwnProperty(a)&&(b=d[a],i=b.xtypes))for(c=0,e=i.length;e>c;c++)g=i[c],n[g]||(n[g]=!0,m.push(g))}),c=0,e=i.length;e>c;c++)g=i[c],Ext.Array.include(j,k+g);b.alias=j},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null),Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null),Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Class,d=Ext.Function.flexSetter,e=Ext.Function.alias,f=Ext.Function.pass,g=Ext.Function.defer,h=Ext.Array.erase,i="undefined"==typeof window,j=i&&"function"==typeof require,k=i&&"undefined"!=typeof system&&-1!==system.program.search(/jsdb/),l="undefined"!=typeof phantom&&phantom.fs,m=["extend","mixins","requires"],n={},o=[],p=/\/\.\//g,q=/\./g,r=0;Ext.apply(a,{isInHistory:n,history:o,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(b,c){return Ext.isObject(b)&&1===arguments.length?(Ext.merge(a.config,b),"paths"in b&&Ext.app.collectNamespaces(b.paths)):(a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c,"paths"===b&&Ext.app.collectNamespaces(c)),a},getConfig:function(b){return b?a.config[b]:a.config},setPath:d(function(b,c){return a.config.paths[b]=c,Ext.app.namespaces[b]=!0,r++,a}),addClassPathMappings:function(b){var c;if(0==r)a.config.paths=b;else for(c in b)a.config.paths[c]=b[c];return r++,a},getPath:function(b){var c="",d=a.config.paths,e=a.getPrefix(b);if(e.length>0){if(e===b)return d[e];c=d[e],b=b.substring(e.length+1)}return c.length>0&&(c+="/"),c.replace(p,"/")+b.replace(q,"/")+".js"},getPrefix:function(b){var c,d=a.config.paths,e="";if(d.hasOwnProperty(b))return b;for(c in d)d.hasOwnProperty(c)&&c+"."===b.substring(0,c.length+1)&&c.length>e.length&&(e=c);return e},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return""!==c&&c!==b},require:function(a,b,c){b&&b.call(c)},syncRequire:function(){},exclude:function(b){return{require:function(c,d,e){return a.require(c,d,e,b)},syncRequire:function(c,d,e){return a.syncRequire(c,d,e,b)}}},onReady:function(a,b,c,d){var e;c!==!1&&Ext.onDocumentReady&&(e=a,a=function(){Ext.onDocumentReady(e,b,d)}),a.call(b)}});var s=[],t={},u={},v={},w={},x=[],y=[],z={},A=function(a,b){return b.priority-a.priority};Ext.apply(a,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:s,isClassFileLoaded:t,isFileLoaded:u,readyListeners:x,optionalRequires:y,requiresMap:z,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:v,scriptsLoading:0,syncModeEnabled:!1,scriptElements:w,refreshQueue:function(){var c,d,e,f,g=s.length;if(!g&&!a.scriptsLoading)return a.triggerReady();for(c=0;g>c;c++)if(d=s[c]){if(f=d.requires,f.length>a.numLoadedFiles)continue;for(e=0;e<f.length;)b.isCreated(f[e])?h(f,e,1):e++;if(0===d.requires.length){h(s,c,1),d.callback.call(d.scope),a.refreshQueue();break}}return a},injectScriptElement:function(b,c,d,e,f){var h=document.createElement("script"),i=!1,j=a.config,k=function(){i||(i=!0,h.onload=h.onreadystatechange=h.onerror=null,"number"==typeof j.scriptChainDelay?g(c,j.scriptChainDelay,e):c.call(e),a.cleanupScriptElement(h,j.preserveScripts===!1,j.garbageCollect))},l=function(){g(d,1,e),a.cleanupScriptElement(h,j.preserveScripts===!1,j.garbageCollect)};return h.type="text/javascript",h.onerror=l,f=f||j.scriptCharset,f&&(h.charset=f),"addEventListener"in h?h.onload=k:"readyState"in h?h.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&k()}:h.onload=k,h.src=b,(a.documentHead||document.getElementsByTagName("head")[0]).appendChild(h),h},removeScriptElement:function(b){return w[b]&&(a.cleanupScriptElement(w[b],!0,!!a.getConfig("garbageCollect")),delete w[b]),a},cleanupScriptElement:function(b,c,d){var e;if(b.onload=b.onreadystatechange=b.onerror=null,c&&(Ext.removeNode(b),d))for(e in b)try{"src"!=e&&(b[e]=null),delete b[e]}catch(f){}return a},loadScript:function(b){var c,d=a.getConfig(),e="string"==typeof b,f=e?b:b.url,g=!e&&b.onError,h=!e&&b.onLoad,i=!e&&b.scope,j=function(){a.numPendingFiles--,a.scriptsLoading--,g&&g.call(i,"Failed loading '"+f+"', please verify that the file exists"),a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()},k=function(){a.numPendingFiles--,a.scriptsLoading--,h&&h.call(i),a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()};a.isLoading=!0,a.numPendingFiles++,a.scriptsLoading++,c=d.disableCaching?f+"?"+d.disableCachingParam+"="+Ext.Date.now():f,w[f]=a.injectScriptElement(c,k,j)},loadScriptFile:function(b,c,d,e,f){if(u[b])return a;var g,h,i,j=a.getConfig(),k=b+(j.disableCaching?"?"+j.disableCachingParam+"="+Ext.Date.now():""),m=!1,n="";if(e=e||a,a.isLoading=!0,f){g="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{g.open("GET",k,!1),g.send(null)}catch(o){m=!0}h=1223===g.status?204:0!==g.status||"file:"!=(self.location||{}).protocol&&"ionp:"!=(self.location||{}).protocol?g.status:200,m=m||0===h,m&&!l||(h>=200&&300>h||304===h||l)&&(Ext.isIE||(n="\n//@ sourceURL="+b),Ext.globalEval(g.responseText+n),c.call(e)),g=null}else i=function(){},w[b]=a.injectScriptElement(k,c,i,e)},syncRequire:function(){var b=a.syncModeEnabled;b||(a.syncModeEnabled=!0),a.require.apply(a,arguments),b||(a.syncModeEnabled=!1),a.refreshQueue()},require:function(c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,u={},w={},x=[],y=[],z=[],A=[];if(g)for(g="string"==typeof g?[g]:g,o=0,q=g.length;q>o;o++)if(l=g[o],"string"==typeof l&&l.length>0)for(x=b.getNamesByExpression(l),p=0,r=x.length;r>p;p++)u[x[p]]=!0;for(c="string"==typeof c?[c]:c?c:[],h=d?d.length>0?function(){var a,c,e=[];for(a=0,c=A.length;c>a;a++)e.push(b.get(A[a]));return d.apply(this,e)}:d:Ext.emptyFn,e=e||Ext.global,o=0,q=c.length;q>o;o++)if(k=c[o],"string"==typeof k&&k.length>0)for(y=b.getNamesByExpression(k),r=y.length,p=0;r>p;p++)n=y[p],u[n]!==!0&&(A.push(n),b.isCreated(n)||w[n]||(w[n]=!0,z.push(n)));if(!(z.length>0))return h.call(e),a;if(!a.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(z.length>1?"es":"")+": "+z.join(", "));for(i=a.syncModeEnabled,i||s.push({requires:z.slice(),callback:h,scope:e}),q=z.length,o=0;q>o;o++)m=z[o],j=a.getPath(m),i&&t.hasOwnProperty(m)&&(t[m]||(a.numPendingFiles--,a.removeScriptElement(j),delete t[m])),t.hasOwnProperty(m)||(t[m]=!1,v[m]=j,a.numPendingFiles++,a.loadScriptFile(j,f(a.onFileLoaded,[m,j],a),f(a.onFileLoadError,[m,j],a),a,i));return i&&(h.call(e),1===q)?b.get(m):a},onFileLoaded:function(b,c){var d=t[b];a.numLoadedFiles++,t[b]=!0,u[c]=!0,d||a.numPendingFiles--,0===a.numPendingFiles&&a.refreshQueue()},onFileLoadError:function(){a.numPendingFiles--,a.hasFileLoadError=!0},addUsedClasses:function(b){var c,d,e;if(b)for(b="string"==typeof b?[b]:b,d=0,e=b.length;e>d;d++)c=b[d],"string"!=typeof c||Ext.Array.contains(y,c)||y.push(c);return a},triggerReady:function(){var b,c=y;if(a.isLoading&&(a.isLoading=!1,0!==c.length))return c=c.slice(),y.length=0,a.require(c,a.triggerReady,a),a;for(Ext.Array.sort(x,A);x.length&&!a.isLoading;)b=x.shift(),b.fn.call(b.scope);return a},onReady:function(b,c,d,e){var f;d!==!1&&Ext.onDocumentReady&&(f=b,b=function(){Ext.onDocumentReady(f,c,e)}),a.isLoading?x.push({fn:b,scope:c,priority:e&&e.priority||0}):b.call(c)},historyPush:function(b){return b&&t.hasOwnProperty(b)&&!n[b]&&(n[b]=!0,o.push(b)),a}}),Ext.disableCacheBuster=function(a,b){var c=new Date;c.setTime(c.getTime()+24*(a?3650:-1)*60*60*1e3),c=c.toGMTString(),document.cookie="ext-cache=1; expires="+c+"; path="+(b||"/")},i&&(j?Ext.apply(a,{syncModeEnabled:!0,setPath:d(function(b,c){return c=require("fs").realpathSync(c),a.config.paths[b]=c,a}),loadScriptFile:function(a,b,c,d){require(a),b.call(d)}}):k&&Ext.apply(a,{syncModeEnabled:!0,loadScriptFile:function(a,b,c,d){load(a),b.call(d)
}})),Ext.require=e(a,"require"),Ext.syncRequire=e(a,"syncRequire"),Ext.exclude=e(a,"exclude"),Ext.onReady=function(b,c,d){a.onReady(b,c,!0,d)},c.registerPreprocessor("loader",function(c,d,e,f){{var g,h,i,j,k,l,n,o=this,p=[];b.getName(c)}for(g=0,i=m.length;i>g;g++)if(l=m[g],d.hasOwnProperty(l))if(n=d[l],"string"==typeof n)p.push(n);else if(n instanceof Array)for(h=0,j=n.length;j>h;h++)k=n[h],"string"==typeof k&&p.push(k);else if("function"!=typeof n)for(h in n)n.hasOwnProperty(h)&&(k=n[h],"string"==typeof k&&p.push(k));if(0!==p.length)return a.require(p,function(){for(g=0,i=m.length;i>g;g++)if(l=m[g],d.hasOwnProperty(l))if(n=d[l],"string"==typeof n)d[l]=b.get(n);else if(n instanceof Array)for(h=0,j=n.length;j>h;h++)k=n[h],"string"==typeof k&&(d[l][h]=b.get(k));else if("function"!=typeof n)for(var a in n)n.hasOwnProperty(a)&&(k=n[a],"string"==typeof k&&(d[l][a]=b.get(k)));f.call(o,c,d,e)}),!1},!0,"after","className"),b.registerPostprocessor("uses",function(b,c,d){var e=d.uses;e&&a.addUsedClasses(e)}),b.onCreated(a.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b.src,d=c.substring(0,c.lastIndexOf("/")+1),e=Ext.Loader;e.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:d+"src"}})}(),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(a){a=a||{},Ext.isString(a)&&(a={msg:a});var b,c=this.raise.caller;if(c&&(c.$name&&(a.sourceMethod=c.$name),c.$owner&&(a.sourceClass=c.$owner.$className)),Ext.Error.handle(a)!==!0)throw b=Ext.Error.prototype.toString.call(a),Ext.log({msg:b,level:"error",dump:a,stack:!0}),new Ext.Error(a)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){Ext.isString(a)&&(a={msg:a});var b=this;Ext.apply(b,a),b.message=b.message||b.msg},toString:function(){var a=this,b=a.sourceClass?a.sourceClass:"",c=a.sourceMethod?"."+a.sourceMethod+"(): ":"",d=a.msg||"(No description provided)";return b+c+d}}),Ext.deprecated=function(){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(a){return 10>a?"0"+a:a},doDecode=function(json){return eval("("+json+")")},doEncode=function(a,b){return null===a||void 0===a?"null":Ext.isDate(a)?Ext.JSON.encodeDate(a):Ext.isString(a)?Ext.JSON.encodeString(a):"number"==typeof a?isFinite(a)?String(a):"null":Ext.isBoolean(a)?String(a):a.toJSON?a.toJSON():Ext.isArray(a)?encodeArray(a,b):Ext.isObject(a)?encodeObject(a,b):"function"==typeof a?"null":"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return'"'+a.replace(charToReplace,function(a){var b=m[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(a){var b,c=["[",""],d=a.length;for(b=0;d>b;b+=1)c.push(Ext.JSON.encodeValue(a[b]),",");return c[c.length-1]="]",c.join("")},encodeObject=function(a){var b,c,d=["{",""];for(b in a)if(c=a[b],!useHasOwn||a.hasOwnProperty(b)){if("function"==typeof c||void 0===c)continue;d.push(Ext.JSON.encodeValue(b),":",Ext.JSON.encodeValue(c),",")}return d[d.length-1]="}",d.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'},me.encode=function(a){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(a)},me.decode=function(a,b){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(a)}catch(c){if(b===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(a,b,c){c=c||b.dom;var d=Ext.cache,e=a||b&&b.id||c.id,f=d[e]||(d[e]={data:{},events:{},dom:c,skipGarbageCollection:!(!c.getElementById&&!c.navigator)});return b&&(b.$cache=f,f.el=b),f},updateCacheEntry:function(a,b){return a.dom=b,a.el&&(a.el.dom=b),a},id:function(a,b){var c=this,d="";return a=Ext.getDom(a,!0)||{},a===document?a.id=c.documentId:a===window&&(a.id=c.windowId),a.id||(c.isSandboxed&&(d=Ext.sandboxName.toLowerCase()+"-"),a.id=d+(b||"ext-gen")+ ++Ext.idSeed),a.id},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(f){return a.test(f)?f:f.replace(b,d).replace(c,e)}}(),getBody:function(){var a;return function(){return a||(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=arguments[a],b&&(Ext.isArray(b)?this.destroy.apply(this,b):b.isStore?b.destroyStore():Ext.isFunction(b.destroy)?b.destroy():b.dom&&b.remove())},callback:function(a,b,c,d){var e,f;return Ext.isFunction(a)?e=a:b&&Ext.isString(a)&&(e=b[a]),e&&(c=c||[],b=b||window,d?Ext.defer(e,d,b,c):f=e.apply(b,c)),f},resolveMethod:function(a,b){return Ext.isFunction(a)?a:b[a]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var a,b=function(a){return a.test(Ext.userAgent)},c="CSS1Compat"==document.compatMode,d=function(a,b){var c;return a&&(c=b.exec(Ext.userAgent))?parseFloat(c[1]):0},e=document.documentMode,f=b(/opera/),g=f&&b(/version\/10\.5/),h=b(/\bchrome\b/),i=b(/webkit/),j=!h&&b(/safari/),k=j&&b(/applewebkit\/4/),l=j&&b(/version\/3/),m=j&&b(/version\/4/),n=j&&b(/version\/5\.0/),o=j&&b(/version\/5/),p=!f&&b(/msie/),q=p&&(b(/msie 7/)&&8!=e&&9!=e&&10!=e||7==e),r=p&&(b(/msie 8/)&&7!=e&&9!=e&&10!=e||8==e),s=p&&(b(/msie 9/)&&7!=e&&8!=e&&10!=e||9==e),t=p&&(b(/msie 10/)&&7!=e&&8!=e&&9!=e||10==e),u=p&&b(/msie 6/),v=!i&&b(/gecko/),w=v&&b(/rv:1\.9/),x=v&&b(/rv:2\.0/),y=v&&b(/rv:5\./),z=v&&b(/rv:10\./),A=w&&b(/rv:1\.9\.0/),B=w&&b(/rv:1\.9\.1/),C=w&&b(/rv:1\.9\.2/),D=b(/windows|win32/),E=b(/macintosh|mac os x/),F=b(/linux/),G=null,H=d(!0,/\bchrome\/(\d+\.\d+)/),I=d(!0,/\bfirefox\/(\d+\.\d+)/),J=d(p,/msie (\d+\.\d+)/),K=d(f,/version\/(\d+\.\d+)/),L=d(j,/version\/(\d+\.\d+)/),M=d(i,/webkit\/(\d+\.\d+)/),N=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(O){}a=function(){},a.info=a.warn=a.error=Ext.emptyFn,Ext.setVersion("extjs","4.2.1.883"),Ext.apply(Ext,{SSL_SECURE_URL:N&&p?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(a,b){if(!a||!document)return null;if(a.dom)return a.dom;if("string"==typeof a){var c=Ext.getElementById(a);return c&&p&&b?a==c.getAttribute("id")?c:null:c}return a},removeNode:u||q||r?function(){var a;return function(b){if(b&&"BODY"!=b.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;c[d]&&(delete c[d].dom,delete c[d]),r&&b.parentNode&&b.parentNode.removeChild(b),a=a||document.createElement("div"),a.appendChild(b),a.innerHTML=""}}}():function(a){if(a&&a.parentNode&&"BODY"!=a.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,c=a.id;b[c]&&(delete b[c].dom,delete b[c]),a.parentNode.removeChild(a)}},isStrict:c,isIEQuirks:p&&!c&&(u||q||r||s),isOpera:f,isOpera10_5:g,isWebKit:i,isChrome:h,isSafari:j,isSafari3:l,isSafari4:m,isSafari5:o,isSafari5_0:n,isSafari2:k,isIE:p,isIE6:u,isIE7:q,isIE7m:u||q,isIE7p:p&&!u,isIE8:r,isIE8m:u||q||r,isIE8p:p&&!(u||q),isIE9:s,isIE9m:u||q||r||s,isIE9p:p&&!(u||q||r),isIE10:t,isIE10m:u||q||r||s||t,isIE10p:p&&!(u||q||r||s),isGecko:v,isGecko3:w,isGecko4:x,isGecko5:y,isGecko10:z,isFF3_0:A,isFF3_5:B,isFF3_6:C,isFF4:I>=4&&5>I,isFF5:I>=5&&6>I,isFF10:I>=10&&11>I,isLinux:F,isWindows:D,isMac:E,chromeVersion:H,firefoxVersion:I,ieVersion:J,operaVersion:K,safariVersion:L,webKitVersion:M,isSecure:N,BLANK_IMAGE_URL:u||q?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(a){if(Ext.isReady){var b,c,d,e={};for(c in a)(b=c.split("@"))[1]&&(d=b[0],e[d]||(e[d]=Ext.select(d)),e[d].on(b[1],a[c]));e=null}else Ext.onReady(function(){Ext.addBehaviors(a)})},getScrollbarSize:function(a){if(!Ext.isReady)return{};if(a||!G){var b=document.body,c=document.createElement("div");c.style.width=c.style.height="100px",c.style.overflow="scroll",c.style.position="absolute",b.appendChild(c),G={width:c.offsetWidth-c.clientWidth,height:c.offsetHeight-c.clientHeight},b.removeChild(c)}return G},getScrollBarWidth:function(a){var b=Ext.getScrollbarSize(a);return b.width+2},copyTo:function(a,b,c,d){"string"==typeof c&&(c=c.split(/[,;\s]/));var e,f,g=c?c.length:0;for(e=0;g>e;e++)f=c[e],(d||b.hasOwnProperty(f))&&(a[f]=b[f]);return a},destroyMembers:function(a){for(var b=1,c=arguments,d=c.length;d>b;b++)Ext.destroy(a[c[b]]),delete a[c[b]]},log:a,partition:function(a,b){var c,d,e=[[],[]],f=a.length;for(c=0;f>c;c++)d=a[c],e[b&&b(d,c,a)||!b&&d?0:1].push(d);return e},invoke:function(a,b){var c,d,e=[],f=Array.prototype.slice.call(arguments,2),g=a.length;for(c=0;g>c;c++)d=a[c],e.push(d&&"function"==typeof d[b]?d[b].apply(d,f):void 0);return e},zip:function(){var a,b,c,d=Ext.partition(arguments,function(a){return"function"!=typeof a}),e=d[0],f=d[1][0],g=Ext.max(Ext.pluck(e,"length")),h=[];for(a=0;g>a;a++)if(h[a]=[],f)h[a]=f.apply(f,Ext.pluck(e,a));else for(b=0,c=e.length;c>b;b++)h[a].push(e[b][a]);return h},toSentence:function(a,b){var c,d,e=a.length;return 1>=e?a[0]:(c=a.slice(0,e-1),d=a[e-1],Ext.util.Format.format("{0} {1} {2}",c.join(", "),b||"and",d))},setGlyphFontFamily:function(a){Ext._glyphFontFamily=a},useShims:u})}(),Ext.application=function(a){var b,c,d;if("string"==typeof a)Ext.require(a,function(){b=Ext.ClassManager.get(a)});else{if(Ext.Loader.setPath(a.name,a.appFolder||"app"),c=a.paths)for(d in c)c.hasOwnProperty(d)&&Ext.Loader.setPath(d,c[d]);a["paths processed"]=!0,Ext.define(a.name+".$application",Ext.apply({extend:"Ext.app.Application"},a),function(){b=this})}Ext.onReady(function(){Ext.app.Application.instance=new b})},function(){Ext.ns("Ext.util");var a,b=Ext.util.Format={},c=/<\/?[^>]+>/gi,d=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,e=/\r?\n/g,f=/^#+$/,g=/[\d,\.#]+/,h=/[^\d\.#]/g,i={};Ext.apply(b,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(a){return void 0!==a?a:""},defaultValue:function(a,b){return void 0!==a&&""!==a?a:b},substr:"b"!="ab".substr(-1)?function(a,b,c){var d=String(a);return 0>b?d.substr(Math.max(d.length+b,0),c):d.substr(b,c)}:function(a,b,c){return String(a).substr(b,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(a){return b.currency(a,"$",2)},currency:function(a,c,d,e){var f="",g=",0",h=0;for(a-=0,0>a&&(a=-a,f="-"),d=Ext.isDefined(d)?d:b.currencyPrecision,g+=d>0?".":"";d>h;h++)g+="0";return a=b.number(a,g),(e||b.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",f,a,c||b.currencySign):Ext.String.format("{0}{1}{2}",f,c||b.currencySign,a)},date:function(a,b){return a?(Ext.isDate(a)||(a=new Date(Date.parse(a))),Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)):""},dateRenderer:function(a){return function(c){return b.date(c,a)}},stripTags:function(a){return a?String(a).replace(c,""):a},stripScripts:function(a){return a?String(a).replace(d,""):a},fileSize:function(){var a=1024,b=1048576,c=1073741824;return function(d){var e;return e=a>d?1===d?"1 byte":d+" bytes":b>d?Math.round(10*d/a)/10+" KB":c>d?Math.round(10*d/b)/10+" MB":Math.round(10*d/c)/10+" GB"}}(),math:function(){var a={};return function(b,c){return a[c]||(a[c]=Ext.functionFactory("v","return v "+c+";")),a[c](b)}}(),round:function(a,b){var c=Number(a);return"number"==typeof b&&(b=Math.pow(10,b),c=Math.round(a*b)/b),c},number:function(c,d){if(!d)return c;var e=i[d];if(!e){var j,k,l,m,n,o=d,p=b.thousandSeparator,q=b.decimalSeparator,r=0;"/i"==d.substr(d.length-2)?(a||(a=new RegExp("[^\\d\\"+b.decimalSeparator+"]","g")),d=d.substr(0,d.length-2),j=-1!=d.indexOf(p),k=d.replace(a,"").split(q)):(j=-1!=d.indexOf(","),k=d.replace(h,"").split(".")),l=d.replace(g,""),k.length>2||2===k.length&&(r=k[1].length,m=f.test(k[1])),n=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(j?",thousandSeparator,thousands=[],j,n,i":"")+(l?',formatString="'+d+'",formatPattern=/[\\d,\\.#]+/':"")+(m?",trailingZeroes=/\\.?0+$/;":";")+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"fnum=Ext.Number.toFixed(Math.abs(v), "+r+");"],j?(r&&(n[n.length]='parts=fnum.split(".");',n[n.length]="fnum=parts[0];"),n[n.length]="if(v>=1000) {",n[n.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",r&&(n[n.length]="fnum += utilFormat.decimalSeparator+parts[1];")):r&&(n[n.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),m&&(n[n.length]='fnum=fnum.replace(trailingZeroes,"");'),n[n.length]='if(neg&&fnum!=="'+(r?"0."+Ext.String.repeat("0",r):"0")+'")fnum="-"+fnum;',n[n.length]="return ",n[n.length]=l?"formatString.replace(formatPattern, fnum);":"fnum;",n[n.length]="};",e=i[o]=Ext.functionFactory("Ext",n.join(""))(Ext)}return e(c)},numberRenderer:function(a){return function(c){return b.number(c,a)}},attributes:function(a){if("object"==typeof a){var b,c=[];for(b in a)c.push(b,'="',"style"===b?Ext.DomHelper.generateStyles(a[b]):Ext.htmlEncode(a[b]),'"');a=c.join("")}return a||""},plural:function(a,b,c){return a+" "+(1==a?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(e,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(a){if(a=a||0,"number"==typeof a)return{top:a,right:a,bottom:a,left:a};var b=a.split(" "),c=b.length;return 1==c?b[1]=b[2]=b[3]=b[0]:2==c?(b[2]=b[0],b[3]=b[1]):3==c&&(b[3]=b[1]),{top:parseInt(b[0],10)||0,right:parseInt(b[1],10)||0,bottom:parseInt(b[2],10)||0,left:parseInt(b[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){var b=this;"number"==typeof a?b.interval=a:a&&Ext.apply(b,a),b.tasks=[],b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(a){var b=new Ext.util.TaskRunner.Task(a);return b.manager=this,b},start:function(a){var b=this,c=Ext.Date.now();return a.pending||(b.tasks.push(a),a.pending=!0),a.stopped=!1,a.taskStartTime=c,a.taskRunTime=a.fireOnStart!==!1?0:a.taskStartTime,a.taskRunCount=0,b.firing||(a.fireOnStart!==!1?b.startTimer(0,c):b.startTimer(a.interval,c)),a},stop:function(a){return a.stopped||(a.stopped=!0,a.onStop&&a.onStop.call(a.scope||a,a)),a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var a,b,c,d,e,f,g=this,h=g.tasks,i=Ext.Date.now(),j=1e99,k=h.length;for(g.timerId=null,g.firing=!0,c=0;k>c||c<(k=h.length);++c){if(d=h[c],!(f=d.stopped)){if(a=d.taskRunTime+d.interval,i>=a){e=1;try{e=d.run.apply(d.scope||d,d.args||[++d.taskRunCount])}catch(l){try{d.onError&&(e=d.onError.call(d.scope||d,d,l))}catch(m){}}d.taskRunTime=i,e===!1||d.taskRunCount===d.repeat?(g.stop(d),f=!0):(f=d.stopped,a=i+d.interval)}!f&&d.duration&&d.duration<=i-d.taskStartTime&&(g.stop(d),f=!0)}f?(d.pending=!1,b||(b=h.slice(0,c))):(b&&b.push(d),j>a&&(j=a))}b&&(g.tasks=b),g.firing=!1,g.tasks.length&&g.startTimer(j-i,Ext.Date.now()),g.fireIdleEvent!==!1&&Ext.EventManager.idleEvent.fire()},startTimer:function(a,b){var c=this,d=b+a,e=c.timerId;e&&c.nextExpires-d>c.interval&&(clearTimeout(e),e=null),e||(a<c.interval&&(a=c.interval),c.timerId=setTimeout(c.timerFn,a),c.nextExpires=d)}},function(){var a=this,b=a.prototype;b.destroy=b.stopAll,Ext.util.TaskManager=Ext.TaskManager=new a,a.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){void 0!==a&&(this.interval=a),this.manager.start(this)},start:function(a){this.stopped&&this.restart(a)},stop:function(){this.manager.stop(this)}}),b=a.Task.prototype,b.destroy=b.stop}),Ext.define("Ext.util.TaskManager",{extend:"Ext.util.TaskRunner",alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.perf.Accumulator",function(){function a(a,b){a.sum+=b,a.min=Math.min(a.min,b),a.max=Math.max(a.max,b)}function b(b){var c=b?b:i()-this.time,d=this,e=d.accum;++e.count,--e.depth||a(e.total,c),a(e.pure,c-d.childTime),g=d.parent,g&&(++g.accum.childCount,g.childTime+=c)}function c(){return{min:Number.MAX_VALUE,max:0,sum:0}}function d(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);return c.leave(),d}}function e(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};return a&&(c=c||0,e.sum=d.sum-b*c,e.avg=e.sum/a),e}var f,g=null,h=Ext.global.chrome,i=function(){i=function(){return(new Date).getTime()};var a,b;if(Ext.isChrome&&h&&h.Interval)a=new h.Interval,a.start(),i=function(){return a.microseconds()/1e3};else if(window.ActiveXObject)try{b=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=b,i=function(){return b.milliseconds}}catch(c){}else Date.now&&(i=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=i,i()};return{constructor:function(a){var b=this;b.count=b.childCount=b.depth=b.maxDepth=0,b.pure=c(),b.total=c(),b.name=a},statics:{getTimestamp:i},format:function(a){f||(f=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(a){return Math.round(100*a)/100}}));var b=this.getData(a);return b.name=this.name,b.pure.type="Pure",b.total.type="Total",b.times=[b.pure,b.total],f.apply(b)},getData:function(a){var b=this;return{count:b.count,childCount:b.childCount,depth:b.maxDepth,pure:e(b.count,b.childCount,a,b.pure),total:e(b.count,b.childCount,a,b.total)}},enter:function(){var a=this,c={accum:a,leave:b,childTime:0,parent:g};return++a.depth,a.maxDepth<a.depth&&(a.maxDepth=a.depth),g=c,c.time=i(),c},monitor:function(a,b,c){var d=this.enter();c?a.apply(b,c):a.call(b),d.leave()},report:function(){Ext.log(this.format())},tap:function(a,b){var c,e,f,g,h,i,j,k,l=this,m="string"==typeof b?[b]:b;return k=function(){if("string"==typeof a)for(c=Ext.global,g=a.split("."),f=0,h=g.length;h>f;++f)c=c[g[f]];else c=a;for(f=0,h=m.length;h>f;++f)i=m[f],e="!"==i.charAt(0),e?i=i.substring(1):e=!(i in c.prototype),j=e?c:c.prototype,j[i]=d(l,j[i])},Ext.ClassManager.onCreated(k,l,a),l}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var a,b,c,d=new Ext.perf.Accumulator("$"),e=d.total,f=Ext.perf.Accumulator.getTimestamp,g=0;c=f();do a=d.enter(),a.leave(),++g;while(e.sum<100);return b=f(),(b-c)/g},get:function(a){var b=this,c=b.accumulatorsByName[a];return c||(b.accumulatorsByName[a]=c=new Ext.perf.Accumulator(a),b.accumulators.push(c)),c},enter:function(a){return this.get(a).enter()},monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this,b=a.accumulators,c=a.calibrate();b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0}),a.updateGC(),Ext.log("Calibration: "+Math.round(100*c)/100+" msec/sample"),Ext.each(b,function(a){Ext.log(a.format(c))})},getData:function(a){var b={},c=this.accumulators;return Ext.each(c,function(c){(a||c.count)&&(b[c.name]=c.getData())}),b},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0,b.pure={min:Number.MAX_VALUE,max:0,sum:0},b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a,b=this.accumulatorsByName.GC,c=Ext.senchaToolbox;b&&(b.count=c.garbageCollectionCounter||0,b.count&&(a=b.pure,b.total.sum=a.sum=c.garbageCollectionMilliseconds,a.min=a.max=a.sum/b.count,a=b.total,a.min=a.max=a.sum/b.count))},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;a&&(this.get("GC"),a.watchGarbageCollector(!1))},setup:function(a){a||(a={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=a;var b,c,d,e,f;for(b in a)if(a.hasOwnProperty(b)){c=a[b],d=Ext.Perf.get(b);for(e in c)c.hasOwnProperty(e)&&(f=c[e],d.tap(e,f))}this.watchGC()}}),Ext.is={init:function(a){var b,c,d=this.platforms,e=d.length;for(a=a||window.navigator,b=0;e>b;b++)c=d[b],this[c.identity]=c.regex.test(a[c.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){function a(){var a=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return a?a+(Ext.isStrict?"-strict":"-quirks"):""}var b=function(a,b){var c=a.ownerDocument.defaultView,d=(c?c.getComputedStyle(a,null):a.currentStyle)||a.style;return d[b]},c={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};Ext.supports={init:function(){var b,d,e,f=this,g=document,h=f.toRun||f.tests,i=h.length,j=i&&Ext.isReady&&g.createElement("div"),k=[],l=a();for(j&&(j.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),g.body.appendChild(j)),d=c[l];i--;)b=h[i],e=d&&d[i],void 0!==e?f[b.identity]=e:j||b.early?f[b.identity]=b.fn.call(f,g,j):k.push(b);j&&g.body.removeChild(j),f.toRun=k},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:"undefined"!=typeof window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0)}(),tests:[{identity:"Transitions",fn:function(a,c){for(var d=["webkit","Moz","o","ms","khtml"],e="TransitionEnd",f=[d[0]+e,"transitionend",d[2]+e,d[3]+e,d[4]+e],g=d.length,h=0,i=!1;g>h;h++)if(b(c,d[h]+"TransitionProperty")){Ext.supports.CSS3Prefix=d[h],Ext.supports.CSS3TransitionEnd=f[h],i=!0;break}return i}},{identity:"RightMargin",fn:function(a,b){var c=a.defaultView;return!(c&&"0px"!=c.getComputedStyle(b.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var a=Ext.webKitVersion;return a>0&&533>a}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var a=Ext.webKitVersion;return a>0&&534.24>a}},{identity:"TransparentColor",fn:function(a,b,c){return c=a.defaultView,!(c&&"transparent"!=c.getComputedStyle(b.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(a,b,c){return c=a.defaultView,c&&c.getComputedStyle}},{identity:"Svg",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"Vml",fn:function(a){var b=a.createElement("div");return b.innerHTML="<!--[if vml]><br/><br/><![endif]-->",2==b.childNodes.length}},{identity:"Float",fn:function(a,b){return!!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){var a=window.history;return!(!a||!a.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(a,b){var c="background-image:",d="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",e="linear-gradient(left top, black, white)",f="-moz-"+e,g="-ms-"+e,h="-o-"+e,i=[c+d,c+e,c+f,c+g,c+h];return b.style.cssText=i.join(";"),-1!==(""+b.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(){var a,b=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c=!1;for(a=0;a<b.length;a++)if(void 0!==document.body.style[b[a]])return!0;return c}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"geolocation"in navigator||"undefined"!=typeof google&&"undefined"!=typeof google.gears}},{identity:"MouseEnterLeave",fn:function(a,b){return"onmouseenter"in b&&"onmouseleave"in b}},{identity:"MouseWheel",fn:function(a,b){return"onmousewheel"in b}},{identity:"Opacity",fn:function(a,b){return Ext.isIE6||Ext.isIE7||Ext.isIE8?!1:(b.firstChild.style.cssText="opacity:0.73","0.73"==b.firstChild.style.opacity)}},{identity:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(a,b){return Ext.isFunction(b.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var a=document.body,b=!1,c=document.createElement("div"),d=c.style;return c.getBoundingClientRect&&(d.WebkitTransform=d.MozTransform=d.OTransform=d.transform="rotate(90deg)",d.width="100px",d.height="30px",a.appendChild(c),b=100!==c.getBoundingClientRect().height,a.removeChild(c)),b}},{identity:"IncludePaddingInWidthCalculation",fn:function(a,b){return 210==b.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(a,b){return 210==b.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return 1===a[0]&&2===a[1]&&3===a[2]&&4===a[3]&&5===a[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var a=Ext.supports.Range?document.createRange():!1;return a&&!!a.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var a=document.createElement("textarea");return"maxlength"in a}},{identity:"GetPositionPercentage",fn:function(a,c){return"10%"==b(c.childNodes[2],"left")}},{identity:"PercentageHeightOverflowBug",fn:function(a){var b,c,d=!1;return Ext.getScrollbarSize().height&&(c=a.createElement("div"),b=c.style,b.height="50px",b.width="50px",b.overflow="auto",b.position="absolute",c.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),a.body.appendChild(c),50===c.firstChild.offsetHeight&&(d=!0),a.body.removeChild(c)),d}},{identity:"xOriginBug",fn:function(a,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var c=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),e=document.getElementById("b3").getBoundingClientRect();return d.left!==c.left&&e.right!==c.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(a){var b,c,d=!1;return c=a.createElement("div"),b=c.style,b.height="50px",b.width="50px",b.padding="10px",b.overflow="hidden",b.position="absolute",c.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',a.body.appendChild(c),70===c.scrollWidth&&(d=!0),a.body.removeChild(c),d}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(a,b,c,d){var e,f=this,g=function(){clearInterval(f.id),f.id=null,a.apply(b,c||[]),Ext.EventManager.idleEvent.fire()};d="boolean"==typeof d?d:!0,f.id=null,f.delay=function(h,i,j,k){d&&f.cancel(),e=h||e,a=i||a,b=j||b,c=k||c,f.id||(f.id=setInterval(g,e))},f.cancel=function(){f.id&&(clearInterval(f.id),f.id=null)}},Ext.define("Ext.util.Event",function(){var a=Array.prototype.slice,b=Ext.Array.insert,c=Ext.Array.toArray,d=Ext.util.DelayedTask;return{requires:"Ext.util.DelayedTask",isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b,this.observable=a,this.listeners=[]},addListener:function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o=this;if(c=c||o.observable,!o.isListening(a,c)){if(f=o.createListener(a,c,d),o.firing&&(o.listeners=o.listeners.slice(0)),e=o.listeners,l=k=e.length,g=d&&d.priority,i=o._highestNegativePriorityIndex,j=void 0!==i,g)if(h=0>g,!h||j){for(m=h?i:0;k>m;m++)if(n=e[m].o?e[m].o.priority||0:0,g>n){l=m;
break}}else o._highestNegativePriorityIndex=l;else j&&(l=i);!h&&i>=l&&o._highestNegativePriorityIndex++,l===k?o.listeners[k]=f:b(o.listeners,l,[f])}},createListener:function(a,b,c){b=b||this.observable;var d=this,e={fn:a,scope:b,ev:d},f=a;return c&&(e.o=c,c.single&&(f=d.createSingle(f,e,c,b)),c.target&&(f=d.createTargeted(f,e,c,b)),c.delay&&(f=d.createDelayed(f,e,c,b)),c.buffer&&(f=d.createBuffered(f,e,c,b))),e.fireFn=f,e},findListener:function(a,b){for(var c,d,e=this.listeners,f=e.length;f--;)if(c=e[f],c&&(d=c.scope,c.fn==a&&d==(b||this.observable)))return f;return-1},isListening:function(a,b){return-1!==this.findListener(a,b)},removeListener:function(a,b){var c,d,e,f,g=this;if(c=g.findListener(a,b),-1!=c){if(d=g.listeners[c],e=g._highestNegativePriorityIndex,g.firing&&(g.listeners=g.listeners.slice(0)),d.task&&(d.task.cancel(),delete d.task),f=d.tasks&&d.tasks.length){for(;f--;)d.tasks[f].cancel();delete d.tasks}return g.listeners.splice(c,1),e&&(e>c?g._highestNegativePriorityIndex--:c===e&&c===g.listeners.length&&delete g._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var a=this.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var b,c,d,e,f=this,g=f.listeners,h=g.length;if(!f.suspended&&h>0)for(f.firing=!0,c=arguments.length?a.call(arguments,0):[],e=c.length,b=0;h>b;b++)if(d=g[b],d.o&&(c[e]=d.o),d&&d.fireFn.apply(d.scope||f.observable,c)===!1)return f.firing=!1;return f.firing=!1,!0},createTargeted:function(a,b,c,d){return function(){c.target===arguments[0]&&a.apply(d,arguments)}},createBuffered:function(a,b,e,f){return b.task=new d,function(){b.task.delay(e.buffer,a,f,c(arguments))}},createDelayed:function(a,b,e,f){return function(){var g=new d;b.tasks||(b.tasks=[]),b.tasks.push(g),g.delay(e.delay||10,a,f,c(arguments))}},createSingle:function(a,b,c,d){return function(){var c=b.ev;return c.removeListener(b.fn,d)&&c.observable&&c.observable.hasListeners[c.name]--,a.apply(d,arguments)}}}}),Ext.EventManager=new function(){var a,b=this,c=document,d=window,e=/\\/g,f=Ext.baseCSSPrefix,g=!Ext.isIE9&&"addEventListener"in c,h=function(){function a(a){e.push(f+a)}var b,d=c.body||c.getElementsByTagName("body")[0],e=[f+"body"],g=[],h=Ext.supports.CSS3LinearGradient,i=Ext.supports.CSS3BorderRadius;return d?(b=d.parentNode,Ext.isIE&&Ext.isIE9m&&(a("ie"),Ext.isIE6?a("ie6"):(a("ie7p"),Ext.isIE7?a("ie7"):(a("ie8p"),Ext.isIE8?a("ie8"):(a("ie9p"),Ext.isIE9&&a("ie9")))),Ext.isIE7m&&a("ie7m"),Ext.isIE8m&&a("ie8m"),Ext.isIE9m&&a("ie9m"),(Ext.isIE7||Ext.isIE8)&&a("ie78")),Ext.isIE10&&a("ie10"),Ext.isGecko&&(a("gecko"),Ext.isGecko3&&a("gecko3"),Ext.isGecko4&&a("gecko4"),Ext.isGecko5&&a("gecko5")),Ext.isOpera&&a("opera"),Ext.isWebKit&&a("webkit"),Ext.isSafari&&(a("safari"),Ext.isSafari2&&a("safari2"),Ext.isSafari3&&a("safari3"),Ext.isSafari4&&a("safari4"),Ext.isSafari5&&a("safari5"),Ext.isSafari5_0&&a("safari5_0")),Ext.isChrome&&a("chrome"),Ext.isMac&&a("mac"),Ext.isLinux&&a("linux"),i||a("nbr"),h||a("nlg"),b&&(Ext.isBorderBox=Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?!1:!0,Ext.isBorderBox||g.push(f+"content-box"),g.push(Ext.isStrict?f+"strict":f+"quirks"),Ext.fly(b,"_internal").addCls(g)),Ext.fly(d,"_internal").addCls(e),!0):!1};Ext.apply(b,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){return a=new Ext.util.Event,a.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),a.self.prototype.fire.apply(a,arguments),Ext._afterReadytime=(new Date).getTime()},a}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){b.hasBoundOnReady||("complete"==c.readyState?b.onReadyEvent({type:c.readyState||"body"}):(c.addEventListener("DOMContentLoaded",b.onReadyEvent,!1),d.addEventListener("load",b.onReadyEvent,!1),b.hasBoundOnReady=!0))},onReadyEvent:function(a){a&&a.type&&b.onReadyChain.push(a.type),b.hasBoundOnReady&&(c.removeEventListener("DOMContentLoaded",b.onReadyEvent,!1),d.removeEventListener("load",b.onReadyEvent,!1)),Ext.isReady||b.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),b.onWindowUnload(),a.onReadyChain=b.onReadyChain,Ext.isNumber(b.deferReadyEvent)?(Ext.Function.defer(b.fireReadyEvent,b.deferReadyEvent),b.hasDocReadyTimer=!0):b.fireReadyEvent())},fireReadyEvent:function(){for(b.hasDocReadyTimer=!1,b.isFiring=!0;a.listeners.length&&!b.isReadyPaused();)a.fire();b.isFiring=!1,b.hasFiredReady=!0,Ext.EventManager.idleEvent.fire()},onDocumentReady:function(c,d,e){e=e||{},e.single=!0,a.addListener(c,d,e),b.isFiring||b.hasDocReadyTimer||(Ext.isReady?b.fireReadyEvent():b.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var b;return a=Ext.getDom(a),b=a===c||a===d?a===c?Ext.documentId:Ext.windowId:Ext.id(a),Ext.cache[b]||Ext.addCacheEntry(b,null,a),b},prepareListenerConfig:function(a,c,d){var e,f,g,h=b.propRe;for(e in c)c.hasOwnProperty(e)&&(h.test(e)||(f=c[e],g="function"==typeof f?[a,e,f,c.scope,c]:[a,e,f.fn,f.scope,f],d?b.removeListener.apply(b,g):b.addListener.apply(b,g)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(a,c){return b.mouseEnterLeaveRe.test(a)&&!Ext.supports.MouseEnterLeave?(c&&(c=Ext.Function.createInterceptor(c,b.contains)),a="mouseenter"==a?"mouseover":"mouseout"):"mousewheel"!=a||Ext.supports.MouseWheel||Ext.isOpera||(a="DOMMouseScroll"),{eventName:a,fn:c}},contains:function(a){a=a.browserEvent||a;var c=a.currentTarget,d=b.getRelatedTarget(a);if(c&&c.firstChild)for(;d;){if(d===c)return!1;d=d.parentNode,d&&1!=d.nodeType&&(d=null)}return!0},addListener:function(a,d,e,f,h){if("string"!=typeof d)return void b.prepareListenerConfig(a,d);var i,j,k,l,m,n,o,p=a.dom||Ext.getDom(a);"string"==typeof e&&(e=Ext.resolveMethod(e,f||a)),h=h||{},j=b.normalizeEvent(d,e),k=b.createListenerWrap(p,d,j.fn,f,h),l=b.getEventListenerCache(a.dom?a:p,d),d=j.eventName,i=g||Ext.isIE9&&!p.attachEvent,i||(m=b.normalizeId(p),m&&(n=Ext.cache[m][d],n&&n.firing&&(l=b.cloneEventListenerCache(p,d)))),o=!!h.capture,l.push({fn:e,wrap:k,scope:f,capture:o}),i?p.addEventListener(d,k,o):1===l.length&&(m=b.normalizeId(p,!0),e=Ext.Function.bind(b.handleSingleEvent,b,[m,d],!0),Ext.cache[m][d]={firing:!1,fn:e},p.attachEvent("on"+d,e)),p==c&&"mousedown"==d&&b.stoppedMouseDownEvent.addListener(k)},normalizeId:function(a,c){var d;return d=a===document?Ext.documentId:a===window?Ext.windowId:a.id,!d&&c&&(d=b.getId(a)),d},handleSingleEvent:function(a,c,d){var e,f,g=b.getEventListenerCache(c,d),h=Ext.cache[c][d];if(!h.firing){for(h.firing=!0,f=0,e=g.length;e>f;++f)g[f].wrap(a);h.firing=!1}},removeListener:function(a,d,e,f){if("string"!=typeof d)return void b.prepareListenerConfig(a,d,!0);var h,i,j,k,l,m,n=Ext.getDom(a),o=a.dom?a:Ext.get(n),p=b.getEventListenerCache(o,d),q=b.normalizeEvent(d).eventName,r=p.length;if(n)for(k=g||Ext.isIE9&&!n.detachEvent,"string"==typeof e&&(e=Ext.resolveMethod(e,f||a));r--;)if(l=p[r],!(!l||e&&l.fn!=e||f&&l.scope!==f)){if(m=l.wrap,m.task&&(clearTimeout(m.task),delete m.task),i=m.tasks&&m.tasks.length){for(;i--;)clearTimeout(m.tasks[i]);delete m.tasks}k?n.removeEventListener(q,m,l.capture):(h=b.normalizeId(n,!0),j=Ext.cache[h][q],j&&j.firing&&(p=b.cloneEventListenerCache(n,q)),1===p.length&&(e=j.fn,delete Ext.cache[h][q],n.detachEvent("on"+q,e))),m&&n==c&&"mousedown"==d&&b.stoppedMouseDownEvent.removeListener(m),Ext.Array.erase(p,r,1)}},removeAll:function(a){var c,d,e,f="string"==typeof a?a:a.id;if(f&&(c=Ext.cache[f])){d=c.events;for(e in d)d.hasOwnProperty(e)&&b.removeListener(a,e);c.events={}}},purgeElement:function(a,c){var d,e,f=Ext.getDom(a),g=0;if(c?b.removeListener(a,c):b.removeAll(a),f&&f.childNodes)for(e=f.childNodes,d=e.length;d>g;g++)b.purgeElement(e[g],c)},createListenerWrap:function(a,c,d,f,g){g=g||{};var h,i,j=function(k,l){return i||(h=["if(!"+Ext.name+") {return;}"],g.buffer||g.delay||g.freezeEvent?(g.freezeEvent&&h.push("e = X.EventObject.setEvent(e);"),h.push("e = new X.EventObjectImpl(e, "+(g.freezeEvent?"true":"false")+");")):h.push("e = X.EventObject.setEvent(e);"),g.delegate?(h.push('var result, t = e.getTarget("'+(g.delegate+"").replace(e,"\\\\")+'", this);'),h.push("if(!t) {return;}")):h.push("var t = e.target, result;"),g.target&&h.push("if(e.target !== options.target) {return;}"),g.stopEvent?h.push("e.stopEvent();"):(g.preventDefault&&h.push("e.preventDefault();"),g.stopPropagation&&h.push("e.stopPropagation();")),g.normalized===!1&&h.push("e = e.browserEvent;"),g.buffer&&(h.push("(wrap.task && clearTimeout(wrap.task));"),h.push("wrap.task = setTimeout(function() {")),g.delay&&(h.push("wrap.tasks = wrap.tasks || [];"),h.push("wrap.tasks.push(setTimeout(function() {")),h.push("result = fn.call(scope || dom, e, t, options);"),g.single&&h.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==c&&"unload"!==c&&(h.push("if (evtMgr.idleEvent.listeners.length) {"),h.push("evtMgr.idleEvent.fire();"),h.push("}")),g.delay&&h.push("}, "+g.delay+"));"),g.buffer&&h.push("}, "+g.buffer+");"),h.push("return result;"),i=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",h.join("\n"))),i.call(a,k,g,d,f,c,a,j,l,Ext,b)};return j},getEventCache:function(a){var c,d,e;return a?(a.$cache?c=a.$cache:(e="string"==typeof a?a:b.getId(a),c=Ext.cache[e]),d=c.events||(c.events={})):[]},getEventListenerCache:function(a,c){var d=b.getEventCache(a);return d[c]||(d[c]=[])},cloneEventListenerCache:function(a,c){var d,e=b.getEventCache(a);return d=e[c]?e[c].slice(0):[],e[c]=d,d},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(a){b.stopPropagation(a),b.preventDefault(a)},stopPropagation:function(a){a=a.browserEvent||a,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){if(a=a.browserEvent||a,a.preventDefault)a.preventDefault();else{a.returnValue=!1;try{(a.ctrlKey||a.keyCode>111&&a.keyCode<124)&&(a.keyCode=-1)}catch(b){}}},getRelatedTarget:function(a){a=a.browserEvent||a;var c=a.relatedTarget;return c||(b.mouseLeaveRe.test(a.type)?c=a.toElement:b.mouseEnterRe.test(a.type)&&(c=a.fromElement)),b.resolveTextNode(c)},getPageX:function(a){return b.getPageXY(a)[0]},getPageY:function(a){return b.getPageXY(a)[1]},getPageXY:function(a){a=a.browserEvent||a;var b=a.pageX,d=a.pageY,e=c.documentElement,f=c.body;return b||0===b||(b=a.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),d=a.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),[b,d]},getTarget:function(a){return a=a.browserEvent||a,b.resolveTextNode(a.target||a.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if("[xpconnect wrapped native prototype]"!==b&&"[object XULElement]"!==b)return 3==a.nodeType?a.parentNode:a}}:function(a){return a&&3==a.nodeType?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(a,c,e){var f=b.resizeEvent;f||(b.resizeEvent=f=new Ext.util.Event,b.on(d,"resize",b.fireResize,null,{buffer:100})),f.addListener(a,c,e)},fireResize:function(){var a=Ext.Element.getViewWidth(),c=Ext.Element.getViewHeight();(b.curHeight!=c||b.curWidth!=a)&&(b.curHeight=c,b.curWidth=a,b.resizeEvent.fire(a,c))},removeResizeListener:function(a,c){var d=b.resizeEvent;d&&d.removeListener(a,c)},onWindowUnload:function(a,c,e){var f=b.unloadEvent;f||(b.unloadEvent=f=new Ext.util.Event,b.addListener(d,"unload",b.fireUnload)),a&&f.addListener(a,c,e)},fireUnload:function(){try{c=d=void 0;var a,e,f,g,h;if(b.unloadEvent.fire(),Ext.isGecko3)for(a=Ext.ComponentQuery.query("gridview"),e=0,f=a.length;f>e;e++)a[e].scrollToTop();h=Ext.cache;for(g in h)h.hasOwnProperty(g)&&b.removeAll(g)}catch(i){}},removeUnloadListener:function(a,c){var d=b.unloadEvent;d&&d.removeListener(a,c)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return b.useKeyDown?"keydown":"keypress"}}),!g&&document.attachEvent&&Ext.apply(b,{pollScroll:function(){var a=!0;try{document.documentElement.doScroll("left")}catch(c){a=!1}return a&&document.body?b.onReadyEvent({type:"doScroll"}):b.scrollTimeout=setTimeout(b.pollScroll,20),a},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var a=document.readyState;b.readyStatesRe.test(a)&&b.onReadyEvent({type:a})},bindReadyEvent:function(){var a=!0;if(!b.hasBoundOnReady){try{a=void 0===window.frameElement}catch(d){a=!1}a&&c.documentElement.doScroll||(b.pollScroll=Ext.emptyFn),b.pollScroll()!==!0&&("complete"==c.readyState?b.onReadyEvent({type:"already "+(c.readyState||"body")}):(c.attachEvent("onreadystatechange",b.checkReadyState),window.attachEvent("onload",b.onReadyEvent),b.hasBoundOnReady=!0))}},onReadyEvent:function(a){a&&a.type&&b.onReadyChain.push(a.type),b.hasBoundOnReady&&(document.detachEvent("onreadystatechange",b.checkReadyState),window.detachEvent("onload",b.onReadyEvent)),Ext.isNumber(b.scrollTimeout)&&(clearTimeout(b.scrollTimeout),delete b.scrollTimeout),Ext.isReady||b.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(a,b,c){Ext.Loader.onReady(a,b,!0,c)},Ext.onDocumentReady=b.onDocumentReady,b.on=b.addListener,b.un=b.removeListener,Ext.onReady(h)},Ext.define("Ext.util.Observable",function(a){var b=[],c=Array.prototype,d=c.slice,e=Ext.util.Event,f=function(a){return a instanceof f?a:(this.observable=a,arguments[1].isObservable&&(this.managedListeners=!0),void(this.args=d.call(arguments,1)))};return f.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{requires:["Ext.util.Event","Ext.EventManager"],statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(a,b,c){var d=function(a,d){return b.apply(c,[a].concat(d))};this.captureArgs(a,d,c)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(a,b){return a&&(a.isObservable||(Ext.applyIf(a,new this),this.captureArgs(a.prototype,a.fireEventArgs,a)),Ext.isObject(b)&&a.on(b)),a},prepareClass:function(b,c){if(!b.HasListeners){var d=function(){},e=b.superclass.HasListeners||c&&c.HasListeners||a.HasListeners;b.prototype.HasListeners=b.HasListeners=d,d.prototype=b.hasListeners=new e}}},isObservable:!0,eventsSuspended:0,constructor:function(a){var b=this;Ext.apply(b,a),b.hasListeners||(b.hasListeners=new b.HasListeners),b.events=b.events||{},b.listeners&&(b.on(b.listeners),b.listeners=null),b.bubbleEvents&&b.enableBubble(b.bubbleEvents)},onClassExtended:function(b){b.HasListeners||a.prepareClass(b)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(a,b,c,d,e,g){var h,i,j=this,k=j.managedListeners=j.managedListeners||[];if("string"!=typeof b){i=arguments.length>4?e:b,e=b;for(b in e)e.hasOwnProperty(b)&&(h=e[b],j.eventOptionsRe.test(b)||j.addManagedListener(a,b,h.fn||h,h.scope||e.scope||d,h.fn?h:i,!0));if(e&&e.destroyable)return new f(j,a,e)}else if("string"==typeof c&&(d=d||j,c=Ext.resolveMethod(c,d)),k.push({item:a,ename:b,fn:c,scope:d,options:e}),a.on(b,c,d,e),!g&&e&&e.destroyable)return new f(j,a,b,c,d)},removeManagedListener:function(a,b,c,d){var e,f,g,h,i,j=this;if("string"!=typeof b){e=b;for(b in e)e.hasOwnProperty(b)&&(f=e[b],j.eventOptionsRe.test(b)||j.removeManagedListener(a,b,f.fn||f,f.scope||e.scope||d))}else for(g=j.managedListeners?j.managedListeners.slice():[],"string"==typeof c&&(d=d||j,c=Ext.resolveMethod(c,d)),i=0,h=g.length;h>i;i++)j.removeManagedListenerItem(!1,g[i],a,b,c,d)},fireEvent:function(a){return this.fireEventArgs(a,d.call(arguments,1))},fireEventArgs:function(a,c){a=a.toLowerCase();var d=this,e=d.events,f=e&&e[a],g=!0;return f&&d.hasListeners[a]&&(g=d.continueFireEvent(a,c||b,f.bubble)),g},continueFireEvent:function(a,b,c){var d,e,f=this,g=!0;do{if(f.eventsSuspended)return(d=f.eventQueue)&&d.push([a,b,c]),g;if(e=f.events[a],e&&e!==!0&&(g=e.fire.apply(e,b))===!1)break}while(c&&(f=f.getBubbleParent()));return g},getBubbleParent:function(){var a=this,b=a.getBubbleTarget&&a.getBubbleTarget();return b&&b.isObservable?b:null},addListener:function(a,b,c,d){var g,h,i=this,j=0;if("string"!=typeof a){d=a;for(a in d)d.hasOwnProperty(a)&&(g=d[a],i.eventOptionsRe.test(a)||i.addListener(a,g.fn||g,g.scope||d.scope,g.fn?g:d));if(d&&d.destroyable)return new f(i,d)}else if(a=a.toLowerCase(),h=i.events[a],h&&h.isEvent?j=h.listeners.length:i.events[a]=h=new e(i,a),"string"==typeof b&&(c=c||i,b=Ext.resolveMethod(b,c)),h.addListener(b,c,d),h.listeners.length!==j&&i.hasListeners._incr_(a),d&&d.destroyable)return new f(i,a,b,c,d)},removeListener:function(a,b,c){var d,e,f,g=this;if("string"!=typeof a){f=a;for(a in f)f.hasOwnProperty(a)&&(d=f[a],g.eventOptionsRe.test(a)||g.removeListener(a,d.fn||d,d.scope||f.scope))}else a=a.toLowerCase(),e=g.events[a],e&&e.isEvent&&("string"==typeof b&&(c=c||g,b=Ext.resolveMethod(b,c)),e.removeListener(b,c)&&g.hasListeners._decr_(a))},clearListeners:function(){var a,b,c=this.events,d=this.hasListeners;for(b in c)c.hasOwnProperty(b)&&(a=c[b],a.isEvent&&(delete d[b],a.clearListeners()));this.clearManagedListeners()},clearManagedListeners:function(){for(var a=this.managedListeners||[],b=0,c=a.length;c>b;b++)this.removeManagedListenerItem(!0,a[b]);this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,f){!a&&(b.item!==c||b.ename!==d||e&&b.fn!==e||f&&b.scope!==f)||(b.item.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(this.managedListeners,b))},addEvents:function(a){var b,c,d,e=this,f=e.events||(e.events={});if("string"==typeof a)for(c=arguments,d=c.length;d--;)b=c[d],f[b]||(f[b]=!0);else Ext.applyIf(e.events,a)},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended+=1,a&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=this.events[arguments[a]],b&&b.suspend&&b.suspend()},resumeEvent:function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=this.events[arguments[a]],b&&b.resume&&b.resume()},resumeEvents:function(){var a,b,c=this,d=c.eventQueue;if(c.eventsSuspended&&!--c.eventsSuspended&&(delete c.eventQueue,d))for(a=d.length,b=0;a>b;b++)c.continueFireEvent.apply(c,d[b])},relayEvents:function(a,b,c){for(var d,e=this,g=b.length,h=0,i={};g>h;h++)d=b[h],i[d]=e.createRelayer(c?c+d:d);return e.mon(a,i,null,null,void 0),new f(e,a,i)},createRelayer:function(a,b){var c=this;return function(){return c.fireEventArgs.call(c,a,b?d.apply(arguments,b):arguments)}},enableBubble:function(a){if(a){var b,c,d,f=this,g="string"==typeof a?arguments:a,h=g.length,i=f.events;for(d=0;h>d;++d)b=g[d].toLowerCase(),c=i[b],c&&"boolean"!=typeof c||(i[b]=c=new e(f,b)),f.hasListeners._incr_(b),c.bubble=!0}}}},function(){function a(a){var b,c,d,e,f=(this.methodEvents=this.methodEvents||{})[a],g=this;return f||(this.methodEvents[a]=f={},f.originalFn=this[a],f.methodName=a,f.before=[],f.after=[],e=function(a,e,f){void 0!==(c=a.apply(e||g,f))&&("object"==typeof c?(b=void 0!==c.returnValue?c.returnValue:c,d=!!c.cancel):c===!1?d=!0:b=c)},this[a]=function(){var a,h,i,j=Array.prototype.slice.call(arguments,0);for(b=c=void 0,d=!1,h=0,i=f.before.length;i>h;h++)if(a=f.before[h],e(a.fn,a.scope,j),d)return b;for(void 0!==(c=f.originalFn.apply(g,j))&&(b=c),h=0,i=f.after.length;i>h;h++)if(a=f.after[h],e(a.fn,a.scope,j),d)return b;return b}),f}var b,c=this,d=c.prototype,e=function(){},f=function(a){if(!a.HasListeners){var b=a.prototype;c.prepareClass(a,this),a.onExtended(function(a){c.prepareClass(a)}),b.onClassMixedIn?Ext.override(a,{onClassMixedIn:function(a){f.call(this,a),this.callParent(arguments)}}):b.onClassMixedIn=function(a){f.call(this,a)}}};e.prototype={_decr_:function(a){--this[a]||delete this[a]},_incr_:function(a){this.hasOwnProperty(a)?++this[a]:this[a]=1}},d.HasListeners=c.HasListeners=e,c.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),c.observeClass=c.observe,Ext.globalEvents=b=new c({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}}),Ext.on=function(){return b.addListener.apply(b,arguments)},Ext.un=function(){return b.removeListener.apply(b,arguments)},Ext.apply(d,{onClassMixedIn:f,beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,b,c){var d,e,f=this.getMethodEvent(a);for(d=0,e=f.before.length;e>d;d++)if(f.before[d].fn==b&&f.before[d].scope==c)return void Ext.Array.erase(f.before,d,1);for(d=0,e=f.after.length;e>d;d++)if(f.after[d].fn==b&&f.after[d].scope==c)return void Ext.Array.erase(f.after,d,1)},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})}),Ext.define("Ext.EventObjectImpl",{uses:["Ext.util.Point"],BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;return Ext.isGecko?a=3:Ext.isMac?(a=Ext.isSafari&&Ext.webKitVersion>=532?120:12,a*=3):a=120,a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){a&&this.setEvent(a.browserEvent||a,b)},setEvent:function(a,b){var c,d,e=this;return a===e||a&&a.browserEvent?a:(e.browserEvent=a,a?(c=a.button?e.btnMap[a.button]:a.which?a.which-1:-1,e.clickRe.test(a.type)&&-1==c&&(c=0),d={type:a.type,button:c,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||!1,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:b?e.getXY():null}):d={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(e,d),e)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var a=this.browserEvent;a&&("mousedown"==a.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(a))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getRelatedTarget:function(a,b,c){return a&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(a,b,c):c?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var b=this.WHEEL_SCALE,c=Math.round(a/b);return!c&&a&&(c=0>a?-1:1),c},getWheelDeltas:function(){var a=this,b=a.browserEvent,c=0,d=0;return Ext.isDefined(b.wheelDeltaX)?(c=b.wheelDeltaX,d=b.wheelDeltaY):b.wheelDelta?d=b.wheelDelta:b.detail&&(d=-b.detail,d>100?d=3:-100>d&&(d=-3),Ext.isDefined(b.axis)&&b.axis===b.HORIZONTAL_AXIS&&(c=d,d=0)),{x:a.correctWheelDelta(c),y:a.correctWheelDelta(d)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(a,b,c){if(a){var d,e=b?this.getRelatedTarget():this.getTarget();if(e)return d=Ext.fly(a,"_internal").contains(e),!d&&c&&(d=e==Ext.getDom(a)),d}return!1},isNavKeyPress:function(){var a=this,b=this.normalizeKey(a.keyCode);return b>=33&&40>=b||b==a.RETURN||b==a.TAB||b==a.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&20>=a||a>=44&&46>=a},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function a(a,b){var d="mousemove"!=a;return function(e,f){var g=f.getXY(),h=c.createMouseEvent(e.ownerDocument,a,!0,d,b,g[0],g[1],f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);c.fireEvent(e,a,h)}}function b(){}var c,d,e={};return!Ext.isIE9m&&document.createEvent?c={createHtmlEvent:function(a,b,c,d){var e=a.createEvent("HTMLEvents");return e.initEvent(b,c,d),e},createMouseEvent:function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=a.createEvent("MouseEvents"),o=a.defaultView||window;return n.initMouseEvent?n.initMouseEvent(b,c,d,o,e,f,g,f,g,h,i,j,k,l,m):(n=a.createEvent("UIEvents"),n.initEvent(b,c,d),n.view=o,n.detail=e,n.screenX=f,n.screenY=g,n.clientX=f,n.clientY=g,n.ctrlKey=h,n.altKey=i,n.metaKey=k,n.shiftKey=j,n.button=l,n.relatedTarget=m),n},createUIEvent:function(a,b,c,d,e){var f=a.createEvent("UIEvents"),g=a.defaultView||window;return f.initUIEvent(b,c,d,g,e),f},fireEvent:function(a,b,c){a.dispatchEvent(c)},fixTarget:function(a){return a!=window||a.dispatchEvent?a:document}}:document.createEventObject&&(d={0:1,1:4,2:2},c={createHtmlEvent:function(a,b,c,d){var e=a.createEventObject();return e.bubbles=c,e.cancelable=d,e},createMouseEvent:function(a,b,c,e,f,g,h,i,j,k,l,m,n){var o=a.createEventObject();return o.bubbles=c,o.cancelable=e,o.detail=f,o.screenX=g,o.screenY=h,o.clientX=g,o.clientY=h,o.ctrlKey=i,o.altKey=j,o.shiftKey=k,o.metaKey=l,o.button=d[m]||m,o.relatedTarget=n,o},createUIEvent:function(a,b,c,d){var e=a.createEventObject();return e.bubbles=c,e.cancelable=d,e},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)},fixTarget:function(a){return a==document?document.documentElement:a}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(a,b){var d=b[0],f=b[1];e[a]=function(b){var e=c.createHtmlEvent(a,d,f);c.fireEvent(b,a,e)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(b){e[b]=a(b,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(a,b){var d=b[0],f=b[1];e[a]=function(b){var e=c.createUIEvent(b.ownerDocument,a,d,f,1);c.fireEvent(b,a,e)}}),c||(e={},c={fixTarget:Ext.identityFn}),function(a){var d=this,f=e[d.type]||b,g=a?a.dom||a:d.getTarget();g=c.fixTarget(g),f(g,d)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(a,b){var c,d,e,f,g,h=[];for(b=b||document,"string"==typeof b&&(b=document.getElementById(b)),a=a.split(","),d=0,f=a.length;f>d;d++)if("string"==typeof a[d])if("@"==typeof a[d][0])c=b.getAttributeNode(a[d].substring(1)),h.push(c);else for(c=b.querySelectorAll(a[d]),e=0,g=c.length;g>e;e++)h.push(c[e]);return h},selectNode:function(a,b){return this.select(a,b)[0]},is:function(a,b){return"string"==typeof a&&(a=document.getElementById(a)),-1!==this.select(b).indexOf(a)}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function a(a,b,c){return b+"-"+c.toLowerCase()}var b=/([a-z])([A-Z])/g,c={};return function(d){return c[d]||(c[d]=d.replace(b,a))}}(),generateMarkup:function(a,b){var c,d,e,f,g,h=this,i=typeof a;if("string"==i||"number"==i)b.push(a);else if(Ext.isArray(a))for(f=0;f<a.length;f++)a[f]&&h.generateMarkup(a[f],b);else{e=a.tag||"div",b.push("<",e);for(c in a)a.hasOwnProperty(c)&&(d=a[c],h.confRe.test(c)||("object"==typeof d?(b.push(" ",c,'="'),h.generateStyles(d,b).push('"')):b.push(" ",h.attributeTransform[c]||c,'="',d,'"')));h.emptyTags.test(e)?b.push("/>"):(b.push(">"),(d=a.tpl)&&d.applyOut(a.tplData,b),(d=a.html)&&b.push(d),(d=a.cn||a.children)&&h.generateMarkup(d,b),g=h.closeTags,b.push(g[e]||(g[e]="</"+e+">")))}return b},generateStyles:function(a,b){var c,d=b||[];for(c in a)a.hasOwnProperty(c)&&d.push(this.decamelizeName(c),":",a[c],";");return b||d.join("")},markup:function(a){if("string"==typeof a)return a;var b=this.generateMarkup(a,[]);return b.join("")},applyStyles:function(a,b){if(b){var c,d=0;if(a=Ext.fly(a,"_applyStyles"),"function"==typeof b&&(b=b.call()),"string"==typeof b)for(b=Ext.util.Format.trim(b).split(this.styleSepRe),c=b.length;c>d;)a.setStyle(b[d++],b[d++]);else Ext.isObject(b)&&a.setStyle(b)}},insertHtml:function(a,b,c){var d,e,f,g,h={};return a=a.toLowerCase(),h.beforebegin=["BeforeBegin","previousSibling"],h.afterend=["AfterEnd","nextSibling"],e=b.ownerDocument.createRange(),d="setStart"+(this.endRe.test(a)?"After":"Before"),h[a]?(e[d](b),f=e.createContextualFragment(c),b.parentNode.insertBefore(f,"beforebegin"==a?b:b.nextSibling),b[("beforebegin"==a?"previous":"next")+"Sibling"]):(g=("afterbegin"==a?"first":"last")+"Child",b.firstChild?(e[d](b[g]),f=e.createContextualFragment(c),"afterbegin"==a?b.insertBefore(f,b.firstChild):b.appendChild(f)):b.innerHTML=c,b[g])},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",!0)},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.markup(b),c?Ext.get(a.firstChild):a.firstChild},doInsert:function(a,b,c,d){var e=this.insertHtml(d,Ext.getDom(a),this.markup(b));return c?Ext.get(e,!0):e}}),Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){return"number"==typeof a?a+(b||this.defaultUnit||"px"):""===a||"auto"==a||void 0===a||null===a?a||"":this.unitRe.test(a)?a:a||""},isAncestor:function(a,b){var c=!1;if(a=Ext.getDom(a),b=Ext.getDom(b),a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(;b=b.parentNode;)c=b==a||c}return c},parseBox:function(a){a=a||0;var b,c,d=typeof a;return"number"===d?{top:a,right:a,bottom:a,left:a}:"string"!==d?a:(b=a.split(" "),c=b.length,1==c?b[1]=b[2]=b[3]=b[0]:2==c?(b[2]=b[0],b[3]=b[1]):3==c&&(b[3]=b[1]),{top:parseFloat(b[0])||0,right:parseFloat(b[1])||0,bottom:parseFloat(b[2])||0,left:parseFloat(b[3])||0})
},unitizeBox:function(a,b){var c=this.addUnits,d=this.parseBox(a);return c(d.top,b)+" "+c(d.right,b)+" "+c(d.bottom,b)+" "+c(d.left,b)},camelReplaceFn:function(a,b){return b.charAt(1).toUpperCase()},normalize:function(a){return"float"==a&&(a=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(a){var b,c={},d=this.cssRe;if(a)for(d.lastIndex=0;b=d.exec(a);)c[b[1]]=b[2]||"";return c}}},function(){function a(a,b,c){return function(){a.selectionStart=b,a.selectionEnd=c}}var b=document,c=null,d="CSS1Compat"==b.compatMode;"activeElement"in b||!b.addEventListener||b.addEventListener("focus",function(a){a&&a.target&&(c=a.target==b?null:a.target)},!0),this.addInheritableStatics({getActiveElement:function(){var a;try{a=b.activeElement}catch(d){}return a=a||c,a||(a=c=document.body),a},getRightMarginFixCleaner:function(d){var e,f,g,h,i=Ext.supports,j=i.DisplayChangeInputSelectionBug,k=i.DisplayChangeTextAreaSelectionBug;return(j||k)&&(e=b.activeElement||c,f=e&&e.tagName,(k&&"TEXTAREA"==f||j&&"INPUT"==f&&"text"==e.type)&&Ext.dom.Element.isAncestor(d,e)&&(g=e.selectionStart,h=e.selectionEnd,Ext.isNumber(g)&&Ext.isNumber(h)))?a(e,g,h):Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(d?b.documentElement.scrollHeight:b.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(d?b.documentElement.scrollWidth:b.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE9m?b.documentElement.clientWidth:self.innerWidth:b.body.clientWidth},serializeForm:function(a){var b,c,d,e,f,g,h,i,j,k=a.elements||(document.forms[a]||Ext.getDom(a)).elements,l=!1,m=encodeURIComponent,n="",o=k.length;for(g=0;o>g;g++)if(b=k[g],c=b.name,d=b.type,e=b.options,!b.disabled&&c)if(/select-(one|multiple)/i.test(d))for(i=e.length,h=0;i>h;h++)j=e[h],j.selected&&(f=j.hasAttribute?j.hasAttribute("value"):j.getAttributeNode("value").specified,n+=Ext.String.format("{0}={1}&",m(c),m(f?j.value:j.text)));else/file|undefined|reset|button/i.test(d)||/radio|checkbox/i.test(d)&&!b.checked||"submit"==d&&l||(n+=m(c)+"="+m(b.value)+"&",l=/submit/i.test(d));return n.substr(0,n.length-1)}})}),Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(a,b){var c,d,e,f,g=this;if(a.nodeType||a.dom||"string"==typeof a)return a=Ext.getDom(a),g.dom.appendChild(a),b?a:Ext.get(a);if(a.length){for(c=Ext.fly(document.createDocumentFragment(),"_internal"),d=a.length,Ext.DomHelper.useDom=!0,e=0;d>e;e++)c.appendChild(a[e],b);return Ext.DomHelper.useDom=f,g.dom.appendChild(c.dom),b?c.dom:c}return g.createChild(a,null,b)},appendTo:function(a){return Ext.getDom(a).appendChild(this.dom),this},insertBefore:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a),this},insertAfter:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a.nextSibling),this},insertFirst:function(a,b){return a=a||{},a.nodeType||a.dom||"string"==typeof a?(a=Ext.getDom(a),this.dom.insertBefore(a,this.dom.firstChild),b?a:Ext.get(a)):this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,b,c){var d,e,f,g,h=this,i=Ext.core.DomHelper,j=i.useDom,k="after"==(b||"before").toLowerCase();if(Ext.isArray(a)){for(e=Ext.fly(document.createDocumentFragment(),"_internal"),f=a.length,i.useDom=!0,g=0;f>g;g++)d=e.appendChild(a[g],c);return i.useDom=j,h.dom.parentNode.insertBefore(e.dom,k?h.dom.nextSibling:h.dom),d}return a=a||{},a.nodeType||a.dom?(d=h.dom.parentNode.insertBefore(Ext.getDom(a),k?h.dom.nextSibling:h.dom),c||(d=Ext.get(d))):d=k&&!h.dom.nextSibling?i.append(h.dom.parentNode,a,!c):i[k?"insertAfter":"insertBefore"](h.dom,a,!c),d},replace:function(a){return a=Ext.get(a),this.insertBefore(a),a.remove(),this},replaceWith:function(a){var b=this;return a.nodeType||a.dom||"string"==typeof a?(a=Ext.get(a),b.dom.parentNode.insertBefore(a.dom,b.dom)):a=Ext.core.DomHelper.insertBefore(b.dom,a),delete Ext.cache[b.id],Ext.removeNode(b.dom),b.id=Ext.id(b.dom=a),Ext.dom.AbstractElement.addToCache(b.isFlyweight?new Ext.dom.AbstractElement(b.dom):b),b},createChild:function(a,b,c){return a=a||{tag:"div"},b?Ext.core.DomHelper.insertBefore(b,a,c!==!0):Ext.core.DomHelper.append(this.dom,a,c!==!0)},wrap:function(a,b,c){var d=Ext.core.DomHelper.insertBefore(this.dom,a||{tag:"div"},!0),e=d;return c&&(e=Ext.DomQuery.selectNode(c,d.dom)),e.appendChild(this.dom),b?d.dom:d},insertHtml:function(a,b,c){var d=Ext.core.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(d):d}}),Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var a=this,b=/\w/g,c=/\s+/,d=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,e=Ext.supports.ClassList,f="padding",g="margin",h="border",i="-left",j="-right",k="-top",l="-bottom",m="-width",n={l:h+i+m,r:h+j+m,t:h+k+m,b:h+l+m},o={l:f+i,r:f+j,t:f+k,b:f+l},p={l:g+i,r:g+j,t:g+k,b:g+l},q=new a.Fly;Ext.override(a,{styleHooks:{},addStyles:function(a,c){var d,e,f=0,g=(a||"").match(b),h=g.length,i=[];if(1==h)f=Math.abs(parseFloat(this.getStyle(c[g[0]]))||0);else if(h){for(d=0;h>d;d++)e=g[d],i.push(c[e]);for(i=this.getStyle(i),d=0;h>d;d++)e=g[d],f+=Math.abs(parseFloat(i[c[e]])||0)}return f},addCls:function(){var a=function(a){String(a).indexOf("undefined")>-1&&Ext.Logger.warn("called with an undefined className: "+a);var d,e,f,g,h,i=this,j=i.dom,k=i.trimRe,l=a;if("string"==typeof a&&(a=a.replace(k,"").split(c)),j&&a&&(g=a.length))if(j.className)if(d=j.classList){for(f=0;g>f;++f)h=a[f],h&&(d.contains(h)||(e?e.push(h):(e=j.className.replace(k,""),e=e?[e,h]:[h])));e&&(j.className=e.join(" "))}else b(l);else j.className=a.join(" ");return i},b=function(a){String(a).indexOf("undefined")>-1&&Ext.Logger.warn("called with an undefined className: '"+a+"'");var b,c=this,d=c.dom;return d&&a&&a.length&&(b=Ext.Element.mergeClsList(d.className,a),b.changed&&(d.className=b.join(" "))),c};return e?a:b}(),removeCls:function(a){var b,d,e,f=this,g=f.dom;return"string"==typeof a&&(a=a.replace(f.trimRe,"").split(c)),g&&g.className&&a&&(d=a.length)&&(b=g.classList,1===d&&b?a[0]&&b.remove(a[0]):(e=Ext.Element.removeCls(g.className,a),e.changed&&(g.className=e.join(" ")))),f},radioCls:function(a){var b,c,d,e=this.dom.parentNode.childNodes;for(a=Ext.isArray(a)?a:[a],c=0,d=e.length;d>c;c++)b=e[c],b&&1==b.nodeType&&q.attach(b).removeCls(a);return this.addCls(a)},toggleCls:function(){var a=function(a){var c,d=this,e=d.dom;return e&&(a=a.replace(d.trimRe,""),a&&(c=e.classList,c?c.toggle(a):b(a))),d},b=function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)};return e?a:b}(),hasCls:function(){var a=function(a){var c,d=this.dom,e=!1;return d&&a&&(c=d.classList,e=c?c.contains(a):b(a)),e},b=function(a){var b=this.dom;return b?a&&-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1};return e?a:b}(),replaceCls:function(a,b){return this.removeCls(a).addCls(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(b,c){var d,e,f,g,h,i,j,k=this,l=k.dom,m="string"!=typeof b,n=k.styleHooks,o=b,p=o,q=1;if(m&&(f={},o=p[0],j=0,!(q=p.length)))return f;if(!l||l.documentElement)return f||"";d=l.style,c?i=d:(i=l.ownerDocument.defaultView.getComputedStyle(l,null),i||(c=!0,i=d));do{if(g=n[o],g||(n[o]=g={name:a.normalize(o)}),g.get?h=g.get(l,k,c,i):(e=g.name,h=i[e]),!m)return h;f[o]=h,o=p[++j]}while(q>j);return f},getStyles:function(){var a,b=Ext.Array.slice(arguments),c=b.length;return c&&"boolean"==typeof b[c-1]&&(a=b.pop()),this.getStyle(b,a)},isTransparent:function(a){var b=this.getStyle(a);return b?d.test(b):!1},setStyle:function(b,c){var d,e=this,f=e.dom,g=e.styleHooks,h=f.style,i=b;if("string"==typeof i)d=g[i],d||(g[i]=d={name:a.normalize(i)}),c=null==c?"":c,d.set?d.set(f,c,e):h[d.name]=c,d.afterSet&&d.afterSet(f,c,e);else for(i in b)b.hasOwnProperty(i)&&(d=g[i],d||(g[i]=d={name:a.normalize(i)}),c=b[i],c=null==c?"":c,d.set?d.set(f,c,e):h[d.name]=c,d.afterSet&&d.afterSet(f,c,e));return e},getHeight:function(a){var b=this.dom,c=a?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return c>0?c:0},getWidth:function(a){var b=this.dom,c=a?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return c>0?c:0},setWidth:function(b){var c=this;return c.dom.style.width=a.addUnits(b),c},setHeight:function(b){var c=this;return c.dom.style.height=a.addUnits(b),c},getBorderWidth:function(a){return this.addStyles(a,n)},getPadding:function(a){return this.addStyles(a,o)},margins:p,applyStyles:function(b){if(b){var c,d,e=this.dom;if("function"==typeof b&&(b=b.call()),"string"==typeof b)for(b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/),c=0,d=b.length;d>c;)e.style[a.normalize(b[c++])]=b[c++];else"object"==typeof b&&this.setStyle(b)}},setSize:function(b,c){var d=this,e=d.dom.style;return Ext.isObject(b)&&(c=b.height,b=b.width),e.width=a.addUnits(b),e.height=a.addUnits(c),d},getViewSize:function(){var b=document,c=this.dom;return c==b||c==b.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?b.clientWidth-this.getPadding("lr"):b.offsetWidth),height:Math.max(0,a?b.clientHeight-this.getPadding("tb"):b.offsetHeight)}},repaint:function(){var a=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){q.attach(a).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(a){var b,c,d,e=this,f={t:"top",l:"left",r:"right",b:"bottom"};if(a)return e.addStyles(a,e.margins);d=[];for(b in e.margins)e.margins.hasOwnProperty(b)&&d.push(e.margins[b]);if(c=e.getStyle(d),c&&"object"==typeof c)for(b in e.margins)e.margins.hasOwnProperty(b)&&(c[f[b]]=parseFloat(c[e.margins[b]])||0);return c},mask:function(a,b,c){var d,e,f=this,g=f.dom,h=(f.$cache||f.getCache()).data,i=h.mask,j="",k=Ext.baseCSSPrefix;f.addCls(k+"masked"),"static"==f.getStyle("position")&&f.addCls(k+"masked-relative"),i&&i.remove(),j=b&&"string"==typeof b?" "+b:" "+k+"mask-gray",d=f.createChild({cls:k+"mask"+(c!==!1?"":" "+k+"mask-gray"),html:a?'<div class="'+(b||k+"mask-message")+'">'+a+"</div>":""}),e=f.getSize(),h.mask=d,g===document.body&&(e.height=window.innerHeight,f.orientationHandler&&Ext.EventManager.unOrientationChange(f.orientationHandler,f),f.orientationHandler=function(){e=f.getSize(),e.height=window.innerHeight,d.setSize(e)},Ext.EventManager.onOrientationChange(f.orientationHandler,f)),d.setSize(e),Ext.is.iPad&&Ext.repaint()},unmask:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.mask,d=Ext.baseCSSPrefix;c&&(c.remove(),delete b.mask),a.removeCls([d+"masked",d+"masked-relative"]),a.dom===document.body&&(Ext.EventManager.unOrientationChange(a.orientationHandler,a),delete a.orientationHandler)}}),Ext.onReady(function(){function b(a,b,c,e){var f=e[this.name]||"";return d.test(f)?"transparent":f}function c(a,b,c,d){var e,f,g=d.marginRight;return"0px"!=g&&(e=a.style,f=e.display,e.display="inline-block",g=(c?d:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight,e.display=f),g}function e(b,c,d,e){var f,g,h,i=e.marginRight;return"0px"!=i&&(f=b.style,g=a.getRightMarginFixCleaner(b),h=f.display,f.display="inline-block",i=(d?e:b.ownerDocument.defaultView.getComputedStyle(b,"")).marginRight,f.display=h,g()),i}var f,g,h,i,j,k=Ext.supports;if(f=a.prototype.styleHooks,k.init&&k.init(),k.RightMargin||(f.marginRight=f["margin-right"]={name:"marginRight",get:k.DisplayChangeInputSelectionBug||k.DisplayChangeTextAreaSelectionBug?e:c}),!k.TransparentColor)for(g=["background-color","border-color","color","outline-color"],h=g.length;h--;)i=g[h],j=a.normalize(i),f[i]=f[j]={name:j,get:b}})}),Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(a,b,c){var d,e=this.dom,f=document.documentElement,g=0;for(b=b||50,isNaN(b)&&(d=Ext.getDom(b),b=Number.MAX_VALUE);e&&1==e.nodeType&&b>g&&e!=f&&e!=d;){if(Ext.DomQuery.is(e,a))return c?Ext.get(e):e;g++,e=e.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b,c){return this.findParentNode(a,b,!c)},select:function(a,b){return Ext.dom.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var c,d,e=this;return d=Ext.id(e.dom),d=Ext.escapeId(d),c=Ext.DomQuery.selectNode("#"+d+" > "+a,e.dom),b?c:Ext.get(c)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){if(!this.dom)return null;for(var e=this.dom[b];e;){if(1==e.nodeType&&(!c||Ext.DomQuery.is(e,c)))return d?e:Ext.get(e);e=e[a]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}}),Ext.define("Ext.dom.AbstractElement",{requires:["Ext.EventManager","Ext.dom.AbstractElement_static","Ext.dom.AbstractElement_insertion","Ext.dom.AbstractElement_style","Ext.dom.AbstractElement_traversal"],trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(a){var b,c,d,e,f,g=this,h=window.document,i=Ext.dom.Element;return a?(a.isFly&&(a=a.dom),"string"==typeof a?a==Ext.windowId?i.get(window):a==Ext.documentId?i.get(h):(b=Ext.cache[a],b&&b.skipGarbageCollection?d=b.el:(e=h.getElementById(a))?d=b&&b.el?Ext.updateCacheEntry(b,e).el:new i(e,!!b):null):a.tagName?((f=a.id)||(f=Ext.id(a)),b=Ext.cache[f],d=b&&b.el?Ext.updateCacheEntry(b,a).el:new i(a,!!b)):a instanceof g?(a!=g.docEl&&a!=g.winEl&&(f=a.id,b=Ext.cache[f],b&&Ext.updateCacheEntry(b,h.getElementById(f)||a.dom)),a):a.isComposite?a:Ext.isArray(a)?g.select(a):a===h?(g.docEl||(c=g.docEl=Ext.Object.chain(i.prototype),c.dom=h,c.el=c,c.id=Ext.id(h),g.addToCache(c)),g.docEl):a===window?(g.winEl||(g.winEl=Ext.Object.chain(i.prototype),g.winEl.dom=window,g.winEl.id=Ext.id(window),g.addToCache(g.winEl)),g.winEl):null):null},addToCache:function(a,b){return a&&Ext.addCacheEntry(b,a),a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,b,c,d,e,f,g={},h=[],i=!1,j=this.trimRe,k=this.whitespaceRe;for(b=0,c=arguments.length;c>b;b++)if(a=arguments[b],Ext.isString(a)&&(a=a.replace(j,"").split(k)),a)for(d=0,e=a.length;e>d;d++)f=a[d],g[f]||(b&&(i=!0),g[f]=!0);for(f in g)h.push(f);return h.changed=i,h},removeCls:function(a,b){var c,d,e,f={},g=[],h=!1,i=this.whitespaceRe;if(a)for(Ext.isString(a)&&(a=a.replace(this.trimRe,"").split(i)),c=0,d=a.length;d>c;c++)f[a[c]]=!0;if(b)for(Ext.isString(b)&&(b=b.split(i)),c=0,d=b.length;d>c;c++)e=b[c],f[e]&&(h=!0,delete f[e]);for(e in f)g.push(e);return g.changed=h,g},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(a,b){var c,d=this,e="string"==typeof a?document.getElementById(a):a;return d.el=d,e?(c=e.id,!b&&c&&Ext.cache[c]?Ext.cache[c].el:(d.dom=e,d.id=c||Ext.id(e),void d.self.addToCache(d))):null},set:function(a,b){var c,d,e=this.dom;for(c in a)a.hasOwnProperty(c)&&(d=a[c],"style"==c?this.applyStyles(d):"cls"==c?e.className=d:b!==!1?void 0===d?e.removeAttribute(c):e.setAttribute(c,d):e[c]=d);return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var a=this,b=a.dom;a.isAnimate&&a.stopAnimation(),b&&(Ext.removeNode(b),delete a.dom)},contains:function(a){if(!a)return!1;var b=this,c=a.dom||a;return c===b.dom||Ext.dom.AbstractElement.isAncestor(b.dom,c)},getAttribute:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},update:function(a){return this.dom&&(this.dom.innerHTML=a),this},setHTML:function(a){return this.dom&&(this.dom.innerHTML=a),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(a){var b=this,c=b.self,d=b.getVisibilityMode(),e=Ext.baseCSSPrefix;switch(d){case c.VISIBILITY:b.removeCls([e+"hidden-display",e+"hidden-offsets"]),b[a?"removeCls":"addCls"](e+"hidden-visibility");break;case c.DISPLAY:b.removeCls([e+"hidden-visibility",e+"hidden-offsets"]),b[a?"removeCls":"addCls"](e+"hidden-display");break;case c.OFFSETS:b.removeCls([e+"hidden-visibility",e+"hidden-display"]),b[a?"removeCls":"addCls"](e+"hidden-offsets")}return b},getVisibilityMode:function(){var a=(this.$cache||this.getCache()).data,b=a.visibilityMode;return void 0===b&&(a.visibilityMode=b=this.self.DISPLAY),b},setVisibilityMode:function(a){return(this.$cache||this.getCache()).data.visibilityMode=a,this},getCache:function(){var a=this,b=a.dom.id||Ext.id(a.dom);return a.$cache=Ext.cache[b]||Ext.addCacheEntry(b,null,a.dom),a.$cache}},function(){var a=this;Ext.getDetachedBody=function(){var b=a.detachedBodyEl;return b||(b=document.createElement("div"),a.detachedBodyEl=b=new a.Fly(b),b.isDetachedBody=!0),b},Ext.getElementById=function(b){var c,d=document.getElementById(b);return!d&&(c=a.detachedBodyEl)&&(d=c.dom.querySelector("#"+Ext.escapeId(b))),d},Ext.get=function(a){return Ext.dom.Element.get(a)},this.addStatics({Fly:new Ext.Class({extend:a,isFly:!0,constructor:function(a){this.dom=a,this.el=this},attach:function(a){return this.dom=a,this.$cache=a.id?Ext.cache[a.id]:null,this}}),_flyweights:{},fly:function(b,c){var d=null,e=a._flyweights;return c=c||"_global",b=Ext.getDom(b),b&&(d=e[c]||(e[c]=new a.Fly),d.dom=b,d.$cache=b.id?Ext.cache[b.id]:null),d}}),Ext.fly=function(){return a.fly.apply(a,arguments)},function(a){a.destroy=a.remove,a.getById=document.querySelector?function(a,b){var c=document.getElementById(a)||this.dom.querySelector("#"+Ext.escapeId(a));return b?c:c?Ext.get(c):null}:function(a,b){var c=document.getElementById(a);return b?c:c?Ext.get(c):null}}(this.prototype)}),Ext.define("Ext.dom.Helper",function(){var a="afterbegin",b="afterend",c="beforebegin",d="beforeend",e="<table>",f="</table>",g=e+"<tbody>",h="</tbody>"+f,i=g+"<tr>",j="</tr>"+h,k=document.createElement("div"),l=["BeforeBegin","previousSibling"],m=["AfterEnd","nextSibling"],n={beforebegin:l,afterend:m},o={beforebegin:l,afterend:m,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{extend:"Ext.dom.AbstractHelper",requires:["Ext.dom.AbstractElement"],tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(a,b){var c,d,e,f,g,h,i,j=document;if(Ext.isArray(a))for(c=j.createDocumentFragment(),h=0,i=a.length;i>h;h++)this.createDom(a[h],c);else if("string"==typeof a)c=j.createTextNode(a);else{c=j.createElement(a.tag||"div"),d=!!c.setAttribute;for(e in a)this.confRe.test(e)||(f=a[e],"cls"==e?c.className=f:d?c.setAttribute(e,f):c[e]=f);Ext.DomHelper.applyStyles(c,a.style),(g=a.children||a.cn)?this.createDom(g,c):a.html&&(c.innerHTML=a.html)}return b&&b.appendChild(c),c},ieTable:function(a,b,c,d){k.innerHTML=[b,c,d].join("");for(var e,f=-1,g=k;++f<a;)g=g.firstChild;if(e=g.nextSibling)for(e=g,g=document.createDocumentFragment();e;)nx=e.nextSibling,g.appendChild(e),e=nx;return g},insertIntoTable:function(k,l,m,n){var o,p,q=l==c,r=l==a,s=l==d,t=l==b;return"td"==k&&(r||s)||!this.tableElRe.test(k)&&(q||t)?null:(p=q?m:t?m.nextSibling:r?m.firstChild:null,(q||t)&&(m=m.parentNode),o="td"==k||"tr"==k&&(s||r)?this.ieTable(4,i,n,j):("tbody"==k||"thead"==k)&&(s||r)||"tr"==k&&(q||t)?this.ieTable(3,g,n,h):this.ieTable(2,e,n,f),m.insertBefore(o,p),o)},createContextualFragment:function(a){var b,c,d=document.createDocumentFragment();for(k.innerHTML=a,c=k.childNodes,b=c.length;b--;)d.appendChild(c[0]);return d},applyStyles:function(a,b){b&&("function"==typeof b&&(b=b.call()),"string"==typeof b&&(b=Ext.dom.Element.parseStyles(b)),"object"==typeof b&&Ext.fly(a,"_applyStyles").setStyle(b))},createHtml:function(a){return this.markup(a)},doInsert:function(a,b,c,d,e,f){a=a.dom||Ext.getDom(a);var g;return this.useDom?(g=this.createDom(b,null),f?a.appendChild(g):("firstChild"==e?a:a.parentNode).insertBefore(g,a[e]||a)):g=this.insertHtml(d,a,this.markup(b)),c?Ext.get(g,!0):g},overwrite:function(a,b,c){var d;if(a=Ext.getDom(a),b=this.markup(b),Ext.isIE&&this.tableRe.test(a.tagName)){for(;a.firstChild;)a.removeChild(a.firstChild);return b?(d=this.insertHtml("afterbegin",a,b),c?Ext.get(d):d):null}return a.innerHTML=b,c?Ext.get(a.firstChild):a.firstChild},insertHtml:function(b,d,e){var f,g,h,i,j;return b=b.toLowerCase(),d.insertAdjacentHTML?Ext.isIE&&this.tableRe.test(d.tagName)&&(j=this.insertIntoTable(d.tagName.toLowerCase(),b,d,e))?j:(f=o[b])?(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){d.insertAdjacentHTML(f[0],e)}):d.insertAdjacentHTML(f[0],e),d[f[1]]):void 0:(3===d.nodeType&&(b="afterbegin"===b?"beforebegin":b,b="beforeend"===b?"afterend":b),g=Ext.supports.CreateContextualFragment?d.ownerDocument.createRange():void 0,i="setStart"+(this.endRe.test(b)?"After":"Before"),n[b]?(g?(g[i](d),j=g.createContextualFragment(e)):j=this.createContextualFragment(e),d.parentNode.insertBefore(j,b==c?d:d.nextSibling),d[(b==c?"previous":"next")+"Sibling"]):(h=(b==a?"first":"last")+"Child",d.firstChild?(g?(g[i](d[h]),j=g.createContextualFragment(e)):j=this.createContextualFragment(e),b==a?d.insertBefore(j,d.firstChild):d.appendChild(j)):d.innerHTML=e,d[h]))},createTemplate:function(a){var b=this.markup(a);return new Ext.Template(b)}}}(),function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this}),Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(a,b){return a=Ext.getDom(a),new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b,c=this,d=arguments,e=[],f=0,g=d.length;if(c.initialConfig={},1===g&&Ext.isArray(a)&&(d=a,g=d.length),g>1)for(;g>f;f++)b=d[f],"object"==typeof b?(Ext.apply(c.initialConfig,b),Ext.apply(c,b)):e.push(b);else e.push(a);c.html=e.join(""),c.compiled&&c.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){function b(b,c,d,h){return d&&e?(h=h?[a[c]].concat(Ext.functionFactory("return ["+h+"];")()):[a[c]],"this."==d.substr(0,5)?g[d.substr(5)].apply(g,h):f[d].apply(f,h)):void 0!==a[c]?a[c]:""}var c,d=this,e=d.disableFormats!==!0,f=Ext.util.Format,g=d;return d.compiled?d.compiled(a).join(""):c=d.html.replace(d.re,b)},applyOut:function(a,b){var c=this;return c.compiled?b.push.apply(b,c.compiled(a)):b.push(c.apply(a)),b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){var c=this;return c.html=a,c.compiled=null,b?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(a,b,c,d){return c&&useFormat?(d=d?","+d:"",c="this."!=c.substr(0,5)?"fm."+c+"(":"this."+c.substr(5)+"("):(d="",c="(values['"+b+"'] == undefined ? '' : "),"',"+c+"values['"+b+"']"+d+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){var e=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(e):e},overwrite:function(a,b,c){var d=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(d):d}}),Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=a.length,p={elseif:"elif"},q=n.topRe,r=n.actionsRe;for(n.level=0,n.stack=c=[],b=0;o>b;b=k){if(q.lastIndex=b,e=q.exec(a),!e){n.doText(a.substring(b,o));break}if(j=e.index,k=q.lastIndex,j>b&&n.doText(a.substring(b,j)),e[1])k=a.indexOf("%}",j+2),n.doEval(a.substring(j+2,k)),k+=2;else if(e[2])k=a.indexOf("]}",j+2),n.doExpr(a.substring(j+2,k)),k+=2;else if(e[3])n.doTag(e[3]);else if(e[4]){for(l=null;null!==(i=r.exec(e[4]));)d=i[2]||i[3],d&&(d=Ext.String.htmlDecode(d),f=i[1],f=p[f]||f,l=l||{},g=l[f],"string"==typeof g?l[f]=[g,d]:g?l[f].push(d):l[f]=d);l?l["if"]?(n.doIf(l["if"],l),c.push({type:"if"})):l["switch"]?(n.doSwitch(l["switch"],l),c.push({type:"switch"})):l["case"]?n.doCase(l["case"],l):l.elif?n.doElseIf(l.elif,l):l["for"]?(++n.level,(m=n.propRe.exec(e[4]))&&(l.propName=m[1]||m[2]),n.doFor(l["for"],l),c.push({type:"for",actions:l})):l.foreach?(++n.level,(m=n.propRe.exec(e[4]))&&(l.propName=m[1]||m[2]),n.doForEach(l.foreach,l),c.push({type:"foreach",actions:l})):l.exec&&(n.doExec(l.exec,l),c.push({type:"exec",actions:l})):n.elseRe.test(e[4])?n.doElse():n.defaultRe.test(e[4])?n.doDefault():(n.doTpl(),c.push({type:"tpl"}))}else 5===e[0].length?c.push({type:"tpl"}):(h=c.pop(),n.doEnd(h.type,h.actions),("for"==h.type||"foreach"==h.type)&&--n.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){var b=this,c=b.generate(a);return b.useEval?b.evalTpl(c):new Function("Ext",c)(Ext)},generate:function(a){var b,c=this,d="var fm=Ext.util.Format,ts=Object.prototype.toString;";return c.maxLevel=0,c.body=["var c0=values, a0="+c.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],c.definitions?"string"==typeof c.definitions?c.definitions=[c.definitions,d]:c.definitions.push(d):c.definitions=[d],c.switches=[],c.parse(a),c.definitions.push((c.useEval?"$=":"return")+" function ("+c.fnArgs+") {",c.body.join(""),"}"),b=c.definitions.join("\n"),c.definitions.length=c.body.length=c.switches.length=0,delete c.definitions,delete c.body,delete c.switches,b},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n"),b.useIndex?c.push("out[out.length]='",a,"'\n"):c.push("out.push('",a,"')\n")},doExpr:function(a){var b=this.body;b.push("if ((v="+a+") != null) out"),b.push(this.useIndex?"[out.length]=v+''\n":".push(v+'')\n")},doTag:function(a){var b=this.parseTag(a);b?this.doExpr(b):this.doText("{"+a+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){var c=this;"."===a?c.body.push("if (values) {\n"):c.propNameRe.test(a)?c.body.push("if (",c.parseTag(a),") {\n"):c.body.push("if (",c.addFn(a),c.callFn,") {\n"),b.exec&&c.doExec(b.exec)},doElseIf:function(a,b){var c=this;"."===a?c.body.push("else if (values) {\n"):c.propNameRe.test(a)?c.body.push("} else if (",c.parseTag(a),") {\n"):c.body.push("} else if (",c.addFn(a),c.callFn,") {\n"),b.exec&&c.doExec(b.exec)},doSwitch:function(a){var b=this;"."===a?b.body.push("switch (values) {\n"):b.propNameRe.test(a)?b.body.push("switch (",b.parseTag(a),") {\n"):b.body.push("switch (",b.addFn(a),b.callFn,") {\n"),b.switches.push(0)},doCase:function(a){var b,c,d=this,e=Ext.isArray(a)?a:[a],f=d.switches.length-1;for(d.switches[f]?d.body.push("break;\n"):d.switches[f]++,c=0,f=e.length;f>c;++c)b=d.intRe.exec(e[c]),e[c]=b?b[1]:"'"+e[c].replace(d.aposRe,"\\'")+"'";d.body.push("case ",e.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;a.switches[b]?a.body.push("break;\n"):a.switches[b]++,a.body.push("default:\n")},doEnd:function(a,b){var c=this,d=c.level-1;"for"==a||"foreach"==a?(b.exec&&c.doExec(b.exec),c.body.push("}\n"),c.body.push("parent=p",d,";values=r",d+1,";xcount=n"+d+";xindex=i",d,"+1;xkey=k",d,";\n")):("if"==a||"switch"==a)&&c.body.push("}\n")},doFor:function(a,b){var c,d,e=this,f=e.level,g=f-1;c="."===a?"values":e.propNameRe.test(a)?e.parseTag(a):e.addFn(a)+e.callFn,e.maxLevel<f&&(e.maxLevel=f,e.body.push("var ")),d="."==a?"c"+f:"a"+g+"?c"+g+"[i"+g+"]:c"+g,e.body.push("i",f,"=0,n",f,"=0,c",f,"=",c,",a",f,"=",e.createArrayTest(f),",r",f,"=values,p",f,",k",f,";\n","p",f,"=parent=",d,"\n","if (c",f,"){if(a",f,"){n",f,"=c",f,".length;}else if (c",f,".isMixedCollection){c",f,"=c",f,".items;n",f,"=c",f,".length;}else if(c",f,".isStore){c",f,"=c",f,".data.items;n",f,"=c",f,".length;}else{c",f,"=[c",f,"];n",f,"=1;}}\n","for (xcount=n",f,";i",f,"<n"+f+";++i",f,"){\n","values=c",f,"[i",f,"]"),b.propName&&e.body.push(".",b.propName),e.body.push("\n","xindex=i",f,"+1\n"),b.between&&e.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},doForEach:function(a,b){var c,d,e=this,f=e.level,g=f-1;c="."===a?"values":e.propNameRe.test(a)?e.parseTag(a):e.addFn(a)+e.callFn,e.maxLevel<f&&(e.maxLevel=f,e.body.push("var ")),d="."==a?"c"+f:"a"+g+"?c"+g+"[i"+g+"]:c"+g,e.body.push("i",f,"=-1,n",f,"=0,c",f,"=",c,",a",f,"=",e.createArrayTest(f),",r",f,"=values,p",f,",k",f,";\n","p",f,"=parent=",d,"\n","for(k",f," in c",f,"){\n","xindex=++i",f,"+1;\n","xkey=k",f,";\n","values=c",f,"[k",f,"];"),b.propName&&e.body.push(".",b.propName),b.between&&e.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a){var b=this,c="f"+b.definitions.length;b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {","}","}"),b.body.push(c+b.callFn+"\n")},addFn:function(a){var b=this,c="f"+b.definitions.length;return"."===a?b.definitions.push("function "+c+"("+b.fnArgs+") {"," return values","}"):".."===a?b.definitions.push("function "+c+"("+b.fnArgs+") {"," return parent","}"):b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {","}","}"),c},parseTag:function(a){var b,c,d,e,f,g=this,h=g.tagRe.exec(a);return h?(b=h[1],c=h[2],d=h[3],e=h[4],"."==b?(g.validTypes||(g.definitions.push("var validTypes={string:1,number:1,boolean:1};"),g.validTypes=!0),f='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):f="#"==b?"xindex":"$"==b?"xkey":"parent."==b.substr(0,7)?b:isNaN(b)&&-1==b.indexOf("-")&&-1!=b.indexOf(".")?"values."+b:"values['"+b+"']",e&&(f="("+f+e+")"),c&&g.useFormat?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":c+="(",c+f+d+")"):f):null
},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey",a.callFn=".call(this,"+a.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d,e=this;e.fn||(d=new Ext.XTemplateCompiler({useFormat:e.disableFormats!==!0,definitions:e.definitions}),e.fn=d.compile(e.html));try{e.fn(b,a,c||e.emptyObj,1,1)}catch(f){}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c,d=a[b];if(d&&!d.isTemplate){if(d=Ext.ClassManager.dynInstantiate("Ext.XTemplate",d),a.hasOwnProperty(b))c=a;else for(c=a.self.prototype;c&&!c.hasOwnProperty(b);c=c.superclass);c[b]=d,d.owner=c}return d||null}}}),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function children(a){for(var b,c=a.firstChild,d=-1;c;)b=c.nextSibling,3!=c.nodeType||nonSpace.test(c.nodeValue)?c.nodeIndex=++d:a.removeChild(c),c=b;return this}function attrValue(a,b){return a.tagName||"undefined"==typeof a.length||(a=a[0]),a?"for"==b?a.htmlFor:"class"==b||"className"==b?a.className:a.getAttribute(b)||a[b]:null}function getNodes(a,b,c){var d,e,f,g,h,i,j,k,l,m=[],n=-1;if(!a)return m;if(c=c.replace("|",":")||"*","undefined"!=typeof a.getElementsByTagName&&(a=[a]),b){if("/"==b||">"==b)for(j=c.toUpperCase(),e=0;f=a[e];e++)for(i=f.childNodes,g=0;l=i[g];g++)(l.nodeName==j||l.nodeName==c||"*"==c)&&(m[++n]=l);else if("+"==b)for(j=c.toUpperCase(),e=0;k=a[e];e++){for(;(k=k.nextSibling)&&1!=k.nodeType;);!k||k.nodeName!=j&&k.nodeName!=c&&"*"!=c||(m[++n]=k)}else if("~"==b)for(j=c.toUpperCase(),e=0;k=a[e];e++)for(;k=k.nextSibling;)(k.nodeName==j||k.nodeName==c||"*"==c)&&(m[++n]=k)}else if(c=unescapeCssSelector(c),!supportsColonNsSeparator&&DQ.isXml(a[0])&&-1!==c.indexOf(":"))for(e=0;f=a[e];e++)for(d=f.getElementsByTagName(c.split(":").pop()),g=0;h=d[g];g++)h.tagName===c&&(m[++n]=h);else for(e=0;f=a[e];e++)for(d=f.getElementsByTagName(c),g=0;h=d[g];g++)m[++n]=h;return m}function concat(a,b){return a.push.apply(a,b),a}function byTag(a,b){if((a.tagName||a===doc)&&(a=[a]),!b)return a;var c,d,e=[],f=-1;for(b=b.toLowerCase(),c=0;d=a[c];c++)1==d.nodeType&&d.tagName.toLowerCase()==b&&(e[++f]=d);return e}function byId(a,b){if(b=unescapeCssSelector(b),(a.tagName||a===doc)&&(a=[a]),!b)return a;var c,d,e=[],f=-1;for(c=0;d=a[c];c++)if(d&&d.id==b)return e[++f]=d,e;return e}function byAttribute(a,b,c,d,e){var f,g,h,i,j,k=[],l=-1,m="{"==e,n=DQ.operators[d];for(c=unescapeCssSelector(c),i=0;j=a[i];i++)1===j.nodeType&&(h||(g=DQ.isXml(j),h=!0),f=g?j.getAttribute(b):m?DQ.getStyle(j,b):"class"==b||"className"==b?j.className:"for"==b?j.htmlFor:"href"==b?j.getAttribute("href",2):j.getAttribute(b),(n&&n(f,c)||!n&&f)&&(k[++l]=j));return k}function byPseudo(a,b,c){return c=unescapeCssSelector(c),DQ.pseudos[b](a,c)}function nodupIEXml(a){var b,c,d,e,f=++key;for(a[0].setAttribute("_nodup",f),b=[a[0]],c=1,d=a.length;d>c;c++)e=a[c],!e.getAttribute("_nodup")!=f&&(e.setAttribute("_nodup",f),b[b.length]=e);for(c=0,d=a.length;d>c;c++)a[c].removeAttribute("_nodup");return b}function nodup(a){if(!a)return[];var b,c,d,e,f,g=a.length,h=a,i=-1;if(!g||"undefined"!=typeof a.nodeType||1==g)return a;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return nodupIEXml(a);for(e=++key,a[0]._nodup=e,c=1;b=a[c];c++){if(b._nodup==e){for(h=[],f=0;c>f;f++)h[++i]=a[f];for(f=c+1;d=a[f];f++)d._nodup!=e&&(d._nodup=e,h[++i]=d);return h}b._nodup=e}return h}function quickDiffIEXml(a,b){var c,d,e=++key,f=[];for(c=0,d=a.length;d>c;c++)a[c].setAttribute("_qdiff",e);for(c=0,d=b.length;d>c;c++)b[c].getAttribute("_qdiff")!=e&&(f[f.length]=b[c]);for(c=0,d=a.length;d>c;c++)a[c].removeAttribute("_qdiff");return f}function quickDiff(a,b){var c,d,e=a.length,f=++key,g=[];if(!e)return b;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return quickDiffIEXml(a,b);for(c=0;e>c;c++)a[c]._qdiff=f;for(c=0,d=b.length;d>c;c++)b[c]._qdiff!=f&&(g[g.length]=b[c]);return g}function quickId(a,b,c,d){if(a==c){d=unescapeCssSelector(d);var e=c.ownerDocument||c;return e.getElementById(d)}return a=getNodes(a,b,"*"),byId(a,d)}var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var a=doc.createElement("div");return a.innerHTML="<!-- -->text<!-- -->",a.children&&0===a.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var a,b='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?a=(new DOMParser).parseFromString(b,"application/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(b)),!!a.getElementsByTagName("a:b").length}(),longHexToChar=function(a,b){return String.fromCharCode(parseInt(b,16))},shortToLongHex=function(a,b){for(;b.length<6;)b="0"+b;return"\\"+b},charToLongHex=function(a,b){return num=b.charCodeAt(0).toString(16),1===num.length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(a){return hasEscapes?a.replace(longHex,longHexToChar):a},setupEscapes=function(a){return hasEscapes=a.indexOf("\\")>-1,hasEscapes&&(a=a.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),a};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(a,b){return a.children[b]}:function(a,b){for(var c=0,d=a.firstChild;d;){if(1==d.nodeType&&++c==b)return d;d=d.nextSibling}return null},next=useElementPointer?function(a){return a.nextElementSibling}:function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return a},prev=useElementPointer?function(a){return a.previousElementSibling}:function(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a},byClassName=useClassList?function(a,b){if(b=unescapeCssSelector(b),!b)return a;var c,d,e,f=[],g=-1;for(c=0;d=a[c];c++)e=d.classList,e?e.contains(b)&&(f[++g]=d):-1!==(" "+d.className+" ").indexOf(b)&&(f[++g]=d);return f}:function(a,b){if(b=unescapeCssSelector(b),!b)return a;var c,d,e=[],f=-1;for(c=0;d=a[c];c++)-1!==(" "+d.className+" ").indexOf(b)&&(e[++f]=d);return e},DQ={getStyle:function(a,b){return Ext.fly(a,"_DomQuery").getStyle(b)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?(fn[fn.length]="#"==tokenMatch[1]?'n = quickId(n, mode, root, "'+tokenMatch[2]+'");':'n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&(fn[fn.length]="#"==tokenMatch[1]?'n = byId(n, "'+tokenMatch[2]+'");':'n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;matchersLn>j;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(a,b){return m[b]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(a,b,c){b=b||doc,"string"==typeof b&&(b=doc.getElementById(b));var d,e,f,g,h=a.split(","),i=[];for(d=0,e=h.length;e>d;d++)f=h[d].replace(trimRe,""),cache[f]?setupEscapes(f):(cache[f]=DQ.compile(f,c),cache[f]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:f+" is not a valid selector"})),g=cache[f](b),g&&g!==doc&&(i=i.concat(g));return h.length>1?nodup(i):i},isXml:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1},select:doc.querySelectorAll?function(a,b,c,d){if(b=b||doc,!DQ.isXml(b))try{return b.parentNode&&9!==b.nodeType&&-1===a.indexOf(",")&&!startIdRe.test(a)&&(a="#"+Ext.escapeId(Ext.id(b))+" "+a,b=b.parentNode),d?[b.querySelector(a)]:Ext.Array.toArray(b.querySelectorAll(a))}catch(e){}return DQ.jsSelect.call(this,a,b,c)}:function(a,b,c){return DQ.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,!0)[0]},selectValue:function(a,b,c){a=a.replace(trimRe,""),valueCache[a]?setupEscapes(a):valueCache[a]=DQ.compile(a,"select");var d,e=valueCache[a](b);return e=e[0]?e[0]:e,"function"==typeof e.normalize&&e.normalize(),d=e&&e.firstChild?e.firstChild.nodeValue:null,null===d||void 0===d||""===d?c:d},selectNumber:function(a,b,c){var d=DQ.selectValue(a,b,c||0);return parseFloat(d)},is:function(a,b){"string"==typeof a&&(a=doc.getElementById(a));var c=Ext.isArray(a),d=DQ.filter(c?a:[a],b);return c?d.length==a.length:d.length>0},filter:function(a,b,c){b=b.replace(trimRe,""),simpleCache[b]?setupEscapes(b):simpleCache[b]=DQ.compile(b,"simple");var d=simpleCache[b](a);return c?quickDiff(d,a):d},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&-1!==a.indexOf(b)},"%=":function(a,b){return a%b===0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}},pseudos:{"first-child":function(a){var b,c,d,e=[],f=-1;for(c=0;d=b=a[c];c++){for(;(b=b.previousSibling)&&1!=b.nodeType;);b||(e[++f]=d)}return e},"last-child":function(a){var b,c,d,e=[],f=-1;for(c=0;d=b=a[c];c++){for(;(b=b.nextSibling)&&1!=b.nodeType;);b||(e[++f]=d)}return e},"nth-child":function(a,b){var c,d,e,f,g,h=[],i=-1,j=nthRe.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!nthRe2.test(b)&&"n+"+b||b),k=(j[1]||1)-0,l=j[2]-0;for(c=0;d=a[c];c++){if(g=d.parentNode,batch!=g._batch){for(e=0,f=g.firstChild;f;f=f.nextSibling)1==f.nodeType&&(f.nodeIndex=++e);g._batch=batch}1==k?(0===l||d.nodeIndex==l)&&(h[++i]=d):(d.nodeIndex+l)%k===0&&(h[++i]=d)}return h},"only-child":function(a){var b,c,d=[],e=-1;for(b=0;c=a[b];b++)prev(c)||next(c)||(d[++e]=c);return d},empty:function(a){var b,c,d,e,f,g,h=[],i=-1;for(b=0;c=a[b];b++){for(d=c.childNodes,e=0,g=!0;f=d[e];)if(++e,1==f.nodeType||3==f.nodeType){g=!1;break}g&&(h[++i]=c)}return h},contains:function(a,b){var c,d,e=[],f=-1;for(c=0;d=a[c];c++)-1!=(d.textContent||d.innerText||d.text||"").indexOf(b)&&(e[++f]=d);return e},nodeValue:function(a,b){var c,d,e=[],f=-1;for(c=0;d=a[c];c++)d.firstChild&&d.firstChild.nodeValue==b&&(e[++f]=d);return e},checked:function(a){var b,c,d=[],e=-1;for(b=0;c=a[b];b++)c.checked===!0&&(d[++e]=c);return d},not:function(a,b){return DQ.filter(a,b,!0)},any:function(a,b){var c,d,e,f,g=b.split("|"),h=[],i=-1;for(d=0;e=a[d];d++)for(f=0;c=g[f];f++)if(DQ.is(e,c)){h[++i]=e;break}return h},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){var c,d,e=DQ.select,f=[],g=-1;for(c=0;d=a[c];c++)e(b,d).length>0&&(f[++g]=d);return f},next:function(a,b){var c,d,e,f=DQ.is,g=[],h=-1;for(c=0;d=a[c];c++)e=next(d),e&&f(e,b)&&(g[++h]=d);return g},prev:function(a,b){var c,d,e,f=DQ.is,g=[],h=-1;for(c=0;d=a[c];c++)e=prev(d),e&&f(e,b)&&(g[++h]=d);return g},focusable:function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a[e],Ext.fly(b,"_DomQuery").isFocusable()&&d.push(b);return d},visible:function(a,b){for(var c,d=a.length,e=[],f=0;d>f;f++)c=a[f],Ext.fly(c,"_DomQuery").isVisible(b)&&e.push(c);return e}}}}(),Ext.query=Ext.DomQuery.select,Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(a){var b,c,d=this,e=d.dom.id||Ext.id(d.dom);return Ext.fx.Manager.hasFxBlock(e)||(a.listeners&&(b=a.listeners,delete a.listeners),a.internalListeners&&(a.listeners=a.internalListeners,delete a.internalListeners),c=new Ext.fx.Anim(d.anim(a)),b&&c.on(b),Ext.fx.Manager.queueFx(c)),d},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;var b,c=this,d=a.duration||Ext.fx.Anim.prototype.duration,e=a.easing||"ease";return a.stopAnimation&&c.stopAnimation(),Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(c.id)),Ext.fx.Manager.setFxDefaults(c.id,{delay:0}),b={target:c.dom,remove:a.remove,alternate:a.alternate||!1,duration:d,easing:e,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:!0,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)},Ext.apply(b.to,a.to),delete b.to.to,delete b.to.from,delete b.to.remove,delete b.to.alternate,delete b.to.keyframes,delete b.to.iterations,delete b.to.listeners,delete b.to.target,delete b.to.paused,delete b.to.callback,delete b.to.scope,delete b.to.duration,delete b.to.easing,delete b.to.concurrent,delete b.to.block,delete b.to.stopAnimation,delete b.to.delay,b},slideIn:function(a,b,c){var d,e,f,g,h=this,i=h.dom,j=i.style;return a=a||"t",b=b||{},d=function(){var d,k,l,m,n=this,o=b.listeners,p=Ext.fly(i,"_anim");switch(c||p.fixDisplay(),d=p.getBox(),"t"!=a&&"b"!=a||0!==d.height?"l"!=a&&"r"!=a||0!==d.width||(d.width=i.scrollWidth):d.height=i.scrollHeight,k=p.getStyles("width","height","left","right","top","bottom","position","z-index",!0),p.setSize(d.width,d.height),b.preserveScroll&&(f=p.cacheScrollValues()),m=p.wrap({id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:c?"visible":"hidden"}}),g=m.dom.parentNode,m.setPositioning(p.getPositioning(!0)),m.isStyle("position","static")&&m.position("relative"),p.clearPositioning("auto"),m.clip(),f&&f(),p.setStyle({visibility:"",position:"absolute"}),c&&m.setSize(d.width,d.height),a){case"t":l={from:{width:d.width+"px",height:"0px"},to:{width:d.width+"px",height:d.height+"px"}},j.bottom="0px";break;case"l":l={from:{width:"0px",height:d.height+"px"},to:{width:d.width+"px",height:d.height+"px"}},h.anchorAnimX(a);break;case"r":l={from:{x:d.x+d.width,width:"0px",height:d.height+"px"},to:{x:d.x,width:d.width+"px",height:d.height+"px"}},h.anchorAnimX(a);break;case"b":l={from:{y:d.y+d.height,width:d.width+"px",height:"0px"},to:{y:d.y,width:d.width+"px",height:d.height+"px"}};break;case"tl":l={from:{x:d.x,y:d.y,width:"0px",height:"0px"},to:{width:d.width+"px",height:d.height+"px"}},j.bottom="0px",h.anchorAnimX("l");break;case"bl":l={from:{y:d.y+d.height,width:"0px",height:"0px"},to:{y:d.y,width:d.width+"px",height:d.height+"px"}},h.anchorAnimX("l");break;case"br":l={from:{x:d.x+d.width,y:d.y+d.height,width:"0px",height:"0px"},to:{x:d.x,y:d.y,width:d.width+"px",height:d.height+"px"}},h.anchorAnimX("r");break;case"tr":l={from:{x:d.x+d.width,width:"0px",height:"0px"},to:{x:d.x,width:d.width+"px",height:d.height+"px"}},j.bottom="0px",h.anchorAnimX("r")}m.show(),e=Ext.apply({},b),delete e.listeners,e=new Ext.fx.Anim(Ext.applyIf(e,{target:m,duration:500,easing:"ease-out",from:c?l.to:l.from,to:c?l.from:l.to})),e.on("afteranimate",function(){var a=Ext.fly(i,"_anim");a.setStyle(k),c&&(b.useDisplay?a.setDisplayed(!1):a.hide()),m.dom&&(m.dom.parentNode?m.dom.parentNode.insertBefore(a.dom,m.dom):g.appendChild(a.dom),m.remove()),f&&f(),n.end()}),o&&e.on(o)},h.animate({duration:b.duration?2*Math.max(b.duration,500):1e3,listeners:{beforeanimate:d}}),h},slideOut:function(a,b){return this.slideIn(a,b,!0)},puff:function(a){var b,c=this,d=c.dom,e=c.getBox(),f=c.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:!1}),b=function(){var b=Ext.fly(d,"_anim");b.clearOpacity(),b.show(),this.to={width:2*e.width,height:2*e.height,x:e.x-e.width/2,y:e.y-e.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var b=Ext.fly(d,"_anim");b&&(a.useDisplay?b.setDisplayed(!1):b.hide(),b.setStyle(f),Ext.callback(a.callback,a.scope))})},c.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:b}}}),c},switchOff:function(a){var b,c=this,d=c.dom;return a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),b=function(){var b,c,e=Ext.fly(d,"_anim"),f=this,g=e.getSize(),h=e.getXY();e.clearOpacity(),e.clip(),c=e.getPositioning(),b=new Ext.fx.Animator({target:d,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:.3},66:{height:1,y:h[1]+g.height/2},100:{width:1,x:h[0]+g.width/2}}}),b.on("afteranimate",function(){var b=Ext.fly(d,"_anim");a.useDisplay?b.setDisplayed(!1):b.hide(),b.clearOpacity(),b.setPositioning(c),b.setSize(g),f.end()})},c.animate({duration:2*Math.max(a.duration,500),listeners:{beforeanimate:{fn:b}},callback:a.callback,scope:a.scope}),c},frame:function(a,b,c){var d,e=this,f=e.dom;return a=a||"#C3DAF9",b=b||1,c=c||{},d=function(){var d,e,g,h=Ext.fly(f,"_anim"),i=this;h.show(),d=h.getBox(),e=Ext.getBody().createChild({id:h.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+a}}),g=new Ext.fx.Anim({target:e,duration:c.duration||1e3,iterations:b,from:{top:d.y,left:d.x,borderWidth:0,opacity:1,height:d.height,width:d.width},to:{top:d.y-20,left:d.x-20,borderWidth:10,opacity:0,height:d.height+40,width:d.width+40}}),g.on("afteranimate",function(){e.remove(),i.end()})},e.animate({duration:2*Math.max(c.duration,500)||2e3,listeners:{beforeanimate:{fn:d}},callback:c.callback,scope:c.scope}),e},ghost:function(a,b){var c,d=this,e=d.dom;return a=a||"b",c=function(){var b=Ext.fly(e,"_anim"),c=b.getWidth(),d=b.getHeight(),f=b.getXY(),g=b.getPositioning(),h={opacity:0};switch(a){case"t":h.y=f[1]-d;break;case"l":h.x=f[0]-c;break;case"r":h.x=f[0]+c;break;case"b":h.y=f[1]+d;break;case"tl":h.x=f[0]-c,h.y=f[1]-d;break;case"bl":h.x=f[0]-c,h.y=f[1]+d;break;case"br":h.x=f[0]+c,h.y=f[1]+d;break;case"tr":h.x=f[0]+c,h.y=f[1]-d}this.to=h,this.on("afteranimate",function(){var a=Ext.fly(e,"_anim");a&&(a.hide(),a.clearOpacity(),a.setPositioning(g))})},d.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:c}})),d},highlight:function(a,b){var c,d,e,f,g,h,i=this,j=i.dom,k={};return j.tagName.match(i.tableTagRe)?i.select("div").highlight(a,b):(b=b||{},f=b.listeners||{},e=b.attr||"backgroundColor",k[e]=a||"ffff9c",b.to?d=b.to:(d={},d[e]=b.endColor||i.getColor(e,"ffffff","")),b.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){c=j.style[e];var a=Ext.fly(j,"_anim");return a.clearOpacity(),a.show(),g=f.beforeanimate,g?(h=g.fn||g,h.apply(g.scope||f.scope||window,arguments)):void 0},afteranimate:function(){j&&(j.style[e]=c),g=f.afteranimate,g&&(h=g.fn||g,h.apply(g.scope||f.scope||window,arguments))}}),i.animate(Ext.apply({},b,{duration:1e3,easing:"ease-in",from:k,to:d})),i)},pause:function(a){var b=this;return Ext.fx.Manager.setFxDefaults(b.id,{delay:a}),b},fadeIn:function(a){var b=this,c=b.dom;return b.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(){var a=Ext.fly(c,"_anim");a.isStyle("display","none")?a.setDisplayed(""):a.show()}}})),this},fadeOut:function(a){var b=this,c=b.dom;return a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(b){if(c&&0===b.to.opacity){var d=Ext.fly(c,"_anim");a.useDisplay?d.setDisplayed(!1):d.hide()}}}},a),b.animate(a),b},scale:function(a,b,c){return this.animate(Ext.apply({},c,{width:a,height:b})),this},shift:function(a){return this.animate(a),this},anchorAnimX:function(a){var b="l"===a?"right":"left";this.dom.style[b]="0px"}}),Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(a,b,c){var d=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDProxy:function(a,b,c){var d=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDTarget:function(a,b,c){var d=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(d,c)}}),Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var a=Ext.dom.Element,b="visibility",c="display",d="none",e="hidden",f="offsets",g="asclass",h="nosize",i="originalDisplay",j="visibilityMode",k="isVisible",l=Ext.baseCSSPrefix+"hide-offsets",m=function(a){var b=(a.$cache||a.getCache()).data,c=b[i];return void 0===c&&(b[i]=c=""),c},n=function(b){var c=(b.$cache||b.getCache()).data,d=c[j];return void 0===d&&(c[j]=d=a.VISIBILITY),d};a.override({originalDisplay:"",visibilityMode:1,setVisible:function(d,i){var j=this,m=j.dom,o=n(j);if("string"==typeof i){switch(i){case c:o=a.DISPLAY;break;case b:o=a.VISIBILITY;break;case f:o=a.OFFSETS;break;case h:case g:o=a.ASCLASS}j.setVisibilityMode(o),i=!1}if(i&&j.anim)d&&(j.setOpacity(.01),j.setVisible(!0)),Ext.isObject(i)||(i={duration:350,easing:"ease-in"}),j.animate(Ext.applyIf({callback:function(){d||Ext.fly(m,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:d?1:0}},i));else{if(o==a.DISPLAY)return j.setDisplayed(d);o==a.OFFSETS?j[d?"removeCls":"addCls"](l):o==a.VISIBILITY?(j.fixDisplay(),m.style.visibility=d?"":e):o==a.ASCLASS&&j[d?"removeCls":"addCls"](j.visibilityCls||a.visibilityCls)}return(j.$cache||j.getCache()).data[k]=d,j},hasMetrics:function(){var b=n(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(a){var b=this;return b.setVisible(!b.isVisible(),b.anim(a)),b},setDisplayed:function(a){return"boolean"==typeof a&&(a=a?m(this):d),this.setStyle(c,a),this},fixDisplay:function(){var a=this;a.isStyle(c,d)&&(a.setStyle(b,e),a.setStyle(c,m(a)),a.isStyle(c,d)&&a.setStyle(c,"block"))},hide:function(a){return"string"==typeof a?(this.setVisible(!1,a),this):(this.setVisible(!1,this.anim(a)),this)},show:function(a){return"string"==typeof a?(this.setVisible(!0,a),this):(this.setVisible(!0,this.anim(a)),this)}})}),Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var a,b=this,c="left",d="right",e="top",f="bottom",g="position",h="static",i="relative",j="z-index",k="BODY",l="padding",m="border",n="-left",o="-right",p="-top",q="-bottom",r="-width",s={l:m+n+r,r:m+o+r,t:m+p+r,b:m+q+r},t={l:l+n,r:l+o,t:l+p,b:l+q},u=[t.l,t.r,t.t,t.b],v=[s.l,s.r,s.t,s.b],w=Math.round,x=document,y=function(b){return a||(a=new Ext.Element.Fly),a.attach(b),a};b.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(a){return b.getXY(a)[0]},getXY:function(a){var b,c,d=x.body,e=x.documentElement,f=0,g=0,h=[0,0];if(a=Ext.getDom(a),a!=x&&a!=d){if(Ext.isIE)try{b=a.getBoundingClientRect(),g=e.clientTop||d.clientTop,f=e.clientLeft||d.clientLeft}catch(i){b={left:0,top:0}}else b=a.getBoundingClientRect();c=y(x).getScroll(),h=[w(b.left+c.left-f),w(b.top+c.top-g)]}return h},getY:function(a){return b.getXY(a)[1]},setX:function(a,c){b.setXY(a,[c,!1])},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c,d=a.translatePoints(b),e=a.dom.style;e.right="auto";for(c in d)isNaN(d[c])||(e[c]=d[c]+"px")},setY:function(a,c){b.setXY(a,[!1,c])}},center:function(a){return this.alignTo(a||x,"c-c")},clearPositioning:function(a){return a=a||"",this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:h})},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var a=this.getStyle(u),b=this.getStyle(v);return{beforeX:(parseFloat(b[s.l])||0)+(parseFloat(a[t.l])||0),afterX:(parseFloat(b[s.r])||0)+(parseFloat(a[t.r])||0),beforeY:(parseFloat(b[s.t])||0)+(parseFloat(a[t.t])||0),afterY:(parseFloat(b[s.b])||0)+(parseFloat(a[t.b])||0)}},getCenterXY:function(){return this.getAlignToXY(x,"c-c")},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle("left");return d&&"auto"!==d?a.pxRe.test(d)?d=parseFloat(d):(d=a.getX(),c&&(d-=b.getX(c))):d=0,d},getLocalXY:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle(["left","top"]),e=d.left,f=d.top;return e&&"auto"!==e?a.pxRe.test(e)?e=parseFloat(e):(e=a.getX(),c&&(e-=b.getX(c))):e=0,f&&"auto"!==f?a.pxRe.test(f)?f=parseFloat(f):(f=a.getY(),c&&(f-=b.getY(c))):f=0,[e,f]},getLocalY:function(){var a=this,c=a.dom.offsetParent,d=a.getStyle("top");return d&&"auto"!==d?a.pxRe.test(d)?d=parseFloat(d):(d=a.getY(),c&&(d-=b.getY(c))):d=0,d},getPageBox:function(a){var b=this,c=b.dom,d=c.nodeName==k,e=d?Ext.Element.getViewWidth():c.offsetWidth,f=d?Ext.Element.getViewHeight():c.offsetHeight,g=b.getXY(),h=g[1],i=g[0]+e,j=g[1]+f,l=g[0];return a?new Ext.util.Region(h,i,j,l):{left:l,top:h,width:e,height:f,right:i,bottom:j}},getPositioning:function(a){var b=this.getStyle(["left","top","position","z-index"]),c=this.dom;return a&&("auto"===b.left&&(b.left=c.offsetLeft+"px"),"auto"===b.top&&(b.top=c.offsetTop+"px")),b},getRight:function(a){return(a?this.getLocalX():this.getX())+this.getWidth()},getTop:function(a){return a?this.getLocalY():this.getY()},getX:function(){return b.getX(this.dom)},getXY:function(){return b.getXY(this.dom)},getY:function(){return b.getY(this.dom)},moveTo:function(a,b,c){return this.setXY([a,b],c)},position:function(a,b,c,d){var e=this;!a&&e.isStyle(g,h)?e.setStyle(g,i):a&&e.setStyle(g,a),b&&e.setStyle(j,b),(c||d)&&e.setXY([c||!1,d||!1])},setBottom:function(a){return this.dom.style[f]=this.addUnits(a),this},setBounds:function(a,b,c,d,e){return this.setBox({x:a,y:b,width:c,height:d},e)},setLeft:function(a){return this.dom.style[c]=this.addUnits(a),this},setLeftTop:function(a,b){var c=this,d=c.dom.style;return d.left=c.addUnits(a),d.top=c.addUnits(b),c},setLocalX:function(a){var b=this.dom.style;b.right="auto",b.left=null===a?"auto":a+"px"},setLocalXY:function(a,b){var c=this.dom.style;c.right="auto",a&&a.length&&(b=a[1],a=a[0]),null===a?c.left="auto":void 0!==a&&(c.left=a+"px"),null===b?c.top="auto":void 0!==b&&(c.top=b+"px")},setLocalY:function(a){this.dom.style.top=null===a?"auto":a+"px"},setLocation:function(a,b,c){return this.setXY([a,b],c)},setPositioning:function(a){return this.setStyle(a)},setRight:function(a){return this.dom.style[d]=this.addUnits(a),this},setTop:function(a){return this.dom.style[e]=this.addUnits(a),this},setX:function(a,b){return this.setXY([a,this.getY()],b)},setXY:function(a,c){var d=this;return c&&d.anim?(Ext.isObject(c)||(c={}),d.animate(Ext.applyIf({to:{x:a[0],y:a[1]}},c))):b.setXY(d.dom,a),this},setY:function(a,b){return this.setXY([this.getX(),a],b)}}),b.getTrueXY=b.getXY}),Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var a,b,c=this,d=c.dom,e=document,f=e.body,g=e.documentElement;return d===e||d===f?(a=g.scrollLeft||(f?f.scrollLeft:0),b=g.scrollTop||(f?f.scrollTop:0)):(a=d.scrollLeft,b=d.scrollTop),{left:a,top:b}},getScrollLeft:function(){var a=this.dom,b=document;return a===b||a===b.body?this.getScroll().left:a.scrollLeft},getScrollTop:function(){var a=this.dom,b=document;return a===b||a===b.body?this.getScroll().top:a.scrollTop},setScrollLeft:function(a){return this.dom.scrollLeft=a,this},setScrollTop:function(a){return this.dom.scrollTop=a,this},scrollBy:function(a,b,c){var d=this,e=d.dom;return a.length?(c=b,b=a[1],a=a[0]):"number"!=typeof a&&(c=b,b=a.y,a=a.x),a&&d.scrollTo("left",d.constrainScrollLeft(e.scrollLeft+a),c),b&&d.scrollTo("top",d.constrainScrollTop(e.scrollTop+b),c),d},scrollTo:function(a,b,c){var d,e=/top/i.test(a),f=this,g=e?"scrollTop":"scrollLeft",h=f.dom;return c&&f.anim?(d={to:{}},d.to[g]=b,Ext.isObject(c)&&Ext.applyIf(d,c),f.animate(d)):(h[g]=b,h[g]=b),f},scrollIntoView:function(a,b,c,d){var e,f=this,g=f.dom,h=f.getOffsetsTo(a=Ext.getDom(a)||Ext.getBody().dom),i=h[0]+a.scrollLeft,j=h[1]+a.scrollTop,k=j+g.offsetHeight,l=i+g.offsetWidth,m=a.clientHeight,n=parseInt(a.scrollTop,10),o=parseInt(a.scrollLeft,10),p=n+m,q=o+a.clientWidth;return d&&(c?c=Ext.apply({listeners:{afteranimate:function(){f.scrollChildFly.attach(g).highlight()}}},c):f.scrollChildFly.attach(g).highlight()),g.offsetHeight>m||n>j?e=j:k>p&&(e=k-m),null!=e&&f.scrollChildFly.attach(a).scrollTo("top",e,c),b!==!1&&(e=null,g.offsetWidth>a.clientWidth||o>i?e=i:l>q&&(e=l-a.clientWidth),null!=e&&f.scrollChildFly.attach(a).scrollTo("left",e,c)),f},scrollChildIntoView:function(a,b){this.scrollChildFly.attach(Ext.getDom(a)).scrollIntoView(this,b)},scroll:function(a,b,c){if(!this.isScrollable())return!1;var d,e,f=this,g=f.dom,h="r"===a||"l"===a?"left":"top",i=!1;return"r"===a&&(b=-b),"left"===h?(d=g.scrollLeft,e=f.constrainScrollLeft(d+b)):(d=g.scrollTop,e=f.constrainScrollTop(d+b)),e!==d&&(this.scrollTo(h,e,c),i=!0),i},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly,this.prototype.scrolltoFly=new this.Fly}),Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){function a(a,b,c,d){return"none"==d[this.styleName]?"0px":d[this.name]}var b,c,d,e,f,g,h,i=this,j=document.defaultView,k=/table-row|table-.*-group/,l="_internal",m="hidden",n="height",o="width",p="isClipped",q="overflow",r="overflow-x",s="overflow-y",t="originalClip",u=/#document|body/i;if(j&&j.getComputedStyle||(i.prototype.getStyle=function(a,b){var c,d,e,f,g,h,j,k=this,l=k.dom,m="string"!=typeof a,n=k.styleHooks,o=a,p=o,q=1,r=b;if(m&&(e={},o=p[0],j=0,!(q=p.length)))return e;if(!l||l.documentElement)return e||"";d=l.style,b?h=d:(h=l.currentStyle,h||(r=!0,h=d));do{if(f=n[o],f||(n[o]=f={name:i.normalize(o)}),f.get)g=f.get(l,k,r,h);else if(c=f.name,f.canThrow)try{g=h[c]}catch(s){g=""}else g=h?h[c]:"";if(!m)return g;e[o]=g,o=p[++j]}while(q>j);return e}),i.override({getHeight:function(a,b){var c,d,e=this,f=e.isStyle("display","none");return f?0:(c=e.dom.offsetHeight,Ext.supports.Direct2DBug&&(d=e.adjustDirect2DDimension(n),b?c+=d:d>0&&.5>d&&c++),a&&(c-=e.getBorderWidth("tb")+e.getPadding("tb")),0>c?0:c)},getWidth:function(a,b){var c,d,e,f=this,g=f.dom,h=f.isStyle("display","none");return h?0:(b&&Ext.supports.BoundingClientRect?(c=g.getBoundingClientRect(),d=!f.vertical||Ext.isIE9||Ext.supports.RotatedBoundingClientRect?c.right-c.left:c.bottom-c.top):d=g.offsetWidth,Ext.supports.Direct2DBug&&!f.vertical&&(e=f.adjustDirect2DDimension(o),b?d+=e:e>0&&.5>e&&d++),a&&(d-=f.getBorderWidth("lr")+f.getPadding("lr")),0>d?0:d)},setWidth:function(a,b){var c=this;return a=c.adjustWidth(a),b&&c.anim?(Ext.isObject(b)||(b={}),c.animate(Ext.applyIf({to:{width:a}},b))):c.dom.style.width=c.addUnits(a),c},setHeight:function(a,b){var c=this;return a=c.adjustHeight(a),b&&c.anim?(Ext.isObject(b)||(b={}),c.animate(Ext.applyIf({to:{height:a}},b))):c.dom.style.height=c.addUnits(a),c},applyStyles:function(a){return Ext.DomHelper.applyStyles(this.dom,a),this},setSize:function(a,b,c){var d=this;return Ext.isObject(a)&&(c=b,b=a.height,a=a.width),a=d.adjustWidth(a),b=d.adjustHeight(b),c&&d.anim?(c===!0&&(c={}),d.animate(Ext.applyIf({to:{width:a,height:b}},c))):(d.dom.style.width=d.addUnits(a),d.dom.style.height=d.addUnits(b)),d
},getViewSize:function(){var a,b=this,c=b.dom,d=u.test(c.nodeName);return a=d?{width:i.getViewWidth(),height:i.getViewHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=this,c="number"==typeof a;return c&&b.autoBoxAdjust&&!b.isBorderBox()&&(a-=b.getBorderWidth("lr")+b.getPadding("lr")),c&&0>a?0:a},adjustHeight:function(a){var b=this,c="number"==typeof a;return c&&b.autoBoxAdjust&&!b.isBorderBox()&&(a-=b.getBorderWidth("tb")+b.getPadding("tb")),c&&0>a?0:a},getColor:function(a,b,c){var d,e,f=this.getStyle(a),g=c||""===c?c:"#",h=0;if(!f||/transparent|inherit/.test(f))return b;if(/^r/.test(f))for(f=f.slice(4,f.length-1).split(","),e=f.length;e>h;h++)d=parseInt(f[h],10),g+=(16>d?"0":"")+d.toString(16);else f=f.replace("#",""),g+=3==f.length?f.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):f;return g.length>5?g.toLowerCase():b},setOpacity:function(a,b){var c=this;return c.dom?(b&&c.anim?("object"!=typeof b&&(b={duration:350,easing:"ease-in"}),c.animate(Ext.applyIf({to:{opacity:a}},b))):c.setStyle("opacity",a),c):c},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(a){var b,c=this,d=c.dom,e=c.getStyle("display"),f=d.style.display,g=d.style.position,h=a===o?0:1,i=d.currentStyle;return"inline"===e&&(d.style.display="inline-block"),d.style.position=e.match(k)?"absolute":"static",b=(parseFloat(i[a])||2*parseFloat(i.msTransformOrigin.split(" ")[h]))%1,d.style.position=g,"inline"===e&&(d.style.display=f),b},clip:function(){var a,b=this,c=(b.$cache||b.getCache()).data;return c[p]||(c[p]=!0,a=b.getStyle([q,r,s]),c[t]={o:a[q],x:a[r],y:a[s]},b.setStyle(q,m),b.setStyle(r,m),b.setStyle(s,m)),b},unclip:function(){var a,b=this,c=(b.$cache||b.getCache()).data;return c[p]&&(c[p]=!1,a=c[t],a.o&&b.setStyle(q,a.o),a.x&&b.setStyle(r,a.x),a.y&&b.setStyle(s,a.y)),b},boxWrap:function(a){a=a||Ext.baseCSSPrefix+"box";var b=Ext.get(this.insertHtml("beforeBegin","<div class='"+a+"'>"+Ext.String.format(i.boxMarkup,a)+"</div>"));return Ext.DomQuery.selectNode("."+a+"-mc",b.dom).appendChild(this.dom),b},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);return b||(b=parseFloat(a.getStyle(n))||0,a.isBorderBox()||(b+=a.getFrameWidth("tb"))),b},getComputedWidth:function(){var a=this,b=Math.max(a.dom.offsetWidth,a.dom.clientWidth);return b||(b=parseFloat(a.getStyle(o))||0,a.isBorderBox()||(b+=a.getFrameWidth("lr"))),b},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);return d.hover(function(){f&&b.call(c||d,d)===!1||Ext.fly(e,l).addCls(a)},function(){Ext.fly(e,l).removeCls(a)}),d},addClsOnFocus:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);return d.on("focus",function(){return f&&b.call(c||d,d)===!1?!1:void Ext.fly(e,l).addCls(a)}),d.on("blur",function(){Ext.fly(e,l).removeCls(a)}),d},addClsOnClick:function(a,b,c){var d=this,e=d.dom,f=Ext.isFunction(b);return d.on("mousedown",function(){if(f&&b.call(c||d,d)===!1)return!1;Ext.fly(e,l).addCls(a);var g=Ext.getDoc(),h=function(){Ext.fly(e,l).removeCls(a),g.removeListener("mouseup",h)};g.on("mouseup",h)}),d},getStyleSize:function(){var a,b,c,d=this,e=this.dom,f=u.test(e.nodeName);return f?{width:i.getViewWidth(),height:i.getViewHeight()}:(a=d.getStyle([n,o],!0),a.width&&"auto"!=a.width&&(b=parseFloat(a.width),d.isBorderBox()&&(b-=d.getFrameWidth("lr"))),a.height&&"auto"!=a.height&&(c=parseFloat(a.height),d.isBorderBox()&&(c-=d.getFrameWidth("tb"))),{width:b||d.getWidth(!0),height:c||d.getHeight(!0)})},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var a=this;return a.dom.unselectable="",a.removeCls(i.unselectableCls),a.addCls(i.selectableCls),a},unselectable:function(){var a=this;return Ext.isOpera&&(a.dom.unselectable="on"),a.removeCls(i.selectableCls),a.addCls(i.unselectableCls),a},setVertical:function(a,b){var c=this,d=i.prototype;c.vertical=!0,b&&c.addCls(c.verticalCls=b),c.setWidth=d.setHeight,c.setHeight=d.setWidth,Ext.isIE9m||(c.getWidth=d.getHeight,c.getHeight=d.getWidth),c.styleHooks=270===a?i.prototype.verticalStyleHooks270:i.prototype.verticalStyleHooks90},setHorizontal:function(){var a=this,b=a.verticalCls;delete a.vertical,b&&(delete a.verticalCls,a.removeCls(b)),delete a.setWidth,delete a.setHeight,Ext.isIE9m||(delete a.getWidth,delete a.getHeight),delete a.styleHooks}}),i.prototype.styleHooks=b=Ext.dom.AbstractElement.prototype.styleHooks,i.prototype.verticalStyleHooks90=c=Ext.Object.chain(i.prototype.styleHooks),i.prototype.verticalStyleHooks270=d=Ext.Object.chain(i.prototype.styleHooks),c.width={name:"height"},c.height={name:"width"},c["margin-top"]={name:"marginLeft"},c["margin-right"]={name:"marginTop"},c["margin-bottom"]={name:"marginRight"},c["margin-left"]={name:"marginBottom"},c["padding-top"]={name:"paddingLeft"},c["padding-right"]={name:"paddingTop"},c["padding-bottom"]={name:"paddingRight"},c["padding-left"]={name:"paddingBottom"},c["border-top"]={name:"borderLeft"},c["border-right"]={name:"borderTop"},c["border-bottom"]={name:"borderRight"},c["border-left"]={name:"borderBottom"},d.width={name:"height"},d.height={name:"width"},d["margin-top"]={name:"marginRight"},d["margin-right"]={name:"marginBottom"},d["margin-bottom"]={name:"marginLeft"},d["margin-left"]={name:"marginTop"},d["padding-top"]={name:"paddingRight"},d["padding-right"]={name:"paddingBottom"},d["padding-bottom"]={name:"paddingLeft"},d["padding-left"]={name:"paddingTop"},d["border-top"]={name:"borderRight"},d["border-right"]={name:"borderBottom"},d["border-bottom"]={name:"borderLeft"},d["border-left"]={name:"borderTop"},Ext.isIE7m&&(b.fontSize=b["font-size"]={name:"fontSize",canThrow:!0},b.fontStyle=b["font-style"]={name:"fontStyle",canThrow:!0},b.fontFamily=b["font-family"]={name:"fontFamily",canThrow:!0}),Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8)for(e=["Top","Right","Bottom","Left"],f=e.length;f--;)g=e[f],h="border"+g+"Width",b["border-"+g.toLowerCase()+"-width"]=b[h]={name:h,styleName:"border"+g+"Style",get:a};Ext.getDoc().on("selectstart",function(a,b){var c=document.documentElement,d=i.selectableCls,e=i.unselectableCls,f=b&&b.tagName;if(f=f&&f.toLowerCase(),"input"!==f&&"textarea"!==f)for(;b&&1===b.nodeType&&b!==c;){var g=Ext.fly(b);if(g.hasCls(d))return;if(g.hasCls(e))return void a.stopEvent();b=b.parentNode}})}),Ext.onReady(function(){var a=/alpha\(opacity=(.*)\)/i,b=/^\s+|\s+$/g,c=Ext.dom.Element.prototype.styleHooks;c.opacity={name:"opacity",afterSet:function(a,b,c){c.isLayer&&c.onOpacitySet(b)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(c.opacity,{get:function(b){var c,d,e=b.style.filter;return e.match&&(c=e.match(a),c&&(d=parseFloat(c[1]),!isNaN(d)))?d?d/100:0:1},set:function(c,d){var e=c.style,f=e.filter.replace(a,"").replace(b,"");e.zoom=1,"number"==typeof d&&d>=0&&1>d?(d*=100,e.filter=f+(f.length?" ":"")+"alpha(opacity="+d+")"):e.filter=f}})}),Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);return c&&(a[0]+=c[0],a[1]+=c[1]),a},alignTo:function(a,b,c,d){var e=this,f=e.el;return e.setXY(e.getAlignToXY(a,b,c),f.anim&&d?f.anim(d):!1)},anchorTo:function(a,b,c,d,e,f){var g=this,h=!Ext.isEmpty(e),i=function(){g.alignTo(a,b,c,d),Ext.callback(f,g)},j=g.getAnchor();return g.removeAnchor(),Ext.apply(j,{fn:i,scroll:h}),Ext.EventManager.onWindowResize(i,null),h&&Ext.EventManager.on(window,"scroll",i,null,{buffer:isNaN(e)?50:e}),i(),g},calculateAnchorXY:function(a,b,c,d){var e,f,g,h=this,i=h.el,j=document,k=i.dom==j.body||i.dom==j,l=Math.round;switch(a=(a||"tl").toLowerCase(),d=d||{},f=d.width||k?Ext.Element.getViewWidth():h.getWidth(),g=d.height||k?Ext.Element.getViewHeight():h.getHeight(),a){case"tl":e=[0,0];break;case"bl":e=[0,g];break;case"tr":e=[f,0];break;case"c":e=[l(.5*f),l(.5*g)];break;case"t":e=[l(.5*f),0];break;case"l":e=[0,l(.5*g)];break;case"r":e=[f,l(.5*g)];break;case"b":e=[l(.5*f),g];break;case"tc":e=[l(.5*f),0];break;case"bc":e=[l(.5*f),g];break;case"br":e=[f,g]}return[e[0]+b,e[1]+c]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this,v=Ext.Element.getViewWidth()-10,w=Ext.Element.getViewHeight()-10,x=document,y=x.documentElement,z=x.body,A=y.scrollLeft||z.scrollLeft||0,B=y.scrollTop||z.scrollTop||0;return a=Ext.get(a.el||a),!a||!a.dom,c=c||[0,0],b=(b&&"?"!=b?/-/.test(b)||""===b?b||"tl-bl":"tl-"+b:"tl-bl?").toLowerCase(),b=u.convertPositionSpec(b),d=b.match(u._alignRe),m=d[1],n=d[2],l=!!d[3],e=u.getAnchorXY(m,!0),f=u.getAnchorToXY(a,n,!1),s=f[0]-e[0]+c[0],t=f[1]-e[1]+c[1],l&&(g=u.getWidth(),h=u.getHeight(),i=a.getRegion(),o=m.charAt(0),p=m.charAt(m.length-1),q=n.charAt(0),r=n.charAt(n.length-1),j="t"==o&&"b"==q||"b"==o&&"t"==q,k="r"==p&&"l"==r||"l"==p&&"r"==r,s+g>v+A&&(s=k?i.left-g:v+A-g),A>s&&(s=k?i.right:A),t+h>w+B&&(t=j?i.top-h:w+B-h),B>t&&(t=j?i.bottom:B)),[s,t]},getAnchor:function(){var a,b=this.el,c=(b.$cache||b.getCache()).data;if(b.dom)return a=c._anchor,a||(a=c._anchor={}),a},getAnchorXY:function(a,b,c){var d=this,e=d.getXY(),f=d.el,g=document,h=f.dom==g.body||f.dom==g,i=f.getScroll(),j=h?i.left:b?0:e[0],k=h?i.top:b?0:e[1];return d.calculateAnchorXY(a,j,k,c)},getBox:function(a,b){var c,d,e,f=this,g=b?f.getLocalXY():f.getXY(),h=g[0],i=g[1],j=f.getWidth(),k=f.getHeight();return a&&(c=f.getBorderPadding(),d=c.beforeX,e=c.beforeY,h+=d,i+=e,j-=d+c.afterX,k-=e+c.afterY),{x:h,left:h,0:h,y:i,top:i,1:i,width:j,height:k,right:h+j,bottom:i+k}},calculateConstrainedPosition:function(a,b,c,d){var e,f,g,h,i=this,j=i.floatParent,k=j?j.getTargetEl():null,l=!1;return c&&j?(f=k.getXY(),g=k.getBorderPadding(),f[0]+=g.beforeX,f[1]+=g.beforeY,b&&(h=[b[0]+f[0],b[1]+f[1]])):h=b,a=a||i.constrainTo||k||i.container||i.el.parent(),e=(i.constrainHeader?i.header:i).getConstrainVector(a,h,d),e&&(l=b||i.getPosition(c),l[0]+=e[0],l[1]+=e[1]),l},getConstrainVector:function(a,b,c){var d=this.getRegion(),e=[0,0],f=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,g=!1,h=this.constraintInsets;return a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getViewRegion()),h&&(h=Ext.isObject(h)?h:Ext.Element.parseBox(h),a.adjust(h.top,h.right,h.bottom,h.length)),b&&d.translateBy(b[0]-d.x,b[1]-d.y),c&&(d.right=d.left+c[0],d.bottom=d.top+c[1]),f&&a.adjust(f[0],-f[1],-f[2],f[3]),d.right>a.right&&(g=!0,e[0]=a.right-d.right),d.left+e[0]<a.left&&(g=!0,e[0]=a.left-d.left),d.bottom>a.bottom&&(g=!0,e[1]=a.bottom-d.bottom),d.top+e[1]<a.top&&(g=!0,e[1]=a.top-d.top),g?e:!1},getOffsetsTo:function(a){var b=this.getXY(),c=Ext.fly(a.el||a,"_internal").getXY();return[b[0]-c[0],b[1]-c[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a,b,c,d,e,f,g,h=this,i=h.el,j="BODY"===i.dom.nodeName;return j?(b=i.getScroll(),e=b.left,d=b.top,f=Ext.dom.AbstractElement.getViewportWidth(),g=Ext.dom.AbstractElement.getViewportHeight()):(a=h.getBorderPadding(),c=h.getXY(),e=c[0]+a.beforeX,d=c[1]+a.beforeY,f=h.getWidth(!0),g=h.getHeight(!0)),new Ext.util.Region(d,e+f,d+g,e)},move:function(a,b,c){var d=this,e=d.getXY(),f=e[0],g=e[1],h=[f-b,g],i=[f+b,g],j=[f,g-b],k=[f,g+b],l={l:h,left:h,r:i,right:i,t:j,top:j,up:j,b:k,bottom:k,down:k};a=a.toLowerCase(),d.setXY([l[a][0],l[a][1]],c)},removeAnchor:function(){var a=this.getAnchor();return a&&a.fn&&(Ext.EventManager.removeResizeListener(a.fn),a.scroll&&Ext.EventManager.un(window,"scroll",a.fn),delete a.fn),this},setBox:function(a,b){var c=this,d=c.el,e=a.x,f=a.y,g=a.width,h=a.height,i=c.constrain||c.constrainHeader,j=i&&c.calculateConstrainedPosition(null,[e,f],!1,[g,h]);return j&&(e=j[0],f=j[1]),b&&d.anim?c.animate(Ext.applyIf({to:{x:e,y:f,width:d.adjustWidth(g),height:d.adjustHeight(h)},listeners:{afteranimate:Ext.Function.bind(c.afterSetPosition,c,[e,f])}},b)):(c.setSize(g,h),c.setXY([e,f]),c.afterSetPosition(e,f)),c},setRegion:function(a,b){return this.setBox({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top},b)},translatePoints:function(a,b){var c=this.translateXY(a,b);return{left:c.x,top:c.y}},translateXY:function(a,b){var c=this,d=c.el,e=d.getStyle(c._positionTopLeft),f="relative"==e.position,g=parseFloat(e.left),h=parseFloat(e.top),i=c.getXY();return Ext.isArray(a)&&(b=a[1],a=a[0]),isNaN(g)&&(g=f?0:d.dom.offsetLeft),isNaN(h)&&(h=f?0:d.dom.offsetTop),g="number"==typeof a?a-i[0]+g:void 0,h="number"==typeof b?b-i[1]+h:void 0,{x:g,y:h}}}),Ext.define("Ext.dom.Element",function(a){var b,c="hidden",d=document,e="visibility",f="display",g="none",h=Ext.baseCSSPrefix+"masked",i=Ext.baseCSSPrefix+"masked-relative",j=Ext.baseCSSPrefix+"mask-msg",k=/^body/i,l=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},m=function(a){var b,c,d=[],e=-1;for(b=0;c=a[b];b++)(c.scrollTop>0||c.scrollLeft>0)&&(d[++e]=c);return d};return{extend:"Ext.dom.AbstractElement",alternateClassName:["Ext.Element","Ext.core.Element"],requires:["Ext.dom.Query","Ext.dom.Element_anim","Ext.dom.Element_dd","Ext.dom.Element_fx","Ext.dom.Element_position","Ext.dom.Element_scroll","Ext.dom.Element_style"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:["Ext.util.Positionable"],addUnits:function(){return a.addUnits.apply(a,arguments)},focus:function(a,b){var c=this;b=b||c.dom;try{Number(a)?Ext.defer(c.focus,a,c,[null,b]):b.focus()}catch(d){}return c},blur:function(){var a=this,b=a.dom;if(b!==document.body){try{b.blur()}catch(c){}return a}return a.focus(void 0,b)},isBorderBox:function(){var a=Ext.isBorderBox;return a&&Ext.isIE7m&&(a=!((this.dom.tagName||"").toLowerCase()in l)),a},hover:function(a,b,c,d){var e=this;return e.on("mouseenter",a,c||e.dom,d),e.on("mouseleave",b,c||e.dom,d),e},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:!Ext.isIE||Ext.isIE9p&&d.documentMode>=9?function(a,b){var c=this.dom;return b?c.getAttributeNS(b,a)||c.getAttribute(b+":"+a):c.getAttribute(a)||c[a]||null}:function(a,b){var c,d=this.dom;return b?(c=typeof d[b+":"+a],"undefined"!=c&&"unknown"!=c?d[b+":"+a]||null:null):("for"===a&&(a="htmlFor"),d[a]||null)},cacheScrollValues:function(){var a,b,c,d=this,e=[],f=function(){for(c=0;c<a.length;c++)b=a[c],b.scrollLeft=e[c][0],b.scrollTop=e[c][1]};for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=m),a=d.query(":isScrolled"),c=0;c<a.length;c++)b=a[c],e[c]=[b.scrollLeft,b.scrollTop];return f},autoBoxAdjust:!0,isVisible:function(d){var h=this,i=h.dom,j=i.ownerDocument.documentElement;for(b||(b=new a.Fly);i!==j;){if(!i||11===i.nodeType||b.attach(i).isStyle(e,c)||b.isStyle(f,g))return!1;if(!d)break;i=i.parentNode}return!0},isDisplayed:function(){return!this.isStyle(f,g)},enableDisplayMode:function(b){var c=this;return c.setVisibilityMode(a.DISPLAY),Ext.isEmpty(b)||((c.$cache||c.getCache()).data.originalDisplay=b),c},mask:function(a,b,c){var e,f,g=this,l=g.dom,m=l.style.setExpression,n=(g.$cache||g.getCache()).data,o=n.maskShimEl,p=n.maskEl,q=n.maskMsg;if(k.test(l.tagName)&&"static"==g.getStyle("position")||g.addCls(i),p&&p.remove(),q&&q.remove(),o&&o.remove(),Ext.isIE6&&(o=Ext.DomHelper.append(l,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},!0),n.maskShimEl=o,o.setDisplayed(!0)),Ext.DomHelper.append(l,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:b?j+" "+b:j,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:a||""}}}]),q=Ext.get(l.lastChild),p=Ext.get(q.dom.previousSibling),n.maskMsg=q,n.maskEl=p,g.addCls(h),p.setDisplayed(!0),"string"==typeof a?(q.setDisplayed(!0),q.center(g)):q.setDisplayed(!1),!Ext.supports.IncludePaddingInWidthCalculation&&m)try{p.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"'),e='this.parentNode.clientWidth + "px"',o&&o.dom.style.setExpression("width",e),p.dom.style.setExpression("width",e)}catch(r){}if(!Ext.supports.IncludePaddingInHeightCalculation&&m)try{f="this.parentNode."+(l==d.body?"scrollHeight":"offsetHeight")+' + "px"',o&&o.dom.style.setExpression("height",f),p.dom.style.setExpression("height",f)}catch(r){}else!Ext.isIE9m||Ext.isIE7&&Ext.isStrict||"auto"!=g.getStyle("height")||(o&&o.setSize(void 0,c||g.getHeight()),p.setSize(void 0,c||g.getHeight()));return p},unmask:function(){var a,b=this,c=(b.$cache||b.getCache()).data,d=c.maskEl,e=c.maskShimEl,f=c.maskMsg;d&&(a=d.dom.style,a.clearExpression&&(a.clearExpression("width"),a.clearExpression("height")),d&&(d.remove(),delete c.maskEl),f&&(f.remove(),delete c.maskMsg),b.removeCls([h,i]),e&&(a=e.dom.style,a.clearExpression&&(a.clearExpression("width"),a.clearExpression("height")),e.remove(),delete c.maskShimEl))},isMasked:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.maskEl,d=b.maskMsg,e=!1;return c&&c.isVisible()&&(d&&d.center(a),e=!0),e},createShim:function(){var a,b=d.createElement("iframe");return b.frameBorder="0",b.className=Ext.baseCSSPrefix+"shim",b.src=Ext.SSL_SECURE_URL,a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom)),a.autoBoxAdjust=!1,a},addKeyListener:function(a,b,c){var d;return d="object"!=typeof a||Ext.isArray(a)?{target:this,key:a,fn:b,scope:c}:{target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c},new Ext.util.KeyMap(d)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},on:function(a,b,c,d){return Ext.EventManager.on(this,a,b,c||this,d),this},un:function(a,b,c){return Ext.EventManager.un(this,a,b,c||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this},select:function(b){return a.select(b,!1,this.dom)}}},function(){function a(){if(Ext.enableGarbageCollector){var a,b,c,f;for(a in d)d.hasOwnProperty(a)&&(c=d[a],c.skipGarbageCollection||(b=c.dom,!b||b.parentNode&&(b.offsetParent||Ext.getElementById(a))||(Ext.enableListenerCollection&&Ext.EventManager.removeAll(b),delete d[a])));if(Ext.isIE){f={};for(a in d)d.hasOwnProperty(a)&&(f[a]=d[a]);d=Ext.cache=f}}else clearInterval(e.collectorThreadId)}var b,c=document,d=Ext.cache,e=this,f=Ext.dom.AbstractElement,g=/^a|button|embed|iframe|input|object|select|textarea$/i,h=/\S/,i=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,j=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,k=/\ssrc=([\'\"])(.*?)\1/i,l=/\stype=([\'\"])(.*?)\1/i,m=!Ext.isIE8m;e.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',e.collectorThreadId=setInterval(a,3e4),e.addMethods({monitorMouseLeave:function(a,b,c){var d,e=this,f={mouseleave:function(f){d=setTimeout(Ext.Function.bind(b,c||e,[f]),a)},mouseenter:function(){clearTimeout(d)},freezeEvent:!0};return e.on(f),f},swallowEvent:function(a,b){var c,d,e=this,f=function(a){a.stopPropagation(),b&&a.preventDefault()};if(Ext.isArray(a)){for(d=a.length,c=0;d>c;c++)e.on(a[c],f);return e}return e.on(a,f),e},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var c,d=this,e=d.dom,f=(d.$cache||d.getCache()).data,g=e.firstChild,i=-1;if(f.isCleaned&&a!==!0)return d;for(;g;)c=g.nextSibling,3==g.nodeType?h.test(g.nodeValue)?c&&3==c.nodeType&&(g.appendData(Ext.String.trim(c.data)),e.removeChild(c),c=g.nextSibling,g.nodeIndex=++i):e.removeChild(g):(b.attach(g).clean(),g.nodeIndex=++i),g=c;return f.isCleaned=!0,d},load:function(a){return this.getLoader().load(a),this},getLoader:function(){var a=this,b=(a.$cache||a.getCache()).data,c=b.loader;return c||(b.loader=c=new Ext.ElementLoader({target:a})),c},syncContent:function(a){a=Ext.getDom(a);var c,d,e,f,g,h,i,j=a.childNodes,k=j.length,l=this.dom,m=l.childNodes,n=m.length;if(Ext.isIE9m&&l.mergeAttributes)l.mergeAttributes(a,!0),l.src=a.src;else for(g=a.attributes,h=g.length,c=0;h>c;c++)i=g[c].name,"id"!==i&&l.setAttribute(i,g[c].value);if(k!==n)return void(l.innerHTML=a.innerHTML);for(c=0;k>c;c++){if(e=j[c],d=m[c],f=e.nodeType,f!==d.nodeType||1===f&&e.tagName!==d.tagName)return void(l.innerHTML=a.innerHTML);3===f?d.data=e.data:(e.id&&d.id!==e.id&&(d.id=e.id),d.style.cssText=e.style.cssText,d.className=e.className,b.attach(d).syncContent(e))}},update:function(a,b,d){var e,f,g,h=this;return h.dom?(a=a||"",f=h.dom,b!==!0?(f.innerHTML=a,Ext.callback(d,h),h):(e=Ext.id(),a+='<span id="'+e+'"></span>',g=setInterval(function(){var b,f,j,m,n,o,p;if(!(o=c.getElementById(e)))return!1;for(clearInterval(g),Ext.removeNode(o),b=Ext.getHead().dom;f=i.exec(a);)j=f[1],m=j?j.match(k):!1,m&&m[2]?(p=c.createElement("script"),p.src=m[2],n=j.match(l),n&&n[2]&&(p.type=n[2]),b.appendChild(p)):f[2]&&f[2].length>0&&(window.execScript?window.execScript(f[2]):window.eval(f[2]));Ext.callback(d,h)},20),f.innerHTML=a.replace(j,""),h)):h},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(a,b,c){a="object"==typeof a?a:{tag:"div",cls:a};var d=this,f=b?Ext.DomHelper.append(b,a,!0):Ext.DomHelper.insertBefore(d.dom,a,!0);return f.setVisibilityMode(e.DISPLAY),f.hide(),c&&d.setBox&&d.getBox&&f.setBox(d.getBox()),f},needsTabIndex:function(){return this.dom?"a"!==this.dom.nodeName||this.dom.href?!g.test(this.dom.nodeName):!0:void 0},isFocusable:function(a){var b,c=this.dom,d=c.getAttributeNode("tabIndex"),e=c.nodeName,f=!1;return d&&d.specified&&(b=d.value),c&&!c.disabled&&(-1==b?f=Ext.FocusManager&&Ext.FocusManager.enabled&&a:g.test(e)?("a"!==e||c.href)&&(f=!0):f=null!=b&&b>=0,f=f&&this.isVisible(!0)),f}}),Ext.isIE&&(e.prototype.getById=function(a,b){var f,g,h,i=this.dom;return i&&(g=m&&c.getElementById(a)||i.all[a])?(b?h=g:(f=d[a],h=f&&f.el?Ext.updateCacheEntry(f,g).el:new e(g)),h):b?Ext.getDom(a):e.get(a)}),e.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"}),e.Fly=f.Fly=new Ext.Class({extend:e,isFly:!0,constructor:function(a){this.dom=a,this.el=this},attach:f.Fly.prototype.attach}),b=new e.Fly,Ext.isIE?Ext.getElementById=function(a){var b,d=c.getElementById(a);return!d&&(b=f.detachedBodyEl)&&(d=b.dom.all[a]),d}:c.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(a){return c.getElementById(a)})}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",requires:["Ext.dom.Element","Ext.dom.Query"],statics:{importElementMethods:function(){var a,b=Ext.dom.Element.prototype,c=this.prototype;for(a in b)"function"==typeof b[a]&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)}},constructor:function(a,b){this.elements=[],this.add(a,b),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c,d,e=this.elements;if(!a)return this;for("string"==typeof a?a=Ext.dom.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]),c=0,d=a.length;d>c;++c)e.push(this.transformElement(a[c]));return this},invoke:function(a,b){var c,d,e=this.elements,f=e.length;for(a=Ext.dom.Element.prototype[a],d=0;f>d;d++)c=e[d],c&&a.apply(this.getElement(c),b);return this},item:function(a){var b=this.elements[a],c=null;return b&&(c=this.getElement(b)),c},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(a,b,c,d){var e,f,g=this.elements,h=g.length;for(e=0;h>e;e++)f=g[e],f&&Ext.EventManager.on(f,a,b,c||f,d);return this},each:function(a,b){var c,d,e=this,f=e.elements,g=f.length;for(c=0;g>c&&(d=f[c],!d||(d=this.getElement(d),a.call(b||d,d,e,c)!==!1));c++);return e},fill:function(a){var b=this;return b.elements=[],b.add(a),b},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(a){for(var b,c,d=this,e=d.elements,f=e.length,g=[],h=0,i="function"==typeof a;f>h;h++)c=e[h],b=!1,c&&(c=d.getElement(c),b=i?a.call(c,c,d,h)!==!1:c.is(a),b&&g.push(d.transformElement(c)));return d.elements=g,d},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){var d,e=isNaN(a)?this.indexOf(a):a;return e>-1&&(b=Ext.getDom(b),c&&(d=this.elements[e],d.parentNode.insertBefore(b,d),Ext.removeNode(d)),Ext.Array.splice(this.elements,e,1,b)),this},clear:function(a){var b=this,c=b.elements,d=c.length-1;if(a)for(;d>=0;d--)Ext.removeNode(c[d]);this.elements=[]},addElements:function(a,b){if(!a)return this;"string"==typeof a&&(a=Ext.dom.Element.selectorFunction(a,b));var c,d=this.elements,e=a.length;for(c=0;e>c;c++)d.push(Ext.get(a[c]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(a,b){a=[].concat(a);var c,d,e,f=this,g=f.elements,h=a.length;for(e=0;h>e;e++)c=a[e],(d=g[c]||g[c=f.indexOf(c)])&&(b&&(d.dom?d.remove():Ext.removeNode(d)),Ext.Array.erase(g,c,1));return f}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(a,b){var c;return"string"==typeof a?c=Ext.dom.Element.selectorFunction(a,b):void 0!==a.length&&(c=a),new Ext.CompositeElementLite(c)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},function(){Ext.dom.Element.select=function(a,b,c){var d;return"string"==typeof a?d=Ext.dom.Element.selectorFunction(a,c):void 0!==a.length&&(d=a),b===!0?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)}}),Ext.select=Ext.Element.select,Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},generation:0,constructor:function(a){a=a||{};var b=this,c=a.keyFn;b.initialConfig=a,b.addEvents("add","clear","remove","replace"),b.mixins.observable.constructor.call(b,a),b.clear(!0),c&&(b.getKey=c)},getCount:function(){return this.length},getData:function(a,b){return void 0===b&&(b=a,a=this.getKey(b)),[a,b]},getKey:function(a){return a.id},add:function(a,b){var c=this;return 1===arguments.length&&(b=a,a=c.getKey(b)),c.containsKey(a)?c.replace(a,b):(c.map[a]=b,++c.length,c.generation++,c.hasListeners.add&&c.fireEvent("add",c,a,b),b)},replace:function(a,b){var c,d=this,e=d.map;return 1===arguments.length&&(b=a,a=d.getKey(b)),d.containsKey(a)||d.add(a,b),c=e[a],e[a]=b,d.generation++,d.hasListeners.replace&&d.fireEvent("replace",d,a,b,c),b},remove:function(a){var b=this.findKey(a);return void 0!==b?this.removeAtKey(b):!1},removeAtKey:function(a){var b,c=this;return c.containsKey(a)?(b=c.map[a],delete c.map[a],--c.length,c.generation++,c.hasListeners.remove&&c.fireEvent("remove",c,a,b),!0):!1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:void 0},clear:function(a){var b=this;return(a||b.generation)&&(b.map={},b.length=0,b.generation=a?0:b.generation+1),a!==!0&&b.hasListeners.clear&&b.fireEvent("clear",b),b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&void 0!==b[a]},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(a){var b,c=[],d=this.map;for(b in d)d.hasOwnProperty(b)&&c.push(a?b:d[b]);return c},each:function(a,b){var c,d=Ext.apply({},this.map),e=this.length;b=b||this;for(c in d)if(d.hasOwnProperty(c)&&a.call(b,c,d[c],e)===!1)break;return this},clone:function(){var a,b=new this.self(this.initialConfig),c=this.map;b.suspendEvents();for(a in c)c.hasOwnProperty(a)&&b.add(a,c[a]);return b.resumeEvents(),b},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b;return void 0}}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a},isRegistered:function(a){return void 0!==this.types[a]},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];return new d(a)},onAvailable:function(a,b,c){var d,e,f=this.all;f.containsKey(a)?(d=f.get(a),b.call(c||d,d)):(e=function(d,g,h){g==a&&(b.call(c||h,h),f.un("add",e))},f.on("add",e))},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(a,b){return"string"==typeof a?Ext.widget(a):a.isComponent?a:Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b,b[this.typeName]=a,b.prototype[this.typeName]=a}},function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}}),Ext.define("Ext.ComponentQuery",{singleton:!0,requires:["Ext.ComponentManager","Ext.dom.Query"]},function(){var a=this,b=Ext.dom.Query.operators,c=/(\d*)n\+?(\d*)/,d=/\D/,e=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),f=function(a,b){return b.method.apply(this,[a].concat(b.args))},g=function(a,b){for(var c,d=[],e=0,f=a.length,g=">"!==b;f>e;e++)c=a[e],c.getRefItems&&(d=d.concat(c.getRefItems(g)));return d},h=function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)for(b=a[d];b=b.getRefOwner();)c.push(b);return c},i=function(a,b,c){if("*"===b)return a.slice();for(var d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.isXType(b,c)&&e.push(d);return e},j=function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],c.hasCls(b)&&d.push(c);return d},k=function(a,c,d,e){var f,g,h,i,j,k,l=[],m=0,n=a.length;for("@"===c.charAt(0)&&(f=!0,c=c.substr(1)),"?"===c.charAt(0)&&(f=!0,g=!0,c=c.substr(1));n>m;m++)if(h=a[m],!f||h.hasOwnProperty(c))if(i=h[c],g)l.push(h);else if("~="===d){if(i)for(Ext.isArray(i)||(i=i.split(" ")),j=0,k=i.length;k>j;j++)if(b[d](Ext.coerce(i[j],e),e)){l.push(h);break}}else(e?b[d](Ext.coerce(i,e),e):!!h[c])&&l.push(h);return l},l=function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],c.getItemId()===b&&d.push(c);return d},m=function(b,c,d){return a.pseudos[c](b,d)},n=/^(\s?([>\^])\s?|\s|$)/,o=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,p=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:i},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:k},{re:/^#([\w\-]+)/,method:l},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:m},{re:/^(?:\{([^\}]+)\})/,method:e}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{},Ext.apply(this,a)},execute:function(a){var b,c,d=this.operations,e=0,i=d.length;for(a?Ext.isIterable(a)?c=a:a.isMixedCollection&&(c=a.items):c=Ext.ComponentManager.all.getArray();i>e;e++)if(b=d[e],c="^"===b.mode?h(c||[a]):b.mode?g(c||[a],b.mode):f(c||g([a]),b),e===i-1)return c;return[]},is:function(a){var b,c,d=this.operations,e=Ext.isArray(a)?a:[a],g=e.length,h=d[d.length-1];if(e=f(e,h),e.length===g){if(d.length>1)for(c=0,b=e.length;b>c;c++)if(-1===Ext.Array.indexOf(this.execute(),e[c]))return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(a,b){for(var c,d=Ext.ComponentQuery,e=0,f=a.length,g=[],h=-1;f>e;++e)c=a[e],d.is(c,b)||(g[++h]=c);return g},first:function(a){var b=[];return a.length>0&&b.push(a[0]),b},last:function(a){var b=a.length,c=[];return b>0&&c.push(a[b-1]),c},focusable:function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a[e],b.isFocusable()&&d.push(b);
return d},"nth-child":function(a,b){var e,f,g,h=[],i=c.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!d.test(b)&&"n+"+b||b),j=(i[1]||1)-0,k=i[2]-0;for(e=0;f=a[e];e++)g=e+1,1==j?(0==k||g==k)&&h.push(f):(g+k)%j==0&&h.push(f);return h}},query:function(a,b){for(var c,d,e,f=a.split(","),g=f.length,h=0,i=[],j=[],k={};g>h;h++)a=Ext.String.trim(f[h]),c=this.cache[a]||(this.cache[a]=this.parse(a)),i=i.concat(c.execute(b));if(g>1){for(d=i.length,h=0;d>h;h++)e=i[h],k[e.id]||(j.push(e),k[e.id]=!0);i=j}return i},is:function(a,b){if(!b)return!0;for(var c,d=b.split(","),e=d.length,f=0;e>f;f++)if(b=Ext.String.trim(d[f]),c=this.cache[b]||(this.cache[b]=this.parse(b)),c.is(a))return!0;return!1},parse:function(b){for(var c,d,e,f,g,h,k,m,q=[],r=p.length;b&&c!==b;){for(c=b,d=b.match(o),d&&(e=d[1],q.push("#"===e?{method:l,args:[Ext.String.trim(d[2])]}:"."===e?{method:j,args:[Ext.String.trim(d[2])]}:{method:i,args:[Ext.String.trim(d[2]),Boolean(d[3])]}),b=b.replace(d[0],""));!(f=b.match(n));)for(h=0;b&&r>h;h++){if(k=p[h],g=b.match(k.re),m=k.method,g){q.push({method:Ext.isString(k.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[m].concat(g.slice(1)))):k.method,args:g.slice(1)}),b=b.replace(g[0],"");break}h===r-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}f[1]&&(q.push({mode:f[2]||f[1]}),b=b.replace(f[0],""))}return new a.Query({operations:q})}})}),Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(c){var d=this;Ext.apply(d,c),d.classList=a(d.cls),d.classMap=b(d.classList),delete d.cls,Ext.isFunction(d.style)?(d.styleFn=d.style,delete d.style):"string"==typeof d.style?d.style=Ext.Element.parseStyles(d.style):d.style&&(d.style=Ext.apply({},d.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(b){for(var c,d=this,e="string"==typeof b?a(b):b,f=e.length,g=d.classList,h=d.classMap,i=d.flushClassList,j=0;f>j;++j)c=e[j],h[c]||(h[c]=!0,g.push(c),i&&(i.push(c),delete d.removedClasses[c]));return d},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d,e,f=this,g=f.classList,h=f.classList=[],i=b(a(c)),j=g.length,k=f.classMap,l=f.removedClasses;for(d=0;j>d;++d)e=g[d],i[e]?(l&&k[e]&&(l[e]=!0,Ext.Array.remove(f.flushClassList,e)),delete k[e]):h.push(e);return f},setStyle:function(a,b){var c=this,d=c.style||(c.style={});return"string"==typeof a?1===arguments.length?c.setStyle(Ext.Element.parseStyles(a)):d[a]=b:Ext.apply(d,a),c},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(a){var b,c=this,d=c.flushClassList||c.classList,e=c.removedClasses;return c.styleFn?(b=Ext.apply({},c.styleFn()),Ext.apply(b,c.style)):b=c.style,a[c.clsProp]=d.join(" "),b&&(a[c.styleProp]=c.styleIsText?Ext.DomHelper.generateStyles(b):b),e&&(e=Ext.Object.getKeys(e),e.length&&(a[c.removedProp]=e.join(" "))),c.unselectableAttr&&(a.unselectable="on"),a}}}()),Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(a,b,c){var d;return a.init?d=a:(c?(a=Ext.apply({},a),a.cmp=c):c=a.cmp,a.xclass?d=Ext.create(a):(d=Ext.ClassManager.getByAlias("plugin."+(a.ptype||b)),"function"==typeof d&&(d=new d(a)))),d&&c&&d.setCmp&&!d.setCmpCalled&&(d.setCmp(c),d.setCmpCalled=!0),d},findByType:function(a,b){var c,d,e=[],f=this.types;for(c in f)f.hasOwnProperty(c)&&(d=f[c],d.type==a&&(!b||b===!0&&d.isDefault)&&e.push(d));return e}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.util.Filter",{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(b){var c,d,e=!0,f=a.length;for(c=0;e&&f>c;c++)d=a[c],d.disabled||(e=e&&d.filterFn.call(d.scope||d,b));return e}:function(){return!0}}},operatorFns:{"<":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},"<=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=this.value},"=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},">=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},">":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},"!=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(a){var b=this;b.initialConfig=a,Ext.apply(b,a),b.filter=b.filter||b.filterFn,void 0===b.filter&&b.setValue(a.value)},setValue:function(a){var b=this;b.value=a,void 0===b.property||void 0===b.value||(b.filter=b.createFilterFn()),b.filterFn=b.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return a.operator?a.operatorFns[a.operator]:function(d){var e=a.getRoot(d)[c];return null===b?null===e:b.test(e)}},getRoot:function(a){var b=this.root;return void 0===b?a:a[b]},createValueMatcher:function(){var a=this,b=a.value,c=a.anyMatch,d=a.exactMatch,e=a.caseSensitive,f=Ext.String.escapeRegex;return null===b?b:(b.exec||(b=String(b),c===!0?b=f(b):(b="^"+f(b),d===!0&&(b+="$")),b=new RegExp(b,e?"":"i")),b)},serialize:function(){var a=this,b=Ext.apply({},a.initialConfig);return b.value=a.value,b}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(a,b){var c=this;1===arguments.length&&Ext.isObject(a)?(c.initialConfig=a,Ext.apply(c,a)):(c.allowFunctions=a===!0,b&&(c.getKey=b),c.initialConfig={allowFunctions:c.allowFunctions,getKey:c.getKey}),c.items=[],c.map={},c.keys=[],c.indexMap={},c.length=0,c.mixins.observable.constructor.call(c)},allowFunctions:!1,add:function(a,b){var c,d=this.length;return c=1===arguments.length?this.insert(d,a):this.insert(d,a,b)},getKey:function(a){return a.id},replace:function(a,b){var c,d,e=this;return 1==arguments.length&&(b=arguments[0],a=e.getKey(b)),c=e.map[a],"undefined"==typeof a||null===a||"undefined"==typeof c?e.add(a,b):(e.generation++,d=e.indexOfKey(a),e.items[d]=b,e.map[a]=b,e.hasListeners.replace&&e.fireEvent("replace",a,c,b),b)},updateKey:function(a,b){var c,d=this,e=d.map,f=d.indexMap,g=d.indexOfKey(a);g>-1&&(c=e[a],delete e[a],delete f[a],e[b]=c,f[b]=g,d.keys[g]=b,d.generation++)},addAll:function(a){var b,c=this;if(arguments.length>1||Ext.isArray(a))c.insert(c.length,arguments.length>1?arguments:a);else for(b in a)a.hasOwnProperty(b)&&(c.allowFunctions||"function"!=typeof a[b])&&c.add(b,a[b])},each:function(a,b){for(var c,d=Ext.Array.push([],this.items),e=0,f=d.length;f>e&&(c=d[e],a.call(b||c,c,e,f)!==!1);e++);},eachKey:function(a,b){for(var c=this.keys,d=this.items,e=0,f=c.length;f>e;e++)a.call(b||window,c[e],d[e],e,f)},findBy:function(a,b){for(var c=this.keys,d=this.items,e=0,f=d.length;f>e;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;return Ext.isIterable(b)?d=this.doInsert(a,b,c):(d=arguments.length>2?this.doInsert(a,[b],[c]):this.doInsert(a,[b]),d=d[0]),d},doInsert:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=b.length,m=l,n=k.hasListeners.add,o={};if(null!=c)k.useLinearSearch=!0;else for(c=b,b=new Array(l),f=0;l>f;f++)b[f]=this.getKey(c[f]);for(k.suspendEvents(),f=0;l>f;f++)d=b[f],e=k.indexOfKey(d),-1!==e&&(a>e&&a--,k.removeAt(e)),null!=d&&(null!=o[d]&&(h=!0,m--),o[d]=f);if(k.resumeEvents(),h){i=b,j=c,b=new Array(m),c=new Array(m),f=0;for(d in o)b[f]=i[o[d]],c[f]=j[o[d]],f++;l=m}for(g=a===k.length&&k.indexGeneration===k.generation,Ext.Array.insert(k.items,a,c),Ext.Array.insert(k.keys,a,b),k.length+=l,k.generation++,g&&(k.indexGeneration=k.generation),f=0;l>f;f++,a++)d=b[f],null!=d&&(k.map[d]=c[f],g&&(k.indexMap[d]=a)),n&&k.fireEvent("add",a,c[f],d);return c},remove:function(a){var b,c,d=this;return c=!d.useLinearSearch&&(b=d.getKey(a))?d.indexOfKey(b):Ext.Array.indexOf(d.items,a),-1===c?!1:d.removeAt(c)},removeAll:function(a){var b,c=this;if(a||c.hasListeners.remove)if(a)for(b=a.length-1;b>=0;--b)c.remove(a[b]);else for(;c.length;)c.removeAt(0);else c.length=c.items.length=c.keys.length=0,c.map={},c.indexMap={},c.generation++,c.indexGeneration=c.generation},removeAt:function(a){var b,c,d=this;return a<d.length&&a>=0?(d.length--,b=d.items[a],Ext.Array.erase(d.items,a,1),c=d.keys[a],"undefined"!=typeof c&&delete d.map[c],Ext.Array.erase(d.keys,a,1),d.hasListeners.remove&&d.fireEvent("remove",b,c),d.generation++,b):!1},removeRange:function(a,b){var c,d,e,f,g,h,i=this;if(a<i.length&&a>=0){for(b||(b=1),f=Math.min(a+b,i.length),b=f-a,h=f===i.length,g=h&&i.indexGeneration===i.generation,e=a;f>e;e++)d=i.keys[e],null!=d&&(delete i.map[d],g&&delete i.indexMap[d]);return c=i.items[e-1],i.length-=b,i.generation++,g&&(i.indexGeneration=i.generation),h?i.items.length=i.keys.length=i.length:(i.items.splice(a,b),i.keys.splice(a,b)),c}return!1},removeAtKey:function(a){var b,c=this,d=c.keys;if(null!=a)return c.removeAt(c.indexOfKey(a));for(b=d.length-1;b>=0;b--)null==d[b]&&c.removeAt(b)},getCount:function(){return this.length},indexOf:function(a){var b,c=this;return null!=a?!c.useLinearSearch&&(b=c.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(c.items,a):-1},indexOfKey:function(a){return this.map.hasOwnProperty(a)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[a]):-1},rebuildIndexMap:function(){var a,b=this,c=b.indexMap={},d=b.keys,e=d.length;for(a=0;e>a;a++)c[d[a]]=a;b.indexGeneration=b.generation},get:function(a){var b=this,c=b.map[a],d=void 0!==c?c:"number"==typeof a?b.items[a]:void 0;return"function"!=typeof d||b.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b,c=this;return null!=a?!c.useLinearSearch&&(b=c.getKey(a))?null!=this.map[b]:-1!==Ext.Array.indexOf(this.items,a):!1},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;a.generation&&(a.length=0,a.items=[],a.keys=[],a.map={},a.indexMap={},a.generation++,a.indexGeneration=a.generation),a.hasListeners.clear&&a.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){var e,f=this.extractValues(a,b),g=f.length,h=0;for(c=c||0,d=d||0===d?d:g-1,e=c;d>=e;e++)h+=f[e];return h},collect:function(a,b,c){var d,e,f,g=this.extractValues(a,b),h=g.length,i={},j=[];for(f=0;h>f;f++)d=g[f],e=String(d),!c&&Ext.isEmpty(d)||i[e]||(i[e]=!0,j.push(d));return j},extractValues:function(a,b){var c=this.items;return b&&(c=Ext.Array.pluck(c,b)),Ext.Array.pluck(c,a)},hasRange:function(a,b){return b<this.length},getRange:function(a,b){var c,d,e=this,f=e.items,g=[],h=f.length;return 1>h?g:(a>b&&(d=!0,c=a,a=b,b=c),0>a&&(a=0),(null==b||b>=h)&&(b=h-1),g=f.slice(a,b+1),d&&g.length&&g.reverse(),g)},filter:function(a,b,c,d){var e=[];return Ext.isString(a)?e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d})):(Ext.isArray(a)||a instanceof Ext.util.Filter)&&(e=e.concat(a)),this.filterBy(Ext.util.Filter.createFilterFn(e))},filterBy:function(a,b){var c,d=this,e=new d.self(d.initialConfig),f=d.keys,g=d.items,h=g.length;for(e.getKey=d.getKey,c=0;h>c;c++)a.call(b||d,g[c],f[c])&&e.add(f[c],g[c]);return e},findIndex:function(a,b,c,d,e){return Ext.isEmpty(b,!1)?-1:(b=this.createValueMatcher(b,d,e),this.findIndexBy(function(c){return c&&b.test(c[a])},null,c))},findIndexBy:function(a,b,c){for(var d=this,e=d.keys,f=d.items,g=c||0,h=f.length;h>g;g++)if(a.call(b||d,f[g],e[g]))return g;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a),b===!0?a=e(a):(a="^"+e(a),d===!0&&(a+="$")),a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=this,b=new this.self(a.initialConfig);return b.add(a.keys,a.items),b}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(a){var b=this;Ext.apply(b,a),b.updateSortFunction()},createSortFunction:function(a){var b=this,c=b.direction||"ASC",d="DESC"==c.toUpperCase()?-1:1;return function(c,e){return d*a.call(b,c,e)}},defaultSorterFn:function(a,b){var c=this,d=c.transform,e=c.getRoot(a)[c.property],f=c.getRoot(b)[c.property];return d&&(e=d(e),f=d(f)),e>f?1:f>e?-1:0},getRoot:function(a){return void 0===this.root?a:a[this.root]},setDirection:function(a){var b=this;b.direction=a?a.toUpperCase():a,b.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC"),a.updateSortFunction()},updateSortFunction:function(a){var b=this;a=a||b.sorterFn||b.defaultSorterFn,b.sort=b.createSortFunction(a)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],statics:{createComparator:function(a){return a&&a.length?function(b,c){for(var d=a[0].sort(b,c),e=a.length,f=1;e>f;f++)d=d||a[f].sort.call(this,b,c);return d}:function(){return 0}}},initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(!1,function(a){return a.id||a.property}),b&&a.sorters.addAll(a.decodeSorters(b))},sort:function(a,b,c,d){var e,f,g=this;return Ext.isArray(a)?(d=c,c=b,f=a):Ext.isObject(a)?(d=c,c=b,f=[a]):Ext.isString(a)&&(e=g.sorters.get(a),e?void 0===b?e.toggle():e.setDirection(b):(e={property:a,direction:b},f=[e])),f&&f.length&&(f=g.decodeSorters(f),Ext.isString(c)?"prepend"===c?g.sorters.insert(0,f):g.sorters.addAll(f):(g.sorters.clear(),g.sorters.addAll(f))),d!==!1&&(g.fireEvent("beforesort",g,f),g.onBeforeSort(f),a=g.sorters.items,a.length&&g.doSort(g.generateComparator())),a},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b,c,d,e=a.length,f=Ext.util.Sorter,g=this.model?this.model.prototype.fields:null;for(d=0;e>d;d++)c=a[d],c instanceof f||(Ext.isString(c)&&(c={property:c}),Ext.applyIf(c,{root:this.sortRoot,direction:"ASC"}),c.fn&&(c.sorterFn=c.fn),"function"==typeof c&&(c={sorterFn:c}),g&&!c.transform&&(b=g.get(c.property),c.transform=b&&b.sortType!==Ext.identityFn?b.sortType:void 0),a[d]=new Ext.util.Sorter(c));return a},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var a,b=this.sorters.items,c=b.length,d=0;c>d;++d)if(a=b[d],!a.isGrouper)return a;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var a=this;a.callParent(arguments),a.addEvents("sort"),a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e,f,g=this,h="DESC"==String(b).toUpperCase()?-1:1,i=[],j=g.keys,k=g.items;for(c=c||function(a,b){return a-b},d=0,e=k.length;e>d;d++)i[i.length]={key:j[d],value:k[d],index:d};for(Ext.Array.sort(i,function(b,d){return c(b[a],d[a])*h||(b.index<d.index?-1:1)}),d=0,e=i.length;e>d;d++)f=i[d],k[d]=f.value,j[d]=f.key,g.indexMap[f.key]=d;g.generation++,g.indexGeneration=g.generation,g.fireEvent("sort",g)},sortBy:function(a){var b,c,d,e=this,f=e.items,g=e.keys,h=f.length;for(d=0;h>d;d++)f[d].$extCollectionIndex=d;for(Ext.Array.sort(f,function(b,c){return a(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)}),d=0;h>d;d++)b=f[d],c=e.getKey(b),g[d]=c,e.indexMap[c]=d,delete f.$extCollectionIndex;e.generation++,e.indexGeneration=e.generation,e.fireEvent("sort",e,f,g)},findInsertionIndex:function(a,b){var c,d,e=this,f=e.items,g=0,h=f.length-1;for(b||(b=e.generateComparator());h>=g;)c=g+h>>1,d=b(a,f[c]),d>=0?g=c+1:0>d&&(h=c-1);return g},reorder:function(a){var b,c=this,d=c.items,e=0,f=d.length,g=[],h=[];c.suspendEvents();for(b in a)g[a[b]]=d[b];for(e=0;f>e;e++)void 0==a[e]&&h.push(d[e]);for(e=0;f>e;e++)void 0==g[e]&&(g[e]=h.shift());c.clear(),c.addAll(g),c.resumeEvents(),c.fireEvent("sort",c)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:d>c?-1:0})}}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(a){this.target=a,this.id=this.getId()},getId:function(){return this.target.id}}),Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(a,b,c){return void 0==c&&(c="x"===b?a.getX():"y"===b?a.getY():"scrollTop"===b?a.getScroll().top:"scrollLeft"===b?a.getScroll().left:"height"===b?a.getHeight():"width"===b?a.getWidth():a.getStyle(b)),c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b,c,d,e,f,g,h=(this.target,a.length);for(e=0;h>e;e++){b=a[e].attrs;for(c in b)if(b.hasOwnProperty(c))for(g=b[c].length,f=0;g>f;f++)d=b[c][f],this.setElVal(d[0],c,d[1])}},setElVal:function(a,b,c){"x"===b?a.setX(c):"y"===b?a.setY(c):"scrollTop"===b?a.scrollTo("top",c):"scrollLeft"===b?a.scrollTo("left",c):"width"===b?a.setWidth(c):"height"===b?a.setHeight(c):a.setStyle(b,c)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(a,b){var c,d,e,f,g,h,i,j,k,l={attrs:[],duration:[],easing:[]},m=a.length;for(i=0;m>i;i++){d=a[i],g=d.duration,f=d.easing,d=d.attrs;for(e in d)-1==Ext.Array.indexOf(l.attrs,e)&&(l.attrs.push(e.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})),l.duration.push(g+"ms"),l.easing.push(f))}for(c=l.attrs.join(","),g=l.duration.join(","),f=l.easing.join(", "),i=0;m>i;i++){d=a[i].attrs;for(e in d)for(k=d[e].length,j=0;k>j;j++)h=d[e][j],h[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",b?"":c),h[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":g),h[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":f),h[0].setStyle(e,h[1]),b?h=h[0].dom.offsetWidth:h[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},h[0],{single:!0})}}}),Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-"),this.callParent([a])},getAttr:function(a,b){var c,d,e=[],f=this.target,g=f.elements,h=g.length;for(c=0;h>c;c++)d=g[c],d&&(d=f.getElement(d),e.push([d,this.getElVal(d,a,b)]));return e},setAttr:function(a){var b,c,d,e,f,g,h,i=this.target,j=a.length,k=i.elements,l=k.length;for(f=0;j>f;f++){d=a[f].attrs;for(e in d)if(d.hasOwnProperty(e))for(h=d[e].length,g=0;h>g;g++)for(b=d[e][g][1],c=0;l>c;++c)el=k[c],el&&(el=i.getElement(el),this.setElVal(el,e,b))}}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(a,b){var c;switch(b){case"rotate":case"rotation":return c=a.attr.rotation,{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case"scale":case"scaling":return c=a.attr.scaling,{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case"translate":case"translation":return c=a.attr.translation,{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,void 0!=b?b:this.getFromPrim(this.target,a)]]},setAttr:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=a.length,o=[];for(i=0;n>i;i++){b=a[i].attrs;for(c in b)for(d=b[c],m=d.length,j=0;m>j;j++)f=d[j][0],e=d[j][1],"translate"===c||"translation"===c?h={x:e.x,y:e.y}:"rotate"===c||"rotation"===c?(k=e.x,isNaN(k)&&(k=null),l=e.y,isNaN(l)&&(l=null),h={degrees:e.degrees,x:k,y:l}):"scale"===c||"scaling"===c?(k=e.x,isNaN(k)&&(k=null),l=e.y,isNaN(l)&&(l=null),h={x:k,y:l,cx:e.cx,cy:e.cy}):h="width"===c||"height"===c||"x"===c||"y"===c?parseFloat(e):e,g=Ext.Array.indexOf(o,f),-1==g&&(o.push([f,{}]),g=o.length-1),o[g][1][c]=h}for(n=o.length,i=0;n>i;i++)o[i][0].setAttributes(o[i][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(a,b){var c,d,e=[],f=[].concat(this.target.items),g=f.length;for(c=0;g>c;c++)d=f[c],e.push([d,void 0!=b?b:this.getFromPrim(d,a)]);return e}}),Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=a.length,q={};for(g=0;p>g;g++){d=a[g].attrs;for(e in d)for(i=d[e].length,h=0;i>h;h++)f=d[e][h],n=q[o.setMethods[e]]||(q[o.setMethods[e]]={}),n.target=f[0],n[e]=f[1];q.setPosition&&(f=q.setPosition,j=void 0===f.left?void 0:parseFloat(f.left),k=void 0===f.top?void 0:parseFloat(f.top),f.target.setPosition(j,k)),q.setPagePosition&&(f=q.setPagePosition,f.target.setPagePosition(f.x,f.y)),q.setSize&&(f=q.setSize,l=void 0===f.width?f.target.getWidth():parseFloat(f.width),m=void 0===f.height?f.target.getHeight():parseFloat(f.height),f.target.el.setSize(l,m),(c||o.dynamic)&&Ext.globalEvents.on({idle:Ext.Function.bind(f.target.setSize,f.target,[l,m]),single:!0})),q.setOpacity&&(f=q.setOpacity,f.target.el.setStyle("opacity",f.opacity))}}}),Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);return b?b.fxDefaults:{}},setFxDefaults:function(a,b){var c=this.targets.get(a);c&&(c.fxDefaults=Ext.apply(c.fxDefaults||{},b))},stopAnimation:function(a){for(var b=this,c=b.getFxQueue(a),d=c.length;d;)c[d-1].end(),d--},getActiveAnimation:function(a){var b=this.getFxQueue(a);return b&&b.length?b[0]:!1},hasFxBlock:function(a){var b=this.getFxQueue(a);return b&&b[0]&&b[0].block},getFxQueue:function(a){if(!a)return!1;var b=this,c=b.fxQueue[a],d=b.targets.get(a);return d?(c||(b.fxQueue[a]=[],"element"!=d.type&&d.target.on("destroy",function(){b.fxQueue[a]=[]})),b.fxQueue[a]):!1},queueFx:function(a){var b,c,d=this,e=a.target;e&&(b=d.getFxQueue(e.getId()),c=b.length,c?a.concurrent?a.paused=!1:b[c-1].on("afteranimate",function(){a.paused=!1}):a.paused=!1,a.on("afteranimate",function(){if(Ext.Array.remove(b,a),0===b.length&&d.targets.remove(a.target),a.remove&&"element"==e.type){var c=Ext.get(e.id);c&&c.remove()}},d,{single:!0}),b.push(a))}}),Ext.define("Ext.fx.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){var a=this;a.items=new Ext.util.MixedCollection,a.mixins.queue.constructor.call(a),a.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(a){var b,c=this,d=!c.forceJS&&Ext.supports.Transitions;if(c.useCSS3=d,a){if(a.tagName||Ext.isString(a)||a.isFly)a=Ext.get(a),b=new Ext.fx.target["Element"+(d?"CSS":"")](a);else if(a.dom)b=new Ext.fx.target["Element"+(d?"CSS":"")](a);else if(a.isComposite)b=new Ext.fx.target["CompositeElement"+(d?"CSS":"")](a);else if(a.isSprite)b=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)b=new Ext.fx.target.CompositeSprite(a);else{if(!a.isComponent)return a.isAnimTarget?a:null;b=new Ext.fx.target.Component(a)}return c.targets.add(b),b}return null},addAnim:function(a){var b=this,c=b.items,d=b.task;c.add(a.id,a),!d&&c.length&&(d=b.task={run:b.runner,interval:b.interval,scope:b},b.taskRunner.start(d))},removeAnim:function(a){var b=this,c=b.items,d=b.task;c.removeAtKey(a.id),d&&!c.length&&(b.taskRunner.stop(d),delete b.task)},runner:function(){var a,b=this,c=b.items.getRange(),d=0,e=c.length;for(b.targetArr={},b.timestamp=new Date;e>d;d++)a=c[d],a.isReady()&&b.startAnim(a);for(d=0;e>d;d++)a=c[d],a.isRunning()&&b.runAnim(a);b.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(a){var b,c,d=this,e=d.useCSS3&&"element"==a.target.type,f=d.timestamp-a.startTime,g=f>=a.duration;b=this.collectTargetData(a,f,e,g),e&&(a.target.setAttr(b.anims[a.id].attributes,!0),d.collectTargetData(a,a.duration,e,g),a.paused=!0,b=a.target.target,a.target.isComposite&&(b=a.target.target.last()),c={},c[Ext.supports.CSS3TransitionEnd]=a.lastFrame,c.scope=a,c.single=!0,b.on(c))}},collectTargetData:function(a,b,c,d){var e=a.target.getId(),f=this.targetArr[e];return f||(f=this.targetArr[e]={id:e,el:a.target,anims:{}}),f.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]},f},applyPendingAttrs:function(){var a,b,c,d,e,f=this.targetArr;for(b in f)if(f.hasOwnProperty(b)){a=f[b];for(e in a.anims)a.anims.hasOwnProperty(e)&&(c=a.anims[e],d=c.anim,c.attributes&&d.isRunning()&&(a.el.setAttr(c.attributes,!1,c.isLastFrame),c.isLastFrame&&d.lastFrame()))}}}),Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{}),b.config=a,b.id=Ext.id(null,"ext-animator-"),b.addEvents("beforeanimate","keyframe","afteranimate"),b.mixins.observable.constructor.call(b,a),b.timeline=[],b.createTimeline(b.keyframes),b.target&&(b.applyAnimator(b.target),Ext.fx.Manager.addAnim(b))},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b,c,d,e,f,g,h=this,i=[],j=h.to||{},k=h.duration;for(f in a)a.hasOwnProperty(f)&&h.animKeyFramesRE.test(f)&&(g={attrs:Ext.apply(a[f],j)},"from"==f?f=0:"to"==f&&(f=100),g.pct=parseInt(f,10),i.push(g));for(Ext.Array.sort(i,h.sorter),e=i.length,d=0;e>d;d++)b=i[d-1]?k*(i[d-1].pct/100):0,c=k*(i[d].pct/100),h.timeline.push({duration:c-b,attrs:i[d].attrs})},applyAnimator:function(a){var b,c,d,e,f,g=this,h=[],i=g.timeline,j=i.length;if(g.fireEvent("beforeanimate",g)!==!1){for(f=0;j>f;f++)b=i[f],e=b.attrs,c=e.easing||g.easing,d=e.damper||g.damper,delete e.easing,delete e.damper,b=new Ext.fx.Anim({target:a,easing:c,damper:d,duration:b.duration,paused:!0,to:e}),h.push(b);for(g.animations=h,g.target=b.target,f=0;j-1>f;f++)b=h[f],b.nextAnim=h[f+1],b.on("afteranimate",function(){this.nextAnim.paused=!1}),b.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},g);h[j-1].on("afteranimate",function(){this.lastFrame()},g)}},start:function(a){var b,c=this,d=c.delay,e=c.delayStart;if(d){if(!e)return void(c.delayStart=a);if(b=a-e,d>b)return;a=new Date(e.getTime()+d)}c.fireEvent("beforeanimate",c)!==!1&&(c.startTime=a,c.running=!0,c.animations[c.keyframeStep].paused=!1)},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++,b>c?(a.startTime=new Date,a.currentIteration=c,a.keyframeStep=0,a.applyAnimator(a.target),a.animations[a.keyframeStep].paused=!1):(a.currentIteration=0,a.end())},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date-a.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(a,b,c,d,e,f){function g(a){return((l*a+k)*a+j)*a}function h(a,b){var c=i(a,b);return((o*c+n)*c+m)*c}function i(a,b){var c,d,e,f,h,i;for(e=a,i=0;8>i;i++){if(f=g(e)-a,Math.abs(f)<b)return e;if(h=(3*l*e+2*k)*e+j,Math.abs(h)<1e-6)break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),Math.abs(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))},cubicBezier:function(a,b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};return e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join(",")+")"},e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)},e}}),Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,f=a.abs,g=1.70158;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(a){var b=.07813-a/2,d=e(.0066+b*b),g=d-b,h=c(f(g),1/3)*(0>g?-1:1),i=-d-b,j=c(f(i),1/3)*(0>i?-1:1),k=h+j+.25;return 3*c(1-k,2)*k*.1+3*(1-k)*k*k+k*k*k},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,.48)},easeInOut:function(a){var b=.48-a/1.04,d=e(.1734+b*b),g=d-b,h=c(f(g),1/3)*(0>g?-1:1),i=-d-b,j=c(f(i),1/3)*(0>i?-1:1),k=h+j+.5;return 3*(1-k)*k*k+k*k*k},backIn:function(a){return a*a*((g+1)*a-g)},backOut:function(a){return a-=1,a*a*((g+1)*a+g)+1},elasticIn:function(a){if(0===a||1===a)return a;var e=.3,f=e/4;return c(2,-10*a)*d(2*(a-f)*b/e)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}},function(){var a=Ext.fx.Easing.self,b=a.prototype;a.implement({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})})}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(a,b,c){var d=this,e=Ext.Number.constrain;d.r=e(a,0,255),d.g=e(b,0,255),d.b=e(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var a,b=this,c=b.r/255,d=b.g/255,e=b.b/255,f=Math.max(c,d,e),g=Math.min(c,d,e),h=f-g,i=0,j=.5*(f+g);return g!=f&&(i=.5>j?h/(f+g):h/(2-f-g),a=c==f?60*(d-e)/h:d==f?120+60*(e-c)/h:240+60*(c-d)/h,0>a&&(a+=360),a>=360&&(a-=360)),[a,i,j]},getLighter:function(a){var b=this.getHSL();return a=a||this.lightnessFactor,b[2]=Ext.Number.constrain(b[2]+a,0,1),this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){return a=a||this.lightnessFactor,this.getLighter(-a)},toString:function(){var a=this,b=Math.round,c=b(a.r).toString(16),d=b(a.g).toString(16),e=b(a.b).toString(16);return c=1==c.length?"0"+c:c,d=1==d.length?"0"+d:d,e=1==e.length?"0"+e:e,["#",c,d,e].join("")},toHex:function(a){if(Ext.isArray(a)&&(a=a[0]),!Ext.isString(a))return"";if("#"===a.substr(0,1))return a;var b,c,d,e,f=this.colorToHexRe.exec(a);return Ext.isArray(f)?(b=parseInt(f[2],10),c=parseInt(f[3],10),d=parseInt(f[4],10),e=d|c<<8|b<<16,f[1]+"#"+("000000"+e.toString(16)).slice(-6)):a},fromString:function(a){var b,c,d,e,f=parseInt;
return 4!=a.length&&7!=a.length||"#"!==a.substr(0,1)?(b=a.match(this.rgbRe),b&&(c=b[1],d=b[2],e=b[3])):(b=a.match(this.hexRe),b&&(c=f(b[1],16)>>0,d=f(b[2],16)>>0,e=f(b[3],16)>>0,4==a.length&&(c+=16*c,d+=16*d,e+=16*e))),"undefined"==typeof c?void 0:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(a,b,c){var d,e,f,g=[],h=Math.abs,i=Math.floor;if(0==b||null==a)g=[c,c,c];else{switch(a/=60,d=b*(1-h(2*c-1)),e=d*(1-h(a-2*i(a/2)-1)),f=c-d/2,i(a)){case 0:g=[d,e,0];break;case 1:g=[e,d,0];break;case 2:g=[0,d,e];break;case 3:g=[0,e,d];break;case 4:g=[e,0,d];break;case 5:g=[d,0,e]}g=[g[0]+f,g[1]+f,g[2]+f]}return new Ext.draw.Color(255*g[0],255*g[1],255*g[2])}},function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})}),Ext.define("Ext.draw.Draw",{singleton:!0,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){return b=String(b).toLowerCase(),"object"==b&&a===Object(a)||"undefined"==b&&typeof a==b||"null"==b&&null===a||"array"==b&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){var b=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",b.x,b.y-b.ry,b.rx,b.ry,b.y+b.ry)},rectPath:function(a){var b=a.attr;return b.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b.x+b.radius,b.y,b.width-2*b.radius,b.radius,-b.radius,b.height-2*b.radius,2*b.radius-b.width,2*b.radius-b.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",b.x,b.y,b.width+b.x,b.height+b.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;return d.is(a,"array")&&d.is(a[0],"array")&&(c=d.pathClone(a)),c.length||String(a).replace(d.pathCommandRE,function(a,e,f){var g=[],h=e.toLowerCase();for(f.replace(d.pathValuesRE,function(a,b){b&&g.push(+b)}),"m"==h&&g.length>2&&(c.push([e].concat(Ext.Array.splice(g,0,2))),h="l",e="m"==e?"l":"L");g.length>=b[h]&&(c.push([e].concat(Ext.Array.splice(g,0,b[h]))),b[h]););}),c.toString=d.path2string,c},mapPath:function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=this.path2curve(a),e=0,f=a.length;f>e;e++)for(i=a[e],g=1,h=i.length;h-1>g;g+=2)c=b.x(i[g],i[g+1]),d=b.y(i[g],i[g+1]),i[g]=c,i[g+1]=d;return a},pathClone:function(a){var b,c,d,e,f=[];for(this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a)),d=0,e=a.length;e>d;d++)for(f[d]=[],b=0,c=a[d].length;c>b;b++)f[d][b]=a[d][b];return f.toString=this.path2string,f},pathToAbsolute:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b,c,d,e,f=[],g=0,h=0,i=0,j=0,k=0,l=a.length;for(l&&"M"==a[0][0]&&(g=+a[0][1],h=+a[0][2],i=g,j=h,k++,f[0]=["M",g,h]);l>k;k++){if(b=f[k]=[],c=a[k],c[0]!=c[0].toUpperCase())switch(b[0]=c[0].toUpperCase(),b[0]){case"A":b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=+(c[6]+g),b[7]=+(c[7]+h);break;case"V":b[1]=+c[1]+h;break;case"H":b[1]=+c[1]+g;break;case"M":i=+c[1]+g,j=+c[2]+h;default:for(d=1,e=c.length;e>d;d++)b[d]=+c[d]+(d%2?g:h)}else for(d=0,e=c.length;e>d;d++)f[k][d]=c[d];switch(b[0]){case"Z":g=i,h=j;break;case"H":g=b[1];break;case"V":h=b[1];break;case"M":c=f[k],e=c.length,i=c[e-2],j=c[e-1];default:c=f[k],e=c.length,g=c[e-2],h=c[e-1]}}return f.toString=this.path2string,f},pathToRelative:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b,c,d,e,f,g,h,i,j,k=[],l=0,m=0,n=0,o=0,p=0;for("M"==a[0][0]&&(l=a[0][1],m=a[0][2],n=l,o=m,p++,k.push(["M",l,m])),d=p,h=a.length;h>d;d++){if(b=k[d]=[],c=a[d],c[0]!=c[0].toLowerCase())switch(b[0]=c[0].toLowerCase(),b[0]){case"a":b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=+(c[6]-l).toFixed(3),b[7]=+(c[7]-m).toFixed(3);break;case"v":b[1]=+(c[1]-m).toFixed(3);break;case"m":n=c[1],o=c[2];default:for(e=1,i=c.length;i>e;e++)b[e]=+(c[e]-(e%2?l:m)).toFixed(3)}else for(b=k[d]=[],"m"==c[0]&&(n=c[1]+l,o=c[2]+m),f=0,j=c.length;j>f;f++)k[d][f]=c[f];switch(g=k[d].length,k[d][0]){case"z":l=n,m=o;break;case"h":l+=+k[d][g-1];break;case"v":m+=+k[d][g-1];break;default:l+=+k[d][g-2],m+=+k[d][g-1]}}return k.toString=this.path2string,k},path2curve:function(a){var b,c,d,e,f=this,g=f.pathToAbsolute(a),h=g.length,i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(b=0;h>b;b++){if(g[b]=f.command2curve(g[b],i),g[b].length>7){for(g[b].shift(),e=g[b];e.length;)Ext.Array.splice(g,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(g,b,1),h=g.length,b--}c=g[b],d=c.length,i.x=c[d-2],i.y=c[d-1],i.bx=parseFloat(c[d-4])||i.x,i.by=parseFloat(c[d-3])||i.y}return g},interpolatePaths:function(a,b){var c,d,e,f,g,h,i=this,j=i.pathToAbsolute(a),k=i.pathToAbsolute(b),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(c,0,6)));Ext.Array.erase(a,b,1),d=Math.max(j.length,k.length||0)}},o=function(a,b,c,e,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(Ext.Array.splice(b,f,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],d=Math.max(j.length,k.length||0))};for(c=0,d=Math.max(j.length,k.length||0);d>c;c++)j[c]=i.command2curve(j[c],l),n(j,c),k[c]=i.command2curve(k[c],m),n(k,c),o(j,k,l,m,c),o(k,j,m,l,c),e=j[c],f=k[c],g=e.length,h=f.length,l.x=e[g-2],l.y=e[g-1],l.bx=parseFloat(e[g-4])||l.x,l.by=parseFloat(e[g-3])||l.y,m.bx=parseFloat(f[h-4])||m.x,m.by=parseFloat(f[h-3])||m.y,m.x=f[h-2],m.y=f[h-1];return[j,k]},command2curve:function(a,b){var c=this;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch("T"!=a[0]&&"Q"!=a[0]&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(c.arc2curve.apply(c,[b.x,b.y].concat(a.slice(1))));break;case"S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"].concat(c.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(c.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case"H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case"V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case"Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},rotate:function(a,b,c){var d=Math.cos(c),e=Math.sin(c),f=a*d-b*e,g=a*e+b*d;return{x:f,y:g}},arc2curve:function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=this,O=Math.PI,P=N.radian,Q=120*O/180,R=P*(+e||0),S=[],T=Math,U=T.cos,V=T.sin,W=T.sqrt,X=T.abs,Y=T.asin;if(j?(t=j[0],u=j[1],r=j[2],s=j[3]):(k=N.rotate(a,b,-R),a=k.x,b=k.y,k=N.rotate(h,i,-R),h=k.x,i=k.y,l=(a-h)/2,m=(b-i)/2,n=l*l/(c*c)+m*m/(d*d),n>1&&(n=W(n),c=n*c,d=n*d),o=c*c,p=d*d,q=(f==g?-1:1)*W(X((o*p-o*m*m-p*l*l)/(o*m*m+p*l*l))),r=q*c*m/d+(a+h)/2,s=q*-d*l/c+(b+i)/2,t=Y(((b-s)/d).toFixed(7)),u=Y(((i-s)/d).toFixed(7)),t=r>a?O-t:t,u=r>h?O-u:u,0>t&&(t=2*O+t),0>u&&(u=2*O+u),g&&t>u&&(t-=2*O),!g&&u>t&&(u-=2*O)),v=u-t,X(v)>Q&&(K=u,L=h,M=i,u=t+Q*(g&&u>t?1:-1),h=r+c*U(u),i=s+d*V(u),S=N.arc2curve(h,i,c,d,e,0,g,L,M,[u,K,r,s])),v=u-t,w=U(t),x=V(t),y=U(u),z=V(u),A=T.tan(v/4),B=4/3*c*A,C=4/3*d*A,D=[a,b],E=[a+B*x,b-C*w],F=[h+B*z,i-C*y],G=[h,i],E[0]=2*D[0]-E[0],E[1]=2*D[1]-E[1],j)return[E,F,G].concat(S);for(S=[E,F,G].concat(S).join().split(","),H=[],J=S.length,I=0;J>I;I++)H[I]=I%2?N.rotate(S[I-1],S[I],R).y:N.rotate(S[I],S[I+1],R).x;return H},rotateAndTranslatePath:function(a){var b,c,d,e,f,g=a.rotation.degrees,h=a.rotation.x,i=a.rotation.y,j=a.translation.x,k=a.translation.y,l=[];if(!g&&!j&&!k)return this.pathToAbsolute(a.attr.path);for(j=j||0,k=k||0,b=this.pathToAbsolute(a.attr.path),c=b.length;c--;)if(d=l[c]=b[c].slice(),"A"==d[0])e=this.rotatePoint(d[6],d[7],g,h,i),d[6]=e.x+j,d[7]=e.y+k;else for(f=1;null!=d[f+1];)e=this.rotatePoint(d[f],d[f+1],g,h,i),d[f]=e.x+j,d[f+1]=e.y+k,f+=2;return l},rotatePoint:function(a,b,c,d,e){if(!c)return{x:a,y:b};d=d||0,e=e||0,a-=d,b-=e,c*=this.radian;var f=Math.cos(c),g=Math.sin(c);return{x:a*f-b*g+d,y:a*g+b*f+e}},pathDimensions:function(a){if(!(a&&a+""))return{x:0,y:0,width:0,height:0};a=this.path2curve(a);for(var b,c,d,e,f,g,h=0,i=0,j=[],k=[],l=0,m=a.length;m>l;l++)b=a[l],"M"==b[0]?(h=b[1],i=b[2],j.push(h),k.push(i)):(g=this.curveDim(h,i,b[1],b[2],b[3],b[4],b[5],b[6]),j=j.concat(g.min.x,g.max.x),k=k.concat(g.min.y,g.max.y),h=b[5],i=b[6]);return c=Math.min.apply(0,j),d=Math.min.apply(0,k),e=Math.max.apply(0,j),f=Math.max.apply(0,k),{x:Math.round(c),y:Math.round(d),path:a,width:Math.round(e-c),height:Math.round(f-d)}},intersectInside:function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],f=c[0]-d[0],g=c[1]-d[1],h=a[0]-b[0],i=a[1]-b[1],j=c[0]*d[1]-c[1]*d[0],k=a[0]*b[1]-a[1]*b[0],l=1/(f*i-g*h);return e[0]=(j*h-k*f)*l,e[1]=(j*i-k*g)*l,e},intersect:function(a,b){for(var c,d,e,f,g,h,i=this,j=0,k=b.length,l=b[k-1],m=a;k>j;++j){for(c=b[j],g=m,m=[],d=g[g.length-1],h=0,f=g.length;f>h;h++)e=g[h],i.intersectInside(e,l,c)?(i.intersectInside(d,l,c)||m.push(i.intersectIntersection(d,e,l,c)),m.push(e)):i.intersectInside(d,l,c)&&m.push(i.intersectIntersection(d,e,l,c)),d=e;l=c}return m},bezier:function(a,b,c,d,e){if(0===e)return a;if(1===e)return d;var f=1-e,g=f*f*f,h=e/f;return g*(a+h*(3*b+h*(3*c+d*h)))},bezierDim:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o=[];for(a+3*c==d+3*b?(e=a-b,e/=2*(a-b-b+c),1>e&&e>0&&o.push(e)):(f=a-3*b+3*c-d,g=2*(a-b-b+c),h=a-b,i=g*g-4*f*h,j=f+f,0===i?(e=g/j,1>e&&e>0&&o.push(e)):i>0&&(k=Math.sqrt(i),e=(k+g)/j,1>e&&e>0&&o.push(e),e=(g-k)/j,1>e&&e>0&&o.push(e))),l=Math.min(a,d),m=Math.max(a,d),n=0;n<o.length;n++)l=Math.min(l,this.bezier(a,b,c,d,o[n])),m=Math.max(m,this.bezier(a,b,c,d,o[n]));return[l,m]},curveDim:function(a,b,c,d,e,f,g,h){var i=this.bezierDim(a,c,e,g),j=this.bezierDim(b,d,f,h);return{min:{x:i[0],y:j[0]},max:{x:i[1],y:j[1]}}},getAnchors:function(a,b,c,d,e,f,g){g=g||4;var h,i,j,k,l,m,n,o,p,q=Math,r=q.PI,s=r/2,t=q.abs,u=q.sin,v=q.cos,w=q.atan;return h=(c-a)/g,i=(e-c)/g,d>=b&&d>=f||b>=d&&f>=d?j=k=s:(j=w((c-a)/t(d-b)),d>b&&(j=r-j),k=w((e-c)/t(d-f)),d>f&&(k=r-k)),p=s-(j+k)%(2*r)/2,p>s&&(p-=r),j+=p,k+=p,l=c-h*u(j),m=d+h*v(j),n=c+i*u(k),o=d+i*v(k),(d>b&&b>m||b>d&&m>b)&&(l+=t(b-m)*(l-c)/(m-d),m=b),(d>f&&f>o||f>d&&o>f)&&(n-=t(f-o)*(n-c)/(o-d),o=f),{x1:l,y1:m,x2:n,y2:o}},smooth:function(a,b){for(var c,d,e,f,g,h,i,j,k,l=this.path2curve(a),m=[l[0]],n=l[0][1],o=l[0][2],p=1,q=l.length,r=1,s=n,t=o;q>p;p++)if(e=l[p],f=e.length,g=l[p-1],h=g.length,i=l[p+1],j=i&&i.length,"M"!=e[0])e[f-2]!=s||e[f-1]!=t||i&&"M"!=i[0]?d=i&&"M"!=i[0]?this.getAnchors(g[h-2],g[h-1],e[f-2],e[f-1],i[j-2],i[j-1],b):{x1:e[f-2],y1:e[f-1]}:(k=m[r].length,d=this.getAnchors(g[h-2],g[h-1],s,t,m[r][k-2],m[r][k-1],b),m[r][1]=d.x2,m[r][2]=d.y2),m.push(["C",n,o,d.x1,d.y1,e[f-2],e[f-1]]),n=d.x2,o=d.y2;else{for(s=e[1],t=e[2],c=p+1;"C"!=l[c][0];)c++;m.push(["M",s,t]),r=m.length,n=s,o=t}return m},findDotAtSegment:function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:Math.pow(j,3)*a+3*Math.pow(j,2)*i*c+3*j*i*i*e+Math.pow(i,3)*g,y:Math.pow(j,3)*b+3*Math.pow(j,2)*i*d+3*j*i*i*f+Math.pow(i,3)*h}},snapEnds:function(a,b,c,d){if(Ext.isDate(a))return this.snapEndsByDate(a,b,c);var e,f,g,h,i,j,k=(b-a)/c,l=Math.floor(Math.log(k)/Math.LN10)+1,m=Math.pow(10,l),n=Math.round(k%m*Math.pow(10,2-l)),o=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],p=0,q=1e9,r=o.length;if(f=Math.floor(a/m)*m,a==f&&f>0&&(f=Math.floor((a-m/10)/m)*m),d){for(i=0;r>i;i++)g=o[i][0],h=0>g-n?1e6:(g-n)/o[i][1],q>h&&(j=g,q=h);if(k=Math.floor(k*Math.pow(10,-l))*Math.pow(10,l)+j*Math.pow(10,l-2),0>a&&b>=0){for(e=0;e>a;)e-=k,p++;for(a=+e.toFixed(10),e=0;b>e;)e+=k,p++;b=+e.toFixed(10)}else for(e=a=f;b>e;)e+=k,p++;b=+e.toFixed(10)}else a=f,p=c;return{from:a,to:b,power:l,step:k,steps:p}},snapEndsByDate:function(a,b,c,d){var e,f,g,h,i=!1,j=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],k=j.length,l=!1;for(h=0;k>h;h++)if(e=j[h],!l)for(f=0;f<e[1].length;f++)if(b<Ext.Date.add(a,e[0],e[1][f]*c)){i=[e[0],e[1][f]],l=!0;break}return i||(g=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d),i=[Date.YEAR,Math.round(g.step)]),this.snapEndsByDateAndStep(a,b,i,d)},snapEndsByDateAndStep:function(a,b,c,d){var e,f,g,h,i,j,k,l,m=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],n=c[0],o=c[1];if(d)f=a;else switch(n){case Ext.Date.MILLI:f=new Date(m[0],m[1],m[2],m[3],m[4],m[5],Math.floor(m[6]/o)*o);break;case Ext.Date.SECOND:f=new Date(m[0],m[1],m[2],m[3],m[4],Math.floor(m[5]/o)*o,0);break;case Ext.Date.MINUTE:f=new Date(m[0],m[1],m[2],m[3],Math.floor(m[4]/o)*o,0,0);break;case Ext.Date.HOUR:f=new Date(m[0],m[1],m[2],Math.floor(m[3]/o)*o,0,0,0);break;case Ext.Date.DAY:f=new Date(m[0],m[1],Math.floor((m[2]-1)/o)*o+1,0,0,0,0);break;case Ext.Date.MONTH:f=new Date(m[0],Math.floor(m[1]/o)*o,1,0,0,0,0);break;default:f=new Date(Math.floor(m[0]/o)*o,0,1,0,0,0,0)}for(l=n===Ext.Date.MONTH&&(.5==o||o==1/3||.25==o),e=l?[]:0,g=new Date(f);b>g;)if(l){switch(h=new Date(g),i=h.getFullYear(),j=h.getMonth(),k=h.getDate(),o){case.5:k>=15?(k=1,++j>11&&i++):k=15;break;case 1/3:k>=20?(k=1,++j>11&&i++):k=k>=10?20:10;break;case.25:k>=22?(k=1,++j>11&&i++):k=k>=15?22:k>=8?15:8}g.setYear(i),g.setMonth(j),g.setDate(k),e.push(new Date(g))}else g=Ext.Date.add(g,n,o),e++;return d&&(g=b),l?{from:+f,to:+g,steps:e}:{from:+f,to:+g,step:(g-f)/e,steps:e}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return 180*a/Math.PI%360},withinBox:function(a,b,c){return c=c||{},a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b,c,d,e,f=this,g=a.type||"linear",h=a.angle||0,i=f.radian,j=a.stops,k=[];"linear"==g&&(c=[0,0,Math.cos(h*i),Math.sin(h*i)],d=1/(Math.max(Math.abs(c[2]),Math.abs(c[3]))||1),c[2]*=d,c[3]*=d,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0));for(b in j)j.hasOwnProperty(b)&&f.stopsRE.test(b)&&(e={offset:parseInt(b,10),color:Ext.draw.Color.toHex(j[b].color)||"#ffffff",opacity:j[b].opacity||1},k.push(e));return Ext.Array.sort(k,f.sorter),"linear"==g?{id:a.id,type:g,vector:c,stops:k}:{id:a.id,type:g,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:c,stops:k}}}),Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){c="number"==typeof c?c:1;var f,g,h=this.unitRE,i=h.exec(a);return i&&(a=i[1],g=i[2],this.scrollRE.test(e)||g||!this.pixelDefaultsRE.test(e)||(g="px")),a=+a||0,i=h.exec(b),i&&(b=i[1],g=i[2]||g),b=+b||0,f=null!=d?d:a,{from:a,delta:(b-f)*c,units:g}},get:function(a,b,c,d,e){var f,g,h,i,j,k=a.length,l=[];for(f=0;k>f;f++)if(d&&(g=d[f][1].from),Ext.isArray(a[f][1])&&Ext.isArray(b)){for(h=[],i=0,j=a[f][1].length;j>i;i++)h.push(this.computeDelta(a[f][1][i],b[i],c,g,e));l.push([a[f][0],h])}else l.push([a[f][0],this.computeDelta(a[f][1],b,c,g,e)]);return l},set:function(a,b){var c,d,e,f,g,h=a.length,i=[];for(c=0;h>c;c++)if(d=a[c][1],Ext.isArray(d)){for(e=[],g=0,f=d.length;f>g;g++)e.push(d[g].from+d[g].delta*b+(d[g].units||0));i.push([a[c][0],e])}else i.push([a[c][0],d.from+d.delta*b+(d.units||0)]);return i}},stringHandler:{computeDelta:function(a,b){return{from:a,delta:b}},get:function(a,b,c,d,e){var f,g,h=a.length,i=[];for(f=0;h>f;f++)i.push([a[f][0],this.computeDelta(a[f][1],b,c,g,e)]);return i},set:function(a){var b,c,d=a.length,e=[];for(b=0;d>b;b++)c=a[b][1],e.push([a[b][0],c.delta]);return e}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a,b){b="number"==typeof b?b:1;var c,d,e,f,g=!1,h=[this.hexRE,this.rgbRE,this.hex3RE],i=h.length;for(f=0;i>f;f++)if(e=h[f],d=f%2===0?16:10,c=e.exec(a),c&&4===c.length){2===f&&(c[1]+=c[1],c[2]+=c[2],c[3]+=c[3]),g={red:parseInt(c[1],d),green:parseInt(c[2],d),blue:parseInt(c[3],d)};break}return g||a},computeDelta:function(a,b,c,d){a=this.parseColor(a),b=this.parseColor(b,c);var e=d?d:a,f=typeof e,g=typeof b;return"string"==f||"undefined"==f||"string"==g||"undefined"==g?b||e:{from:a,delta:{red:Math.round((b.red-e.red)*c),green:Math.round((b.green-e.green)*c),blue:Math.round((b.blue-e.blue)*c)}}},get:function(a,b,c,d){var e,f,g=a.length,h=[];for(e=0;g>e;e++)d&&(f=d[e][1].from),h.push([a[e][0],this.computeDelta(a[e][1],b,c,f)]);return h},set:function(a,b){var c,d,e,f,g,h=a.length,i=[];for(c=0;h>c;c++)if(d=a[c][1]){if(f=d.from,g=d.delta,d="object"==typeof d&&"red"in d?"rgb("+d.red+", "+d.green+", "+d.blue+")":d,d="object"==typeof d&&d.length?d[0]:d,"undefined"==typeof d)return[];e="string"==typeof d?d:"rgb("+[(f.red+Math.round(g.red*b))%256,(f.green+Math.round(g.green*b))%256,(f.blue+Math.round(g.blue*b))%256].join(",")+")",i.push([a[c][0],e])}return i}},object:{interpolate:function(a,b){b="number"==typeof b?b:1;var c,d={};for(c in a)d[c]=parseFloat(a[c])*b;return d},computeDelta:function(a,b,c,d){a=this.interpolate(a),b=this.interpolate(b,c);var e,f=d?d:a,g={};for(e in b)g[e]=b[e]-f[e];return{from:a,delta:g}},get:function(a,b,c,d){var e,f,g=a.length,h=[];for(e=0;g>e;e++)d&&(f=d[e][1].from),h.push([a[e][0],this.computeDelta(a[e][1],b,c,f)]);return h},set:function(a,b){var c,d,e,f,g,h=a.length,i=[],j={};for(c=0;h>c;c++){f=a[c][1],d=f.from,e=f.delta;for(g in d)j[g]=d[g]+e[g]*b;i.push([a[c][0],j])}return i}},path:{computeDelta:function(a,b,c,d){c="number"==typeof c?c:1;var e;return a=+a||0,b=+b||0,e=null!=d?d:a,{from:a,delta:(b-e)*c}},forcePath:function(a){return Ext.isArray(a)||Ext.isArray(a[0])||(a=Ext.draw.Draw.parsePathString(a)),a},get:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=this.forcePath(b),o=[],p=a.length;for(g=0;p>g;g++){for(m=this.forcePath(a[g][1]),h=Ext.draw.Draw.interpolatePaths(m,n),m=h[0],n=h[1],e=m.length,l=[],j=0;e>j;j++){for(h=[m[j][0]],f=m[j].length,k=1;f>k;k++)i=d&&d[0][1][j][k].from,h.push(this.computeDelta(m[j][k],n[j][k],c,i));l.push(h)}o.push([a[g][0],l])}return o},set:function(a,b){var c,d,e,f,g,h,i,j,k=a.length,l=[];for(c=0;k>c;c++){for(h=a[c][1],f=[],i=h.length,d=0;i>d;d++){for(g=[h[d][0]],j=h[d].length,e=1;j>e;e++)g.push(h[d][e].from+h[d][e].delta*b);f.push(g.join(","))}l.push([a[c][0],f.join(",")])}return l}}}},function(){for(var a,b=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],c=b.length,d=0;c>d;d++)a=b[d],this[a]=this.color;for(b=["cursor"],c=b.length,d=0;c>d;d++)a=b[d],this[a]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b,c=this;return a=a||{},a.keyframes?new Ext.fx.Animator(a):(Ext.apply(c,a),void 0===c.from&&(c.from={}),c.propHandlers={},c.config=a,c.target=Ext.fx.Manager.createTarget(c.target),c.easingFn=Ext.fx.Easing[c.easing],c.target.dynamic=c.dynamic,c.easingFn||(c.easingFn=String(c.easing).match(c.bezierRE),c.easingFn&&5==c.easingFn.length&&(b=c.easingFn,c.easingFn=Ext.fx.CubicBezier.cubicBezier(+b[1],+b[2],+b[3],+b[4]))),c.id=Ext.id(null,"ext-anim-"),c.addEvents("beforeanimate","afteranimate","lastframe"),c.mixins.observable.constructor.call(c),void Ext.fx.Manager.addAnim(c))},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var a,b,c,d,e=this,f=e.from,g=e.to,h=e.initialFrom||{},i={};for(d in g)g.hasOwnProperty(d)&&(a=e.target.getAttr(d,f[d]),b=g[d],c=e.propHandlers[d]=Ext.fx.PropertyHandler[d]?Ext.fx.PropertyHandler[d]:Ext.isObject(b)?Ext.fx.PropertyHandler.object:Ext.fx.PropertyHandler.defaultHandler,i[d]=c.get(a,b,e.damper,h[d],d));e.currentAttrs=i},start:function(a){var b,c=this,d=c.delay,e=c.delayStart;if(d){if(!e)return void(c.delayStart=a);if(b=a-e,d>b)return;a=new Date(e.getTime()+d)}c.fireEvent("beforeanimate",c)!==!1&&(c.startTime=a,c.paused||c.currentAttrs||c.initAttrs(),c.running=!0,c.frameCount=0)},runAnim:function(a){var b,c,d,e,f=this,g=f.currentAttrs,h=f.duration,i=f.easingFn,j=f.propHandlers,k={};a>=h&&(a=h,e=!0),f.reverse&&(a=h-a);for(d in g)g.hasOwnProperty(d)&&(c=g[d],b=e?1:i(a/h),k[d]=j[d].set(c,b));return f.frameCount++,k},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++,b>c?(a.alternate&&(a.reverse=!a.reverse),a.startTime=new Date,a.currentIteration=c,a.paused=!1):(a.currentIteration=0,a.end(),a.fireEvent("lastframe",a,a.startTime))},endWasCalled:0,end:function(){if(!this.endWasCalled++){var a=this;a.startTime=0,a.paused=!1,a.running=!1,Ext.fx.Manager.removeAnim(a),a.fireEvent("afteranimate",a,a.startTime),Ext.callback(a.callback,a.scope,[a,a.startTime])}},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{requires:["Ext.Element","Ext.CompositeElementLite","Ext.fx.Manager","Ext.fx.Anim"],isAnimate:!0,animate:function(a){var b=this;return Ext.fx.Manager.hasFxBlock(b.id)?b:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a))),this)},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;var b=this;return a.stopAnimation&&b.stopAnimation(),Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id)),Ext.apply({target:b,paused:!0},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var a,b=this;b.hasOwnProperty("childEls")&&(a=b.childEls,delete b.childEls,b.addChildEls.apply(b,a))},destroy:function(){var a,b,c,d=this,e=d.getChildEls();for(c=e.length;c--;)b=e[c],"string"!=typeof b&&(b=b.name),a=d[b],a&&(d[b]=null,a.remove())},addChildEls:function(){var a=this,b=arguments;a.hasOwnProperty("childEls")?a.childEls.push.apply(a.childEls,b):a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b)),a.prune(a.childEls,!1)},applyChildEls:function(a,b){var c,d,e,f,g,h=this,i=h.getChildEls();for(c=(b||h.id)+"-",e=i.length;e--;)d=i[e],"string"==typeof d?g=a.getById(c+d):(g=(f=d.select)?Ext.select(f,!0,a.dom):(f=d.selectNode)?Ext.get(Ext.DomQuery.selectNode(f,a.dom)):a.getById(d.id||c+d.itemId),d=d.name),h[d]=g},getChildEls:function(){var a,b=this;return b.hasOwnProperty("childEls")?b.childEls:(a=b.self,a.$childEls||b.getClassChildEls(a))},getClassChildEls:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this,n=a.$childEls;if(!n){k=a.superclass,k?(k=k.self,i=[k.$childEls||m.getClassChildEls(k)],l=k.prototype.mixins||{}):(i=[],l={}),j=a.prototype,g=j.mixins;for(h in g)g.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(f=g[h].self,i.push(f.$childEls||m.getClassChildEls(f)));for(i.push(j.hasOwnProperty("childEls")&&j.childEls),c=0,d=i.length;d>c;++c)b=i[c],b&&b.length&&(n?(e||(e=!0,n=n.slice(0)),n.push.apply(n,b)):n=b);a.$childEls=n=n?m.prune(n,!e):[]}return n},prune:function(a,b){for(var c,d=a.length,e={};d--;)c=a[d],"string"!=typeof c&&(c=c.name),e[c]?(b&&(b=!1,a=a.slice(0)),Ext.Array.erase(a,d,1)):e[c]=1;return a},removeChildEls:function(a){var b,c,d,e=this,f=e.getChildEls(),g=e.childEls=[];for(c=0,b=f.length;b>c;++c)d=f[c],a(d)||g.push(d)}}),Ext.define("Ext.util.Renderable",{requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var a,b,c,d,e=this,f={},g=e.protoEl,h=e.el;e.finishRenderChildren(),e.contentEl&&(b=Ext.baseCSSPrefix,c=b+"hide-",d=Ext.get(e.contentEl),d.removeCls([b+"hidden",c+"display",c+"offsets",c+"nosize"]),e.getContentTarget().appendChild(d.dom)),g.writeTo(f),a=f.removed,a&&h.removeCls(a),a=f.cls,a.length&&h.addCls(a),a=f.style,f.style&&h.setStyle(a),e.protoEl=null,e.ownerCt||e.updateLayout()},afterFirstLayout:function(a,b){var c,d,e,f,g=this,h=g.x,i=g.y;g.ownerLayout||(c=Ext.isDefined(h),d=Ext.isDefined(i)),!g.floating||c&&d||(g.floatParent?(e=g.floatParent.getTargetEl().getViewRegion(),f=g.el.getAlignToXY(g.floatParent.getTargetEl(),"c-c"),e.x=f[0]-e.x,e.y=f[1]-e.y):(f=g.el.getAlignToXY(g.container,"c-c"),e=g.container.translateXY(f[0],f[1])),h=c?h:e.x,i=d?i:e.y,c=d=!0),(c||d)&&g.setPosition(h,i),g.onBoxReady(a,b)},applyRenderSelectors:function(){var a,b=this,c=b.renderSelectors,d=b.el,e=d.dom;if(b.applyChildEls(d),c)for(a in c)c.hasOwnProperty(a)&&c[a]&&(b[a]=Ext.get(Ext.DomQuery.selectNode(c[a],e)))},beforeRender:function(){var a=this,b=(a.getTargetEl(),a.getOverflowEl()),c=a.getComponentLayout(),d=a.getOverflowStyle();a.frame=a.frame||a.alwaysFramed,c.initialized||c.initLayout(),b&&(b.setStyle(d),a.overflowStyleSet=!0),a.setUI(a.ui),a.disabled&&a.disable(!0)},doApplyRenderTpl:function(a,b){var c,d=b.$comp;d.rendered||(c=d.initRenderTpl(),c.applyOut(b.renderData,a))},doAutoRender:function(){var a=this;a.rendered||a.render(a.floating?document.body:Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)},doRenderContent:function(a,b){var c=b.$comp;c.html&&(Ext.DomHelper.generateMarkup(c.html,a),delete c.html),c.tpl&&(c.tpl.isTemplate||(c.tpl=new Ext.XTemplate(c.tpl)),c.data&&(c.tpl.applyOut(c.data,a),delete c.data))},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;!d.rendered&&d.doRenderDockedItems&&(b.renderData.$skipDockedItems=!0,d.doRenderDockedItems.call(this,a,b,c))},finishRender:function(a){var b,c,d,e=this;!e.el||e.$pid?(d=e.container?e.container.getById(e.id,!0):Ext.getDom(e.id),e.el?(delete e.$pid,e.el.dom||e.wrapPrimaryEl(e.el),d.parentNode.insertBefore(e.el.dom,d),Ext.removeNode(d)):e.wrapPrimaryEl(d)):e.rendering||(b=e.initRenderTpl(),b&&(c=e.initRenderData(),b.insertFirst(e.getTargetEl(),c))),e.container||(e.container=Ext.get(e.el.dom.parentNode)),e.ctCls&&e.container.addCls(e.ctCls),e.onRender(e.container,a),e.overflowStyleSet||e.getOverflowEl().setStyle(e.getOverflowStyle()),e.el.setVisibilityMode(Ext.Element[e.hideMode.toUpperCase()]),e.overCls&&e.el.hover(e.addOverCls,e.removeOverCls,e),e.hasListeners.render&&e.fireEvent("render",e),e.afterRender(),e.hasListeners.afterrender&&e.fireEvent("afterrender",e),e.initEvents(),e.hidden&&e.el.hide()
},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a,b,c,d,e,f,g=this,h=g.autoEl,i=g.getFrameInfo(),j={tag:"div",tpl:i?g.initFramingTpl(i.table):g.initRenderTpl()},k=g.protoEl;if(g.initStyles(k),k.writeTo(j),k.flush(),Ext.isString(h)?j.tag=h:Ext.apply(j,h),j.id=g.id,j.tpl)if(i){for(b=g.frameElNames,c=b.length,j.tplData=f=g.getFrameRenderData(),f.renderData=g.initRenderData(),e=f.fgid,a=0;c>a;a++)d=b[a],g.addChildEls({name:"frame"+d,id:e+d});g.addChildEls({name:"frameBody",id:e+"MC"})}else j.tplData=g.initRenderData();return j},initFramingTpl:function(a){var b=this.getFrameTpl(a);return b&&!b.applyRenderTpl&&this.setupFramingTpl(b),b},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl,a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){return void 0!==a&&(a=Ext.isNumber(a)?this.container.dom.childNodes[a]:Ext.getDom(a)),a},getRenderTree:function(){var a=this;return a.hasListeners.beforerender&&a.fireEvent("beforerender",a)===!1?null:(a.beforeRender(),a.rendering=!0,a.el?{tag:"div",id:a.$pid=Ext.id()}:a.getElConfig())},initContainer:function(a){var b=this;return!a&&b.el&&(a=b.el.dom.parentNode,b.allowDomMove=!1),b.container=a.dom?a:Ext.get(a),b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,childElCls:""},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");return a&&!a.renderContent&&this.setupRenderTpl(a),a},onRender:function(){var a,b,c=this,d=c.x,e=c.y,f=null,g=c.el;c.applyRenderSelectors(),c.rendering=null,c.rendered=!0,null!=d&&(f={x:d}),null!=e&&((f=f||{}).y=e),!c.getFrameInfo()&&Ext.isBorderBox&&(a=c.width,b=c.height,"number"==typeof a&&(f=f||{},f.width=a),"number"==typeof b&&(f=f||{},f.height=b)),c.lastBox=g.lastBox=f},render:function(a,b){var c,d,e,f=this,g=f.el&&(f.el=Ext.get(f.el));Ext.suspendLayouts(),a=f.initContainer(a),e=f.getInsertPosition(b),g?f.hasListeners.beforerender&&f.fireEvent("beforerender",f)===!1?c=!0:(f.beforeRender(),f.initStyles(g),f.allowDomMove!==!1&&(e?a.dom.insertBefore(g.dom,e):a.dom.appendChild(g.dom))):(d=f.getRenderTree(),f.ownerLayout&&f.ownerLayout.transformItemRenderTree&&(d=f.ownerLayout.transformItemRenderTree(d)),d&&(g=e?Ext.DomHelper.insertBefore(e,d):Ext.DomHelper.append(a,d),f.wrapPrimaryEl(g))),g&&!c&&f.finishRender(b),Ext.resumeLayouts(!f.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(a){for(var b,c=this;c.ownerCt;)c=c.ownerCt;c.container.isDetachedBody&&(c.container=b=Ext.getBody(),b.appendChild(c.el.dom),a&&c.updateLayout(),("number"==typeof c.x||"number"==typeof c.y)&&c.setPosition(c.x,c.y))},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,!0)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a,b,c,d,e,f=this,g=f.getFrameInfo(),h=f.frameElNames,i=h.length;if(g)for(a=f.getFrameTpl(g.table),d=f.getFrameRenderData(),b=d.fgid,a.insertFirst(f.el,d),f.frameBody=f.el.down("."+f.frameCls+"-mc"),f.removeChildEls(function(a){return a.id&&f.frameIdRegex.test(a.id)}),c=0;i>c;c++)e=h[c],f["frame"+e]=f.el.getById(b+e)}},getFrameRenderData:function(){var a=this,b=a.frameSize,c=(a.frameGenId||0)+1;return a.frameGenId=c,{$comp:a,fgid:a.id+"-frame"+c,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:""}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a,b=this,c=b.frameSize&&b.frameSize.table,d=b.frameTL,e=b.frameBL,f=b.frameML,g=b.frameMC;b.initFrame(),g?b.frame&&(a=b.frameMC.dom.className,g.insertAfter(b.frameMC),b.frameMC.remove(),b.frameBody=b.frameMC=g,g.dom.className=a,c?b.el.query("> table")[1].remove():(d&&d.remove(),e&&e.remove(),f&&f.remove())):b.frame&&b.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.frameInfoCache,u=s.getFramingInfoCls()+"-frameInfo",v=t[u],w=Math.max;return null==v&&(a=Ext.fly(s.getStyleProxy(u),"frame-style-el"),b=a.getStyle("font-family"),b?(b=b.split("-"),o=parseInt(b[1],10),p=parseInt(b[2],10),q=parseInt(b[3],10),r=parseInt(b[4],10),g=parseInt(b[5],10),h=parseInt(b[6],10),i=parseInt(b[7],10),j=parseInt(b[8],10),k=parseInt(b[9],10),l=parseInt(b[10],10),m=parseInt(b[11],10),n=parseInt(b[12],10),c=w(g,w(o,p)),d=w(h,w(p,q)),e=w(i,w(r,q)),f=w(j,w(o,r)),v={table:"t"===b[0].charAt(0),vertical:"v"===b[0].charAt(1),top:c,right:d,bottom:e,left:f,width:f+d,height:c+e,maxWidth:w(c,d,e,f),border:{top:g,right:h,bottom:i,left:j,width:j+h,height:g+i},padding:{top:k,right:l,bottom:m,left:n,width:n+l,height:k+m},radius:{tl:o,tr:p,br:q,bl:r}}):v=!1,t[u]=v),s.frame=!!v,s.frameSize=v,v},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return b.className=a,b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(a){a=a||{};var b=this;Ext.apply(b,a),b.addEvents("statechange"),b.state={},b.mixins.observable.constructor.call(b)},get:function(a,b){return"undefined"==typeof this.state[a]?b:this.state[a]},clear:function(a){var b=this;delete b.state[a],b.fireEvent("statechange",b,a,null)},set:function(a,b){var c=this;c.state[a]=b,c.fireEvent("statechange",c,a,b)},decodeValue:function(a){var b,c,d,e,f,g,h=this,i=/^(a|n|d|b|s|o|e)\:(.*)$/,j=i.exec(unescape(a));if(j&&j[1])switch(c=j[1],a=j[2],c){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return"1"==a;case"a":if(b=[],""!=a)for(e=a.split("^"),f=e.length,g=0;f>g;g++)a=e[g],b.push(h.decodeValue(a));return b;case"o":if(b={},""!=a)for(e=a.split("^"),f=e.length,g=0;f>g;g++)a=e[g],d=a.split("="),b[d[0]]=h.decodeValue(d[1]);return b;default:return a}},encodeValue:function(a){var b,c,d,e="",f=0;if(null==a)return"e:1";if("number"==typeof a)b="n:"+a;else if("boolean"==typeof a)b="b:"+(a?"1":"0");else if(Ext.isDate(a))b="d:"+a.toGMTString();else if(Ext.isArray(a)){for(c=a.length;c>f;f++)e+=this.encodeValue(a[f]),f!=c-1&&(e+="^");b="a:"+e}else if("object"==typeof a){for(d in a)"function"!=typeof a[d]&&void 0!==a[d]&&(e+=d+"="+this.encodeValue(a[d])+"^");b="o:"+e.substring(0,e.length-1)}else b="s:"+a;return escape(b)}}),Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:!1,saveDelay:100,constructor:function(a){var b=this;a=a||{},void 0!==a.stateful&&(b.stateful=a.stateful),void 0!==a.saveDelay&&(b.saveDelay=a.saveDelay),b.stateId=b.stateId||a.stateId,b.stateEvents||(b.stateEvents=[]),a.stateEvents&&b.stateEvents.concat(a.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),b.mixins.observable.constructor.call(b),b.stateful!==!1&&(b.addStateEvents(b.stateEvents),b.initState())},addStateEvents:function(a){var b,c,d,e=this;if(e.stateful&&e.getStateId())for("string"==typeof a&&(a=Array.prototype.slice.call(arguments,0)),d=e.stateEventsByName||(e.stateEventsByName={}),b=a.length;b--;)c=a[b],d[c]||(d[c]=1,e.on(c,e.onStateChange,e))},onStateChange:function(){var a,b,c=this,d=c.saveDelay;c.stateful&&(d?(c.stateTask||(a=Ext.state.Stateful,b=a.runner||(a.runner=new Ext.util.TaskRunner),c.stateTask=b.newTask({run:c.saveState,scope:c,interval:d,repeat:1})),c.stateTask.start()):c.saveState())},saveState:function(){var a,b=this,c=b.stateful&&b.getStateId(),d=b.hasListeners;c&&(a=b.getState()||{},d.beforestatesave&&b.fireEvent("beforestatesave",b,a)===!1||(Ext.state.Manager.set(c,a),d.statesave&&b.fireEvent("statesave",b,a)))},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a,b=this,c=b.stateful&&b.getStateId(),d=b.hasListeners;c&&(a=Ext.state.Manager.get(c),a&&(a=Ext.apply({},a),d.beforestaterestore&&b.fireEvent("beforestaterestore",b,a)===!1||(b.applyState(a),d.staterestore&&b.fireEvent("staterestore",b,a))))},savePropToState:function(a,b,c){var d=this,e=d[a],f=d.initialConfig;return!d.hasOwnProperty(a)||f&&f[a]===e?!1:(b&&(b[c||a]=e),!0)},savePropsToState:function(a,b){var c,d,e=this;if("string"==typeof a)e.savePropToState(a,b);else for(c=0,d=a.length;d>c;++c)e.savePropToState(a[c],b);return b},destroy:function(){var a=this,b=a.stateTask;b&&(b.destroy(),a.stateTask=null),a.clearListeners()}}),Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement","Ext.dom.CompositeElement","Ext.PluginManager"],mixins:{positionable:"Ext.util.Positionable",observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;c&&c.cancelComponent(a,!1,b)},flushLayouts:function(){var a=this,b=a.pendingLayouts;b&&b.invalidQueue.length&&(a.pendingLayouts=null,a.runningLayoutContext=b,Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;var b=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),b}}),b.run())},resumeLayouts:function(a){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(a&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c,d=this,e=d.runningLayoutContext;e?e.queueInvalidate(a):(c=d.pendingLayouts||(d.pendingLayouts=new Ext.layout.Context),c.queueInvalidate(a),b||d.layoutSuspendCount||a.isLayoutSuspended()||d.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(a){var b,c,d,e=this;if(a?(Ext.apply(e,a),d=e.xhooks,d&&(delete e.xhooks,Ext.override(e,d))):a={},e.initialConfig=a,e.mixins.elementCt.constructor.call(e),e.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),e.getId(),e.setupProtoEl(),e.cls&&(e.initialCls=e.cls,e.protoEl.addCls(e.cls)),e.style&&(e.initialStyle=e.style,e.protoEl.setStyle(e.style)),e.renderData=e.renderData||{},e.renderSelectors=e.renderSelectors||{},e.plugins&&(e.plugins=e.constructPlugins()),e.hasListeners||(e.hasListeners=new e.HasListeners),e.initComponent(),Ext.ComponentManager.register(e),e.mixins.observable.constructor.call(e),e.mixins.state.constructor.call(e,a),this.addStateEvents("resize"),e.plugins)for(b=0,c=e.plugins.length;c>b;b++)e.plugins[b]=e.initPlugin(e.plugins[b]);e.loader=e.getLoader(),e.renderTo&&e.render(e.renderTo),e.autoShow&&!e.isContained&&e.show()},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var a=this,b=null,c=a.getSizeModel();return c.width.configured&&(b=a.addPropertyToState(b,"width")),c.height.configured&&(b=a.addPropertyToState(b,"height")),b},addPropertyToState:function(a,b,c){var d=this,e=arguments.length;return(3==e||d.hasOwnProperty(b))&&(3>e&&(c=d[b]),c!==d.initialConfig[b]&&((a||(a={}))[b]=c)),a},show:Ext.emptyFn,animate:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;return a=a||{},f=a.to||{},Ext.fx.Manager.hasFxBlock(r.id)?r:(b=Ext.isDefined(f.width),b&&(e=Ext.Number.constrain(f.width,r.minWidth,r.maxWidth)),c=Ext.isDefined(f.height),c&&(d=Ext.Number.constrain(f.height,r.minHeight,r.maxHeight)),a.dynamic||!b&&!c||(i=(a.from?a.from.width:void 0)||r.getWidth(),j=i,k=(a.from?a.from.height:void 0)||r.getHeight(),l=k,m=!1,c&&d>k&&(l=d,m=!0),b&&e>i&&(j=e,m=!0),(c||b)&&(q=r.el.getStyle("overtflow"),"hidden"!==q&&r.el.setStyle("overflow","hidden")),m&&(g=!Ext.isNumber(r.width),h=!Ext.isNumber(r.height),r.setSize(j,l),r.el.setSize(i,k),g&&delete r.width,h&&delete r.height),b&&(f.width=e),c&&(f.height=d)),n=r.constrain,o=r.constrainHeader,(n||o)&&(r.constrain=r.constrainHeader=!1,p=a.callback,a.callback=function(){r.constrain=n,r.constrainHeader=o,p&&p.call(a.scope||r,arguments),"hidden"!==q&&r.el.setStyle("overflow",q)}),r.mixins.animate.animate.apply(r,arguments))},setHiddenState:function(a){var b=this.getHierarchyState();this.hidden=a,a?b.hidden=!0:delete b.hidden},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(a){var b=this;return a="string"==typeof a?Ext.PluginManager.create({},a,b):Ext.PluginManager.create(a,null,b)},constructPlugins:function(){var a,b,c,d=this,e=d.plugins;if(e)for(a=[],Ext.isArray(e)||(e=[e]),b=0,c=e.length;c>b;b++)a[b]=d.constructPlugin(e[b]);return d.pluginsInitialized=!0,a},initPlugin:function(a){return a.init(this),a},addPlugin:function(a){var b=this;return a=b.constructPlugin(a),b.plugins?b.plugins.push(a):b.plugins=[a],b.pluginsInitialized&&b.initPlugin(a),a},removePlugin:function(a){Ext.Array.remove(this.plugins,a),a.destroy()},findPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;d>b;b++)if(c[b].ptype===a)return c[b]},getPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;d>b;b++)if(c[b].pluginId===a)return c[b]},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(a){var b=this;b.floatingDescendants||(b.floatingDescendants=new Ext.ZIndexManager(b)),b.floatingDescendants.register(a)},unregisterFloatingItem:function(a){var b=this;b.floatingDescendants&&b.floatingDescendants.unregister(a)},layoutSuspendCount:0,suspendLayouts:function(){var a=this;a.rendered&&1==++a.layoutSuspendCount&&(a.suspendLayout=!0)},resumeLayouts:function(a){var b=this;b.rendered&&(--b.layoutSuspendCount||(b.suspendLayout=!1,a&&!b.isLayoutSuspended()&&b.updateLayout(a)))},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},initCls:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];return Ext.isDefined(a.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),a.componentCls=a.cmpCls,delete a.cmpCls),a.componentCls?b.push(a.componentCls):a.componentCls=a.baseCls,b},setUI:function(a){var b,c=this,d=c.uiCls,e=c.activeUI;a!==e&&(e?(b=c.removeClsWithUI(d,!0),b.length&&c.removeCls(b),c.removeUIFromElement()):c.uiCls=[],c.ui=a,c.activeUI=a,c.addUIToElement(),b=c.addClsWithUI(d,!0),b.length&&c.addCls(b),c.rendered&&c.updateLayout())},addClsWithUI:function(a,b){var c,d,e=this,f=[],g=0,h=e.uiCls=Ext.Array.clone(e.uiCls),i=e.activeUI;for("string"==typeof a&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)),c=a.length;c>g;g++)d=a[g],d&&!e.hasUICls(d)&&(h.push(d),i&&(f=f.concat(e.addUIClsToElement(d))));return b!==!0&&i&&e.addCls(f),f},removeClsWithUI:function(a,b){var c,d,e=this,f=[],g=0,h=Ext.Array,i=h.remove,j=e.uiCls=h.clone(e.uiCls),k=e.activeUI;for("string"==typeof a&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)),c=a.length,g=0;c>g;g++)d=a[g],d&&e.hasUICls(d)&&(i(j,d),k&&(f=f.concat(e.removeUIClsFromElement(d))));return b!==!0&&k&&e.removeCls(f),f},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(a){var b,c,d,e,f,g=this,h=g.baseCls+"-"+g.ui+"-"+a,i=[Ext.baseCSSPrefix+a,g.baseCls+"-"+a,h];if(g.rendered&&g.frame&&!Ext.supports.CSS3BorderRadius)for(b=g.frameElementsArray,c=b.length,d=0;c>d;d++)f=b[d],e=g["frame"+f.toUpperCase()],e&&e.addCls(h+"-"+f);return i},removeUIClsFromElement:function(a){var b,c,d,e,f,g=this,h=g.baseCls+"-"+g.ui+"-"+a,i=[Ext.baseCSSPrefix+a,g.baseCls+"-"+a,h];if(g.rendered&&g.frame&&!Ext.supports.CSS3BorderRadius)for(b=g.frameElementsArray,c=b.length,d=0;c>d;d++)f=b[d],e=g["frame"+f.toUpperCase()],e&&e.removeCls(h+"-"+f);return i},addUIToElement:function(){var a,b,c,d,e,f=this,g=f.baseCls+"-"+f.ui;if(f.addCls(g),f.rendered&&f.frame&&!Ext.supports.CSS3BorderRadius)for(a=f.frameElementsArray,b=a.length,c=0;b>c;c++)e=a[c],d=f["frame"+e.toUpperCase()],d&&d.addCls(g+"-"+e)},removeUIFromElement:function(){var a,b,c,d,e,f=this,g=f.baseCls+"-"+f.ui;if(f.removeCls(g),f.rendered&&f.frame&&!Ext.supports.CSS3BorderRadius)for(a=f.frameElementsArray,b=a.length,c=0;b>c;c++)e=a[c],d=f["frame"+e.toUpperCase()],d&&d.removeCls(g+"-"+e)},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(a){var b,c,d=this,e=(Ext.Element,d.margin),f=d.border,g=d.cls,h=d.style,i=d.x,j=d.y;d.initPadding(a),null!=e&&a.setStyle("margin",this.unitizeBox(e===!0?5:e)),null!=f&&d.setBorder(f,a),g&&g!=d.initialCls&&(a.addCls(g),d.cls=d.initialCls=null),h&&h!=d.initialStyle&&(a.setStyle(h),d.style=d.initialStyle=null),null!=i&&a.setStyle(d.horizontalPosProp,"number"==typeof i?i+"px":i),null!=j&&a.setStyle("top","number"==typeof j?j+"px":j),!Ext.isBorderBox||d.ownerCt&&!d.floating||a.addCls(d.borderBoxCls),d.getFrameInfo()||(b=d.width,c=d.height,null!=b&&("number"==typeof b?Ext.isBorderBox&&a.setStyle("width",b+"px"):a.setStyle("width",b)),null!=c&&("number"==typeof c?Ext.isBorderBox&&a.setStyle("height",c+"px"):a.setStyle("height",c)))},initPadding:function(a){var b=this,c=b.padding;null!=c&&(b.layout&&b.layout.managePadding&&"padding"===b.contentPaddingProperty?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(c===!0?5:c)))},parseBox:function(a){return Ext.dom.Element.parseBox(a)},unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(a,b){var c=this;c.rendered?(a||0===a?(a===!0&&(a=5),a=this.unitizeBox(a)):a="",c.getTargetEl().setStyle("margin",a),b||c.updateLayout()):c.margin=a},initEvents:function(){var a,b,c,d,e,f=this,g=f.afterRenderEvents;if(g)for(c in g)if(b=f[c],b&&b.on)for(a=g[c],d=0,e=a.length;e>d;++d)f.mon(b,a[d]);f.addFocusListener()},addFocusListener:function(){var a,b=this,c=b.getFocusEl();if(c){if(c.isComponent)return c.addFocusListener();a=c.needsTabIndex(),b.focusListenerAdded||a&&!Ext.FocusManager.enabled||(a&&(c.dom.tabIndex=-1),c.on({focus:b.onFocus,blur:b.onBlur,scope:b}),b.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a,b=this;return b.focusable!==!1&&(a=b.getFocusEl())&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(!0)?a.isFocusable(!0):void 0},beforeFocus:Ext.emptyFn,onFocus:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();b.disabled||(b.beforeFocus(a),c&&d&&d.addCls(b.addClsWithUI(c,!0)),b.hasFocus||(b.hasFocus=!0,b.fireEvent("focus",b,a)))},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();b.destroying||(b.beforeBlur(a),c&&d&&d.removeCls(b.removeClsWithUI(c,!0)),b.validateOnBlur&&b.validate(),b.hasFocus=!1,b.fireEvent("blur",b,a),b.postBlur(a))},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a,b){var c=this.getRefOwner(),d="string"==typeof b,e="number"==typeof b,f=b&&b.isComponent,g=0;if(a)for(;c;c=c.getRefOwner()){if(g++,a.isComponent){if(c===a)return c}else if(Ext.ComponentQuery.is(c,a))return c;if(d&&c.is(b))return;if(e&&g===b)return;if(f&&c===b)return}return c},nextSibling:function(a){var b,c,d,e,f=this.ownerCt;if(f&&(b=f.items,d=b.indexOf(this)+1))if(a){for(c=b.getCount();c>d;d++)if((e=b.getAt(d)).is(a))return e}else if(d<b.getCount())return b.getAt(d);return null},previousSibling:function(a){var b,c,d,e=this.ownerCt;if(e&&(b=e.items,c=b.indexOf(this),-1!=c))if(a){for(--c;c>=0;c--)if((d=b.getAt(c)).is(a))return d}else if(c)return b.getAt(--c);return null},previousNode:function(a,b){var c,d,e,f,g=this,h=g.ownerCt;if(b&&g.is(a))return g;if(h){for(d=h.items.items,e=Ext.Array.indexOf(d,g)-1;e>-1;e--){if(f=d[e],f.query&&(c=f.query(a),c=c[c.length-1]))return c;if(f.is(a))return f}return h.previousNode(a,!0)}return null},nextNode:function(a,b){var c,d,e,f,g,h=this,i=h.ownerCt;if(b&&h.is(a))return h;if(i){for(d=i.items.items,f=Ext.Array.indexOf(d,h)+1,e=d.length;e>f;f++){if(g=d[f],g.is(a))return g;if(g.down&&(c=g.down(a)))return c}return i.nextNode(a)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a,b,c,d=this,e=null;return"boolean"==typeof d.autoScroll?(e={overflow:c=d.autoScroll?"auto":""},d.scrollFlags={overflowX:c,overflowY:c,x:!0,y:!0,both:!0}):(a=d.overflowX,b=d.overflowY,void 0!==a||void 0!==b?(e={overflowX:a=a||"",overflowY:b=b||""},d.scrollFlags={overflowX:a,overflowY:b,x:a="auto"===a||"scroll"===a,y:b="auto"===b||"scroll"===b,both:a&&b}):d.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),e&&Ext.isIE7m&&(e.position="relative"),e},isXType:function(a,b){return b?this.xtype===a:this.xtypesMap[a]},getXTypes:function(){var a,b,c,d=this.self;if(!d.xtypes){for(a=[],b=this;b;)c=b.xtypes,void 0!==c&&a.unshift.apply(a,c),b=b.superclass;d.xtypeChain=a,d.xtypes=a.join("/")}return d.xtypes},update:function(a,b,c){var d,e=this,f=e.tpl&&!Ext.isString(a);f?e.data=a:e.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a,e.rendered&&(d=e.isContainer?e.layout.getRenderTarget():e.getTargetEl(),f?e.tpl[e.tplWriteMode](d,a||{}):d.update(e.html,b,c),e.updateLayout())},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(a){var b,c=this;return c.hidden||!c.rendered||c.isDestroyed?b=!0:a&&(b=c.isHierarchicallyHidden()),!b},isHierarchicallyHidden:function(){for(var a,b,c=this,d=!1;a=c.ownerCt||c.floatParent;c=a){if(b=a.getHierarchyState(),b.hidden){d=!0;break}if(!c.getHierarchyState().collapseImmune){d=!!b.collapsed;break}if(a.collapsed&&!c.collapseImmune){d=!0;break}}return d},onBoxReady:function(a,b){var c=this;c.disableOnBoxReady?c.onDisable():c.enableOnBoxReady&&c.onEnable(),c.resizable&&c.initResizable(c.resizable),c.draggable&&c.initDraggable(),c.hasListeners.boxready&&c.fireEvent("boxready",c,a,b)},enable:function(a){var b=this;return delete b.disableOnBoxReady,b.removeCls(b.disabledCls),b.rendered?b.onEnable():b.enableOnBoxReady=!0,b.disabled=!1,delete b.resetDisable,a!==!0&&b.fireEvent("enable",b),b},disable:function(a){var b=this;return delete b.enableOnBoxReady,b.addCls(b.disabledCls),b.rendered?b.onDisable():b.disableOnBoxReady=!0,b.disabled=!0,a!==!0&&(delete b.resetDisable,b.fireEvent("disable",b)),b},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var a=this,b=a.focusCls,c=a.getFocusEl();b&&c&&c.removeCls(a.removeClsWithUI(b,!0)),a.maskOnDisable&&(a.el.dom.disabled=!0,a.mask())},mask:function(){var a=this.lastBox,b=this.getMaskTarget(),c=[];a&&(c[2]=a.height),b.mask.apply(b,c)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.addCls.apply(b,arguments),a},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.removeCls.apply(b,arguments),a},addOverCls:function(){var a=this;a.disabled||a.el.addCls(a.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,b,c,d){var e,f,g=this;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){e=b,b={},b[a]=e,a=d.element,c&&(b.scope=c);for(f in d)d.hasOwnProperty(f)&&g.eventOptionsRe.test(f)&&(b[f]=d[f])}return void(g[a]&&g[a].on?g.mon(g[a],b):(g.afterRenderEvents=g.afterRenderEvents||{},g.afterRenderEvents[a]||(g.afterRenderEvents[a]=[]),g.afterRenderEvents[a].push(b)))}return g.mixins.observable.addListener.apply(g,arguments)},removeManagedListenerItem:function(a,b,c,d,e,f){var g=this,h=b.options?b.options.element:null;return h?(h=g[h],void(h&&h.un&&(!a&&(b.item!==c||b.ename!==d||e&&b.fn!==e||f&&b.scope!==f)||(h.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(g.managedListeners,b))))):g.mixins.observable.removeManagedListenerItem.apply(g,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){var c=this;c.ownerCt=a,c.hierarchyState&&(c.hierarchyState.invalid=!0,delete c.hierarchyState),c.hasListeners.added&&c.fireEvent("added",c,a,b)},onRemoved:function(){var a=this;a.hasListeners.removed&&a.fireEvent("removed",a,a.ownerCt),delete a.ownerCt,delete a.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(a,b,c,d){var e=this;e.floating&&e.constrain&&e.doConstrain(),e.hasListeners.resize&&e.fireEvent("resize",e,a,b,c,d)},setSize:function(a,b){var c=this;return a&&"object"==typeof a&&(b=a.height,a=a.width),"number"==typeof a?c.width=Ext.Number.constrain(a,c.minWidth,c.maxWidth):null===a&&delete c.width,"number"==typeof b?c.height=Ext.Number.constrain(b,c.minHeight,c.maxHeight):null===b&&delete c.height,c.rendered&&c.isVisible()&&c.updateLayout({isRoot:!1}),c},isLayoutRoot:function(){var a=this,b=a.ownerLayout;return!b||a._isLayoutRoot||a.floating?!0:b.isItemLayoutRoot(a)},isLayoutSuspended:function(){for(var a,b=this;b;){if(b.layoutSuspendCount||b.suspendLayout)return!0;if(a=b.ownerLayout,!a)break;b=a.owner}return!1},updateLayout:function(a){var b,c=this,d=c.lastBox,e=a&&a.isRoot;d&&(d.invalid=!0),!c.rendered||c.layoutSuspendCount||c.suspendLayout||(c.hidden?Ext.AbstractComponent.cancelLayout(c):"boolean"!=typeof e&&(e=c.isLayoutRoot()),!e&&c.ownerLayout&&c.ownerLayout.onContentChange(c)||c.isLayoutSuspended()||(b=a&&a.hasOwnProperty("defer")?a.defer:c.deferLayouts,Ext.AbstractComponent.updateLayout(c,b)))},getSizeModel:function(a){var b,c,d,e,f,g,h,i,j,k,l=this,m=Ext.layout.SizeModel,n=l.componentLayout.ownerContext,o=l.width,p=l.height;return n&&(k=n.widthModel,f=n.heightModel),k&&f||(d="number"==(b=typeof o),e="number"==(c=typeof p),j=l.floating||!(g=l.ownerLayout),j?(h=Ext.layout.Layout.prototype.autoSizePolicy,i=l.floating?3:l.shrinkWrap,d&&(k=m.configured),e&&(f=m.configured)):(h=g.getItemSizePolicy(l,a),i=g.isItemShrinkWrap(l)),n&&(n.ownerSizePolicy=h),i=i===!0?3:i||0,j&&i&&(o&&"string"==b&&(i&=2),p&&"string"==c&&(i&=1)),3!==i&&(a||(a=l.ownerCt&&l.ownerCt.getSizeModel()),a&&(i|=(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0))),k||(k=h.setsWidth?h.readsWidth?d?m.calculatedFromConfigured:1&i?m.calculatedFromShrinkWrap:m.calculatedFromNatural:m.calculated:d?m.configured:1&i?m.shrinkWrap:m.natural),f||(f=h.setsHeight?h.readsHeight?e?m.calculatedFromConfigured:2&i?m.calculatedFromShrinkWrap:m.calculatedFromNatural:m.calculated:e?m.configured:2&i?m.shrinkWrap:m.natural)),k.pairsByHeightOrdinal[f.ordinal]},isDescendant:function(a){if(a.isContainer)for(var b=this.ownerCt;b;b=b.ownerCt)if(b===a)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(a){var b=this.componentLayout;b&&b.isLayout&&b!=a&&b.setOwner(null),this.componentLayout=a,a.setOwner(this)},getComponentLayout:function(){var a=this;return a.componentLayout&&a.componentLayout.isLayout||a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent")),a.componentLayout},afterComponentLayout:function(a,b,c,d){var e=this;1===++e.componentLayoutCounter&&e.afterFirstLayout(a,b),(a!==c||b!==d)&&e.onResize(a,b,c,d)},beforeComponentLayout:function(){return!0},setPosition:function(a,b,c){var d=this,e=d.beforeSetPosition.apply(d,arguments);return e&&d.rendered&&(a=e.x,b=e.y,c?(a!==d.getLocalX()||b!==d.getLocalY())&&(d.stopAnimation(),d.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(d.afterSetPosition,d,[a,b])},to:{x:a,y:b}},c))):(d.setLocalXY(a,b),d.afterSetPosition(a,b))),d},beforeSetPosition:function(a,b,c){var d,e;return a&&(Ext.isNumber(e=a[0])?(c=b,b=a[1],a=e):void 0!==(e=a.x)&&(c=b,b=a.y,a=e)),(this.constrain||this.constrainHeader)&&(d=this.calculateConstrainedPosition(null,[a,b],!0),d&&(a=d[0],b=d[1])),d={x:this.x=a,y:this.y=b,anim:c,hasX:void 0!==a,hasY:void 0!==b},d.hasX||d.hasY?d:null},afterSetPosition:function(a,b){var c=this;c.onPosition(a,b),c.hasListeners.move&&c.fireEvent("move",c,a,b)},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(void 0,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this,b=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,c=a.loader||b;return c?(c.isLoader?c.setTarget(a):a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:b},c)),a.loader):null},setDocked:function(a,b){var c=this;return c.dock=a,b&&c.ownerCt&&c.rendered&&c.ownerCt.updateLayout(),c},setBorder:function(a,b){var c=this,d=!!b;(c.rendered||d)&&(d||(b=c.el),a=a?a===!0?"1px":this.unitizeBox(a):0,b.setStyle("border-width",a),d||c.updateLayout()),c.border=a},onDestroy:function(){var a=this;a.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(a.setSize,a),Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var a,b,c=this,d=c.renderSelectors;if(!(c.isDestroyed||c.hasListeners.beforedestroy&&c.fireEvent("beforedestroy",c)===!1)){if(c.destroying=!0,c.beforeDestroy(),c.floating?(delete c.floatParent,c.zIndexManager&&c.zIndexManager.unregister(c)):c.ownerCt&&c.ownerCt.remove&&c.ownerCt.remove(c,!1),c.stopAnimation(),c.onDestroy(),Ext.destroy(c.plugins),c.hasListeners.destroy&&c.fireEvent("destroy",c),Ext.ComponentManager.unregister(c),c.mixins.state.destroy.call(c),c.clearListeners(),c.rendered){if(c.preserveElOnDestroy||c.el.remove(),c.mixins.elementCt.destroy.call(c),d)for(a in d)d.hasOwnProperty(a)&&(b=c[a],b&&(delete c[a],b.remove()));delete c.el,delete c.frameBody,delete c.rendered}c.destroying=!1,c.isDestroyed=!0}},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})},getHierarchyState:function(a){var b,c,d,e,f=this,g=a&&f.hierarchyStateInner||f.hierarchyState,h=f.ownerCt;return(!g||g.invalid)&&(b=f.getRefOwner(),h&&(e=f.ownerLayout===h.layout),f.hierarchyState=g=Ext.Object.chain(b?b.getHierarchyState(e):Ext.rootHierarchyState),f.initHierarchyState(g),(c=f.componentLayout).initHierarchyState&&c.initHierarchyState(g),f.isContainer&&(f.hierarchyStateInner=d=Ext.Object.chain(g),c=f.layout,c&&c.initHierarchyState&&c.initHierarchyState(d,g),a&&(g=d))),g
},initHierarchyState:function(a){var b=this;b.collapsed&&(a.collapsed=!0),b.hidden&&(a.hidden=!0),b.collapseImmune&&(a.collapseImmune=!0)},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(a,b){this.el.setXY(a,b)},setY:function(a,b){this.el.setY(a,b)}},function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(b){a.resumeLayouts(b)},Ext.suspendLayouts=function(){a.suspendLayouts()},Ext.batchLayouts=function(b,c){a.suspendLayouts(),b.call(c),a.resumeLayouts(!0)}}),Ext.define("Ext.AbstractPlugin",{disabled:!1,isPlugin:!0,constructor:function(a){this.pluginConfig=a,Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(a,b){var c=b.alias;c&&!b.ptype&&(Ext.isArray(c)&&(c=c[0]),a.prototype.ptype=c.split("plugin.")[1])}}),Ext.define("Ext.Action",{constructor:function(a){this.initialConfig=a,this.itemId=a.itemId=a.itemId||a.id||Ext.id(),this.items=[]},isAction:!0,setText:function(a){this.initialConfig.text=a,this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a,this.callEach("setIconCls",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a,this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a,this.callEach("setVisible",[!a])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a,this.initialConfig.scope=b,this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,a,b)},callEach:function(a,b){var c,d=this.items,e=0,f=d.length;for(Ext.suspendLayouts();f>e;e++)c=d[e],c[a].apply(c,b);Ext.resumeLayouts(!0)},addComponent:function(a){this.items.push(a),a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.globalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(a,b,c){var d;d=this.liveConnections[Number(a)],d&&d.onFlashStateChange(b,c)},registerConnection:function(a){var b=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[b]=a,b},injectFlashPlugin:function(){var a,b,c,d,e,f,g=this;d=document.createElement("img"),d.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif"),d.setAttribute("alt","Get Adobe Flash player"),c=document.createElement("a"),c.setAttribute("href","http://www.adobe.com/go/getflashplayer"),c.appendChild(d),b=document.createElement("p"),b.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.",a=document.createElement("div"),a.setAttribute("id","ext-flash-polyfill"),a.appendChild(b),a.appendChild(d),Ext.getBody().dom.appendChild(a),e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),f="/plugins/flash/FlashPlugin.swf",Ext.flashPluginPath&&(f=Ext.flashPluginPath),Ext.Loader.loadScript({url:e,onLoad:function(){var a="11.4.0",b="playerProductInstall.swf",c={},d={};d.quality="high",d.bgcolor="#ffffff",d.allowscriptaccess="sameDomain",d.allowfullscreen="true";var e={};e.id="ext-flash-polyfill",e.name="polyfill",e.align="middle",swfobject.embedSWF(f,"ext-flash-polyfill","0","0",a,b,c,d,e)},onError:function(){},scope:g}),Ext.globalEvents.addEvents("flashready"),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();var b=this;Ext.apply(b,a),b.requestHeaders={}},abort:function(){var a=this;if(4!=a.readyState){if(a.aborted=!0,!Ext.data.flash.BinaryXhr.flashPluginActive)return void Ext.globalEvents.removeListener("flashready",a.onFlashReady,a);Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}},getAllResponseHeaders:function(){var a=[];return Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)}),a.join("\r\n")},getResponseHeader:function(a){var b=this.responseHeaders;return b&&b[a]||null},open:function(a,b,c,d,e){var f=this;f.method=a,f.url=b,f.async=c!==!1,f.user=d,f.password=e},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.globalEvents.addListener("flashready",b.onFlashReady,b)},onFlashReady:function(){var a,b,c=this;c.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(c),a={method:c.method,url:c.url,user:c.user,password:c.password,mimeType:c.mimeType,requestHeaders:c.requestHeaders,body:c.body,javascriptId:c.javascriptId},b=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(a)},setReadyState:function(a){var b=this;b.readyState!=a&&(b.readyState=a,b.onreadystatechange())},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0,b.responseHeaders={},b.mimeType&&(b.responseHeaders["content-type"]=b.mimeType),"complete"==a.reason?(this.responseBytes=a.data,b.responseHeaders["content-length"]=a.data.length):("error"==a.reason||"securityError"==a.reason)&&(this.statusText=a.text,b.responseHeaders["content-length"]=0)},onFlashStateChange:function(a,b){var c=this;4==a&&(c.parseData(b),delete Ext.data.flash.BinaryXhr.liveConnections[c.javascriptId]),c.setReadyState(a)}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.data.flash.BinaryXhr"],statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{},Ext.apply(this,a),this.requests={},this.mixins.observable.constructor.call(this)},request:function(a){a=a||{};var b,c,d,e,f,g=this,h=a.scope||window,i=a.username||g.username,j=a.password||g.password||"";return g.fireEvent("beforerequest",g,a)!==!1?(c=g.setOptions(a,h),g.isFormUpload(a)?(g.upload(a.form,c.url,c.data,a),null):((a.autoAbort||g.autoAbort)&&g.abort(),b=a.async!==!1?a.async||g.async:!1,f=g.openRequest(a,c,b,i,j),g.isXdr||(e=g.setupHeaders(f,a,c.data,c.params)),d={id:++Ext.data.Connection.requestId,xhr:f,headers:e,options:a,async:b,binary:a.binary||g.binary,timeout:setTimeout(function(){d.timedout=!0,g.abort(d)},a.timeout||g.timeout)},g.requests[d.id]=d,g.latestId=d.id,b&&(g.isXdr||(f.onreadystatechange=Ext.Function.bind(g.onStateChange,g,[d]))),g.isXdr&&g.processXdrRequest(d,f),f.send(c.data),b?d:g.onComplete(d))):(Ext.callback(a.callback,a.scope,[a,void 0,void 0]),null)},processXdrRequest:function(a,b){var c=this;delete a.headers,a.contentType=a.options.contentType||c.defaultXdrContentType,b.onload=Ext.Function.bind(c.onStateChange,c,[a,!0]),b.onerror=b.ontimeout=Ext.Function.bind(c.onStateChange,c,[a,!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]},a.getResponseHeader=function(){return""},a.contentType=b.contentType||this.defaultXdrContentType},upload:function(a,b,c,d){a=Ext.getDom(a),d=d||{};var e,f,g,h,i,j,k,l,m=Ext.id(),n=document.createElement("iframe"),o=[],p="multipart/form-data",q={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},r=function(b,c){e=document.createElement("input"),Ext.fly(e).set({type:"hidden",value:c,name:b}),a.appendChild(e),o.push(e)};if(Ext.fly(n).set({id:m,name:m,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(n),document.frames&&(document.frames[m].name=m),Ext.fly(a).set({target:m,method:"POST",enctype:p,encoding:p,action:b||q.action}),c){f=Ext.Object.fromQueryString(c)||{};for(h in f)if(f.hasOwnProperty(h))if(g=f[h],Ext.isArray(g))for(i=g.length,j=0;i>j;j++)r(h,g[j]);else r(h,g)}for(Ext.fly(n).on("load",Ext.Function.bind(this.onUploadComplete,this,[n,d]),null,{single:!Ext.isOpera}),a.submit(),Ext.fly(a).set(q),k=o.length,l=0;k>l;l++)Ext.removeNode(o[l])},onUploadComplete:function(a,b){var c,d,e,f,g=this,h={responseText:"",responseXML:null};try{if(e=a.contentWindow.document||a.contentDocument||window.frames[a.id].document){if(Ext.isOpera&&"about:blank"==e.location)return;e.body&&(h.responseText=(f=e.body.firstChild)&&/pre/i.test(f.tagName)?f.textContent:(f=e.getElementsByTagName("textarea")[0])?f.value:e.body.textContent||e.body.innerText),h.responseXML=e.XMLDocument||e,c=b.success,d=!0}}catch(i){h.responseText='{success:false,message:"'+Ext.String.trim(i.message||i.description)+'"}',c=b.failure,d=!1}g.fireEvent("requestcomplete",g,h,b),Ext.callback(c,b.scope,[h,b]),Ext.callback(b.callback,b.scope,[b,d,h]),setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype")):!1},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c,d,e,f=this,g=a.params||{},h=f.extraParams,i=a.urlParams,j=a.url||f.url,k=a.jsonData;return Ext.isFunction(g)&&(g=g.call(b,a)),Ext.isFunction(j)&&(j=j.call(b,a)),j=this.setupUrl(a,j),e=a.rawData||a.binaryData||a.xmlData||k||null,k&&!Ext.isPrimitive(k)&&(e=Ext.encode(e)),a.binaryData&&f.nativeBinaryPostSupport()&&(e=new Uint8Array(a.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(e=e.buffer)),Ext.isObject(g)&&(g=Ext.Object.toQueryString(g)),Ext.isObject(h)&&(h=Ext.Object.toQueryString(h)),g+=h?(g?"&":"")+h:"",i=Ext.isObject(i)?Ext.Object.toQueryString(i):i,g=this.setupParams(a,g),c=(a.method||f.method||(g||e?"POST":"GET")).toUpperCase(),this.setupMethod(a,c),d=a.disableCaching!==!1?a.disableCaching||f.disableCaching:!1,"GET"===c&&d&&(j=Ext.urlAppend(j,(a.disableCachingParam||f.disableCachingParam)+"="+(new Date).getTime())),("GET"==c||e)&&g&&(j=Ext.urlAppend(j,g),g=null),i&&(j=Ext.urlAppend(j,i)),{url:j,method:c,data:e||g||null}},setupUrl:function(a,b){var c=this.getForm(a);return c&&(b=b||c.action),b},setupParams:function(a,b){var c,d=this.getForm(a);return d&&!this.isFormUpload(a)&&(c=Ext.Element.serializeForm(d),b=b?b+"&"+c:c),b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(a,b,c,d){var e,f,g=this,h=Ext.apply({},b.headers||{},g.defaultHeaders||{}),i=g.defaultPostHeader,j=b.jsonData,k=b.xmlData;h["Content-Type"]||!c&&!d||(c&&(b.rawData?i="text/plain":k&&Ext.isDefined(k)?i="text/xml":j&&Ext.isDefined(j)&&(i="application/json")),h["Content-Type"]=i),g.useDefaultXhrHeader&&!h["X-Requested-With"]&&(h["X-Requested-With"]=g.defaultXhrHeader);try{for(e in h)h.hasOwnProperty(e)&&(f=h[e],a.setRequestHeader(e,f))}catch(l){g.fireEvent("exception",e,f)}return h},newRequest:function(a){var b,c=this;return a.binaryData?b=c.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:(a.cors||c.cors)&&Ext.isIE&&Ext.ieVersion<=9?(b=c.getXdrInstance(),c.isXdr=!0):b=c.getXhrInstance(),b},openRequest:function(a,b,c,d,e){var f=this,g=f.newRequest(a);return d?g.open(b.method,b.url,c,d,e):f.isXdr?g.open(b.method,b.url):g.open(b.method,b.url,c),(a.binary||f.binary)&&(window.Uint8Array?g.responseType="arraybuffer":g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined")),(a.withCredentials||f.withCredentials)&&(g.withCredentials=!0),g},getXdrInstance:function(){var a;return Ext.ieVersion>=8?a=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),a},getXhrInstance:function(){for(var a,b=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0,d=b.length;d>c;++c)try{a=b[c],a();break}catch(e){}return a}(),isLoading:function(a){if(a||(a=this.getLatest()),!a||!a.xhr)return!1;var b=a.xhr.readyState;return a.xhr instanceof Ext.data.flash.BinaryXhr&&4!=b||!(0===b||4==b)},abort:function(a){var b,c=this;if(a||(a=c.getLatest()),a&&c.isLoading(a)){b=a.xhr;try{b.onreadystatechange=null}catch(d){b.onreadystatechange=Ext.emptyFn}b.abort(),c.clearTimeout(a),a.timedout||(a.aborted=!0),c.onComplete(a),c.cleanup(a)}},abortAll:function(){var a,b=this.requests;for(a in b)b.hasOwnProperty(a)&&this.abort(b[a])},getLatest:function(){var a,b=this.latestId;return b&&(a=this.requests[b]),a||null},onStateChange:function(a,b){var c=this;(a.xhr&&4==a.xhr.readyState||c.isXdr)&&(c.clearTimeout(a),c.onComplete(a,b),c.cleanup(a),Ext.EventManager.idleEvent.fire())},clearTimeout:function(a){clearTimeout(a.timeout),delete a.timeout},cleanup:function(a){a.xhr=null,delete a.xhr},onComplete:function(a,b){var c,d,e,f=this,g=a.options;try{c=f.parseStatus(a.xhr.status)}catch(h){c={success:!1,isException:!1}}return d=f.isXdr?b:c.success,d?(e=f.createResponse(a),f.fireEvent("requestcomplete",f,e,g),Ext.callback(g.success,g.scope,[e,g])):(e=c.isException||a.aborted||a.timedout?f.createException(a):f.createResponse(a),f.fireEvent("requestexception",f,e,g),Ext.callback(g.failure,g.scope,[e,g])),Ext.callback(g.callback,g.scope,[g,d,e]),delete f.requests[a.id],e},parseStatus:function(a){a=1223==a?204:a;var b=a>=200&&300>a||304==a,c=!1;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=!0}return{success:b,isException:c}},createResponse:function(a){for(var b,c,d,e,f=this,g=a.xhr,h=f.isXdr,i={},j=h?[]:g.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),k=j.length;k--;)b=j[k],c=b.indexOf(":"),c>=0&&(d=b.substr(0,c).toLowerCase()," "==b.charAt(c+1)&&++c,i[d]=b.substr(c+1));return a.xhr=null,delete a.xhr,e={request:a,requestId:a.id,status:g.status,statusText:g.statusText,getResponseHeader:function(a){return i[a.toLowerCase()]},getAllResponseHeaders:function(){return i}},h&&f.processXdrResponse(e,g),a.binary?e.responseBytes=f.getByteArray(g):(e.responseText=g.responseText,e.responseXML=g.responseXML),g=null,e},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(a){var b,c,d,e,f=a.response,g=a.responseBody;if(a instanceof Ext.data.flash.BinaryXhr)b=a.responseBytes;else if(window.Uint8Array)b=f?new Uint8Array(f):[];else if(Ext.isIE9p)try{b=new VBArray(g).toArray()}catch(h){b=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(a.responseBody,b=[]);else for(b=[],c=a.responseText,d=c.length,e=0;d>e;e++)b.push(255&c.charCodeAt(e));return b},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript",a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(a),this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(a){var b=this;b.fixed=b.fixed&&!(Ext.isIE6||Ext.isIEQuirks),b.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:b.hideMode,hidden:b.hidden,shadow:"undefined"!=typeof b.shadow?b.shadow:"sides",shadowOffset:b.shadowOffset,constrain:!1,fixed:b.fixed,shim:b.shim===!1?!1:void 0},b.floating),a),!b.modal||Ext.FocusManager&&Ext.FocusManager.enabled||b.mon(b.el,{keydown:b.onKeyDown,scope:b}),b.mon(b.el,{mousedown:b.onMouseDown,scope:b}),b.floating=!0,b.registerWithOwnerCt(),b.initHierarchyEvents()},initHierarchyEvents:function(){var a=this,b=this.syncHidden;a.hasHierarchyEventListeners||(a.mon(a.hierarchyEventSource,{hide:b,collapse:b,show:b,expand:b,added:b,scope:a}),a.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var a=this,b=a.ownerCt,c=a.zIndexParent;c&&c.unregisterFloatingItem(a),c=a.zIndexParent=a.up("[floating]"),a.setFloatParent(b||c),delete a.ownerCt,c?c.registerFloatingItem(a):Ext.WindowManager.register(a)},onKeyDown:function(a){var b,c,d,e,f=this;a.getKey()==Ext.EventObject.TAB&&(b=a.shiftKey,c=f.el.query(":focusable"),d=c[0],e=c[c.length-1],d&&e&&a.target===(b?d:e)&&(a.stopEvent(),(b?e:d).focus(!1,!0)))},onMouseDown:function(a){var b=this.focusTask;!this.floating||b&&b.id||this.toFront(!!a.getTarget(":focusable"))},setFloatParent:function(a){var b=this;b.floatParent=a,!b.constrain&&!b.constrainHeader||b.constrainTo||(b.constrainTo=a?a.getTargetEl():b.container)},syncShadow:function(){this.floating&&this.el.sync(!0)},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync,this.syncShadow()},syncHidden:function(){var a=this,b=a.hidden||!a.rendered,c=a.hierarchicallyHidden=a.isHierarchicallyHidden(),d=a.pendingShow;b!==c&&(c?(a.hide(),a.pendingShow=!0):d&&(delete a.pendingShow,d.length?a.show.apply(a,d):a.show()))},setZIndex:function(a){var b=this;return b.el.setZIndex(a),a+=10,b.floatingDescendants&&(a=100*Math.floor(b.floatingDescendants.setBase(a)/100)+1e4),a},doConstrain:function(a){var b=this,c=b.calculateConstrainedPosition(a,null,!0);c&&b.setPosition(c)},toFront:function(a){var b=this,c=b.zIndexParent,d=b.preventFocusOnActivate;return c&&b.bringParentToFront!==!1&&c.toFront(!0),Ext.isDefined(a)||(a=!b.focusOnToFront),a&&(b.preventFocusOnActivate=!0),b.zIndexManager.bringToFront(b,a)&&(a||b.focus(!1,!0)),b.preventFocusOnActivate=d,b},setActive:function(a,b){var c=this;a?(c.el.shadow&&!c.maximized&&c.el.enableShadow(!0),c.preventFocusOnActivate||c.focus(!1,!0),c.fireEvent("activate",c)):(c.isWindow&&b&&b.isWindow&&c.hideShadowOnDeactivate&&c.el.disableShadow(),c.fireEvent("deactivate",c))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var a,b=this;return b.isVisible()?(a=b.getAlignToXY(b.container,"c-c"),b.setPagePosition(a)):b.needsCenter=!0,b},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},fitContainer:function(a){var b=this,c=b.floatParent,d=c?c.getTargetEl():b.container,e=d.getViewSize(!1),f=c||d.dom!==document.body?[0,0]:d.getXY();e.x=f[0],e.y=f[1],b.setBox(e,a)}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",uses:["Ext.util.DelayedTask","Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(a){var b=this;a=a||{},a.initialConfig?(a.isAction&&(b.baseAction=a),a=a.initialConfig):(a.tagName||a.dom||Ext.isString(a))&&(a={applyTo:a,id:a.id||a}),b.callParent([a]),b.baseAction&&b.baseAction.addComponent(b)},initComponent:function(){var a=this;a.callParent(),a.listeners&&(a.on(a.listeners),a.listeners=null),a.enableBubble(a.bubbleEvents)},afterRender:function(){var a=this;a.callParent(),a.x&&a.y||!a.pageX&&!a.pageY||a.setPagePosition(a.pageX,a.pageY)},setAutoScroll:function(a){var b=this;return b.autoScroll=!!a,b.rendered&&b.getOverflowEl().setStyle(b.getOverflowStyle()),b.updateLayout(),b},setOverflowXY:function(a,b){var c=this,d=arguments.length;return d&&(c.overflowX=a||"",d>1&&(c.overflowY=b||"")),c.rendered&&c.getOverflowEl().setStyle(c.getOverflowStyle()),c.updateLayout(),c},beforeRender:function(){var a,b=this,c=b.floating;return c&&(b.addCls(Ext.baseCSSPrefix+"layer"),a=c.cls,a&&b.addCls(a)),b.callParent()},beforeLayout:function(){this.callParent(arguments),this.floating&&this.onBeforeFloatLayout()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){this.floating?this.makeFloating(a):this.callParent(arguments)},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:!1,constrainTo:b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():null),handles:b.resizeHandles},a),a.target=b,b.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var a=this,b=a.resizer&&a.resizer.el!==a.el?a.resizerComponent=new Ext.Component({el:a.resizer.el,rendered:!0,container:a.container}):a,c=Ext.applyIf({el:b.getDragEl(),constrainTo:a.constrain||a.draggable.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.container):void 0},a.draggable);(a.constrain||a.constrainDelegate)&&(c.constrain=a.constrain,c.constrainDelegate=a.constrainDelegate),a.dd=new Ext.util.ComponentDragger(b,c)},scrollBy:function(){var a;(a=this.getTargetEl())&&a.dom&&a.scrollBy.apply(a,arguments)},setLoading:function(a,b){var c=this,d={target:c};return c.rendered&&(Ext.destroy(c.loadMask),c.loadMask=null,a===!1||c.collapsed||(Ext.isObject(a)?Ext.apply(d,a):Ext.isString(a)&&(d.msg=a),b&&Ext.applyIf(d,{useTargetEl:!0}),c.loadMask=new Ext.LoadMask(d),c.loadMask.show())),c.loadMask},beforeSetPosition:function(){var a,b=this,c=b.callParent(arguments);return c&&(a=b.adjustPosition(c.x,c.y),c.x=a.x,c.y=a.y),c||null},afterSetPosition:function(a,b){this.onPosition(a,b),this.fireEvent("move",this,a,b)},showAt:function(a,b,c){var d=this;return d.rendered||!d.autoRender&&!d.floating?(d.floating?d.setPosition(a,b,c):d.setPagePosition(a,b,c),void d.show()):(d.x=a,d.y=b,d.show())},showBy:function(a,b,c){var d=this;return d.floating&&a&&(d.show(),d.rendered&&!d.hidden&&d.alignTo(a,b||d.defaultAlign,c)),d},setPagePosition:function(a,b,c){var d,e,f=this;return Ext.isArray(a)&&(b=a[1],a=a[0]),f.pageX=a,f.pageY=b,f.floating?(f.isContainedFloater()?(e=f.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(a)&&Ext.isNumber(e.left)&&(a-=e.left),Ext.isNumber(b)&&Ext.isNumber(e.top)&&(b-=e.top)):(d=f.el.translateXY(a,b),a=d.x,b=d.y),f.setPosition(a,b,c)):(d=f.el.translateXY(a,b),f.setPosition(d.x,d.y,c)),f},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(a){return this.setSize(a.width,a.height),this.setPagePosition(a.x,a.y),this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,b){var c,d=this;return d.isContainedFloater()&&(c=d.floatParent.getTargetEl().getViewRegion(),a+=c.left,b+=c.top),{x:a,y:b}},getPosition:function(a){var b,c,d=this,e=d.isContainedFloater();return a!==!0||e?(b=d.getXY(),a===!0&&e&&(c=d.floatParent.getTargetEl().getViewRegion(),b[0]-=c.left,b[1]-=c.top),b):[d.getLocalX(),d.getLocalY()]},getId:function(){var a,b=this;return b.id||(a=b.getXType(),a=a?a.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",b.id=a+"-"+b.getAutoId()),b.id},show:function(){var a=this,b=a.rendered;return a.hierarchicallyHidden||a.floating&&!b&&a.isHierarchicallyHidden()?(b||a.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,a.pendingShow=arguments):a.pendingShow=!0):b&&a.isVisible()?a.toFrontOnShow&&a.floating&&a.toFront():a.fireEvent("beforeshow",a)!==!1?(a.hidden=!1,delete this.getHierarchyState().hidden,Ext.suspendLayouts(),b||!a.autoRender&&!a.floating||(a.doAutoRender(),b=a.rendered),b?(a.beforeShow(),Ext.resumeLayouts(),a.onShow.apply(a,arguments),a.afterShow.apply(a,arguments)):Ext.resumeLayouts(!0)):a.onShowVeto(),a},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show(),a.callParent(arguments),a.floating&&(a.maximized?a.fitContainer():a.constrain&&a.doConstrain())},getAnimateTarget:function(a){return a=a||this.animateTarget,a&&(a=a.isComponent?a.getEl():Ext.get(a)),a||null},afterShow:function(a,b,c){var d,e,f,g=this,h=g.el;a=g.getAnimateTarget(a),g.ghost||(a=null),a?(e={x:h.getX(),y:h.getY(),width:h.dom.offsetWidth,height:h.dom.offsetHeight},d={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},h.addCls(g.offsetsCls),f=g.ghost(),f.el.stopAnimation(),f.setX(-1e4),g.ghostBox=e,f.el.animate({from:d,to:e,listeners:{afteranimate:function(){delete f.componentLayout.lastComponentSize,g.unghost(),delete g.ghostBox,h.removeCls(g.offsetsCls),g.onShowComplete(b,c)}}})):g.onShowComplete(b,c),g.fireHierarchyEvent("show")},onShowComplete:function(a,b){var c=this;c.floating&&(c.toFront(),c.onFloatShow()),Ext.callback(a,b||c),c.fireEvent("show",c),delete c.hiddenByLayout},hide:function(){var a,b=this;return b.pendingShow&&delete b.pendingShow,(!b.rendered||b.isVisible())&&(a=b.fireEvent("beforehide",b)!==!1,(b.hierarchicallyHidden||a)&&(b.hidden=!0,b.getHierarchyState().hidden=!0,b.rendered&&b.onHide.apply(b,arguments))),b},onHide:function(a,b,c){var d,e,f,g=this;a=g.getAnimateTarget(a),g.ghost||(a=null),a&&(f={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},d=g.ghost(),d.el.stopAnimation(),e=g.getSize(),d.el.animate({to:f,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize,d.el.hide(),d.el.setSize(e),g.afterHide(b,c)}}})),g.el.hide(),a||g.afterHide(b,c)},afterHide:function(a,b){var c=this,d=Ext.Element.getActiveElement();c.hiddenByLayout=null,Ext.AbstractComponent.prototype.onHide.call(c),(d===c.el||c.el.contains(d))&&Ext.fly(d).blur(),Ext.callback(a,b||c),c.fireEvent("hide",c),c.fireHierarchyEvent("hide")},onDestroy:function(){var a=this;a.rendered&&Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent),delete a.focusTask,a.callParent()},deleteMembers:function(){for(var a=arguments,b=a.length,c=0;b>c;++c)delete this[a[c]]},focus:function(a,b,c,d){var e,f,g,h=this;if(b)return h.focusTask||(Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(h.focus)),h.focusTask.delay(Ext.isNumber(b)?b:10,null,h,[a,!1,c,d]),h;if(h.focusTask&&h.focusTask.cancel(),h.rendered&&!h.isDestroyed&&h.isVisible(!0)&&(e=h.getFocusEl())){if(e.isComponent)return e.focus(a,b);(f=e.dom)&&(e.needsTabIndex()&&(f.tabIndex=-1),h.floating&&(g=h.container.dom.scrollTop),e.focus(),a===!0&&f.select(),Ext.callback(c,d)),h.floating&&(h.toFront(!0),void 0!==g&&(h.container.dom.scrollTop=g))}return h},cancelFocus:function(){var a=this.focusTask;a&&a.cancel()},blur:function(){var a;return this.rendered&&(a=this.getFocusEl())&&a.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(a){a=a||{};var b,c=a.id||Ext.id(),d=Ext.applyIf(a,this.initialConfig);return d.id=c,new(b=Ext.getClass(this))(d)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget());return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(a,b,c){for(var d=this;d&&a.apply(b||d,c||[d])!==!1;)d=d.getBubbleTarget();return this},getProxy:function(){var a,b=this;return b.proxy||(a=Ext.getBody(),b.proxy=b.el.createProxy(Ext.baseCSSPrefix+"proxy-el",a,!0)),b.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;a._borderRegionInited||(a._borderRegionInited=!0,a.addStateEvents(["changeregion","changeweight"]),Ext.override(a,{getState:function(){var b=a.callParent();return b=a.addPropertyToState(b,"region"),b=a.addPropertyToState(b,"weight")}}))},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&a.isBorderLayout?a:null},setBorderRegion:function(a){var b,c=this,d=c.region;if(a!==d)if(b=c.getOwningBorderLayout()){var e,f,g,h=b.regionFlags[a],i=c.placeholder,j=c.splitter,k=b.owner,l=b.regionMeta,m=c.collapsed||c.floated;if(c.fireEventArgs("beforechangeregion",[c,a])===!1)return d;Ext.suspendLayouts(),c.region=a,Ext.apply(c,h),c.updateCollapseTool&&c.updateCollapseTool(),j&&(Ext.apply(j,h),j.updateOrientation(),f=k.items,g=f.indexOf(c),g>=0&&(e=l[a].splitterDelta,f.getAt(g+e)!==j&&(f.remove(j),g=f.indexOf(c),e>0&&++g,f.insert(g,j)))),i&&(m&&c.expand(!1),k.remove(i),c.placeholder=null,m&&c.collapse(null,!1)),k.updateLayout(),Ext.resumeLayouts(!0),c.fireEventArgs("changeregion",[c,d])}else c.region=a;return d},setRegionWeight:function(a){var b=this,c=b.getOwningBorderContainer(),d=b.placeholder,e=b.weight;return a!==e&&b.fireEventArgs("beforechangeweight",[b,a])!==!1&&(b.weight=a,d&&(d.weight=a),c&&c.updateLayout(),b.fireEventArgs("changeweight",[b,e])),e}}),Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(a,b,c){return a.getTarget().update(b.responseText,c.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(a){var b,c=this;a=a||{},Ext.apply(c,a),c.setTarget(c.target),c.addEvents("beforeload","exception","load"),c.mixins.observable.constructor.call(c),c.autoLoad&&(b=c.autoLoad,b===!0&&(b={}),c.load(b))},setTarget:function(a){var b=this;a=Ext.get(a),b.target&&b.target!=a&&b.abort(),b.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;void 0!==a&&(Ext.Ajax.abort(a.request),a.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===!0?null:a)},load:function(a){a=Ext.apply({},a);var b=this,c=Ext.isDefined(a.loadMask)?a.loadMask:b.loadMask,d=Ext.apply({},a.params),e=Ext.apply({},a.ajaxOptions),f=a.callback||b.callback,g=a.scope||b.scope||b;
Ext.applyIf(e,b.ajaxOptions),Ext.applyIf(a,e),Ext.applyIf(d,b.params),Ext.apply(d,b.baseParams),Ext.applyIf(a,{url:b.url}),Ext.apply(a,{scope:b,params:d,callback:b.onComplete}),b.fireEvent("beforeload",b,a)!==!1&&(c&&b.addMask(c),b.active={options:a,mask:c,scope:g,callback:f,success:a.success||b.success,failure:a.failure||b.failure,renderer:a.renderer||b.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:b.scripts},b.active.request=Ext.Ajax.request(a),b.setOptions(b.active,a))},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d,e=this,f=e.active;f&&(d=f.scope,b&&(b=e.getRenderer(f.renderer).call(e,e,c,f)!==!1),b?(Ext.callback(f.success,d,[e,c,a]),e.fireEvent("load",e,c,a)):(Ext.callback(f.failure,d,[e,c,a]),e.fireEvent("exception",e,c,a)),Ext.callback(f.callback,d,[e,b,c,a]),f.mask&&e.removeMask()),delete e.active},getRenderer:function(a){return Ext.isFunction(a)?a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh(),c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh(),delete a.target,a.abort(),a.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(a,b){var c=!0;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){c=!1}return c},Component:function(a,b,c){var d=!0,e=a.getTarget(),f=[];try{f=Ext.decode(b.responseText)}catch(g){d=!1}return d&&(e.suspendLayouts(),c.removeAll&&e.removeAll(),e.add(f),e.resumeLayouts(!0)),d}}},target:null,loadMask:!1,renderer:"html",setTarget:function(a){var b=this;Ext.isString(a)&&(a=Ext.getCmp(a)),b.target&&b.target!=a&&b.abort(),b.target=a},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a))return a;var b=this.statics().Renderer;switch(a){case"component":return b.Component;case"data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(a){var b,c=this,d=c.self,e=d.sizeModelsArray;Ext.apply(c,a),c[b=c.name]=!0,c.fixed=!(c.auto=c.natural||c.shrinkWrap),e[c.ordinal=e.length]=d[b]=d.sizeModels[b]=c},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var a,b,c,d,e,f=this,g=f.sizeModelsArray;for(new f({name:"calculated"}),new f({name:"configured",names:{width:"width",height:"height"}}),new f({name:"natural"}),new f({name:"shrinkWrap"}),new f({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new f({name:"calculatedFromNatural",natural:!0}),new f({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new f({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new f({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new f({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),a=0,c=g.length;c>a;++a)for(e=g[a],e.pairsByHeightOrdinal=d=[],b=0;c>b;++b)d.push({width:e,height:g[b]})}),Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate","Ext.layout.SizeModel"],uses:["Ext.layout.Context"],isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,b){var c,d,e,f,g,h,i=Ext.ClassManager,j=this.layoutsByType;if(a&&"string"!=typeof a){if(a.isLayout)return a;e=a,g=a.type||b}else g=a||b,e={};if(!(f=j[g])){if(c="layout."+g,d=i.getNameByAlias(c),d||(h=!0),f=i.get(d),h||!f)return i.instantiateByAlias(c,e||{});j[g]=f}return new f(e)}},constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-"),Ext.apply(b,a),b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b,c=this,d=c.context;c.lastWidthModel!=a.widthModel&&(c.lastWidthModel&&(b=!0),c.lastWidthModel=a.widthModel),c.lastHeightModel!=a.heightModel&&(c.lastWidthModel&&(b=!0),c.lastHeightModel=a.heightModel),b&&((d=a.context).clearTriggers(c,!1),d.clearTriggers(c,!0),c.triggerCount=0)},finishedLayout:function(a){this.lastWidthModel=a.widthModel,this.lastHeightModel=a.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return!1},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,d=b.height;return a.componentLayout.lastComponentSize||!c.calculated&&!d.calculated?!c.shrinkWrap&&!d.shrinkWrap:!1},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c,d,e,f,g=a.length;if(g)for(f=[],c=0;g>c;++c)d=a[c],d.rendered||(b&&void 0!==b[d.id]?e=b[d.id]:(this.configureItem(d),e=d.getRenderTree(),b&&(b[d.id]=e)),e&&f.push(e));return f},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c,d,e=b.length;for(c=0;e>c;c++)d=b[c],d.rendering&&(d.finishRender(c),this.afterRenderItem(d))},renderChildren:function(){var a=this,b=a.getLayoutItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(a,b){var c,d=this,e=a.length,f=0;if(e){for(Ext.suspendLayouts();e>f;f++)c=a[f],c&&!c.rendered?d.renderItem(c,b,f):d.isValidParent(c,b,f)?d.configureItem(c):d.moveItem(c,b,f);Ext.resumeLayouts(!0)}},isValidParent:function(a,b,c){var d,e=a.el?a.el.dom:Ext.getDom(a),f=b&&b.dom||b,g=e.parentNode;return g&&(d=g.className,d&&-1!==d.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(e=e.parentNode)),e&&f?"number"==typeof c?(c=this.getPositionOffset(c),e===f.childNodes[c]):e.parentNode===f:!1},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){var d=this;a.rendered||(d.configureItem(a),a.render(b,c),d.afterRenderItem(a))},moveItem:function(a,b,c){b=b.dom||b,"number"==typeof c&&(c=b.childNodes[c]),b.insertBefore(a.el.dom,c||null),a.container=Ext.get(b),this.configureItem(a)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b,c=this,d=a.el,e=c.owner;a.rendered&&(b=[].concat(c.itemCls||[]),e.itemCls&&(b=Ext.Array.push(b,e.itemCls)),b.length&&d.removeCls(b)),delete a.ownerLayout},destroy:function(){var a,b=this;b.targetCls&&(a=b.getTarget(),a&&a.removeCls(b.targetCls)),b.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;d>c;++c)a[c].$i=c;for(Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;return d||(d=a.$i-c.$i,a[b]&&(d=-d)),d}),c=0;d>c;++c)delete a[c].$i}},function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:"Ext.layout.Layout",alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:"Ext.util.ElementContainer"},requires:["Ext.XTemplate"],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments),a.targetContext=a.paddingContext=a.getEl("getTarget",this),this.cacheChildItems(a)},beginLayoutCycle:function(a,b){var c=this;c.callParent(arguments),b&&(c.usesContainerHeight&&++a.consumersContainerHeight,c.usesContainerWidth&&++a.consumersContainerWidth)},cacheChildItems:function(a){var b,c=a.context,d=[],e=this.getVisibleItems(),f=e.length;for(a.childItems=d,a.visibleItems=e,b=0;f>b;++b)d.push(c.getCmp(e[b]))},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},configureItem:function(a){var b,c=this,d=c.itemCls,e=c.owner.itemCls;a.ownerLayout=c,d&&(b="string"==typeof d?[d]:d),e&&(b=Ext.Array.push(b||[],e)),b&&a.addCls(b)},doRenderBody:function(a,b){this.renderItems(a,b),this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),e=c.getRenderData();d.applyOut(e,a)},doRenderItems:function(a,b){var c=b.$layout,d=c.getRenderTree();d&&Ext.DomHelper.generateMarkup(d,a)},finishRender:function(){var a,b,c=this;c.callParent(),c.cacheElements(),a=c.getRenderTarget(),b=c.getLayoutItems(),c.finishRenderItems(a,b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,b){var c,d,e,f,g=a.targetContext,h=g.getFrameInfo(),i=a.paddingContext.getPaddingInfo(),j=0,k=0;return a.widthModel.shrinkWrap||(++k,e=b?g.getDomProp("width"):g.getProp("width"),c="number"==typeof e,c&&(++j,e-=h.width+i.width,0>e&&(e=0))),a.heightModel.shrinkWrap||(++k,f=b?g.getDomProp("height"):g.getProp("height"),d="number"==typeof f,d&&(++j,f-=h.height+i.height,0>f&&(f=0))),{width:e,height:f,needed:k,got:j,gotAll:j==k,gotWidth:c,gotHeight:d}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;b&&(a+=b)}return a},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return b&&b.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a,b,c=this,d=c.getRenderTarget(),e=c.getLayoutItems(),f=e.length,g=[];for(a=0;f>a;a++)b=e[a],b.rendered&&c.isValidParent(b,d,a)&&g.push(b);return g},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");return b.renderContent||a.owner.setupRenderTpl(b),b},getRenderTree:function(){var a,b,c=this.owner.items,d={};do b=c.generation,a=this.getItemsRenderTree(this.getLayoutItems(),d);while(c.generation!==b);return a},renderChildren:function(){var a,b,c=this,d=c.owner.items,e=c.getRenderTarget();do a=d.generation,b=c.getLayoutItems(),c.renderItems(b,e);while(d.generation!==a)},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),f="number"==typeof a,g="number"==typeof b,h=0,i=0;return e.width?(g&&d>b&&(i=2,a-=e.width),f&&c>a&&(h=1,!i&&g&&(b-=e.height,d>b&&(i=2))),i+h):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a,b,c=this.getRenderTarget(),d=this.getLayoutItems(),e=d.length,f=[];for(a=0;e>a;a++)b=d[a],b.rendered&&this.isValidParent(b,c,a)&&b.hidden!==!0&&f.push(b);return f},setupRenderTpl:function(a){var b=this;a.renderBody=b.doRenderBody,a.renderContainer=b.doRenderContainer,a.renderItems=b.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:!0,beginLayout:function(a){var b,c,d,e,f=this;f.callParent(arguments),f.initContextItems(a),f.isShrinkWrapTpl||(a.widthModel.shrinkWrap&&(e=!0),Ext.isStrict&&Ext.isIE7&&(d=f.getOverflowXStyle(a),"auto"!==d&&"scroll"!==d||!a.paddingContext.getPaddingInfo().right||(e=!0)),e&&f.insertTableCt(a)),!f.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!f.clearElHasPadding&&(b=a.paddingContext.getPaddingInfo().bottom,c=f.getOverflowYStyle(a),!b||"auto"!==c&&"scroll"!==c||(f.clearEl.setStyle("height",b),f.clearElHasPadding=!0))},beforeLayoutCycle:function(a){var b=this.owner,c=b.hierarchyState,d=b.hierarchyStateInner;(!c||c.invalid)&&(c=b.getHierarchyState(),d=b.hierarchyStateInner),a.widthModel.shrinkWrap&&this.isShrinkWrapTpl?d.inShrinkWrapTable=!0:delete d.inShrinkWrapTable},beginLayoutCycle:function(a){var b,c,d,e,f,g,h,i=this,j=i.outerCt,k=i.lastOuterCtWidth||"",l=i.lastOuterCtHeight||"",m=i.lastOuterCtTableLayout||"",n=a.state;i.callParent(arguments),d=e=f="",!a.widthModel.shrinkWrap&&i.isShrinkWrapTpl&&(Ext.isIE7m&&Ext.isStrict&&(c=i.getOverflowYStyle(a),("auto"===c||"scroll"===c)&&(g=!0)),g||(d="100%"),h=i.owner.hierarchyStateInner,b=i.getOverflowXStyle(a),f=h.inShrinkWrapTable||"auto"===b||"scroll"===b?"":"fixed"),a.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(e="100%"),(d!==k||i.hasOuterCtPxWidth)&&(j.setStyle("width",d),i.lastOuterCtWidth=d,i.hasOuterCtPxWidth=!1),f!==m&&(j.setStyle("table-layout",f),i.lastOuterCtTableLayout=f),(e!==l||i.hasOuterCtPxHeight)&&(j.setStyle("height",e),i.lastOuterCtHeight=e,i.hasOuterCtPxHeight=!1),i.hasInnerCtPxHeight&&(i.innerCt.setStyle("height",""),i.hasInnerCtPxHeight=!1),n.overflowAdjust=n.overflowAdjust||i.lastOverflowAdjust},calculate:function(a){var b=this,c=a.state,d=b.getContainerSize(a,!0),e=c.calculatedItems||(c.calculatedItems=b.calculateItems?b.calculateItems(a,d):!0);return b.setCtSizeIfNeeded(a,d),e&&a.hasDomProp("containerChildrenSizeDone")&&(b.calculateContentSize(a),d.gotAll)?void(!b.manageOverflow||a.state.secondPass||b.reserveScrollbar||b.calculateOverflow(a,d)):void(b.done=!1)},calculateContentSize:function(a){var b=this,c=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=1&c||void 0,e=2&c||void 0,f=0,g=a.props;d&&(isNaN(g.contentWidth)?++f:d=void 0),e&&(isNaN(g.contentHeight)?++f:e=void 0),f&&(d&&!a.setContentWidth(b.measureContentWidth(a))&&(b.done=!1),e&&!a.setContentHeight(b.measureContentHeight(a))&&(b.done=!1))},calculateOverflow:function(a){var b,c,d,e,f,g,h,i=this;f="auto"===i.getOverflowXStyle(a),g="auto"===i.getOverflowYStyle(a),(f||g)&&(d=Ext.getScrollbarSize(),h=a.overflowContext.el.dom,e=0,h.scrollWidth>h.clientWidth&&(e|=1),h.scrollHeight>h.clientHeight&&(e|=2),b=g&&2&e?d.width:0,c=f&&1&e?d.height:0,(b!==i.lastOverflowAdjust.width||c!==i.lastOverflowAdjust.height)&&(i.done=!1,a.invalidate({state:{overflowAdjust:{width:b,height:c},overflowState:e,secondPass:!0}})))},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadding:function(a,b){var c=b.$layout,d=b.$layout.owner,e=d[d.contentPaddingProperty];c.managePadding&&e&&a.push("padding:",d.unitizeBox(e))},finishedLayout:function(){var a=this.innerCt;this.callParent(arguments),(Ext.isIEQuirks||Ext.isIE8m)&&a.repaint(),Ext.isOpera&&(a.setStyle("position","relative"),a.dom.scrollWidth,a.setStyle("position",""))},getContainerSize:function(a){var b=this.callParent(arguments),c=a.state.overflowAdjust;return c&&(b.width-=c.width,b.height-=c.height),b},getRenderData:function(){var a=this.owner,b=this.callParent();return(Ext.isIEQuirks||Ext.isIE7m)&&(1&a.shrinkWrap||a.floating&&!a.width)&&(b.shrinkWrapWidth=!0),b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(a){var b=this,c=a.target,d=b.owner.customOverflowEl;a.outerCtContext=a.getEl("outerCt",b),a.innerCtContext=a.getEl("innerCt",b),a.overflowContext=d?a.getEl(d):a.targetContext,void 0!==c[c.contentPaddingProperty]&&(a.paddingContext=b.isShrinkWrapTpl?a.innerCtContext:a.outerCtContext)},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width,c=a.owner;a.callParent(),b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")&&(c.autoScroll||a.reserveScrollbar)&&(a.lastOverflowAdjust={width:b,height:0})},insertTableCt:function(a){var b,c,d,e,f,g=this,h=g.owner,i=0;for(b=Ext.XTemplate.getTpl(this,"tableTpl"),b.renderPadding=g.doRenderPadding,g.outerCt.dom.removeChild(g.innerCt.dom),c=document.createDocumentFragment(),d=g.innerCt.dom.childNodes,e=d.length;e>i;i++)c.appendChild(d[0]);f=g.getTarget(),f.dom.innerHTML=b.apply({$layout:g,ownerId:g.owner.id}),f.down("td").dom.appendChild(c),g.applyChildEls(h.el,h.id),g.isShrinkWrapTpl=!0,a.removeEl(g.outerCt),a.removeEl(g.innerCt),g.initContextItems(a)},measureContentHeight:function(a){var b=this.outerCt.getHeight(),c=a.target;return this.managePadding&&void 0===c[c.contentPaddingProperty]&&(b+=a.targetContext.getPaddingInfo().height),b},measureContentWidth:function(a){var b,c,d,e,f;return this.chromeCellMeasureBug&&(b=this.innerCt.dom,c=b.style,d=c.display,"table-cell"==d&&(c.display="",b.offsetWidth,c.display=d)),e=this.outerCt.getWidth(),f=a.target,this.managePadding&&void 0===f[f.contentPaddingProperty]&&(e+=a.targetContext.getPaddingInfo().width),e},setCtSizeIfNeeded:function(a,b){var c,d,e,f,g=this,h=b.width,i=b.height,j=a.paddingContext.getPaddingInfo(),k=g.getTarget(),l=g.getOverflowXStyle(a),m=g.getOverflowYStyle(a),n="auto"===l||"scroll"===l,o="auto"===m||"scroll"===m,p=Ext.getScrollbarSize(),q=g.isShrinkWrapTpl,r=g.manageOverflow;h&&!a.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&q&&o||Ext.isIEQuirks&&!q&&!n)&&(r||o&&k.dom.scrollHeight>k.dom.clientHeight&&(h-=p.width),a.outerCtContext.setProp("width",h+j.width),g.hasOuterCtPxWidth=!0),i&&!a.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(d=!0),(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&q)&&(e=!0,f=!Ext.isIE8),(d||e)&&n&&k.dom.scrollWidth>k.dom.clientWidth&&(i=Math.max(i-p.height,0)),d&&(a.outerCtContext.setProp("height",i+j.height),g.hasOuterCtPxHeight=!0),e&&(f&&(i+=j.height),a.innerCtContext.setProp("height",i),g.hasInnerCtPxHeight=!0)),Ext.isIE7&&Ext.isStrict&&!q&&"auto"===m&&(c="auto"===l?"overflow-x":"overflow-y",k.setStyle(c,"hidden"),k.setStyle(c,"auto"))},setupRenderTpl:function(a){this.callParent(arguments),a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(a){var b=this;b.list={},b.zIndexStack=[],b.front=null,a?a.isContainer?(a.on("resize",b._onContainerResize,b),b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed()),b.targetEl=a.getTargetEl(),b.container=a):(Ext.EventManager.onWindowResize(b._onContainerResize,b),b.zseed=b.getNextZSeed(),b.targetEl=Ext.get(a)):(Ext.EventManager.onWindowResize(b._onContainerResize,b),b.zseed=b.getNextZSeed(),Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(a){this.zseed=a;var b=this.assignZIndices();return this._activateLast(),b},assignZIndices:function(){for(var a,b,c=this.zIndexStack,d=c.length,e=0,f=this.zseed;d>e;e++)a=c[e],a&&!a.hidden&&(f=a.setZIndex(f),a.modal&&(b=a));return b&&this._showModalMask(b),f},_setActiveChild:function(a,b){var c=this.front,d=a.preventFocusOnActivate;a!==c&&(c&&!c.destroying&&c.setActive(!1,a),this.front=a,a&&a!=b&&(a.preventFocusOnActivate=a.preventFocusOnActivate||b&&(b.preventFocusOnActivate||!b.focusOnToFront),a.setActive(!0),a.modal&&this._showModalMask(a),a.preventFocusOnActivate=d))},onComponentHide:function(){this._activateLast()},_activateLast:function(){for(var a,b=this,c=b.zIndexStack,d=c.length-1;d>=0&&c[d].hidden;--d);if(a=c[d]){if(b._setActiveChild(a,b.front),a.modal)return}else b.front&&!b.front.destroying&&b.front.setActive(!1),b.front=null;for(;d>=0;--d)if(a=c[d],a.isVisible()&&a.modal)return void b._showModalMask(a);b._hideModalMask()},_showModalMask:function(a){var b,c=this,d=a.el.getStyle("zIndex")-4,e=a.floatParent?a.floatParent.getTargetEl():a.container,f=c.mask,g=c.maskShim;f||(Ext.isIE6&&(g=c.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"}),g.setVisibilityMode(Ext.Element.DISPLAY)),f=c.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"}),f.setVisibilityMode(Ext.Element.DISPLAY),f.on("click",c._onMaskClick,c)),f.maskTarget=e,b=c.getMaskBox(),g&&(g.setStyle("zIndex",d),g.show(),g.setBox(b)),f.setStyle("zIndex",d),f.show(),f.setBox(b)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;a&&a.isVisible()&&(a.maskTarget=void 0,a.hide(),b&&b.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var a=this.mask.maskTarget;return a.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:a.getBox()},_onContainerResize:function(){var a,b=this,c=b.mask,d=b.maskShim;c&&c.isVisible()&&(c.hide(),d&&d.hide(),a=b.getMaskBox(),d&&(d.setSize(a),d.show()),c.setSize(a),c.show())},register:function(a){var b=this,c=a.afterHide;a.zIndexManager&&a.zIndexManager.unregister(a),a.zIndexManager=b,b.list[a.id]=a,b.zIndexStack.push(a),a.afterHide=function(){c.apply(a,arguments),b.onComponentHide(a)}},unregister:function(a){var b=this,c=b.list;delete a.zIndexManager,c&&c[a.id]&&(delete c[a.id],delete a.afterHide,Ext.Array.remove(b.zIndexStack,a),b._activateLast())},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a,b){var c=this,d=!1,e=c.zIndexStack;return a=c.get(a),a!==c.front&&(Ext.Array.remove(e,a),a.preventBringToFront?e.unshift(a):e.push(a),c.assignZIndices(),b||c._activateLast(),d=!0,c.front=a,a.modal&&c._showModalMask(a)),d},sendToBack:function(a){var b=this;return a=b.get(a),Ext.Array.remove(b.zIndexStack,a),b.zIndexStack.unshift(a),b.assignZIndices(),this._activateLast(),a},hideAll:function(){var a,b,c=this.list;for(b in c)c.hasOwnProperty(b)&&(a=c[b],a.isComponent&&a.isVisible()&&a.hide())},hide:function(){var a,b=0,c=this.zIndexStack,d=c.length;for(this.tempHidden=[];d>b;b++)a=c[b],a.isVisible()&&(this.tempHidden.push(a),a.el.hide(),a.hidden=!0)},show:function(){for(var a,b=0,c=this.tempHidden,d=c?c.length:0;d>b;b++)a=c[b],a.el.show(),a.hidden=!1,a.setPosition(a.x,a.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(a,b){for(var c,d=[],e=0,f=this.zIndexStack,g=f.length;g>e;e++)c=f[e],a.call(b||c,c)!==!1&&d.push(c);return d},each:function(a,b){var c,d,e=this.list;for(c in e)if(e.hasOwnProperty(c)&&(d=e[c],d.isComponent&&a.call(b||d,d)===!1))return},eachBottomUp:function(a,b){for(var c,d=this.zIndexStack,e=0,f=d.length;f>e;e++)if(c=d[e],c.isComponent&&a.call(b||c,c)===!1)return},eachTopDown:function(a,b){for(var c,d=this.zIndexStack,e=d.length;e-->0;)if(c=d[e],c.isComponent&&a.call(b||c,c)===!1)return},destroy:function(){var a,b,c=this,d=c.list;for(b in d)d.hasOwnProperty(b)&&(a=d[b],a.isComponent&&a.destroy());delete c.zIndexStack,delete c.list,delete c.container,delete c.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.Queryable",{isQueryable:!0,query:function(a){return a=a||"*",Ext.ComponentQuery.query(a,this)},queryBy:function(a,b){for(var c,d=[],e=this.getRefItems(!0),f=0,g=e.length;g>f;++f)c=e[f],a.call(b||c,c)!==!1&&d.push(c);return d},queryById:function(a){return this.down("#"+a)},child:function(a){return a&&a.isComponent&&(a="#"+Ext.escapeId(a.getItemId())),a=a||"",this.query("> "+a)[0]||null},down:function(a){return a&&a.isComponent&&(a="#"+Ext.escapeId(a.getItemId())),a=a||"",this.query(a)[0]||null},getRefItems:function(){return[]}}),Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],mixins:{queryable:"Ext.Queryable"},renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),a.callParent(),a.getLayout(),a.initItems()},initItems:function(){var a=this,b=a.items;a.items=new Ext.util.AbstractMixedCollection(!1,a.getComponentId),a.floatingItems=new Ext.util.MixedCollection(!1,a.getComponentId),b&&(Ext.isArray(b)||(b=[b]),a.add(b))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},beforeRender:function(){var a,b=this,c=b.getLayout();b.callParent(),c.initialized||c.initLayout(),a=c.targetCls,a&&b.applyTargetCls(a)},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var a,b,c=this.floatingItems.items,d=c.length;for(this.callParent(arguments),a=0;d>a;a++)b=c[a],!b.rendered&&b.autoShow&&b.show()},onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},repositionFloatingItems:function(){var a,b,c=this.floatingItems.items,d=c.length;for(a=0;d>a;a++)b=c[a],b.el&&!b.hidden&&b.setPosition(b.x,b.y)},setupRenderTpl:function(a){this.callParent(arguments),this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(a){var b=this.layout;b&&b.isLayout&&b!=a&&b.setOwner(null),this.layout=a,a.setOwner(this)},getLayout:function(){var a=this;return a.layout&&a.layout.isLayout||a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||a.defaultLayoutType)),a.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(a){var b=this;++b.layoutCounter,b.hasListeners.afterlayout&&b.fireEvent("afterlayout",b,a)},prepareItems:function(a,b){a=Ext.isArray(a)?a.slice():[a];for(var c,d=this,e=0,f=a.length;f>e;e++)c=a[e],null==c?(Ext.Array.erase(a,e,1),--e,--f):(b&&(c=this.applyDefaults(c)),c.isContained=d,a[e]=d.lookupComponent(c),delete c.isContained,delete a[e].isContained);return a},applyDefaults:function(a){var b=this.defaults;return b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)&&(a=Ext.ComponentManager.get(a)),Ext.applyIf(a,b)),a},lookupComponent:function(a){return"string"==typeof a?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var a,b,c,d,e,f,g,h=this,i=Ext.Array.slice(arguments),j="number"==typeof i[0]?i.shift():-1,k=h.getLayout();for(1==i.length&&Ext.isArray(i[0])?(b=i[0],a=!0):b=i,h.rendered&&Ext.suspendLayouts(),g=b=h.prepareItems(b,!0),d=b.length,a||1!=d||(g=b[0]),c=0;d>c;c++)e=b[c],f=0>j?h.items.length:j+c,e.floating?(h.floatingItems.add(e),e.onAdded(h,f),h.hasListeners.add&&h.fireEvent("add",h,e,f)):h.hasListeners.beforeadd&&h.fireEvent("beforeadd",h,e,f)===!1||h.onBeforeAdd(e)===!1||(h.items.insert(f,e),e.onAdded(h,f),h.onAdd(e,f),k.onAdd(e,f),h.hasListeners.add&&h.fireEvent("add",h,e,f));return h.updateLayout(),h.rendered&&Ext.resumeLayouts(!0),g},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){var c;return b&&b.isComponent&&(c=this.items.indexOf(b),-1!==c)?this.move(c,a):this.add(a,b)},move:function(a,b){var c,d=this.items;return a.isComponent&&(a=d.indexOf(a)),c=d.removeAt(a),c===!1?!1:(d.insert(b,c),this.onMove(c,a,b),this.updateLayout(),c)},onMove:Ext.emptyFn,onBeforeAdd:function(a){a.ownerCt&&a.ownerCt!==this&&a.ownerCt.remove(a,!1)},remove:function(a,b){var c=this,d=c.getComponent(a);return!d||c.hasListeners.beforeremove&&c.fireEvent("beforeremove",c,d)===!1||(c.doRemove(d,b),c.hasListeners.remove&&c.fireEvent("remove",c,d),c.destroying||d.floating||c.updateLayout()),d},doRemove:function(a,b){b=b===!0||b!==!1&&this.autoDestroy;var c=this,d=c.layout,e=d&&c.rendered,f=a.destroying||b,g=a.floating;g?c.floatingItems.remove(a):c.items.remove(a),e&&!g&&(d.running&&Ext.AbstractComponent.cancelLayout(a,f),d.onRemove(a,f)),a.onRemoved(f),c.onRemove(a,f),b?a.destroy():(e&&!g&&d.afterRemove(a),c.detachOnRemove&&a.rendered&&c.detachComponent(a))},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},removeAll:function(a){var b,c=this,d=c.items.items.slice().concat(c.floatingItems.items),e=[],f=0,g=d.length;for(c.suspendLayouts();g>f;f++)b=d[f],c.remove(b,a),b.ownerCt!==c&&e.push(b);return c.resumeLayouts(!!g),e},getRefItems:function(a){for(var b,c=this,d=c.items.items,e=d.length,f=0,g=[];e>f;f++)b=d[f],g[g.length]=b,a&&b.getRefItems&&g.push.apply(g,b.getRefItems(!0));for(d=c.floatingItems.items,e=d.length,f=0;e>f;f++)b=d[f],g[g.length]=b,a&&b.getRefItems&&g.push.apply(g,b.getRefItems(!0));return g},cascade:function(a,b,c){var d,e=this,f=e.items?e.items.items:[],g=f.length,h=0,i=c?c.concat(e):[e],j=i.length-1;if(a.apply(b||e,i)!==!1)for(;g>h;h++)d=f[h],d.cascade?d.cascade(a,b,c):(i[j]=d,a.apply(b||f,i));return this},isAncestor:function(a){for(;a;){if(a.ownerCt===this)return!0;a=a.ownerCt}},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());var b=this.items.get(a);return b||"number"==typeof a||(b=this.floatingItems.get(a)),b},contains:function(a,b){var c=!1;return b?(this.cascade(function(b){return b.contains&&b.contains(a)?(c=!0,!1):void 0}),c):this.items.contains(a)||this.floatingItems.contains(a)},nextChild:function(a,b){var c,d=this,e=d.items.indexOf(a);return-1!==e&&(c=b?Ext.ComponentQuery(b,d.items.items.slice(e+1)):d.items.getAt(e+1),!c&&d.ownerCt&&(c=d.ownerCt.nextChild(d,b))),c},prevChild:function(a,b){var c,d=this,e=d.items.indexOf(a);return-1!==e&&(c=b?Ext.ComponentQuery(b,d.items.items.slice(e+1)):d.items.getAt(e+1),!c&&d.ownerCt&&(c=d.ownerCt.nextChild(d,b))),c},enable:function(){this.callParent(arguments);var a,b,c=this.getChildItemsToDisable(),d=c.length;for(b=0;d>b;b++)a=c[b],a.resetDisable&&a.enable();return this},disable:function(){this.callParent(arguments);var a,b,c=this.getChildItemsToDisable(),d=c.length;for(b=0;d>b;b++)a=c[b],a.resetDisable===!1||a.disabled||(a.disable(),a.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var a,b=this,c=b.items,d=b.floatingItems;if(c)for(;a=c.first();)b.doRemove(a,!0);if(d)for(;a=d.first();)b.doRemove(a,!0);Ext.destroy(b.layout),b.callParent()}}),Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(a,b){var c,d,e=0,f=this.getRefItems(),g=f.length;
for(a=Ext.getDom(a);g>e;e++)if(c=f[e],d=c.getEl(),d&&(d.dom===a||d.contains(a)))return b&&c.getChildByElement?c.getChildByElement(a,b):c;return null}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(){var a=this,b=a.owner.autoSize,c=b&&b.width,d=a.sizePolicies;return d=d[c]||d.$,c=b&&b.height,d=d[c]||d.$},calculate:function(a){var b,c,d=this,e=d.owner,f=e.autoSize;f===!0&&(f=d.autoSizeDefault),f&&(b=d.getDimension(e,f.width,"getWidth",e.width),c=d.getDimension(e,f.height,"getHeight",e.height)),a.childItems[0].setSize(b,c),a.setWidth(b),a.setHeight(c),a.setContentSize(b||e.field.getWidth(),c||e.field.getHeight())},getDimension:function(a,b,c,d){switch(b){case"boundEl":return a.boundEl[c]();case"field":return void 0;default:return d}}}),Ext.define("Ext.Editor",{extend:"Ext.container.Container",alias:"widget.editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field,"textfield");Ext.apply(b,{inEditor:!0,msgTarget:"title"==b.msgTarget?"title":"qtip"}),a.mon(b,{scope:a,blur:a.onFieldBlur,specialkey:a.onSpecialKey}),b.grow&&a.mon(b,"autosize",a.onFieldAutosize,a,{delay:1}),a.floating={constrain:a.constrain},a.items=b,a.callParent(arguments),a.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(){var a=this,b=a.field,c=b.inputEl;a.callParent(arguments),c&&(c.dom.name="",a.swallowKeys&&c.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(a,b){var c=this,d=b.getKey(),e=c.completeOnEnter&&d==b.ENTER,f=c.cancelOnEsc&&d==b.ESC;(e||f)&&(b.stopEvent(),Ext.defer(function(){e?c.completeEdit():c.cancelEdit(),a.triggerBlur&&a.triggerBlur(b)},10)),c.fireEvent("specialkey",c,a,b)},startEdit:function(a,b){var c=this,d=c.field;c.completeEdit(),c.boundEl=Ext.get(a),b=Ext.isDefined(b)?b:Ext.String.trim(c.boundEl.dom.innerText||c.boundEl.dom.innerHTML),c.rendered||(c.ownerCt&&(c.parentEl=c.ownerCt.el,c.parentEl.position()),c.render(c.parentEl||document.body)),c.fireEvent("beforestartedit",c,c.boundEl,b)!==!1&&(c.startValue=b,c.show(),d.suspendEvents(),d.reset(),d.setValue(b),d.resumeEvents(),c.realign(!0),d.focus(),d.autoSize&&d.autoSize(),c.editing=!0)},realign:function(a){var b=this;a===!0&&b.updateLayout(),b.alignTo(b.boundEl,b.alignment,b.offsets)},completeEdit:function(a){var b,c=this,d=c.field;if(c.editing)return d.assertValue&&d.assertValue(),b=c.getValue(),d.isValid()?String(b)===String(c.startValue)&&c.ignoreNoChange?void c.hideEdit(a):void(c.fireEvent("beforecomplete",c,b,c.startValue)!==!1&&(b=c.getValue(),c.updateEl&&c.boundEl&&c.boundEl.update(b),c.hideEdit(a),c.fireEvent("complete",c,b,c.startValue))):void(c.revertInvalid!==!1&&c.cancelEdit(a))},onShow:function(){var a=this;a.callParent(arguments),a.hideEl!==!1&&a.boundEl.hide(),a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(a){var b,c=this,d=c.startValue,e=c.field;c.editing&&(b=c.getValue(),e.suspendEvents(),c.setValue(d),e.resumeEvents(),c.hideEdit(a),c.fireEvent("canceledit",c,b,d))},hideEdit:function(a){a!==!0&&(this.editing=!1,this.hide())},onFieldBlur:function(){var a=this,b=Ext.Element.getActiveElement();a.allowBlur===!0&&a.editing&&a.selectSameEditor!==!0&&a.completeEdit(),(Ext.fly(b).isFocusable()||b.getAttribute("tabIndex"))&&b.focus()},onHide:function(){var a=this,b=a.field;return a.editing?void a.completeEdit():(b.hasFocus&&b.triggerBlur&&b.triggerBlur(),b.collapse&&b.collapse(),a.hideEl!==!1&&a.boundEl.show(),void a.callParent(arguments))},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field),delete a.field,delete a.parentEl,delete a.boundEl,a.callParent(arguments)}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;return 1!==arguments.length||"string"==typeof a||a.dom||a.tagName||a===document||a.isComponent?void b.legacyConstructor.apply(b,arguments):(Ext.apply(b,a),b.bindings=[],b.target.isComponent||(b.target=Ext.get(b.target)),b.binding?b.addBinding(b.binding):a.key&&b.addBinding(a),void b.enable())},legacyConstructor:function(a,b,c){var d=this;Ext.apply(d,{target:Ext.get(a),eventName:c||d.eventName,bindings:[]}),b&&d.addBinding(b),d.enable()},addBinding:function(a){var b,c,d=this,e=a.key;if(d.processing&&(d.bindings=bindings.slice(0)),Ext.isArray(a))for(b=0,c=a.length;c>b;b++)d.addBinding(a[b]);else d.bindings.push(Ext.apply({keyCode:d.processKeys(e)},a))},removeBinding:function(a){var b,c,d,e=this,f=e.bindings,g=f.length;for(e.processing&&(e.bindings=f.slice(0)),d=e.processKeys(a.key),b=0;g>b;++b)if(c=f[b],c.fn===a.fn&&c.scope===a.scope&&a.alt==c.alt&&a.crtl==c.crtl&&a.shift==c.shift&&Ext.Array.equals(c.keyCode,d))return void Ext.Array.erase(e.bindings,b,1)},processKeys:function(a){var b,c,d,e,f,g=!1;if(Ext.isString(a)){for(c=[],d=a.toUpperCase(),f=0,e=d.length;e>f;++f)c.push(d.charCodeAt(f));a=c,g=!0}if(Ext.isArray(a)||(a=[a]),!g)for(f=0,e=a.length;e>f;++f)b=a[f],Ext.isString(b)&&(a[f]=b.toUpperCase().charCodeAt(0));return a},handleTargetEvent:function(){var a=/input|textarea/i;return function(b){var c,d,e,f,g,h=this;if(h.enabled){if(c=h.bindings,d=0,e=c.length,b=h.processEvent.apply(h||h.processEventScope,arguments),h.ignoreInputFields&&(f=b.target,g=f.contentEditable,a.test(f.tagName)||""===g||"true"===g))return;if(!b.getKey)return b;for(h.processing=!0;e>d;++d)h.processBinding(c[d],b);h.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var c,d,e=b.getKey(),f=a.fn||a.handler,g=a.scope||this,h=a.keyCode,i=a.defaultEventAction,j=new Ext.EventObjectImpl(b);for(c=0,d=h.length;d>c;++c)if(e===h[c]){f.call(g,e,b)!==!0&&i&&j[i]();break}}},checkModifiers:function(a,b){for(var c,d,e=["shift","ctrl","alt"],f=0,g=e.length;g>f;++f)if(d=e[f],c=a[d],void 0!==c&&c!==b[d+"Key"])return!1;return!0},on:function(a,b,c){var d,e,f,g;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,f=a.ctrl,g=a.alt):d=a,this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},un:function(a,b,c){var d,e,f,g;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,f=a.ctrl,g=a.alt):d=a,this.removeBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){var a=this;a.enabled||(a.target.on(a.eventName,a.handleTargetEvent,a),a.enabled=!0)},disable:function(){var a=this;a.enabled&&(a.target.removeListener(a.eventName,a.handleTargetEvent,a),a.enabled=!1)},setDisabled:function(a){a?this.disable():this.enable()},destroy:function(a){var b=this,c=b.target;b.bindings=[],b.disable(),a===!0&&(c.isComponent?c.destroy():c.remove()),delete b.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;return 2===arguments.length?void b.legacyConstructor.apply(b,arguments):void b.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b,c,d,e,f,g=this,h={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:g.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:g.forceKeyDown,a.eventName)};g.map&&g.map.destroy(),a.processEvent&&(h.processEvent=a.processEvent,h.processEventScope=a.processEventScope||g),a.keyMap?b=g.map=a.keyMap:(b=g.map=new Ext.util.KeyMap(h),g.destroyKeyMap=!0),c=Ext.util.KeyNav.keyOptions,d=a.scope||g;for(e in c)c.hasOwnProperty(e)&&(f=a[e])&&("function"==typeof f&&(f={handler:f,defaultEventAction:void 0!==a.defaultEventAction?a.defaultEventAction:g.defaultEventAction}),b.addBinding({key:c[e],handler:Ext.Function.bind(g.handleEvent,f.scope||d,f.handler||f.fn,!0),defaultEventAction:void 0!==f.defaultEventAction?f.defaultEventAction:g.defaultEventAction}));b.disable(),a.disabled||b.enable()},handleEvent:function(a,b,c){return c.call(this,b)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(a){this.destroyKeyMap&&this.map.destroy(a),delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a),this.disabled=a},getKeyEvent:function(a,b){return a||Ext.EventManager.useKeyDown&&!b?"keydown":b||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.AbstractComponent","Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a),b.addEvents("beforecomponentfocus","componentfocus","disable","enable"),b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),b.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),b.onComponentFocus.apply(b,arguments))},onBlur:function(){this.callParent(arguments),b.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),b.onComponentBlur.apply(b,arguments))},onDestroy:function(){this.callParent(arguments),b.enabled&&(Array.prototype.unshift.call(arguments,this),b.onComponentDestroy.apply(b,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),b.enabled&&(Array.prototype.unshift.call(arguments,this),b.onComponentHide.apply(b,arguments))}}),b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,down:b.navigateSiblings,up:b.navigateSiblings}),b.focusData={},b.subscribers=new Ext.util.HashMap,b.focusChain={},Ext.apply(c.pseudos,{nextFocus:function(a,b,c){c=c||1,b=parseInt(b,10);for(var d,e=a.length,f=b;;){if((f+=c)>=e?f=0:0>f&&(f=e-1),f===b)return[];if((d=a[f]).isFocusable())return[d]}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){for(var b,c=a.length,d=[],e=0;c>e;e++)b=a[e],b.ownerCt||d.push(b);return d}})},addXTypeToWhitelist:function(a){var b=this;return Ext.isArray(a)?void Ext.Array.forEach(a,b.addXTypeToWhitelist,b):void(Ext.Array.contains(b.whitelist,a)||b.whitelist.push(a))},clearComponent:function(a){clearTimeout(this.cmpFocusDelay),a.isDestroyed||a.blur()},disable:function(){var a=this;a.enabled&&(delete a.options,a.enabled=!1,a.removeDOM(),a.keyNav.disable(),a.fireEvent("disable",a))},enable:function(a){var b=this;a===!0&&(a={focusFrame:!0}),b.options=a=a||{},b.enabled||(b.enabled=!0,b.initDOM(a),b.keyNav.enable(),b.focusEl.focus(),delete b.focusedCmp,b.fireEvent("enable",b))},focusLast:function(){var a=this;return a.isWhitelisted(a.focusedCmp)?!0:void(a.previousFocusedCmp&&a.previousFocusedCmp.focus())},getRootComponents:function(){var a=Ext.ComponentQuery,b=a.query(":focusable:root:not([floating])"),c=a.query(":focusable:root[floating]");return c.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()}),c.concat(b)},initDOM:function(a){var b=this,c=b.focusFrameCls,d=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),e=0,f=d.length;if(!Ext.isReady)return Ext.onReady(b.initDOM,b);for(;f>e;e++)d[e].addFocusListener();b.focusEl||(b.focusEl=Ext.getBody(),b.focusEl.dom.tabIndex=-1),!b.focusFrame&&a.focusFrame&&(b.focusFrame=Ext.getBody().createChild({cls:c,children:[{cls:c+"-top"},{cls:c+"-bottom"},{cls:c+"-left"},{cls:c+"-right"}],style:"top: -100px; left: -100px;"}),b.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),b.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b,c,d=this,e=d.focusedCmp;return d.isWhitelisted(e)?!0:void(e?(c=e.hasFocus?Ext.ComponentQuery.query(">:focusable",e)[0]:e,c?c.focus():Ext.isFunction(e.onClick)&&(a.button=0,e.onClick(a),e.isVisible(!0)?e.focus():d.navigateOut())):(b=d.getRootComponents()[0],b&&(b.getFocusEl()===d.focusEl&&d.focusEl.blur(),b.focus())))},navigateOut:function(){var a,b=this;return b.focusedCmp&&(a=b.focusedCmp.up(":focusable"))?a.focus():b.focusEl.focus(),!0},navigateSiblings:function(a,b,c){var d,e,f,g,h=this,i=b||h,j=a.getKey(),k=Ext.EventObject,l=a.shiftKey||j==k.LEFT||j==k.UP,m=j==k.LEFT||j==k.RIGHT||j==k.UP||j==k.DOWN,n=l?"prev":"next";return f=i.focusedCmp&&i.focusedCmp.comp||i.focusedCmp,f||c?m&&h.isWhitelisted(f)?!0:(!f||f.is(":root")?g=h.getRootComponents():(c=c||f.up(),c&&(g=c.getRefItems())),g&&(d=f?Ext.Array.indexOf(g,f):-1,e=Ext.ComponentQuery.query(":"+n+"Focus("+d+")",g)[0],e&&f!==e)?(e.focus(),e):void 0):!0},onComponentBlur:function(a){var b=this;b.focusedCmp===a&&(b.previousFocusedCmp=a,delete b.focusedCmp),b.focusFrame&&b.focusFrame.hide()},onComponentFocus:function(a){var b,c=this,d=c.focusChain;if(!a.isFocusable()){if(c.clearComponent(a),d[a.id])return;return b=a.up(),void(b&&(d[a.id]=!0,b.focus()))}c.focusChain={},c.focusTask.delay(10,null,null,[a,a.getFocusEl()])},handleComponentFocus:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this;return n.fireEvent("beforecomponentfocus",n,a,n.previousFocusedCmp)===!1?void n.clearComponent(a):(n.focusedCmp=a,n.shouldShowFocusFrame(a)&&(c="."+n.focusFrameCls+"-",d=n.focusFrame,e=(b.dom?b:b.el).getBox(),f=e.top,g=e.left,h=e.width,i=e.height,j=d.child(c+"top"),k=d.child(c+"bottom"),l=d.child(c+"left"),m=d.child(c+"right"),j.setWidth(h).setLocalXY(g,f),k.setWidth(h).setLocalXY(g,f+i-2),l.setHeight(i-2).setLocalXY(g,f+2),m.setHeight(i-2).setLocalXY(g+h-2,f+2),d.show()),void n.fireEvent("componentfocus",n,a,n.previousFocusedCmp))},onComponentHide:function(a){var b,c=this,d=!1,e=c.focusedCmp;e&&(d=a.hasFocus||a.isContainer&&a.isAncestor(c.focusedCmp)),c.clearComponent(a),d&&(b=a.up(":focusable"))?b.focus():c.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var a=this;a.enabled||a.subscribers.length||(Ext.destroy(a.focusFrame),delete a.focusEl,delete a.focusFrame)},removeXTypeFromWhitelist:function(a){var b=this;return Ext.isArray(a)?void Ext.Array.forEach(a,b.removeXTypeFromWhitelist,b):void Ext.Array.remove(b.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,f={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c},g=function(b){return c.focusedCmp===a?c.navigateSiblings(b,c,a):c.navigateSiblings(b)};return Ext.iterate(b,function(b,c){f[b]=function(b){var d=g(b);return Ext.isFunction(c)&&c.call(e||a,b,d)===!0?!0:d}},c),new Ext.util.KeyNav(d,f)},shouldShowFocusFrame:function(a){var b=this,c=b.options||{};return b.focusFrame&&a?c.focusFrame?!0:b.focusData[a.id].focusFrame?!0:!1:!1}}),Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var a,b,c=this,d=c.callParent(),e=Ext._glyphFontFamily,f=c.glyph;return"img"==c.autoEl?a=d:c.glyph?("string"==typeof f&&(b=f.split("@"),f=b[0],e=b[1]),d.html="&#"+f+";",e&&(d.style="font-family:"+e)):d.cn=[a={tag:"img",id:c.id+"-img"}],a&&(c.imgCls&&(a.cls=(a.cls?a.cls+" ":"")+c.imgCls),a.src=c.src||Ext.BLANK_IMAGE_URL),c.alt&&((a||d).alt=c.alt),c.title&&((a||d).title=c.title),d},onRender:function(){var a,b=this;b.callParent(arguments),a=b.el,b.imgEl="img"==b.autoEl?a:a.getById(b.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(a){var b=this,c=b.imgEl;b.src=a,c&&(c.dom.src=a||Ext.BLANK_IMAGE_URL)},setGlyph:function(a){var b,c,d=this,e=Ext._glyphFontFamily;a!=d.glyph&&("string"==typeof a&&(b=a.split("@"),a=b[0],e=b[1]),c=d.el.dom,c.innerHTML="&#"+a+";",e&&(c.style="font-family:"+e))}}),Ext.define("Ext.util.Bindable",{bindStore:function(a,b,c){c=c||"store";var d=this,e=d[c];return!b&&e&&(d.onUnbindStore(e,b,c),a!==e&&e.autoDestroy?e.destroyStore():d.unbindStoreListeners(e)),a&&(a=Ext.data.StoreManager.lookup(a),d.bindStoreListeners(a),d.onBindStore(a,b,c)),d[c]=a||null,d},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;b&&a.un(b)},bindStoreListeners:function(a){var b=this,c=Ext.apply({},b.getStoreListeners(a));c.scope||(c.scope=b),b.storeListeners=c,a.on(c)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating",bindable:"Ext.util.Bindable"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(a){var b,c=this;2===arguments.length?(b=a,a=arguments[1]):b=a.target,b.isComponent||(b=Ext.get(b),this.isElement=!0),c.ownerCt=b,this.isElement||c.bindComponent(b),c.callParent([a]),c.store&&c.bindStore(c.store,!0)},bindComponent:function(a){var b=this,c={scope:this,resize:b.sizeMask,added:b.onComponentAdded,removed:b.onComponentRemoved};a.floating?(c.move=b.sizeMask,b.activeOwner=a):a.ownerCt?b.onComponentAdded(a.ownerCt):b.preventBringToFront=!0,b.mon(a,c),b.mon(b.hierarchyEventSource,{show:b.onContainerShow,hide:b.onContainerHide,expand:b.onContainerExpand,collapse:b.onContainerCollapse,scope:b})},onComponentAdded:function(a){var b=this;delete b.activeOwner,b.floatParent=a,a.floating||(a=a.up("[floating]")),a?(b.activeOwner=a,b.mon(a,"move",b.sizeMask,b)):b.preventBringToFront=!0,a=b.floatParent.ownerCt,b.rendered&&b.isVisible()&&a&&(b.floatOwner=a,b.mon(a,"afterlayout",b.sizeMask,b,{single:!0}))},onComponentRemoved:function(){var a=this,b=a.activeOwner,c=a.floatOwner;b&&a.mun(b,"move",a.sizeMask,a),c&&a.mun(c,"afterlayout",a.sizeMask,a),delete a.activeOwner,delete a.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){this.isActiveContainer(a)&&this.onComponentShow()},onContainerHide:function(a){this.isActiveContainer(a)&&this.onComponentHide()},onContainerExpand:function(a){this.isActiveContainer(a)&&this.onComponentShow()},onContainerCollapse:function(a){this.isActiveContainer(a)&&this.onComponentHide()},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;a.rendered&&a.isVisible()&&(a.hide(),a.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var a,b=this;b.rendered&&b.isVisible()&&(b.center(),a=b.getMaskTarget(),b.getMaskEl().show().setSize(a.getSize()).alignTo(a,"tl-tl"))},bindStore:function(a){var b=this;b.mixins.bindable.bindStore.apply(b,arguments),a=b.store,a&&a.isLoading()&&b.onBeforeLoad()},getStoreListeners:function(a){var b=this.onLoad,c=this.onBeforeLoad,d={cachemiss:c,cachefilled:b};return a.proxy.isSynchronous||(d.beforeLoad=c,d.load=b),d},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var a,b=this,c=b.getOwner();b.disabled||(b.loading=!0,c.componentLayoutCounter?b.maybeShow():(a=c.afterComponentLayout,c.afterComponentLayout=function(){c.afterComponentLayout=a,a.apply(c,arguments),b.maybeShow()}))},maybeShow:function(){var a=this,b=a.getOwner();b.isVisible(!0)?a.loading&&b.rendered&&a.show():a.showNext=!0},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var a=this,b=a.msgEl;a.callParent(arguments),a.loading=!0,a.useMsg?(b.show(),a.msgTextEl.update(a.msg)):b.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(a){var b=this,c=b.activeOwner;return c&&(a=parseInt(c.el.getStyle("zIndex"),10)+1),b.getMaskEl().setStyle("zIndex",a-1),b.mixins.floating.setZIndex.apply(b,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var a=this;a.isElement&&a.ownerCt.unmask(),Ext.destroy(a.maskEl),a.callParent()}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(a){switch(Ext.isString(a)&&(a={type:a}),a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a)}return a}},constructor:function(a){Ext.apply(this,a);var b,c=this,d=Ext.ModelManager.types,e=a.ownerModel,f=a.associatedModel,g=d[e],h=d[f],i=a.associationKey;i&&(b=String(i).search(/[\[\.]/),b>=0&&(c.associationKeyFunction=Ext.functionFactory("obj","return obj"+(b>0?".":"")+i))),c.initialConfig=a,c.ownerModel=g,c.associatedModel=h,Ext.applyIf(c,{ownerName:e,associatedName:f}),c.associationId="association"+ ++c.statics().AUTO_ID},getReader:function(){var a=this,b=a.reader,c=a.associatedModel;return b&&(Ext.isString(b)&&(b={type:b}),b.isReader?b.setModel(c):Ext.applyIf(b,{model:c,type:a.defaultReaderType}),a.reader=Ext.createByAlias("reader."+b.type,b)),a.reader||null}}),Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.association.Association"],singleton:!0,typeName:"mtype",associationStack:[],registerType:function(a,b){var c,d=b.prototype;return d&&d.isModel?c=b:(b.extend||(b.extend="Ext.data.Model"),c=Ext.define(a,b)),this.types[a]=c,c},unregisterType:function(a){delete this.types[a]},onModelDefined:function(a){var b,c,d,e=this.associationStack,f=e.length,g=[];for(c=0;f>c;c++)b=e[c],b.associatedModel==a.modelName&&g.push(b);for(c=0,f=g.length;f>c;c++)d=g[c],this.types[d.ownerModel].prototype.associations.add(Ext.data.association.Association.create(d)),Ext.Array.remove(e,d)},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){var b=a;return"string"==typeof b&&(b=this.types[b]),b},create:function(a,b,c){var d="function"==typeof b?b:this.types[b||a.name];return new d(a,c)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(a,b){var c,d,e,f,g=this,h=g.owner,i=a.ownerCtContext,j=a.heightModel,k=a.widthModel,l=h.el.dom===document.body,m=h.lastBox||g.nullBox,n=h.el.lastBox||g.nullBox,o=!l;g.callParent(arguments),b&&(g.usesContentWidth&&++a.consumersContentWidth,g.usesContentHeight&&++a.consumersContentHeight,g.usesWidth&&++a.consumersWidth,g.usesHeight&&++a.consumersHeight,i&&!i.hasRawContent&&(c=h.ownerLayout,c.usesWidth&&++a.consumersWidth,c.usesHeight&&++a.consumersHeight)),k.configured?(e=k.names.width,l||(o=b?h[e]!==n.width:k.constrained),a.setWidth(h[e],o)):a.isTopLevel&&(k.calculated&&(d=m.width,a.setWidth(d,d!=n.width)),d=m.x,a.setProp("x",d,d!=n.x)),j.configured?(f=j.names.height,l||(o=b?h[f]!==n.height:j.constrained),a.setHeight(h[f],o)):a.isTopLevel&&(j.calculated&&(d=m.height,a.setHeight(d,d!=n.height)),d=m.y,a.setProp("y",d,d!=n.y))},finishedLayout:function(a){var b,c,d,e,f,g=this,h=a.children,i=g.owner;if(h)for(b=h.length,c=0;b>c;c++)d=h[c],d.el.lastBox=d.props;a.previousSize=g.lastComponentSize,g.lastComponentSize=i.el.lastBox=f=a.props,e=i.lastBox||(i.lastBox={}),e.x=f.x,e.y=f.y,e.width=f.width,e.height=f.height,e.invalid=!1,g.callParent(arguments)},notifyOwner:function(a){var b=this,c=b.lastComponentSize,d=a.previousSize,e=[c.width,c.height];d&&e.push(d.width,d.height),b.owner.afterComponentLayout.apply(b.owner,e)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b,c=this,d=c.targetInfo;return d||(b=a.getEl("getTarget",c),c.targetInfo=d={padding:b.getPaddingInfo(),border:b.getBorderInfo()}),d},measureAutoDimensions:function(a,b){var c,d,e,f,g,h,i=this,j=i.owner,k=j.layout,l=a.heightModel,m=a.widthModel,n=a.boxParent,o=a.isBoxParent,p=a.props,q={gotWidth:!1,gotHeight:!1,isContainer:c=!a.hasRawContent},r=b||3,s=0,t=0;return m.shrinkWrap&&a.consumersContentWidth?(++s,d=!(1&r),c?d?(q.contentWidth=0,q.gotWidth=!0,++t):void 0!==(q.contentWidth=a.getProp("contentWidth"))&&(q.gotWidth=!0,++t):(g=p.contentWidth,"number"==typeof g?(q.contentWidth=g,q.gotWidth=!0,++t):(f=d?!0:a.hasDomProp("containerChildrenSizeDone")?o||!n||n.widthModel.shrinkWrap?!0:n.hasDomProp("width"):!1,f&&(h=d?0:k&&k.measureContentWidth?k.measureContentWidth(a):i.measureContentWidth(a),isNaN(q.contentWidth=h)||(a.setContentWidth(h,!0),q.gotWidth=!0,++t))))):m.natural&&a.consumersWidth&&(++s,g=p.width,"number"==typeof g?(q.width=g,q.gotWidth=!0,++t):(f=o||!n?!0:n.hasDomProp("width"),f&&(isNaN(q.width=i.measureOwnerWidth(a))||(a.setWidth(q.width,!1),q.gotWidth=!0,++t)))),l.shrinkWrap&&a.consumersContentHeight?(++s,e=!(2&r),c?e?(q.contentHeight=0,q.gotHeight=!0,++t):void 0!==(q.contentHeight=a.getProp("contentHeight"))&&(q.gotHeight=!0,++t):(g=p.contentHeight,"number"==typeof g?(q.contentHeight=g,q.gotHeight=!0,++t):(f=e?!0:a.hasDomProp("containerChildrenSizeDone")?j.noWrap?!0:m.shrinkWrap?o||!n||n.widthModel.shrinkWrap?!0:n.hasDomProp("width"):(a.bodyContext||a).hasDomProp("width"):!1,f&&(h=e?0:k&&k.measureContentHeight?k.measureContentHeight(a):i.measureContentHeight(a),isNaN(q.contentHeight=h)||(a.setContentHeight(h,!0),q.gotHeight=!0,++t))))):l.natural&&a.consumersHeight&&(++s,g=p.height,"number"==typeof g?(q.height=g,q.gotHeight=!0,++t):(f=o||!n?!0:n.hasDomProp("width"),f&&(isNaN(q.height=i.measureOwnerHeight(a))||(a.setHeight(q.height,!1),q.gotHeight=!0,++t)))),n&&a.onBoxMeasured(),q.gotAll=t==s,q},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(a){var b=this,c=b.lastWidthModel,d=b.lastHeightModel,e=b.owner.el;b.callParent(arguments),c&&c.fixed&&a.widthModel.shrinkWrap&&e.setWidth(null),d&&d.fixed&&a.heightModel.shrinkWrap&&e.setHeight(null)},calculate:function(a){var b,c,d=this,e=d.measureAutoDimensions(a),f=a.heightModel,g=a.widthModel;e.gotWidth?g.shrinkWrap?d.publishOwnerWidth(a,e.contentWidth):d.publishInnerWidth&&d.publishInnerWidth(a,e.width):!g.auto&&d.publishInnerWidth&&(b=d.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width"),void 0===b?d.done=!1:d.publishInnerWidth(a,b)),e.gotHeight?f.shrinkWrap?d.publishOwnerHeight(a,e.contentHeight):d.publishInnerHeight&&d.publishInnerHeight(a,e.height):!f.auto&&d.publishInnerHeight&&(c=d.waitForOuterHeightInDom?a.getDomProp("height"):a.getProp("height"),void 0===c?d.done=!1:d.publishInnerHeight(a,c)),e.gotAll||(d.done=!1)},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c,d,e,f=this,g=f.owner,h=f.calculateOwnerHeightFromContentHeight(a,b);isNaN(h)?f.done=!1:(c=Ext.Number.constrain(h,g.minHeight,g.maxHeight),c==h?d=f.setHeightInDom:(e=f.sizeModels[h>c?"constrainedMax":"constrainedMin"],h=c,a.heightModel.calculatedFromShrinkWrap?a.heightModel=e:a.invalidate({heightModel:e})),a.setHeight(h,d))},publishOwnerWidth:function(a,b){var c,d,e,f=this,g=f.owner,h=f.calculateOwnerWidthFromContentWidth(a,b);isNaN(h)?f.done=!1:(c=Ext.Number.constrain(h,g.minWidth,g.maxWidth),c==h?d=f.setWidthInDom:(e=f.sizeModels[h>c?"constrainedMax":"constrainedMin"],h=c,a.widthModel.calculatedFromShrinkWrap?a.widthModel=e:a.invalidate({widthModel:e})),a.setWidth(h,d))}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(a){var b,c,d=this;if(d.callParent(arguments),!a.textEls)if(c=d.owner.textEl,c.isComposite)for(a.textEls=[],c=c.elements,b=c.length;b--;)a.textEls[b]=a.getEl(Ext.get(c[b]));else a.textEls=[a.getEl("textEl")]},calculate:function(a){var b,c,d,e=this;if(e.callParent(arguments),Ext.isNumber(d=a.getProp("width")))for(d-=a.getBorderInfo().width,c=a.textEls,b=c.length;b--;)c[b].setWidth(d);else e.done=!1}}),Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?100*a.value:0})},onRender:function(){var a=this;a.callParent(arguments),a.textEl?(a.textEl=Ext.get(a.textEl),a.updateText(a.text)):a.textEl=a.el.select("."+a.baseCls+"-text")},updateProgress:function(a,b,c){var d=this,e=d.value;return d.value=a||0,b&&d.updateText(b),d.rendered&&!d.isDestroyed&&(c===!0||c!==!1&&d.animate?(d.bar.stopAnimation(),d.bar.animate(Ext.apply({from:{width:100*e+"%"},to:{width:100*d.value+"%"}},d.animate))):d.bar.setStyle("width",100*d.value+"%")),d.fireEvent("update",d,d.value,b),d},updateText:function(a){var b=this;return b.text=a,b.rendered&&b.textEl.update(b.text),b},applyText:function(a){this.updateText(a)
},getText:function(){return this.text},wait:function(a){var b,c=this;return c.waitTimer||(b=c,a=a||{},c.updateText(a.text),c.waitTimer=Ext.TaskManager.start({run:function(b){var d=a.increment||10;b-=1,c.updateProgress(((b+d)%d+1)*(100/d)*.01,null,a.animate)},interval:a.interval||1e3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||c),c.reset()},scope:b})),c},isWaiting:function(){return null!==this.waitTimer},reset:function(a){var b=this;return b.updateProgress(0),b.clearTimer(),a===!0&&b.hide(),b},clearTimer:function(){var a=this;a.waitTimer&&(a.waitTimer.onStop=null,Ext.TaskManager.stop(a.waitTimer),a.waitTimer=null)},onDestroy:function(){var a=this,b=a.bar;a.clearTimer(),a.rendered&&(a.textEl.isComposite&&a.textEl.clear(),Ext.destroyMembers(a,"textEl","progressBar"),b&&a.animate&&b.stopAnimation()),a.callParent()}}),Ext.define("Ext.ShadowPool",{singleton:!0,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();return a||(a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup)),a.autoBoxAdjust=!1),a},push:function(a){this.shadows.push(a)},reset:function(){var a,b=[].concat(this.shadows),c=b.length;for(a=0;c>a;a++)b[a].remove();this.shadows=[]}}),Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a){var b,c,d,e=this;switch(Ext.apply(e,a),Ext.isString(e.mode)||(e.mode=e.defaultMode),c=e.offset,d=Math.floor(c/2),e.opacity=50,e.mode.toLowerCase()){case"drop":b=Ext.supports.CSS3BoxShadow?{t:c,l:c,h:-c,w:-c}:{t:-d,l:-d,h:-d,w:-d};break;case"sides":b=Ext.supports.CSS3BoxShadow?{t:c,l:0,h:-c,w:0}:{t:-(1+d),l:1+d-2*c,h:-1,w:d-1};break;case"frame":b=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+d-2*c,l:1+d-2*c,h:c-d-1,w:c-d-1};break;case"bottom":b=Ext.supports.CSS3BoxShadow?{t:c,l:0,h:-c,w:0}:{t:c,l:0,h:0,w:0}}e.adjusts=b},getShadowSize:function(){var a=this,b=a.el?a.offset:0,c=[b,b,b,b],d=a.mode.toLowerCase();return a.el&&"frame"!==d&&(c[0]=0,"drop"==d&&(c[3]=0)),c},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;return"boxShadow"in b||("WebkitBoxShadow"in b?a="WebkitBoxShadow":"MozBoxShadow"in b&&(a="MozBoxShadow")),a}(),show:function(a){var b,c,d=this;a=Ext.get(a),b=parseInt(a.getStyle("z-index"),10)-1||0,c=a[d.localXYNames.get](),d.el||(d.el=Ext.ShadowPool.pull(),d.el.dom.style.position=d.fixed?"fixed":"",d.el.dom.nextSibling!=a.dom&&d.el.insertBefore(a)),d.el.setStyle("z-index",d.zIndex||b),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(d.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+d.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+d.offset+")"),d.realign(c[0],c[1],a.dom.offsetWidth,a.dom.offsetHeight),d.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(a,b,c,d){if(this.el){var e,f,g,h,i=this.adjusts,j=this.el,k=j.dom.style;j[this.localXYNames.set](a+i.l,b+i.t),e=Math.max(c+i.w,0),f=Math.max(d+i.h,0),g=e+"px",h=f+"px",(k.width!=g||k.height!=h)&&(k.width=g,k.height=h,Ext.supports.CSS3BoxShadow&&(k[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){var a=this;a.el&&(a.el.dom.style.display="none",Ext.ShadowPool.push(a.el),delete a.el)},setZIndex:function(a){this.zIndex=a,this.el&&this.el.setStyle("z-index",a)},setOpacity:function(a){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(a=Math.floor(100*a/2)/100),this.opacity=a,this.el.setOpacity(a))}}),Ext.define("Ext.app.EventDomain",{requires:["Ext.util.Event"],statics:{instances:{}},isEventDomain:!0,constructor:function(){var a=this;Ext.app.EventDomain.instances[a.type]=a,a.bus={},a.monitoredClasses=[]},dispatch:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=k.bus,m=l[b];if(!m)return!0;for(d in m)if(m.hasOwnProperty(d)&&k.match(a,d)){e=m[d];for(f in e)if(e.hasOwnProperty(f))for(g=e[f],i=0,j=g.length;j>i;i++)if(h=g[i],h.fire.apply(h,c)===!1)return!1}return!0},listen:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m.bus,o=m.idProperty,p=m.monitoredClasses,q=p.length;for(f in a)if(a.hasOwnProperty(f)&&(k=a[f])){o&&(f="*"===f?f:f.substring(1));for(l in k)if(k.hasOwnProperty(l)){for(g=null,h=k[l],i=b,j=new Ext.util.Event(b,l),Ext.isObject(h)&&(g=h,h=g.fn,i=g.scope||b,delete g.fn,delete g.scope),"string"==typeof h&&(h=i[h]),j.addListener(h,i,g),c=q;c-->0;)p[c].hasListeners._incr_(l);d=n[l]||(n[l]={}),d=d[f]||(d[f]={}),e=d[b.id]||(d[b.id]=[]),e.push(j)}}},match:function(a,b){var c=this.idProperty;return c?"*"===b||a[c]===b:!1},monitor:function(a){var b=this,c=a.isInstance?a:a.prototype,d=c.fireEventArgs;b.monitoredClasses.push(a),c.fireEventArgs=function(a,c){var e=d.apply(this,arguments);return e!==!1&&(e=b.dispatch(this,a,c)),e}},unlisten:function(a){var b,c,d,e,f=this.bus;for(c in f)if(f.hasOwnProperty(c)&&(e=f[c]))for(d in e)b=e[d],delete b[a]}}),Ext.define("Ext.app.domain.Component",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.Component"],type:"component",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.Component)},match:function(a,b){return a.is(b)}}),Ext.define("Ext.app.EventBus",{singleton:!0,requires:["Ext.app.domain.Component"],constructor:function(){var a=this,b=Ext.app.EventDomain.instances;a.callParent(),a.domains=b,a.bus=b.component.bus},control:function(a,b){return this.domains.component.listen(a,b)},listen:function(a,b){var c,d=this.domains;for(c in a)a.hasOwnProperty(c)&&d[c].listen(a[c],b)},unlisten:function(a){var b,c=Ext.app.EventDomain.instances;for(b in c)c[b].unlisten(a)}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,uses:["Ext.data.ArrayStore"],register:function(){for(var a,b=0;a=arguments[b];b++)this.add(a)},unregister:function(){for(var a,b=0;a=arguments[b];b++)this.remove(this.lookup(a))},lookup:function(a){if(Ext.isArray(a)){var b,c,d=["field1"],e=!Ext.isArray(a[0]),f=a;if(e)for(f=[],b=0,c=a.length;c>b;++b)f.push([a[b]]);else for(b=2,c=a[0].length;c>=b;++b)d.push("field"+b);return new Ext.data.ArrayStore({data:f,fields:d,autoDestroy:!0,autoCreated:!0,expanded:e})}return Ext.isString(a)?this.get(a):Ext.data.AbstractStore.create(a)},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(a,b){var c;return Ext.isObject(a)?b=a:b.storeId=a,c=b instanceof Ext.data.Store?b:new Ext.data.Store(b),Ext.data.StoreManager.register(c)},Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}}),Ext.define("Ext.app.domain.Global",{extend:"Ext.app.EventDomain",singleton:!0,type:"global",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.globalEvents)},listen:function(a,b){this.callParent([{global:a},b])},match:function(){return!0}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(a){Ext.apply(this,a),this.totalRecords=this.total,void 0===a.count&&(this.count=this.records.length)}}),Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet","Ext.XTemplate"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:"Ext.util.Observable"},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.fieldCount=0,b.model=Ext.ModelManager.getModel(b.model),b.model&&b.model.prototype.fields&&b.buildExtractors(),this.addEvents("exception")},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a),a&&c.buildExtractors(!0),b&&c.proxy&&c.proxy.setModel(c.model,!0)},read:function(a){var b;return a&&(b=a.responseText?this.getResponseData(a):this.readRecords(a)),b||this.nullResultSet},readRecords:function(a){var b,c,d,e,f,g,h,i=this;return i.lastFieldGeneration!==i.model.prototype.fields.generation&&i.buildExtractors(!0),i.rawData=a,a=i.getData(a),b=!0,c=0,d=[],i.successProperty&&(g=i.getSuccess(a),(g===!1||"false"===g)&&(b=!1)),i.messageProperty&&(h=i.getMessage(a)),(i.readRecordsOnFailure||b)&&(e=Ext.isArray(a)?a:i.getRoot(a),e&&(f=e.length),i.totalProperty&&(g=parseInt(i.getTotal(a),10),isNaN(g)||(f=g)),e&&(d=i.extractData(e),c=d.length)),new Ext.data.ResultSet({total:f||c,count:c,records:d,success:b,message:h})},extractData:function(a){var b,c,d,e,f=this,g=f.model,h=a.length,i=new Array(h);for(!a.length&&Ext.isObject(a)&&(a=[a],h=1),e=0;h>e;e++)c=a[e],c.isModel?i[e]=c:(i[e]=d=new g(void 0,f.getId(c),c,b={}),d.phantom=!1,f.convertRecordData(b,c,d),f.implicitIncludes&&d.associations.length&&f.readAssociated(d,c));return i},readAssociated:function(a,b){for(var c,d,e,f,g=a.associations.items,h=0,i=g.length;i>h;h++)c=g[h],d=this.getAssociatedDataRoot(b,c.associationKeyFunction||c.associationKey||c.name),d&&(f=c.getReader(),f||(e=c.associatedModel.getProxy(),f=e?e.getReader():new this.constructor({model:c.associatedName})),c.read(a,f,d))},getAssociatedDataRoot:function(a,b){return Ext.isFunction(b)?b(a):a[b]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(){},onMetaChange:function(a){var b,c,d=this,e=a.fields||d.getFields();d.metaData=a,d.root=a.root||d.root,d.idProperty=a.idProperty||d.idProperty,d.totalProperty=a.totalProperty||d.totalProperty,d.successProperty=a.successProperty||d.successProperty,d.messageProperty=a.messageProperty||d.messageProperty,c=a.clientIdProperty,d.model?(d.model.setFields(e,d.idProperty,c),d.setModel(d.model,!0)):(b=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:e,clientIdProperty:c}),d.idProperty&&(b.idProperty=d.idProperty),d.setModel(b,!0))},getIdProperty:function(){var a=this.model.prototype.idField,b=this.idProperty;return!b&&a&&null==(b=a.mapping)&&(b=a.name),b},buildExtractors:function(a){var b,c=this,d=c.getIdProperty(),e=c.totalProperty,f=c.successProperty,g=c.messageProperty;a===!0&&delete c.convertRecordData,c.convertRecordData||(e&&(c.getTotal=c.createAccessor(e)),f&&(c.getSuccess=c.createAccessor(f)),g&&(c.getMessage=c.createAccessor(g)),d?(b=c.createAccessor(d),c.getId=function(a){var d=b.call(c,a);return void 0===d||""===d?null:d}):c.getId=function(){return null},c.convertRecordData=c.buildRecordDataExtractor(),c.lastFieldGeneration=c.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,c={clientIdProp:b.clientIdProperty,fields:b.fields.items};return a.recordDataExtractorTemplate.createFieldAccessExpression=function(){return a.createFieldAccessExpression.apply(a,arguments)},Ext.functionFactory(a.recordDataExtractorTemplate.apply(c)).call(a)},destroyReader:function(){var a=this;delete a.proxy,delete a.model,delete a.convertRecordData,delete a.getId,delete a.getTotal,delete a.getSuccess,delete a.getMessage}},function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(a){var b,c=this;return c.getMeta?(b=c.getMeta(a),b&&c.onMetaChange(b)):a.metaData&&c.onMetaChange(a.metaData),c.jsonData=a,c.callParent([a])},getResponseData:function(a){var b,c;try{return b=Ext.decode(a.responseText),this.readRecords(b)}catch(d){return c=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:d.message}),this.fireEvent("exception",this,a,c),Ext.Logger.warn("Unable to parse the JSON returned by the server"),c}},buildExtractors:function(){var a=this,b=a.metaProperty;a.callParent(arguments),a.getRoot=a.root?a.createAccessor(a.root):Ext.identityFn,b&&(a.getMeta=a.createAccessor(b))},extractData:function(a){var b,c,d=this.record,e=[];if(d)for(b=a.length,!b&&Ext.isObject(a)&&(b=1,a=[a]),c=0;b>c;c++)e[c]=a[c][d];else e=a;return this.callParent([e])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.useSimpleAccessors!==!0){var c=String(b).search(a);if(c>=0)return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(b,c,d){var e,f,g=b.mapping,h=g||0===g,i=h?g:b.name;if(g!==!1){if("function"==typeof i)e=c+".mapping("+d+", this)";else if(this.useSimpleAccessors===!0||(f=String(i).search(a))<0)(!h||isNaN(i))&&(i='"'+i+'"'),e=d+"["+i+"]";else if(0===f)e=d+i;else{for(var j=i.split("."),k=j.length,l=1,m=d+"."+j[0],n=[m];k>l;l++)m+="."+j[l],n.push(m);e=n.join(" && ")}return e}}}()}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(a){Ext.apply(this,a)},write:function(a){for(var b=a.operation,c=b.records||[],d=c.length,e=0,f=[];d>e;e++)f.push(this.getRecordData(c[e],b));return this.writeRecords(a,f)},getRecordData:function(a,b){var c,d,e,f,g,h,i=a.phantom===!0,j=this.writeAllFields||i,k=a.fields,l=k.items,m={},n=a.clientIdProperty;if(j)for(h=l.length,g=0;h>g;g++)d=l[g],d.persist&&this.writeValue(m,d,a);else{c=a.getChanges();for(e in c)c.hasOwnProperty(e)&&(d=k.get(e),d.persist&&this.writeValue(m,d,a))}return i?n&&b&&b.records.length>1&&(m[n]=a.internalId):this.writeRecordId&&(f=k.get(a.idProperty)[this.nameProperty]||a.idProperty,m[f]=a.getId()),m},writeValue:function(a,b,c){var d=b[this.nameProperty],e=this.dateFormat||b.dateWriteFormat||b.dateFormat,f=c.get(b.name);null==d&&(d=b.name),a[d]=b.serialize?b.serialize(f,c):b.type===Ext.data.Types.DATE&&e&&Ext.isDate(f)?Ext.Date.format(f,e):f}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(a){for(var b,c,d,e,f,g=a.length,h=0,i=function(a,b){var c={};return c[a]=b,c};g>h;h++){b=a[h];for(c in b)if(b.hasOwnProperty(c)&&(d=c.split("."),e=d.length-1,e>0)){for(f=b[c];e>0;e--)f=i(d[e],f);b[d[0]]=b[d[0]]||{},Ext.Object.merge(b[d[0]],f),delete b[c]}}return a},writeRecords:function(a,b){var c=this.root;return this.expandData&&(b=this.getExpandedData(b)),this.allowSingle&&1===b.length&&(b=b[0]),this.encode?c&&(a.params[c]=Ext.encode(b)):(a.jsonData=a.jsonData||{},c?a.jsonData[c]=b:a.jsonData=b),a}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.reader.Json","Ext.data.writer.Json"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,isSynchronous:!1,constructor:function(a){var b=this;a=a||{},b.proxyConfig=a,b.mixins.observable.constructor.call(b,a),void 0===b.model||b.model instanceof Ext.data.Model?(b.reader&&b.setReader(b.reader),b.writer&&b.setWriter(b.writer)):b.setModel(b.model)},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a),c.setReader(this.reader),c.setWriter(this.writer),b&&c.store&&c.store.setModel(c.model)},getModel:function(){return this.model},setReader:function(a){var b=this,c=!0,d=b.reader;return(void 0===a||"string"==typeof a)&&(a={type:a},c=!1),a.isReader?a.setModel(b.model):(c&&(a=Ext.apply({},a)),Ext.applyIf(a,{proxy:b,model:b.model,type:b.defaultReaderType}),a=Ext.createByAlias("reader."+a.type,a)),a!==d&&a.onMetaChange&&(a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)),b.reader=a,b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){var b=this,c=!0;return(void 0===a||"string"==typeof a)&&(a={type:a},c=!1),a.isWriter||(c&&(a=Ext.apply({},a)),Ext.applyIf(a,{model:b.model,type:b.defaultWriterType}),a=Ext.createByAlias("writer."+a.type,a)),b.writer=a,b.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=l.batchActions;for(void 0===a.operations&&(a={operations:a,listeners:b}),a.batch?Ext.isDefined(a.batch.runOperation)&&(c=Ext.applyIf(a.batch,{proxy:l,listeners:{}})):a.batch={proxy:l,listeners:a.listeners||{}},c||(c=new Ext.data.Batch(a.batch)),c.on("complete",Ext.bind(l.onBatchComplete,l,[a],0)),e=l.batchOrder.split(","),f=e.length,h=0;f>h;h++)if(g=e[h],d=a.operations[g])if(m)c.add(new Ext.data.Operation({action:g,records:d}));else for(j=d.length,i=0;j>i;i++)k=d[i],c.add(new Ext.data.Operation({action:g,records:[k]}));return c.start(),c},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]),Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},clone:function(){return new this.self(this.proxyConfig)}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.actionCommitRecordsRe.test(k.action);if(!k.actionSkipSyncRe.test(k.action)&&(d=k.records,d&&d.length)){if(l&&(j=[]),d.length>1)if("update"==k.action||d[0].clientIdProperty)for(b=new Ext.util.MixedCollection,b.addAll(a),c=d.length;c--;)f=d[c],e=b.findBy(k.matchClientRec,f),i=f.copyFrom(e),l&&j.push(i);else for(g=0,h=d.length;h>g;++g)f=d[g],e=a[g],f&&e&&(i=k.updateRecord(f,e),l&&j.push(i));else i=k.updateRecord(d[0],a[0]),l&&(j[0]=i);if(l)for(c=d.length;c--;)d[c].commit(!1,j[c])}},updateRecord:function(a,b){return b&&(a.phantom||a.getId()===b.getId())?a.copyFrom(b):[]},matchClientRec:function(a){var b=this,c=b.getId();return c&&a.getId()===c?!0:a.internalId===b.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(a){this.exception=!0,this.success=!1,this.running=!1,this.error=a},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(a){this.batch=a},allowWrite:function(){return"read"!=this.action}}),Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.proxy.Proxy","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(a){return a.isStore||(a.type||(a.type="store"),a=Ext.createByAlias("store."+a.type,a)),a}},onClassExtended:function(a,b,c){var d,e=b.model;"string"==typeof e&&(d=c.onBeforeCreated,c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(e,function(){d.apply(a,b)})})},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(a){var b,c=this;Ext.apply(c,a),c.removed=[],c.mixins.observable.constructor.apply(c,arguments),c.model=Ext.ModelManager.getModel(c.model),Ext.applyIf(c,{modelDefaults:null}),!c.model&&c.fields&&(c.model=Ext.define("Ext.data.Store.ImplicitModel-"+(c.storeId||Ext.id()),{extend:"Ext.data.Model",fields:c.fields,proxy:c.proxy||c.defaultProxyType}),delete c.fields,c.implicitModel=!0),c.setProxy(c.proxy||c.model.getProxy()),c.disableMetaChangeEvent||c.proxy.on("metachange",c.onMetaChange,c),c.id&&!c.storeId&&(c.storeId=c.id,delete c.id),c.storeId&&Ext.data.StoreManager.register(c),c.mixins.sortable.initSortable.call(c),b=c.decodeFilters(c.filters),c.filters=new Ext.util.MixedCollection,c.filters.addAll(b)},setProxy:function(a){var b=this;return a instanceof Ext.data.proxy.Proxy?a.setModel(b.model):(Ext.isString(a)&&(a={type:a}),Ext.applyIf(a,{model:b.model}),a=Ext.createByAlias("proxy."+a.type,a)),b.proxy=a,b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c,d=this,e=Ext.ModelManager.create(Ext.applyIf(a,d.modelDefaults),d.model.modelName);return b=b||{},Ext.applyIf(b,{action:"create",records:[e]}),c=new Ext.data.Operation(b),d.proxy.create(c,d.onProxyWrite,d),e},read:function(){return this.load.apply(this,arguments)},update:function(a){var b,c=this;return a=a||{},Ext.applyIf(a,{action:"update",records:c.getUpdatedRecords()}),b=new Ext.data.Operation(a),c.proxy.update(b,c.onProxyWrite,c)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.action){case"create":b.onCreateRecords(d,a,c);break;case"update":b.onUpdateRecords(d,a,c);break;case"destroy":b.onDestroyRecords(d,a,c)}c&&(b.fireEvent("write",b,a),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){c&&(this.removed=[])},destroy:function(a){var b,c=this;return a=a||{},Ext.applyIf(a,{action:"destroy",records:c.getRemovedRecords()}),b=new Ext.data.Operation(a),c.proxy.destroy(b,c.onProxyWrite,c)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a){var b,c=this,d=a.operations,e=d.length;for(c.suspendEvents(),b=0;e>b;b++)c.onProxyWrite(d[b]);c.resumeEvents(),c.fireEvent("datachanged",c),c.fireEvent("refresh",c)},onBatchException:function(){},filterNew:function(a){return a.phantom===!0&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(){},decodeFilters:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b,c,d=a.length,e=Ext.util.Filter;for(c=0;d>c;c++)b=a[c],b instanceof e||(Ext.apply(b,{root:"data"}),b.fn&&(b.filterFn=b.fn),"function"==typeof b&&(b={filterFn:b}),a[c]=new e(b));return a},clearFilter:function(){},isFiltered:function(){},filterBy:function(){},sync:function(a){var b=this,c={},d=b.getNewRecords(),e=b.getUpdatedRecords(),f=b.getRemovedRecords(),g=!1;return d.length>0&&(c.create=d,g=!0),e.length>0&&(c.update=e,g=!0),f.length>0&&(c.destroy=f,g=!0),g&&b.fireEvent("beforesync",c)!==!1&&(a=a||{},b.proxy.batch(Ext.apply(a,{operations:c,listeners:b.getBatchListeners()}))),b},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException};return"operation"==a.batchUpdateMode?b.operationcomplete=a.onBatchOperationComplete:b.complete=a.onBatchComplete,b},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b,c=this;return a=Ext.apply({action:"read",filters:c.filters.items,sorters:c.getSorters()},a),c.lastOptions=a,b=new Ext.data.Operation(a),c.fireEvent("beforeload",c,b)!==!1&&(c.loading=!0,c.proxy.read(b,c.onProxyLoad,c)),c},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,b){var c,d,e=this;if(e.autoSync&&!e.autoSyncSuspended){for(c=b.length;c--;)if(a.fields.get(b[c]).persist){d=!0;break}d&&e.sync()}e.onUpdate(a,Ext.data.Model.EDIT,b),e.fireEvent("update",e,a,Ext.data.Model.EDIT,b)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null),this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a,b){b||(b=null),this.onUpdate(a,Ext.data.Model.COMMIT,b),this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b)},onUpdate:Ext.emptyFn,onIdChanged:function(a,b,c,d){this.fireEvent("idchanged",this,a,b,c,d)},destroyStore:function(){var a,b=this;b.isDestroyed||(b.clearListeners(),b.storeId&&Ext.data.StoreManager.unregister(b),b.clearData(),b.data=b.tree=b.sorters=b.filters=b.groupers=null,b.reader&&b.reader.destroyReader(),b.proxy=b.reader=b.writer=null,b.isDestroyed=!0,b.implicitModel?(a=Ext.getClassName(b.model),Ext.undefine(a),Ext.ModelManager.unregisterType(a)):b.model=null)},getState:function(){var a,b,c=this,d=!!c.groupers,e=[],f=[],g=[];return d&&c.groupers.each(function(b){e[e.length]=b.serialize(),a=!0}),c.sorters&&c.sorters.each(function(b){d&&!c.groupers.contains(b)&&(f[f.length]=b.serialize(),a=!0)}),c.filters&&c.statefulFilters&&c.filters.each(function(b){g[g.length]=b.serialize(),a=!0}),a?(b={},e.length&&(b.groupers=e),f.length&&(b.sorters=f),g.length&&(b.filters=g),b):void 0},applyState:function(a){var b,c=this,d=!!c.sorters,e=!!c.groupers,f=!!c.filters;e&&a.groupers&&(c.groupers.clear(),c.groupers.addAll(c.decodeGroupers(a.groupers))),d&&a.sorters&&(c.sorters.clear(),c.sorters.addAll(c.decodeSorters(a.sorters))),f&&a.filters&&(c.filters.clear(),c.filters.addAll(c.decodeFilters(a.filters))),d&&e&&c.sorters.insert(0,c.groupers.getRange()),c.autoLoad&&(c.remoteSort||c.remoteGroup||c.remoteFilter)&&(c.autoLoad===!0?c.reload():c.reload(c.autoLoad)),f&&c.filters.length&&!c.remoteFilter&&(c.filter(),b=c.sortOnFilter),d&&c.sorters.length&&!c.remoteSort&&!b&&c.sort()},doSort:function(a){var b=this;b.remoteSort?b.load():(b.data.sortBy(a),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireEvent("sort",b,b.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.app.domain.Store",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.data.AbstractStore"],type:"store",idProperty:"storeId",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.data.AbstractStore)}}),Ext.define("Ext.app.Controller",{requires:["Ext.app.EventBus","Ext.ModelManager","Ext.data.StoreManager","Ext.ComponentManager","Ext.app.domain.Global","Ext.app.domain.Component","Ext.app.domain.Store"],uses:["Ext.app.domain.Controller"],mixins:{observable:"Ext.util.Observable"},statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(a,b){var c,d="get",e=a.split("."),f=e.length;for(c=0;f>c;c++)d+=Ext.String.capitalize(e[c]);return d+=b},processDependencies:function(a,b,c,d,e){if(e&&e.length){var f,g,h,i,j,k,l,m,n=this,o=n.strings[d];for(Ext.isArray(e)||(e=[e]),j=0,k=e.length;k>j;j++)i=e[j],f=n.getFullName(i,d,c),g=f.absoluteName,h=f.shortName,b.push(g),l=n.getGetterName(h,o.upper),a[l]=m=n.createGetter(o.getter,i),"controller"!==d&&(m["Ext.app.getter"]=!0)}},getFullName:function(a,b,c){var d,e,f=a;return(d=a.indexOf("@"))>0?(f=a.substring(0,d),e=a.substring(d+1)+"."+f):a.indexOf(".")>0&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a))?e=a:c?(e=c+"."+b+"."+a,f=a):e=a,{absoluteName:e,shortName:f}}},application:null,onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c,e,f,g,h,i=Ext.app.Controller,j=i.controllerRegex,f=[];g=a.prototype,c=Ext.getClassName(a),e=b.$namespace||Ext.app.getNamespace(c)||(h=j.exec(c))&&h[1],e&&(g.$namespace=e),i.processDependencies(g,f,e,"model",b.models),i.processDependencies(g,f,e,"view",b.views),i.processDependencies(g,f,e,"store",b.stores),i.processDependencies(g,f,e,"controller",b.controllers),Ext.require(f,Ext.Function.pass(d,arguments,this))}},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.refs&&b.ref(b.refs),b.eventbus=Ext.app.EventBus,b.initAutoGetters()},initAutoGetters:function(){var a,b,c=this.self.prototype;for(a in c)b=c[a],b&&b["Ext.app.getter"]&&b.call(this)},doInit:function(a){var b=this;b._initialized||(b.init(a),b._initialized=!0)},finishInit:function(a){var b,c,d,e=this,f=e.controllers;if(e._initialized&&f&&f.length)for(c=0,d=f.length;d>c;c++)b=e.getController(f[c]),b.finishInit(a)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(a){var b,c,d,e=this,f=0,g=a.length;for(a=Ext.Array.from(a),e.references=e.references||[];g>f;f++)b=a[f],c=b.ref,d="get"+Ext.String.capitalize(c),e[d]||(e[d]=Ext.Function.pass(e.getRef,[c,b],e)),e.references.push(c.toLowerCase())},addRef:function(a){this.ref(a)},getRef:function(a,b,c){var d=this,e=d.refCache||(d.refCache={}),f=e[a];return b=b||{},c=c||{},Ext.apply(b,c),b.forceCreate?Ext.ComponentManager.create(b,"component"):(f||(b.selector&&(e[a]=f=Ext.ComponentQuery.query(b.selector)[0]),!f&&b.autoCreate&&(e[a]=f=Ext.ComponentManager.create(b,"component")),f&&f.on("beforedestroy",function(){e[a]=null})),f)},hasRef:function(a){var b=this.references;return b&&-1!==Ext.Array.indexOf(b,a.toLowerCase())},control:function(a,b,c){var d,e=this,f=c;Ext.isString(a)?(d={},d[a]=b):(d=a,f=b),e.eventbus.control(d,f||e)},listen:function(a,b){this.eventbus.listen(a,b||this)},getController:function(a){var b=this,c=b.application;return a===b.id?b:c&&c.getController(a)},getStore:function(a){var b,c;return b=-1==a.indexOf("@")?a:a.split("@")[0],c=Ext.StoreManager.get(b),c||(a=Ext.app.Controller.getFullName(a,"store",this.$namespace),a&&(c=Ext.create(a.absoluteName,{storeId:b}))),c
},getModel:function(a){var b=Ext.app.Controller.getFullName(a,"model",this.$namespace);return b&&Ext.ModelManager.getModel(b.absoluteName)},getView:function(a){var b=Ext.app.Controller.getFullName(a,"view",this.$namespace);return b&&Ext.ClassManager.get(b.absoluteName)},getApplication:function(){return this.application}}),Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(a,b){var c,d,e=this,f=0;for(a=e.prepareItems(a),d=a.length;d>f;f++)c=a[f],c.dock=c.dock||"top",("left"===c.dock||"right"===c.dock)&&e.horizontalDocks++,void 0!==b?(f+=b,e.dockedItems.insert(f,c)):e.dockedItems.add(c),c.onAdded(e,f),e.hasListeners.dockedadd&&e.fireEvent("dockedadd",e,c,f),e.onDockedAdd!==Ext.emptyFn&&e.onDockedAdd(c);return e.rendered&&!e.suspendLayout&&e.updateLayout(),a},destroyDockedItems:function(){var a,b=this.dockedItems;if(b)for(;a=b.first();)this.removeDocked(a,!0)},doRenderDockedItems:function(a,b,c){var d,e,f=b.$comp,g=f.componentLayout;g.getDockedItems&&!b.$skipDockedItems&&(d=g.getDockedItems("render",!c),e=d&&g.getItemsRenderTree(d),e&&Ext.DomHelper.generateMarkup(e,a))},getDockedComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);return a&&c.length&&(c=Ext.ComponentQuery.query(a,c)),c},getDockingRefItems:function(a,b){var c,d=a&&"*,* *",e=this.getDockedItems(d,!0);return e.push.apply(e,b),c=this.getDockedItems(d,!1),e.push.apply(e,c),e},initDockingItems:function(){var a=this,b=a.dockedItems;a.dockedItems=new Ext.util.AbstractMixedCollection(!1,a.getComponentId),b&&a.addDocked(b)},insertDocked:function(a,b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c,d,e=this;return b=b===!0||b!==!1&&e.autoDestroy,e.dockedItems.contains(a)?(("left"===a.dock||"right"===a.dock)&&e.horizontalDocks--,c=e.componentLayout,d=c&&e.rendered,d&&c.onRemove(a),e.dockedItems.remove(a),a.onRemoved(a.destroying||b),e.onDockedRemove(a),b?a.destroy():d&&c.afterRemove(a),e.hasListeners.dockedremove&&e.fireEvent("dockedremove",e,a),e.destroying||e.suspendLayout||e.updateLayout(),a):a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(a,b){this.layout=a,Ext.apply(this,b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(a){var b,c=this,d=a.state.boxPlan;d&&d.tooNarrow?(b=c.handleOverflow(a),b&&b.reservedSpace&&c.layout.publishInnerCtSize(a,b.reservedSpace)):c.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(){var a,b,c=this,d=c.layout.owner;d.hasListeners.overflowchange&&(a=d.query(">[hidden]"),b=a.length,b!==c.lastHiddenCount&&(d.fireEvent("overflowchange",c.lastHiddenCount,b,a),c.lastHiddenCount=b))},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;return b=a.isToolbar?"toolbar":a.isTabBar?"tabbar":a.isMenu?"menu":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var a=this;a.initialized||(Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a}),a.initialized=!0)},onDocumentKeyDown:function(a){var b,c=a.getKey();(c===a.SPACE||c===a.ENTER)&&(b=a.getTarget(this.buttonSelector),b&&Ext.getCmp(b.id).onClick(a))},onButtonMousedown:function(a,b){var c=this.pressedButton;c&&c.onMouseUp(b),this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;b&&(b.onMouseUp(a),this.pressedButton=null)},toggleGroup:function(a,b){if(b){var c,d=this.groups[a.toggleGroup],e=d.length;for(c=0;e>c;c++)d[c]!==a&&d[c].toggle(!1)}},register:function(a){var b=this,c=this.groups,d=c[a.toggleGroup];b.init(),a.toggleGroup&&(d||(d=c[a.toggleGroup]=[]),d.push(a),a.on("toggle",b.toggleGroup,b))},unregister:function(a){if(a.toggleGroup){var b=this,c=b.groups[a.toggleGroup];c&&(Ext.Array.remove(c,a),a.un("toggle",b.toggleGroup,b))}},getPressed:function(a){var b,c=this.groups[a],d=0;if(c)for(b=c.length;b>d;d++)if(c[d].pressed===!0)return c[d];return null}}),Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a,b,c=this;c.callParent(),a=c.getRenderTarget(),b=c.getDockedItems(),c.finishRenderItems(a,b)},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var a,b,c,d,e,f,g,h=this,i=h.owner,j=h.lastDockedItems,k=h.borders,l=i.dockedItems.generation,m=h.noBorderClassesSides,n=h.borderWidthProps,o=h.collapsed;if(h.initializedBorders!=l&&(!i.border||i.manageBodyBorders)){for(h.initializedBorders=l,h.collapsed=!1,h.lastDockedItems=b=h.getLayoutItems(),h.collapsed=o,a={top:[],right:[],bottom:[],left:[]},c=0,d=b.length;d>c;c++)e=b[c],f=e.dock,e.ignoreBorderManagement||(a[f].satisfied||(a[f].push(e),a[f].satisfied=!0),a.top.satisfied||"bottom"===f||a.top.push(e),a.right.satisfied||"left"===f||a.right.push(e),a.bottom.satisfied||"top"===f||a.bottom.push(e),a.left.satisfied||"right"===f||a.left.push(e));if(j)for(c=0,d=j.length;d>c;c++)e=j[c],e.isDestroyed||e.ignoreBorderManagement||i.manageBodyBorders||e.removeCls(h.noBorderClasses);if(k)for(g in k)i.manageBodyBorders&&k[g].satisfied&&i.setBodyStyle(n[g],"");for(g in a)if(d=a[g].length,i.manageBodyBorders)a[g].satisfied&&i.setBodyStyle(n[g],"1px");else{for(c=0;d>c;c++)a[g][c].addCls(m[g]);(!a[g].satisfied&&!i.bodyBorder||i.bodyBorder===!1)&&i.addBodyCls(m[g])}h.borders=a}},beforeLayoutCycle:function(a){var b,c,d=this,e=d.owner,f=d.sizeModels.shrinkWrap,g=e.shrinkWrapDock;e.collapsed&&(e.collapsedVertical()?(c=!0,a.measureDimensions=1):(b=!0,a.measureDimensions=2)),a.collapsedVert=c,a.collapsedHorz=b,c?a.heightModel=f:b&&(a.widthModel=f),g=g===!0?3:g||0,a.shrinkWrapDockHeight=1&g&&a.heightModel.shrinkWrap,a.shrinkWrapDockWidth=2&g&&a.widthModel.shrinkWrap},beginLayout:function(a){var b,c,d,e,f,g,h,i=this,j=i.owner,k=i.getLayoutItems(),l=a.context,m=k.length;for(i.callParent(arguments),g=j.getCollapsed(),g!==i.lastCollapsedState&&Ext.isDefined(i.lastCollapsedState)&&(i.owner.collapsed?(a.isCollapsingOrExpanding=1,j.addClsWithUI(j.collapsedCls)):(a.isCollapsingOrExpanding=2,j.removeClsWithUI(j.collapsedCls),a.lastCollapsedState=i.lastCollapsedState)),i.lastCollapsedState=g,a.dockedItems=b=[],c=0;m>c;c++)d=k[c],d.rendered&&(h=d.dock,e=l.getCmp(d),e.dockedAt={x:0,y:0},e.offsets=f=Ext.Element.parseBox(d.offsets||0),e.horizontal="top"==h||"bottom"==h,f.width=f.left+f.right,f.height=f.top+f.bottom,b.push(e));a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b,c,d,e=this,f=a.dockedItems,g=f.length,h=e.owner,i=h.frameBody,j=e.lastHeightModel;for(e.callParent(arguments),e.owner.manageHeight?e.lastBodyDisplay&&(h.body.dom.style.display=e.lastBodyDisplay=""):("inline-block"!==e.lastBodyDisplay&&(h.body.dom.style.display=e.lastBodyDisplay="inline-block"),j&&j.shrinkWrap&&!a.heightModel.shrinkWrap&&(h.body.dom.style.marginBottom="")),a.widthModel.auto&&(a.widthModel.shrinkWrap&&h.el.setWidth(null),h.body.setWidth(null),i&&i.setWidth(null)),a.heightModel.auto&&(h.body.setHeight(null),i&&i.setHeight(null)),a.collapsedVert?a.setContentHeight(0):a.collapsedHorz&&a.setContentWidth(0),b=0;g>b;b++)if(c=f[b].target,d=c.dock,"right"==d)c.setLocalX(0);else if("left"!=d)continue},calculate:function(a){var b,c,d,e,f,g=this,h=g.measureAutoDimensions(a,a.measureDimensions),i=a.state,j=i.horzDone,k=i.vertDone,l=a.bodyContext;for(a.borderInfo||a.getBorderInfo(),a.paddingInfo||a.getPaddingInfo(),a.frameInfo||a.getFrameInfo(),l.borderInfo||l.getBorderInfo(),l.paddingInfo||l.getPaddingInfo(),a.frameBorder||((b=a.framing)?(a.frameBorder=b.border,a.framePadding=b.padding):(a.frameBorder=a.borderInfo,a.framePadding=a.paddingInfo)),c=!j&&g.createAxis(a,h.contentWidth,a.widthModel,g.horzAxisProps,a.collapsedHorz),d=!k&&g.createAxis(a,h.contentHeight,a.heightModel,g.vertAxisProps,a.collapsedVert),e=0,f=a.dockedItems.length;f--;++e)c&&g.dockChild(a,c,f,e),d&&g.dockChild(a,d,f,e);c&&g.finishAxis(a,c)&&(i.horzDone=j=c),d&&g.finishAxis(a,d)&&(i.vertDone=k=d),j&&k&&g.finishConstraints(a,j,k)?g.finishPositions(a,j,k):g.done=!1},createAxis:function(a,b,c,d,e){var f,g,h,i,j=this,k=0,l=j.owner,m=l[d.maxSize],n=l[d.minSize]||0,o=d.dockBegin,p=d.dockEnd,q=d.pos,r=d.size,s=null!=m,t=c.shrinkWrap;return t?e?i=0:(f=a.bodyContext,i=b+f.borderInfo[r]):(g=a.frameBorder,h=a.framePadding,k=g[o]+h[o],i=a.getProp(r)-(g[p]+h[p])),{shrinkWrap:c.shrinkWrap,sizeModel:c,initialBegin:k,begin:k,end:i,collapsed:e,horizontal:d.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:i-k,maxChildSize:0,hasMinMaxConstraints:(n||s)&&c.shrinkWrap,minSize:n,maxSize:s?m:1e9,bodyPosProp:j.owner.manageHeight?q:d.marginBegin,dockBegin:o,dockEnd:p,posProp:q,sizeProp:r,setSize:d.setSize,shrinkWrapDock:a[d.shrinkWrapDock],sizeModelName:d.sizeModel,dockedPixelsEnd:0}},dockChild:function(a,b,c,d){var e,f,g=this,h=a.dockedItems[b.shrinkWrap?c:d],i=h.target,j=i.dock,k=b.sizeProp;i.ignoreParentFrame&&a.isCollapsingOrExpanding&&h.clearMarginCache(),h.marginInfo||h.getMarginInfo(),j==b.dockBegin?e=b.shrinkWrap?g.dockOutwardBegin(a,h,i,b):g.dockInwardBegin(a,h,i,b):j==b.dockEnd?e=b.shrinkWrap?g.dockOutwardEnd(a,h,i,b):g.dockInwardEnd(a,h,i,b):b.shrinkWrapDock?(f=h.getProp(k)+h.marginInfo[k],b.maxChildSize=Math.max(b.maxChildSize,f),e=0):e=g.dockStretch(a,h,i,b),h.dockedAt[b.posProp]=e},dockInwardBegin:function(a,b,c,d){var e,f,g,h=d.begin,i=d.sizeProp,j=c.ignoreParentFrame;return j&&(d.ignoreFrameBegin=b,g=c.dock,e=a.frameBorder[g],h-=e+a.framePadding[g]),c.overlay||(f=b.getProp(i)+b.marginInfo[i],d.begin+=f,j&&(d.begin-=e)),h},dockInwardEnd:function(a,b,c,d){var e,f=d.sizeProp,g=b.getProp(f)+b.marginInfo[f],h=d.end-g;return c.overlay||(d.end=h),c.ignoreParentFrame&&(d.ignoreFrameEnd=b,e=a.frameBorder[c.dock],h+=e+a.framePadding[c.dock],d.end+=e),h},dockOutwardBegin:function(a,b,c,d){var e,f=d.begin,g=d.sizeProp;return d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameBegin=b),c.overlay||(e=b.getProp(g)+b.marginInfo[g],f-=e,d.begin=f),f},dockOutwardEnd:function(a,b,c,d){var e,f=d.end,g=d.sizeProp;return e=b.getProp(g)+b.marginInfo[g],d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameEnd=b),c.overlay||(d.end=f+e,d.dockedPixelsEnd+=e),f},dockStretch:function(a,b,c,d){var e,f,g=c.dock,h=d.sizeProp,i="top"==g||"bottom"==g,j=a.frameBorder,k=b.offsets,l=a.framePadding,m=i?"right":"bottom",n=i?"left":"top",o=d.begin+k[n];return c.stretch!==!1&&(f=d.end-o-k[m],c.ignoreParentFrame&&(o-=l[n]+j[n],f+=l[h]+j[h]),e=b.marginInfo,f-=e[h],b[d.setSize](f)),o},finishAxis:function(a,b){if(isNaN(b.maxChildSize))return!1;var c,d,e,f,g=b.begin,h=b.end-g,i=b.collapsed,j=b.setSize,k=b.dockBegin,l=b.dockEnd,m=a.framePadding,n=a.frameBorder,o=n[k],p=a.framing,q=p&&p[k],r=i?0:m[k],s=b.sizeProp,t=b.ignoreFrameBegin,u=b.ignoreFrameEnd,v=a.bodyContext,w=Math.max(o+r-q,0);return b.shrinkWrap?(d=b.initialSize,p?(e=-g+o+r,c=e-q-w):(c=-g,e=c+r),i||(h+=m[s]),t?(e-=o,c-=o,t.dockedAt[b.posProp]-=r):h+=o,i||(u?u.dockedAt[b.posProp]+=m[l]:h+=n[l]),b.size=h,b.horizontal||this.owner.manageHeight||(f=!1)):(p?(e=0,c=g-q-w):(e=-o,c=g-r-o),d=h),b.delta=e,v[j](d,f),v.setProp(b.bodyPosProp,c),!isNaN(h)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(a,b){var c,d=b.axis,e=b.layout;a[d.sizeModelName].calculated&&(c=e.dockStretch(b.ownerContext,a,a.target,d),a.setProp(d.posProp,d.delta+c))},finishConstraints:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=this,o=n.sizeModels,p=b.shrinkWrap,q=c.shrinkWrap,r=n.owner;if(p&&(i=b.size,j=b.collapsed?0:b.minSize,k=b.maxSize,l=b.maxChildSize,m=Math.max(i,l),m>k?(h=o.constrainedMax,f=k):j>m?(h=o.constrainedMin,f=j):l>i?(h=o.constrainedDock,r.dockConstrainedWidth=f=l):f=i),q&&(i=c.size,j=c.collapsed?0:c.minSize,k=c.maxSize,l=c.maxChildSize,m=Math.max(i,l+i-c.initialSize),m>k?(g=o.constrainedMax,e=k):j>m?(g=o.constrainedMin,e=j):l>i?(g=o.constrainedDock,r.dockConstrainedHeight=e=l):(a.collapsedVert||r.manageHeight||(d=!1,a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)),e=i)),h||g){if(h&&g&&h.constrainedMax&&g.constrainedByMin)return a.invalidate({widthModel:h}),!1;if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap)return a.invalidate({widthModel:h,heightModel:g}),!1}else n.invalidateAxes(a,b,c);return p&&(a.setWidth(f),h&&(a.widthModel=h)),q&&(a.setHeight(e,d),g&&(a.heightModel=g)),!0},invalidateAxes:function(a,b,c){var d,e,f,g,h,i,j,k,l=this.beforeInvalidateShrinkWrapDock,m=this.afterInvalidateShrinkWrapDock,n=b.end-b.begin,o=c.initialSize,p=b.shrinkWrapDock&&b.maxChildSize<n,q=c.shrinkWrapDock&&c.maxChildSize<o;if(p||q)for(q&&(c.begin=c.initialBegin,c.end=c.begin+c.initialSize),d=a.dockedItems,f=0,e=d.length;e>f;++f)g=d[f],i=g.horizontal,j=null,p&&i?(k=b.sizeProp,h=n,j=b):q&&!i&&(k=c.sizeProp,h=o,j=c),j&&(h-=g.getMarginInfo()[k],h!==g.props[k]&&g.invalidate({before:l,after:m,axis:j,ownerContext:a,layout:this}))},finishPositions:function(a,b,c){var d,e,f=a.dockedItems,g=f.length,h=b.delta,i=c.delta;for(d=0;g>d;++d)e=f[d],e.setProp("x",h+e.dockedAt.x),e.setProp("y",i+e.dockedAt.y)},finishedLayout:function(a){var b=this,c=a.target;b.callParent(arguments),a.animatePolicy||(1===a.isCollapsingOrExpanding?c.afterCollapse(!1):2===a.isCollapsingOrExpanding&&c.afterExpand(!1))},getAnimatePolicy:function(a){var b,c,d=this;return 1==a.isCollapsingOrExpanding?b=d.lastCollapsedState:2==a.isCollapsingOrExpanding&&(b=a.lastCollapsedState),"left"==b||"right"==b?c=d.horizontalCollapsePolicy:("top"==b||"bottom"==b)&&(c=d.verticalCollapsePolicy),c},getDockedItems:function(a,b){var c,d,e,f,g,h,i=this,j="visual"===a,k=j?Ext.ComponentQuery.query("[rendered]",i.owner.dockedItems.items):i.owner.dockedItems.items,l=k&&k.length&&a!==!1;if(null==b)e=l&&!j?k.slice():k;else{for(e=[],f=0,h=k.length;h>f;++f)d=k[f].dock,g="top"==d||"left"==d,(b?g:!g)&&e.push(k[f]);l=l&&e.length}return l&&(c="render"==(a=a||"render"),Ext.Array.sort(e,function(b,d){var e,f;return!c||(e=i.owner.dockOrder[b.dock])===(f=i.owner.dockOrder[d.dock])||e+f?(e=i.getItemWeight(b,a),f=i.getItemWeight(d,a),void 0!==e&&void 0!==f?e-f:0):e-f})),e||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a,b,c,d,e,f=this;if(f.owner.collapsed)e=f.owner.getCollapsedDockedItems();else for(a=f.getDockedItems("visual"),b=a.length,e=[],d=0;b>d;d++)c=a[d],c.hidden||e.push(c);return e},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(a){var b=this,c=b.owner;1==a.isCollapsingOrExpanding?(c.reExpander&&c.reExpander.el.show(),c.addClsWithUI(c.collapsedCls),a.redo(!0)):2==a.isCollapsingOrExpanding&&(c.removeClsWithUI(c.collapsedCls),a.bodyContext.redo())},renderChildren:function(){var a=this,b=a.getDockedItems(),c=a.getRenderTarget();a.handleItemBorders(),a.renderItems(b,c)},renderItems:function(a,b){var c,d,e,f,g=this,h=a.length,i=0,j=0,k=0,l=g.getRenderTarget().dom.childNodes,m=l.length;for(c=0,d=0;m>c&&(e=l[c],!Ext.fly(e).hasCls(Ext.baseCSSPrefix+"resizable-handle"));c++){for(d=0;h>d&&(f=a[d],!f.rendered||f.el.dom!==e);d++);d===h&&k++}for(;h>i;i++,j++)f=a[i],i!==j||"right"!==f.dock&&"bottom"!==f.dock||(j+=k),f&&!f.rendered?g.renderItem(f,b,j):g.isValidParent(f,b,j)||g.moveItem(f,b,j)},undoLayout:function(a){var b=this,c=b.owner;1==a.isCollapsingOrExpanding?(c.reExpander&&c.reExpander.el.hide(),c.removeClsWithUI(c.collapsedCls),a.undo(!0)):2==a.isCollapsingOrExpanding&&(c.addClsWithUI(c.collapsedCls),a.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a,b){var c,d,e=this,f=e.sizePolicy,g=e.owner.shrinkWrapDock;return a.stretch===!1?f.nostretch:(c=a.dock,d="left"==c||"right"==c,g=g===!0?3:g||0,d?(f=f.vert,g=1&g):(f=f.horz,g=2&g),g&&(b||(b=e.owner.getSizeModel()),b[d?"height":"width"].shrinkWrap)?f.shrinkWrap:f.stretch)},configureItem:function(a){this.callParent(arguments),a.addCls(Ext.baseCSSPrefix+"docked"),a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){this.callParent(arguments),this.itemCls&&a.el.removeCls(this.itemCls+"-"+a.dock);var b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var a,b=this,c=b.borderCollapseMap,d=b.owner,e=d.baseCls,f=d.ui;return c=c[e]||(c[e]={}),a=c[f],a||(e+="-"+f+"-outer-border-",c[f]=a=[0,e+"l",e+"b",e+"bl",e+"r",e+"rl",e+"rb",e+"rbl",e+"t",e+"tl",e+"tb",e+"tbl",e+"tr",e+"trl",e+"trb",e+"trbl"]),a}}),Ext.define("Ext.menu.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){a.active.length>0&&a.hideAll()},a)},hideAll:function(){var a,b,c,d=this.active;if(d&&d.length>0){for(a=Ext.Array.slice(d.items),c=a.length,b=0;c>b;b++)a[b].hide();return!0}return!1},onHide:function(a){var b=this,c=b.active;c.remove(a),c.length<1&&(Ext.getDoc().un("mousedown",b.onMouseDown,b),b.attached=!1)},onShow:function(a){var b=this,c=b.active,d=b.attached;b.lastShow=new Date,c.add(a),d||(Ext.getDoc().on("mousedown",b.onMouseDown,b,{buffer:Ext.isIE9m?10:void 0}),b.attached=!0),a.toFront()},onBeforeHide:function(a){a.activeChild&&a.activeChild.hide(),a.autoHideTimer&&(clearTimeout(a.autoHideTimer),delete a.autoHideTimer)},onBeforeShow:function(a){var b=this.active,c=a.parentMenu;b.remove(a),c||a.allowOtherMenus?c&&c.activeChild&&a!=c.activeChild&&c.activeChild.hide():this.hideAll()},onMouseDown:function(a){var b=this,c=b.active,d=b.lastShow,e=!0;Ext.Date.getElapsed(d)>50&&c.length>0&&!a.getTarget(b.menuSelector)&&(Ext.isIE9m&&!Ext.getDoc().contains(a.target)&&(e=!1),e&&b.hideAll())},register:function(a){var b=this;b.active||b.init(),a.floating&&(b.menus[a.id]=a,a.on({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b}))},get:function(a){var b=this.menus;return"string"==typeof a?b?b[a]:null:a.isMenu?a:Ext.isArray(a)?new Ext.menu.Menu({items:a}):Ext.ComponentManager.create(a,"menu")},unregister:function(a){var b=this,c=b.menus,d=b.active;delete c[a.id],d.remove(a),a.un({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})},registerCheckable:function(a){var b=this.groups,c=a.group;c&&(b[c]||(b[c]=[]),b[c].push(a))},unregisterCheckable:function(a){var b=this.groups,c=a.group;c&&Ext.Array.remove(b[c],a)},onCheckChange:function(a,b){var c,d,e,f=this.groups,g=a.group,h=0;if(g&&b)for(c=f[g],d=c.length;d>h;h++)e=c[h],e!=a&&e.setChecked(!1)}}),Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(a,b){var c=this;c.el=Ext.get(a),c.el.unselectable(),Ext.apply(c,b),c.callParent(),c.addEvents("mousedown","click","mouseup"),c.disabled||(c.disabled=!0,c.enable()),c.handler&&c.on("click",c.handler,c.scope||c)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(a){(a||!this.disabled)&&(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault(),this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,a),this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,a),this.fireEvent("click",this,a),this.accelerate&&(this.delay=400),a=new Ext.EventObjectImpl(a),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(a){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,a)}}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",htmlRE:/<.*>/,beginLayout:function(a){var b=this,c=b.owner,d=c.text;b.callParent(arguments),a.btnWrapContext=a.getEl("btnWrap"),a.btnElContext=a.getEl("btnEl"),a.btnInnerElContext=a.getEl("btnInnerEl"),a.btnIconElContext=a.getEl("btnIconEl"),d&&b.htmlRE.test(d)&&(a.isHtmlText=!0,c.btnInnerEl.setStyle("line-height","normal"),c.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(a){var b=this.owner,c=this.lastWidthModel;this.callParent(arguments),c&&!this.lastWidthModel.shrinkWrap&&a.widthModel.shrinkWrap&&(b.btnWrap.setStyle("height",""),b.btnEl.setStyle("height",""),b.btnInnerEl.setStyle("line-height",""))},calculate:function(a){var b,c,d,e,f=this,g=f.owner,h=a.btnElContext,i=a.btnInnerElContext,j=a.btnWrapContext,k=Math.max;f.callParent(arguments),a.heightModel.shrinkWrap?(d=g.btnEl.getHeight(),a.isHtmlText&&(f.centerInnerEl(a,d),f.ieCenterIcon(a,d))):(b=a.getProp("height"),b?(c=b-a.getFrameInfo().height-a.getPaddingInfo().height,d=c,(g.menu||g.split)&&"bottom"===g.arrowAlign&&(d-=j.getPaddingInfo().bottom),e=d,!(g.icon||g.iconCls||g.glyph)||"top"!==g.iconAlign&&"bottom"!==g.iconAlign||(e-=i.getPaddingInfo().height),j.setProp("height",k(0,c)),h.setProp("height",k(0,d)),a.isHtmlText?f.centerInnerEl(a,d):i.setProp("line-height",k(0,e)+"px"),f.ieCenterIcon(a,d)):0!==b&&(f.done=!1))},centerInnerEl:function(a,b){var c=this,d=a.btnInnerElContext,e=c.owner.btnInnerEl.getHeight();a.heightModel.shrinkWrap&&e>b?a.btnElContext.setHeight(e):b>e&&d.setProp("padding-top",Math.round((b-e)/2)+d.getPaddingInfo().top)},ieCenterIcon:function(a,b){var c=this.owner.iconAlign;!Ext.isIEQuirks&&!Ext.isIE6||"left"!==c&&"right"!==c||a.btnIconElContext.setHeight(b)},publishInnerWidth:function(a,b){this.owner.getFrameInfo().table&&a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,b,c){var d=this,e=d.shared;return e||(e=d.shared=new d(a,c)),e.bind(a),e.setFixedWidth(c||"auto"),e.getSize(b)},destroy:function(){var a=this;Ext.destroy(a.shared),a.shared=null}},constructor:function(a,b){var c=this,d=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});c.measure=d,a&&c.bind(a),d.position("absolute"),d.setLocalXY(-1e3,-1e3),d.hide(),b&&d.setWidth(b)},getSize:function(a){var b,c=this.measure;return c.update(a),b=c.getSize(),c.update(""),b},bind:function(a){var b=this;b.el=Ext.get(a),b.measure.setStyle(b.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-wrap"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){return this.measure.dom.style.width="auto",this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove(),delete a.el,delete a.measure}},function(){Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,!0)).width,b||0,c||1e6)}})}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.button.Manager","Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],mixins:{queryable:"Ext.Queryable"},alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){var a=this;a.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"},a.addCls("x-unselectable"),a.callParent(arguments),a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange"),a.menu&&(a.split=!0,a.menu=Ext.menu.Manager.get(a.menu),a.menu.ownerButton=a),a.url&&(a.href=a.url),a.href&&!a.hasOwnProperty("preventDefault")&&(a.preventDefault=!1),Ext.isString(a.toggleGroup)&&""!==a.toggleGroup&&(a.enableToggle=!0),a.html&&!a.text&&(a.text=a.html,delete a.html),a.glyphCls=a.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var a=this,b=a.getComponentCls();Ext.isEmpty(a.oldCls)||(a.removeClsWithUI(a.oldCls),a.removeClsWithUI(a.pressedCls)),a.oldCls=b,a.addClsWithUI(b)},getComponentCls:function(){var a,b=this;return a=b.iconCls||b.icon||b.glyph?[b.text?"icon-text-"+b.iconAlign:"icon"]:b.text?["noicon"]:[],b.pressed&&(a[a.length]=b.pressedCls),a},beforeRender:function(){var a=this,b=a.autoEl,c=a.getHref(),d=a.hrefTarget;a.disabled||(b.tabIndex=a.tabIndex),c&&(b.href=c,d&&(b.target=d)),a.callParent(),a.oldCls=a.getComponentCls(),a.addClsWithUI(a.oldCls),Ext.applyIf(a.renderData,a.getTemplateArgs())},onRender:function(){var a,b,c,d=this;d.doc=Ext.getDoc(),d.callParent(arguments),b=d.el,d.tooltip&&d.setTooltip(d.tooltip,!0),d.handleMouseEvents?(c={scope:d,mouseover:d.onMouseOver,mouseout:d.onMouseOut,mousedown:d.onMouseDown},d.split&&(c.mousemove=d.onMouseMove)):c={scope:d},d.menu&&(d.mon(d.menu,{scope:d,show:d.onMenuShow,hide:d.onMenuHide}),d.keyMap=new Ext.util.KeyMap({target:d.el,key:Ext.EventObject.DOWN,handler:d.onDownKey,scope:d})),d.repeat?d.mon(new Ext.util.ClickRepeater(b,Ext.isObject(d.repeat)?d.repeat:{}),"click",d.onRepeatClick,d):c[d.clickEvent]?a=!0:c[d.clickEvent]=d.onClick,d.mon(b,c),a&&d.mon(b,d.clickEvent,d.onClick,d),Ext.button.Manager.register(d)},getTemplateArgs:function(){var a,b=this,c=b.glyph,d=Ext._glyphFontFamily;return"string"==typeof c&&(a=c.split("@"),c=a[0],d=a[1]),{innerCls:b.getInnerCls(),splitCls:b.getSplitCls(),iconUrl:b.icon,iconCls:b.iconCls,glyph:c,glyphCls:c?b.glyphCls:"",glyphFontFamily:d,text:b.text||"&#160;"}},setHref:function(a){this.href=a,this.el.dom.href=this.getHref()},getHref:function(){var a=this,b=a.href;return b?Ext.urlAppend(b,Ext.Object.toQueryString(Ext.apply({},a.params,a.baseParams))):!1},setParams:function(a){this.params=a,this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+"-"+a.arrowCls+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(a){a=a||"";var b=this,c=b.btnIconEl,d=b.icon||"";return b.icon=a,a!=d&&(c&&(c.setStyle("background-image",a?"url("+a+")":""),b.setComponentCls(),b.didIconStateChange(d,a)&&b.updateLayout()),b.fireEvent("iconchange",b,d,a)),b
},setIconCls:function(a){a=a||"";var b=this,c=b.btnIconEl,d=b.iconCls||"";return b.iconCls=a,d!=a&&(c&&(c.removeCls(d),c.addCls(a),b.setComponentCls(),b.didIconStateChange(d,a)&&b.updateLayout()),b.fireEvent("iconchange",b,d,a)),b},setGlyph:function(a){a=a||0;var b,c,d=this,e=d.btnIconEl,f=d.glyph;return d.glyph=a,e&&("string"==typeof a&&(c=a.split("@"),a=c[0],b=c[1]||Ext._glyphFontFamily),a?f!=a&&(e.dom.innerHTML="&#"+a+";"):e.dom.innerHTML="",b&&e.setStyle("font-family",b)),d.fireEvent("glyphchange",d,d.glyph,f),d},setTooltip:function(a,b){var c=this;return c.rendered?(b&&a||c.clearTip(),a&&(Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:c.el.id},a)),c.tooltip=a):c.el.dom.setAttribute(c.getTipAttr(),a))):c.tooltip=a,c},setTextAlign:function(a){var b=this,c=b.btnEl;return c&&(c.removeCls(b.baseCls+"-inner-"+b.textAlign),c.addCls(b.baseCls+"-inner-"+a)),b.textAlign=a,b},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(a){var b,c=this.menu;return c&&(b=c.getRefItems(a),b.unshift(c)),b||[]},clearTip:function(){var a=this,b=a.el;Ext.quickTipsActive&&Ext.isObject(a.tooltip)?Ext.tip.QuickTipManager.unregister(b):b.dom.removeAttribute(a.getTipAttr())},beforeDestroy:function(){var a=this;a.rendered&&a.clearTip(),a.menu&&a.destroyMenu!==!1&&Ext.destroy(a.menu),Ext.destroy(a.btnInnerEl,a.repeater),a.callParent()},onDestroy:function(){var a=this;a.rendered&&(a.doc.un("mouseover",a.monitorMouseOver,a),delete a.doc,Ext.destroy(a.keyMap),delete a.keyMap),Ext.button.Manager.unregister(a),a.callParent()},setHandler:function(a,b){return this.handler=a,this.scope=b,this},setText:function(a){a=a||"";var b=this,c=b.text||"";return a!=c&&(b.text=a,b.rendered&&(b.btnInnerEl.update(a||"&#160;"),b.setComponentCls(),Ext.isStrict&&Ext.isIE8&&b.el.repaint(),b.updateLayout()),b.fireEvent("textchange",b,c,a)),b},didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},getText:function(){return this.text},toggle:function(a,b){var c=this;return a=void 0===a?!c.pressed:!!a,a!==c.pressed&&(c.rendered&&c[a?"addClsWithUI":"removeClsWithUI"](c.pressedCls),c.pressed=a,b||(c.fireEvent("toggle",c,a),Ext.callback(c.toggleHandler,c.scope||c,[c,a]))),c},maybeShowMenu:function(){var a=this;!a.menu||a.hasVisibleMenu()||a.ignoreNextClick||a.showMenu(!0)},showMenu:function(a){var b=this,c=b.menu;return b.rendered&&(b.tooltip&&Ext.quickTipsActive&&"title"!=b.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(b.el),c.isVisible()&&c.hide(),(!a||b.showEmptyMenu||c.items.getCount()>0)&&c.showBy(b.el,b.menuAlign)),b},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){var b=this;(b.preventDefault||b.disabled&&b.getHref()&&a)&&a.preventDefault(),("keydown"===a.type||0===a.button)&&(b.disabled||(b.doToggle(),b.maybeShowMenu(),b.fireHandler(a)))},fireHandler:function(a){var b=this,c=b.handler;b.fireEvent("click",b,a)!==!1&&c&&c.call(b.scope||b,b,a)},doToggle:function(){var a=this;!a.enableToggle||a.allowDepress===!1&&a.pressed||a.toggle()},onMouseOver:function(a){var b=this;b.disabled||a.within(b.el,!0,!0)||b.onMouseEnter(a)},onMouseOut:function(a){var b=this;a.within(b.el,!0,!0)||(b.overMenuTrigger&&b.onMenuTriggerOut(a),b.onMouseLeave(a))},onMouseMove:function(a){var b,c,d=this,e=d.el,f=d.overMenuTrigger;d.split&&(b="right"===d.arrowAlign?a.getX()-d.getX():a.getY()-e.getY(),c=d.getTriggerRegion(),b>c.begin&&b<c.end?f||d.onMenuTriggerOver(a):f&&d.onMenuTriggerOut(a))},getTriggerRegion:function(){var a=this,b=a._triggerRegion,c=a.getTriggerSize(),d="right"===a.arrowAlign?a.getWidth():a.getHeight();return b.begin=d-c,b.end=d,b},getTriggerSize:function(){var a,b,c=this,d=c.triggerSize;return null==d&&(a=c.arrowAlign,b=a.charAt(0),d=c.triggerSize=c.el.getFrameWidth(b)+c.getBtnWrapFrameWidth(b),c.frameSize&&(d=c.triggerSize+=c.frameSize[a])),d},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(a){var b=this,c=b.arrowTooltip;b.overMenuTrigger=!0,b.split&&c&&b.btnWrap.dom.setAttribute(b.getTipAttr(),c),b.fireEvent("menutriggerover",b,b.menu,a)},onMenuTriggerOut:function(a){var b=this;delete b.overMenuTrigger,b.split&&b.arrowTooltip&&b.btnWrap.dom.setAttribute(b.getTipAttr(),""),b.fireEvent("menutriggerout",b,b.menu,a)},enable:function(){var a=this;return a.callParent(arguments),a.removeClsWithUI("disabled"),a.rendered&&a.el.dom.setAttribute("tabIndex",a.tabIndex),a},disable:function(){var a=this;return a.callParent(arguments),a.addClsWithUI("disabled"),a.removeClsWithUI(a.overCls),a.rendered&&a.el.dom.removeAttribute("tabIndex"),a.btnInnerEl&&Ext.isIE7m&&a.btnInnerEl.repaint(),a},setScale:function(a){var b=this,c=b.ui.replace("-"+b.scale,"");if(!Ext.Array.contains(b.allowedScales,a))throw"#setScale: scale must be an allowed scale ("+b.allowedScales.join(", ")+")";b.scale=a,b.setUI(c)},setUI:function(a){var b=this;b.scale&&!a.match(b.scale)&&(a=a+"-"+b.scale),b.callParent([a])},onMouseDown:function(a){var b=this;Ext.isIE&&b.getFocusEl().focus(),b.disabled||0!==a.button||(Ext.button.Manager.onButtonMousedown(b,a),b.addClsWithUI(b.pressedCls))},onMouseUp:function(a){var b=this;0===a.button&&(b.pressed||b.removeClsWithUI(b.pressedCls))},onMenuShow:function(){var a=this;a.ignoreNextClick=0,a.addClsWithUI(a.menuActiveCls),a.fireEvent("menushow",a,a.menu)},onMenuHide:function(){var a=this;a.removeClsWithUI(a.menuActiveCls),a.ignoreNextClick=Ext.defer(a.restoreClick,250,a),a.fireEvent("menuhide",a,a.menu),a.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,b){var c=this;return c.menu&&!c.disabled?(c.showMenu(),b.stopEvent(),!1):void 0}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(){var a=this;a.callParent(arguments),a.triggerButtonCls=a.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after",a.menuItems=[]},beginLayout:function(a){this.callParent(arguments),this.clearOverflow(a)},beginLayoutCycle:function(a,b){this.callParent(arguments),b||(this.clearOverflow(a),this.layout.cacheChildItems(a))},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=c.id;return a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}}),a.menuTrigger=new Ext.button.Button({id:d+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+a.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:c.usePlainButtons,ownerCt:c,ownerLayout:b,iconCls:Ext.baseCSSPrefix+a.getOwnerType(c)+"-more-icon",ui:c instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:a.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),a.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(a){var b=this,c=b.layout,d=c.names,e=a.state.boxPlan,f=[null,null];return b.showTrigger(a),"vertical"!==b.layout.direction&&(f[d.heightIndex]=(e.maxSize-b.menuTrigger[d.getHeight]())/2,b.menuTrigger.setPosition.apply(b.menuTrigger,f)),{reservedSpace:b.triggerTotalWidth}},captureChildElements:function(){var a=this,b=a.menuTrigger,c=a.layout.names;b.rendering&&(b.finishRender(),a.triggerTotalWidth=b[c.getWidth]()+b.el.getMargin(c.parallelMargins))},_asLayoutRoot:{isRoot:!0},clearOverflow:function(){var a,b=this,c=b.menuItems,d=0,e=c.length,f=b.layout.owner,g=b._asLayoutRoot;for(f.suspendLayouts(),b.captureChildElements(),b.hideTrigger(),f.resumeLayouts();e>d;d++)a=c[d],a.suspendLayouts(),a.show(),a.resumeLayouts(g);c.length=0},showTrigger:function(a){var b,c,d,e,f=this,g=f.layout,h=g.owner,i=g.names,j=i.x,k=i.width,l=a.state.boxPlan,m=l.targetSize[k],n=a.childItems,o=n.length,p=f.menuTrigger;for(p.suspendLayouts(),p.show(),p.resumeLayouts(f._asLayoutRoot),m-=f.triggerTotalWidth,h.suspendLayouts(),f.menuItems.length=0,d=0;o>d;d++)b=n[d],e=b.props,e[j]+e[k]>m&&(c=b.target,f.menuItems.push(c),c.hide());h.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;a&&a.hide()},beforeMenuShow:function(a){var b,c,d=this,e=d.menuItems,f=0,g=e.length,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};for(a.suspendLayouts(),d.clearMenu(),a.removeAll();g>f;f++)b=e[f],!f&&b instanceof Ext.toolbar.Separator||(c&&(h(b,c)||h(c,b))&&a.add("-"),d.addComponentToMenu(a,b),c=b);a.items.length<1&&a.add(d.noItemsMenuText),a.resumeLayouts()},createMenuConfig:function(a,b){var c=this,d=Ext.apply({},a.initialConfig),e=a.toggleGroup;return Ext.copyTo(d,a,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.apply(d,{text:a.overflowText||a.text,hideOnClick:b,destroyMenu:!1,listeners:{}}),a.isFormField?(d.value=a.getValue(),d.listeners.change=function(b,c){a.setValue(c)}):(e||a.enableToggle)&&Ext.apply(d,{hideOnClick:!1,group:e,checked:a.pressed,handler:function(b,c){a.onClick(c)}}),a.isButton&&!a.changeListenersAdded&&(a.on({textchange:c.onButtonAttrChange,iconchange:c.onButtonAttrChange,toggle:c.onButtonToggle}),a.changeListenersAdded=!0),delete d.margin,delete d.ownerCt,delete d.xtype,delete d.id,delete d.itemId,d},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts(),b.setText(a.text),b.setIcon(a.icon),b.setIconCls(a.iconCls),b.resumeLayouts(!0)},onButtonToggle:function(a,b){a.overflowClone.checked!==b&&a.overflowClone.setChecked(b)},addComponentToMenu:function(a,b){var c,d,e,f=this;if(b instanceof Ext.toolbar.Separator)a.add("-");else if(b.isComponent)if(b.isXType("splitbutton"))b.overflowClone=a.add(f.createMenuConfig(b,!0));else if(b.isXType("button"))b.overflowClone=a.add(f.createMenuConfig(b,!b.menu));else if(b.isXType("buttongroup"))for(d=b.items.items,e=d.length,c=0;e>c;c++)f.addComponentToMenu(a,d[c]);else b.overflowClone=a.add(Ext.create(Ext.getClassName(b),f.createMenuConfig(b)))},clearMenu:function(){var a,b,c,d,e=this.menu;if(e&&e.items)for(a=e.items.items,c=a.length,b=0;c>b;b++)d=a[b],d.setMenu&&d.setMenu(null)},destroy:function(){var a=this.menuTrigger;a&&!this.layout.owner.items.contains(a)&&delete a.ownerCt,Ext.destroy(this.menu,a)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(a,b){var c=this;c.layout=a,Ext.apply(c,b||{}),c.mixins.observable.constructor.call(c),c.addEvents("scroll"),c.scrollPosition=0,c.scrollSize=0},getPrefixConfig:function(){var a,b=this,c=b.layout,d=c.owner;return b.initCSSClasses(),a=Ext.layout.container.Box.prototype.innerCls+" "+b.beforeCtCls,d.plain&&(a+=" "+b.scrollerCls+"-plain"),{cls:a,cn:{id:d.id+c.names.beforeScrollerSuffix,cls:b.scrollerCls+" "+b.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner,d=Ext.layout.container.Box.prototype.innerCls+" "+a.afterCtCls;return c.plain&&(d+=" "+a.scrollerCls+"-plain"),{cls:d,cn:{id:c.id+b.names.afterScrollerSuffix,cls:a.scrollerCls+" "+a.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=this,b=Ext.baseCSSPrefix,c=a.layout,d=c.names,e=d.beforeX,f=d.afterX,g=a.getOwnerType(c.owner);a.beforeCtCls=a.beforeCtCls||b+"box-scroller-"+e,a.afterCtCls=a.afterCtCls||b+"box-scroller-"+f,a.beforeScrollerCls=a.beforeScrollerCls||b+g+"-scroll-"+e,a.afterScrollerCls=a.afterScrollerCls||b+g+"-scroll-"+f},beginLayout:function(a){this.layout;a.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},completeLayout:function(a){var b,c=this,d=a.state.boxPlan,e=c.layout.names;d&&d.tooNarrow&&(b=a.childItems[a.childItems.length-1],c.scrollSize=b.props[e.x]+b.props[e.width],c.updateScrollButtons()),this.callParent(arguments)},finishedLayout:function(a){var b=this,c=b.layout,d=Math.min(b.getMaxScrollPosition(),a.innerCtScrollPos);c.innerCt[c.names.setScrollLeft](d)},handleOverflow:function(){var a=this,b=a.layout.names.getWidth;return a.showScrollers(),{reservedSpace:a.beforeCt[b]()+a.afterCt[b]()}},captureChildElements:function(){var a,b,c,d,e,f,g=this,h=g.layout.owner.el;g.beforeCt||(f="-hover",d="-pressed",c=g.scrollerCls+f,e=g.scrollerCls+d,a=g.beforeScroller=h.getById(g.layout.owner.id+"-before-scroller"),b=g.afterScroller=h.getById(g.layout.owner.id+"-after-scroller"),g.beforeCt=a.up(""),g.afterCt=b.up(""),g.createWheelListener(),a.addClsOnOver(c),a.addClsOnOver(g.beforeScrollerCls+f),a.addClsOnClick(e),a.addClsOnClick(g.beforeScrollerCls+d),b.addClsOnOver(c),b.addClsOnOver(g.afterScrollerCls+f),b.addClsOnClick(e),b.addClsOnClick(g.afterScrollerCls+d),a.setVisibilityMode(Ext.Element.DISPLAY),b.setVisibilityMode(Ext.Element.DISPLAY),g.beforeRepeater=new Ext.util.ClickRepeater(a,{interval:g.scrollRepeatInterval,handler:g.scrollLeft,scope:g}),g.afterRepeater=new Ext.util.ClickRepeater(b,{interval:g.scrollRepeatInterval,handler:g.scrollRight,scope:g}))},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,!1)},stopEvent:!0})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements(),a.beforeScroller.show(),a.afterScroller.show(),a.layout.owner.addClsWithUI("vertical"===a.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this;void 0!==a.beforeScroller&&(a.beforeScroller.hide(),a.afterScroller.hide(),a.layout.owner.removeClsWithUI("vertical"===a.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a,b,c,d,e,f=this,g="-disabled";null!=f.beforeScroller&&null!=f.afterScroller&&(a=f.atExtremeBefore()?"addCls":"removeCls",b=f.atExtremeAfter()?"addCls":"removeCls",e=f.scrollerCls+g,c=[e,f.beforeScrollerCls+g],d=[e,f.afterScrollerCls+g],f.beforeScroller[a](c),f.afterScroller[b](d),f.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var a,b=this,c=b.layout;return a=isNaN(b.scrollPosition)?c.innerCt[c.names.getScrollLeft]():b.scrollPosition},getMaxScrollPosition:function(){var a=this,b=a.layout,c=a.scrollSize-b.innerCt[b.names.getWidth]();return 0>c?0:c},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var c=this,d=c.layout,e=d.names,f=c.getScrollPosition(),g=Ext.Number.constrain(a,0,c.getMaxScrollPosition());g==f||c.scrolling||(c.scrollPosition=0/0,void 0===b&&(b=c.animateScroll),d.innerCt[e.scrollTo](e.beforeScrollX,g,b?c.getScrollAnim():!1),b?c.scrolling=!0:c.updateScrollButtons(),c.fireEvent("scroll",c,g,b?c.getScrollAnim():!1))},scrollToItem:function(a,b){var c,d,e,f=this,g=f.layout,h=g.owner,i=g.names;a=f.getItem(a),void 0!==a&&(a==h.items.first()?e=0:a===h.items.last()?e=f.getMaxScrollPosition():(c=f.getItemVisibility(a),c.fullyVisible||(d=a.getBox(!1,!0),e=d[i.x],c.hiddenEnd&&(e-=f.layout.innerCt[i.getWidth]()-d[i.width]))),void 0!==e&&f.scrollTo(e,b))},getItemVisibility:function(a){var b=this,c=b.getItem(a).getBox(!0,!0),d=b.layout,e=d.names,f=c[e.x],g=f+c[e.width],h=b.getScrollPosition(),i=h+d.innerCt[e.getWidth]();return{hiddenStart:h>f,hiddenEnd:g>i,fullyVisible:f>h&&i>g}}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){return this.x=null==a||isNaN(a)?0:a,this.y=null==b||isNaN(b)?0:b,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x,this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(a){if(isNaN(a))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var b=Math.pow(10,a);this.x=Math.round(this.x*b)/b,this.y=Math.round(this.y*b)/b}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){var e=this;e.y=e.top=e[1]=a,e.right=b,e.bottom=c,e.x=e.left=e[0]=d},contains:function(a){var b=this;return a.x>=b.x&&a.right<=b.right&&a.y>=b.y&&a.bottom<=b.bottom},intersect:function(a){var b=this,c=Math.max(b.y,a.y),d=Math.min(b.right,a.right),e=Math.min(b.bottom,a.bottom),f=Math.max(b.x,a.x);return e>c&&d>f?new this.self(c,d,e,f):!1},union:function(a){var b=this,c=Math.min(b.y,a.y),d=Math.max(b.right,a.right),e=Math.max(b.bottom,a.bottom),f=Math.min(b.x,a.x);return new this.self(c,d,e,f)},constrainTo:function(a){var b=this,c=Ext.Number.constrain;return b.top=b.y=c(b.top,a.y,a.bottom),b.bottom=c(b.bottom,a.y,a.bottom),b.left=b.x=c(b.left,a.x,a.right),b.right=c(b.right,a.x,a.right),b},adjust:function(a,b,c,d){var e=this;return e.top=e.y+=a,e.left=e.x+=d,e.right+=b,e.bottom+=c,e},getOutOfBoundOffset:function(a,b){if(Ext.isObject(a)){b=a;var c=new Ext.util.Offset;return c.x=this.getOutOfBoundOffsetX(b.x),c.y=this.getOutOfBoundOffsetY(b.y),c}return"x"==a?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b)},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(a,b){return Ext.isObject(a)?(b=a,this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)):"x"==a?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){var d;return c=b,b=a,d=b.copy?b.copy():{x:b.x,y:b.y},d.x=this.restrictX(b.x,c),d.y=this.restrictY(b.y,c),d}return"x"==a?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,b){return b||(b=1),a<=this.x?a-=(a-this.x)*b:a>=this.right&&(a-=(a-this.right)*b),a},restrictY:function(a,b){return b||(b=1),a<=this.y?a-=(a-this.y)*b:a>=this.bottom&&(a-=(a-this.bottom)*b),a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){var b=this;return b.top=b.y=b[1]=a.y,b.right=a.right,b.bottom=a.bottom,b.left=b.x=b[0]=a.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){1==arguments.length&&(b=a.y,a=a.x);var c=this;return c.top=c.y+=b,c.right+=a,c.bottom+=b,c.left=c.x+=a,c},round:function(){var a=this;return a.top=a.y=Math.round(a.y),a.right=Math.round(a.right),a.bottom=Math.round(a.bottom),a.left=a.x=Math.round(a.x),a},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(a,b){var c,d,e;for(c in this.ids)for(d in this.ids[c])e=this.ids[c][d],this.isTypeOfDD(e)&&e[a].apply(e,b)},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,!0),a.on(document,"mousemove",this.handleMouseMove,this,!0),a.on(window,"unload",this._onUnload,this,!0),a.on(window,"resize",this._onResize,this,!0)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init(),this.ids[b]||(this.ids[b]={}),this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a){for(var b in a.groups)b&&this.ids[b]&&this.ids[b][a.id]&&delete this.ids[b][a.id];delete this.handleIds[a.id]},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={}),this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,b){var c,d,e,f=[];for(c in a.groups)for(d in this.ids[c])e=this.ids[c][d],this.isTypeOfDD(e)&&(!b||e.isTarget)&&(f[f.length]=e);return f},isLegalTarget:function(a,b){var c,d,e=this.getRelated(a,!0);for(c=0,d=e.length;d>c;++c)if(e[c].id==b.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){var b,c;for(b in this.ids)if(c=this.ids[b][a],c instanceof Ext.dd.DDTarget)return c;return null},handleMouseDown:function(a,b){var c,d=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),d.dragCurrent&&d.handleMouseUp(a),d.currentTarget=a.getTarget(),d.dragCurrent=b,c=b.getEl(),Ext.isIE9m&&c.setCapture&&c.setCapture(),d.startX=a.getPageX(),d.startY=a.getPageY(),d.deltaX=d.startX-c.offsetLeft,d.deltaY=d.startY-c.offsetTop,d.dragThreshMet=!1,d.clickTimeout=setTimeout(function(){d.startDrag(d.startX,d.startY)},d.clickTimeThresh)},startDrag:function(a,b){var c,d=this,e=d.dragCurrent;clearTimeout(d.clickTimeout),e&&(e.b4StartDrag(a,b),e.startDrag(a,b),c=e.getDragEl(),c&&Ext.fly(c).addCls(d.dragCls)),d.dragThreshMet=!0},handleMouseUp:function(a){var b=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),b.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(b.clickTimeout),b.dragThreshMet&&b.fireEvents(a,!0),b.stopDrag(a),b.stopEvent(a))},stopEvent:function(a){this.stopPropagation&&a.stopPropagation(),this.preventDefault&&a.preventDefault()},stopDrag:function(a){var b,c=this,d=c.dragCurrent;d&&(c.dragThreshMet&&(b=d.getDragEl(),b&&Ext.fly(b).removeCls(c.dragCls),d.b4EndDrag(a),d.endDrag(a)),c.dragCurrent.onMouseUp(a)),c.dragCurrent=null,c.dragOvers={}},handleMouseMove:function(a){var b,c,d=this,e=d.dragCurrent;return e?(d.dragThreshMet||(b=Math.abs(d.startX-a.getPageX()),c=Math.abs(d.startY-a.getPageY()),(b>d.clickPixelThresh||c>d.clickPixelThresh)&&d.startDrag(d.startX,d.startY)),d.dragThreshMet&&(e.b4Drag(a),e.onDrag(a),e.moveOnly||d.fireEvents(a,!1)),d.stopEvent(a),!0):!0},fireEvents:function(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=l.dragCurrent,n=a.getPoint(),o=[],p=[],q=[],r=[],s=[],t=[];if(m&&!m.isLocked()){l.notifyOccluded||Ext.supports.PointerEvents&&!Ext.isIE10m&&!Ext.isOpera||m.deltaX<0||m.deltaY<0||(c=m.getDragEl(),d=c.style.top,c.style.top="-10000px",g=a.getXY(),a.target=document.elementFromPoint(g[0],g[1]),c.style.top=d);for(i in l.dragOvers)e=l.dragOvers[i],l.isTypeOfDD(e)&&(l.notifyOccluded?this.isOverTarget(n,e,l.mode)||q.push(e):a.within(e.getEl())||q.push(e),p[i]=!0,delete l.dragOvers[i]);for(k in m.groups)if("string"==typeof k)for(i in l.ids[k])if(e=l.ids[k][i],l.isTypeOfDD(e)&&(f=e.getEl())&&e.isTarget&&!e.isLocked()&&Ext.fly(f).isVisible(!0)&&(e!=m||m.ignoreSelf===!1))if(l.notifyOccluded)-1!==(e.zIndex=l.getZIndex(f))&&(h=!0),o.push(e);else if(a.within(e.getEl())){o.push(e);break}for(h&&Ext.Array.sort(o,l.byZIndex),i=0,j=o.length;j>i&&(e=o[i],!l.isOverTarget(n,e,l.mode)||(b?s.push(e):(p[e.id]?r.push(e):t.push(e),l.dragOvers[e.id]=e),l.notifyOccluded));i++);if(l.mode)q.length&&(m.b4DragOut(a,q),m.onDragOut(a,q)),t.length&&m.onDragEnter(a,t),r.length&&(m.b4DragOver(a,r),m.onDragOver(a,r)),s.length&&(m.b4DragDrop(a,s),m.onDragDrop(a,s));else{for(i=0,j=q.length;j>i;++i)m.b4DragOut(a,q[i].id),m.onDragOut(a,q[i].id);for(i=0,j=t.length;j>i;++i)m.onDragEnter(a,t[i].id);for(i=0,j=r.length;j>i;++i)m.b4DragOver(a,r[i].id),m.onDragOver(a,r[i].id);for(i=0,j=s.length;j>i;++i)m.b4DragDrop(a,s[i].id),m.onDragDrop(a,s[i].id)}b&&!s.length&&m.onInvalidDrop(a)}},getZIndex:function(a){var b,c=document.body,d=-1;for(a=Ext.getDom(a);a!==c;)isNaN(b=Number(Ext.fly(a).getStyle("zIndex")))||(d=b),a=a.parentNode;return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b,c,d=null,e=a.length;if(1==e)d=a[0];else for(b=0;e>b;++b){if(c=a[b],c.cursorIsOver){d=c;break}(!d||d.overlap.getArea()<c.overlap.getArea())&&(d=c)}return d},refreshCache:function(a){var b,c,d,e;for(b in a)if("string"==typeof b)for(c in this.ids[b])d=this.ids[b][c],this.isTypeOfDD(d)&&(e=this.getLocation(d),e?this.locationCache[d.id]=e:delete this.locationCache[d.id])},verifyEl:function(a){if(a){var b;if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return!0}return!1},getLocation:function(a){if(!this.isTypeOfDD(a))return null;if(a.getRegion)return a.getRegion();var b,c,d,e,f,g,h,i,j,k=a.getEl();try{b=Ext.Element.getXY(k)}catch(l){}return b?(c=b[0],d=c+k.offsetWidth,e=b[1],f=e+k.offsetHeight,g=e-a.padding[0],h=d+a.padding[1],i=f+a.padding[2],j=c-a.padding[3],new Ext.util.Region(g,h,i,j)):null},isOverTarget:function(a,b,c){var d,e,f,g,h,i=this.locationCache[b.id];return i&&this.useCache||(i=this.getLocation(b),this.locationCache[b.id]=i),i?(b.cursorIsOver=i.contains(a),d=this.dragCurrent,d&&d.getTargetCoord&&(c||d.constrainX||d.constrainY)?(b.overlap=null,e=d.getTargetCoord(a.x,a.y),f=d.getDragEl(),g=new Ext.util.Region(e.y,e.x+f.offsetWidth,e.y+f.offsetHeight,e.x),h=g.intersect(i),h?(b.overlap=h,c?!0:b.cursorIsOver):!1):b.cursorIsOver):!1},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];return b&&b.el||(b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))),b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){var b=Ext.getDom(a);return b?b.style:null},ElementWrapper:function(a){this.el=a||null,this.id=this.el&&a.id,this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d==a?c.insertBefore(a,b):b==a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},getScroll:function(){var a=window.document,b=a.documentElement,c=a.body,d=0,e=0;return Ext.isGecko4?(d=window.scrollYOffset,e=window.scrollXOffset):b&&(b.scrollTop||b.scrollLeft)?(d=b.scrollTop,e=b.scrollLeft):c&&(d=c.scrollTop,e=c.scrollLeft),{top:d,left:e}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.Element.getXY(b);Ext.Element.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return!0;for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return!0;c=c.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(){var a,b=this;b.callParent(arguments),b.flexSortFn=Ext.Function.bind(b.flexSort,b),b.initOverflowHandler(),a=typeof b.padding,("string"==a||"number"==a)&&(b.padding=Ext.util.Format.parseBox(b.padding),b.padding.height=b.padding.top+b.padding.bottom,b.padding.width=b.padding.left+b.padding.right)},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this,d=c.sizePolicy,e=c.align,f=a.flex,g=e,h=c.names,i=a[h.width],j=a[h.height],k=c._percentageRe,l=k.test(i),m="stretch"==e,n="stretchmax"==e,o=c.constrainAlign;return!b&&(m||f||l||o&&!n)&&(b=c.owner.getSizeModel()),m?!k.test(j)&&b[h.height].shrinkWrap&&(g="stretchmax"):n||(g=k.test(j)?"stretch":o&&!b[h.height].shrinkWrap?"stretchmax":""),(f||l)&&(b[h.width].shrinkWrap||(d=d.flex)),d[g]},flexSort:function(a,b){var c,d,e,f,g,h,i=this.names.maxWidth,j=this.names.minWidth,k=1/0,l=a.target,m=b.target,n=0;return e=l[i]||k,f=m[i]||k,c=l[j]||0,d=m[j]||0,g=isFinite(c)||isFinite(d),h=isFinite(e)||isFinite(f),(g||h)&&(h&&(n=e-f),0===n&&g&&(n=d-c)),n},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;"vertical"===b.direction&&a.collapsedVertical()?(a.collapseMemento.capture(["flex"]),delete a.flex):"horizontal"===b.direction&&a.collapsedHorizontal()&&(a.collapseMemento.capture(["flex"]),delete a.flex)},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this,c=b.owner,d=c.stretchMaxPartner,e=b.innerCt.dom.style,f=b.names;a.boxNames=f,b.overflowHandler.beginLayout(a),"string"==typeof d&&(d=Ext.getCmp(d)||c.query(d)[0]),a.stretchMaxPartner=d&&a.context.getCmp(d),b.callParent(arguments),a.innerCtContext=a.getEl("innerCt",b),b.scrollParallel=c.scrollFlags[f.x],b.scrollPerpendicular=c.scrollFlags[f.y],b.scrollParallel&&(b.scrollPos=c.getTargetEl().dom[f.scrollLeft]),e.width="",e.height=""},beginLayoutCycle:function(a,b){var c=this,d=c.align,e=a.boxNames,f=c.pack,g=e.heightModel;c.overflowHandler.beginLayoutCycle(a,b),c.callParent(arguments),a.parallelSizeModel=a[e.widthModel],a.perpendicularSizeModel=a[g],a.boxOptions={align:d={stretch:"stretch"==d,stretchmax:"stretchmax"==d,center:d==e.center,bottom:d==e.afterY},pack:f={center:"center"==f,end:"end"==f}},d.stretch&&a.perpendicularSizeModel.shrinkWrap&&(d.stretchmax=!0,d.stretch=!1),d.nostretch=!(d.stretch||d.stretchmax),a.parallelSizeModel.shrinkWrap&&(f.center=f.end=!1),c.cacheFlexes(a),c.targetEl.setWidth(2e4)
},cacheFlexes:function(a){for(var b,c,d,e,f=this,g=a.boxNames,h=g.widthModel,i=g.heightModel,j=a.boxOptions.align.nostretch,k=0,l=a.childItems,m=l.length,n=[],o=0,p=g.minWidth,q=f._percentageRe,r=0,s=0;m--;)c=l[m],b=c.target,c[h].calculated&&(c.flex=d=b.flex,d?(k+=d,n.push(c),o+=b[p]||0):(e=q.exec(b[g.width]),c.percentageParallel=parseFloat(e[1])/100,++r)),j&&c[i].calculated&&(e=q.exec(b[g.height]),c.percentagePerpendicular=parseFloat(e[1])/100,++s);a.flexedItems=n,a.flexedMinSize=o,a.totalFlex=k,a.percentageWidths=r,a.percentageHeights=s,Ext.Array.sort(n,f.flexSortFn)},calculate:function(a){var b=this,c=b.getContainerSize(a),d=a.boxNames,e=a.state,f=e.boxPlan||(e.boxPlan={}),g=a.targetContext;return f.targetSize=c,a.parallelSizeModel.shrinkWrap||c[d.gotWidth]?(e.parallelDone||(e.parallelDone=b.calculateParallel(a,d,f)),e.perpendicularDone||(e.perpendicularDone=b.calculatePerpendicular(a,d,f)),void(e.parallelDone&&e.perpendicularDone?(!b.owner.dock||!Ext.isIE7m&&!Ext.isIEQuirks||b.owner.width||b.horizontal||(f.isIEVerticalDock=!0,f.calculatedWidth=f.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width,g!==a&&(f.calculatedWidth+=g.getPaddingInfo().width)),b.publishInnerCtSize(a,b.reserveOffset?b.availableSpaceOffset:0),b.done&&(a.childItems.length>1||a.stretchMaxPartner)&&a.boxOptions.align.stretchmax&&!e.stretchMaxDone&&(b.calculateStretchMax(a,d,f),e.stretchMaxDone=!0),b.overflowHandler.calculate(a)):b.done=!1)):void(b.done=!1)},calculateParallel:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=b.width,q=a.childItems,r=b.beforeX,s=b.afterX,t=b.setWidth,u=q.length,v=a.flexedItems,w=v.length,x=a.boxOptions.pack,y=o.padding,z=c.targetSize[p],A=0,B=y[r],C=B+y[s]+o.scrollOffset+(o.reserveOffset?o.availableSpaceOffset:0),D=Ext.getScrollbarSize()[b.width];if(D&&o.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone)return!1;l=!0}for(d=0;u>d;++d)if(h=q[d],e=h.marginInfo||h.getMarginInfo(),A+=e[p],!h[b.widthModel].calculated&&(m=h.getProp(p),C+=m,isNaN(C)))return!1;if(C+=A,a.percentageWidths){if(n=z-A,isNaN(n))return!1;for(d=0;u>d;++d)h=q[d],h.percentageParallel&&(m=Math.ceil(n*h.percentageParallel),m=h.setWidth(m),C+=m)}if(a.parallelSizeModel.shrinkWrap)c.availableSpace=0,c.tooNarrow=!1;else if(c.availableSpace=z-C,c.tooNarrow=c.availableSpace<a.flexedMinSize,c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&o.scrollParallel&&a.state.perpendicularDone)for(a.state.perpendicularDone=!1,d=0;u>d;++d)q[d].invalidate();for(k=C,f=c.availableSpace,g=a.totalFlex,d=0;w>d;d++)h=v[d],i=h.flex,j=o.roundFlex(i/g*f),j=h[t](j),k+=j,f=Math.max(0,f-j),g-=i;for(x.center?(B+=f/2,0>B&&(B=0)):x.end&&(B+=f),d=0;u>d;++d)h=q[d],e=h.marginInfo,B+=e[r],h.setProp(b.x,B),B+=e[s]+h.props[p];return k+=a.targetContext.getPaddingInfo()[p],a.state.contentWidth=k,l&&a.peek(b.contentHeight)>c.targetSize[b.height]&&(k+=D,a[b.hasOverflowY]=!0,a.target.componentLayout[b.setWidthInDom]=!0,a[b.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),a[b.setContentWidth](k),!0},calculatePerpendicular:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=a.perpendicularSizeModel.shrinkWrap,q=c.targetSize,r=a.childItems,s=r.length,t=Math.max,u=b.height,v=b.setHeight,w=b.beforeY,x=b.y,y=o.padding,z=y[w],A=q[u]-z-y[b.afterY],B=a.boxOptions.align,C=B.stretch,D=B.stretchmax,E=B.center,F=B.bottom,G=o.constrainAlign,H=0,I=0,J=o.onBeforeConstrainInvalidateChild,K=o.onAfterConstrainInvalidateChild,L=Ext.getScrollbarSize().height;if((C||(E||F)&&!p)&&isNaN(A))return!1;if(o.scrollParallel&&c.tooNarrow&&(p?m=!0:(A-=L,c.targetSize[u]-=L)),C)i=A;else{for(e=0;s>e;e++){if(j=r[e],g=(j.marginInfo||j.getMarginInfo())[u],n=j.percentagePerpendicular){if(++I,p)continue;f=n*A-g,f=j[b.setHeight](f)}else f=j.getProp(u);if(!p&&G&&j[b.heightModel].shrinkWrap&&f>A&&(j.invalidate({before:J,after:K,layout:o,childHeight:A,names:b}),a.state.parallelDone=!1),isNaN(H=t(H,f+g,j.target[b.minHeight]||0)))return!1}if(m&&(H+=L,a[b.hasOverflowX]=!0,a.target.componentLayout[b.setHeightInDom]=!0,a[b.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),k=a.stretchMaxPartner,k&&(a.setProp("maxChildHeight",H),l=k.childItems,l&&l.length&&(H=t(H,k.getProp("maxChildHeight")),isNaN(H))))return!1;a[b.setContentHeight](H+o.padding[u]+a.targetContext.getPaddingInfo()[u]),m&&(H-=L),c.maxSize=H,D?i=H:(E||F||I)&&(i=G?p?H:A:p?H:t(A,H),i-=a.innerCtContext.getBorderInfo()[u])}for(e=0;s>e;e++)j=r[e],g=j.marginInfo||j.getMarginInfo(),d=z+g[w],C?j[v](i-g[u]):(n=j.percentagePerpendicular,p&&n&&(g=j.marginInfo||j.getMarginInfo(),f=n*i-g[u],f=j.setHeight(f)),E?(h=i-j.props[u],h>0&&(d=z+Math[o.alignRoundingMethod](h/2))):F&&(d=t(0,i-d-j.props[u]))),j.setProp(x,d);return!0},onBeforeConstrainInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(a,b){var c=b.names;a.setProp(c.beforeY,0),a[c.heightModel].calculated&&a[c.setHeight](b.childHeight)},calculateStretchMax:function(a,b,c){var d,e,f,g,h=this,i=b.height,j=b.width,k=a.childItems,l=k.length,m=c.maxSize,n=h.onBeforeStretchMaxInvalidateChild,o=h.onAfterStretchMaxInvalidateChild;for(f=0;l>f;++f)d=k[f],e=d.props,g=m-d.getMarginInfo()[i],(g!=e[i]||d[b.heightModel].constrained)&&d.invalidate({before:n,after:o,layout:h,childWidth:e[j],childHeight:g,childX:e.x,childY:e.y,names:b})},onBeforeStretchMaxInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMax||(a[c]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX),a.setProp("y",b.childY),a[c.heightModel].calculated&&a[c.setHeight](d),a[c.widthModel].calculated&&a[c.setWidth](e)},completeLayout:function(a){var b,c,d,e,f,g=this,h=a.boxNames,i=a.invalidateScrollX,j=a.invalidateScrollY;g.overflowHandler.completeLayout(a),(i||j)&&(c=g.getTarget(),b=c.dom,f=b.style,i&&(d=c.getStyle("overflowX"),"auto"==d?(d=f.overflowX,f.overflowX="scroll"):i=!1),j&&(e=c.getStyle("overflowY"),"auto"==e?(e=f.overflowY,f.overflowY="scroll"):j=!1),(i||j)&&(b.scrollWidth,i&&(f.overflowX=d),j&&(f.overflowY=e))),g.scrollParallel&&(g.owner.getTargetEl().dom[h.scrollLeft]=g.scrollPos)},finishedLayout:function(a){this.overflowHandler.finishedLayout(a),this.callParent(arguments),this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(a,b){var c,d=this,e=a.boxNames,f=e.height,g=e.width,h=a.boxOptions.align,i=d.owner.dock,j=d.padding,k=a.state.boxPlan,l=k.targetSize,m=l[f],n=a.innerCtContext,o=(a.parallelSizeModel.shrinkWrap||k.tooNarrow&&d.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[g]:l[g])-(b||0);h.stretch?c=m:(c=k.maxSize+j[e.beforeY]+j[e.afterY]+n.getBorderInfo()[f],a.perpendicularSizeModel.shrinkWrap||!h.center&&!h.bottom||(c=Math.max(m,c))),n[e.setWidth](o),n[e.setHeight](c),isNaN(o+c)&&(d.done=!1),!k.calculatedWidth||"left"!=i&&"right"!=i||a.setWidth(k.calculatedWidth,!0,!0)},onRemove:function(a){var b=this;b.callParent(arguments),b.overflowHandler&&b.overflowHandler.onRemove(a),a.layoutMarginCap==b.id&&delete a.layoutMarginCap},initOverflowHandler:function(){var a,b,c=this,d=c.overflowHandler;"string"==typeof d&&(d={type:d}),a="None",d&&void 0!==d.type&&(a=d.type),b=Ext.layout.container.boxOverflow[a],b[c.type]&&(b=b[c.type]),c.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+a,c,d)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)},getRenderData:function(){var a=this.callParent();return a.targetElCls=this.targetElCls,a}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this;!a.layout&&a.enableOverflow&&(a.layout={overflowHandler:"Menu"}),("right"===a.dock||"left"===a.dock)&&(a.vertical=!0),a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"}),a.vertical&&a.addClsWithUI("vertical"),"footer"===a.ui&&(a.ignoreBorderManagement=!0),a.callParent(),a.addEvents("overflowchange")},getRefItems:function(a){var b,c=this,d=c.callParent(arguments),e=c.layout;return a&&c.enableOverflow&&(b=e.overflowHandler,b&&b.menu&&(d=d.concat(b.menu.getRefItems(a)))),d},lookupComponent:function(a){var b=arguments;if("string"==typeof a){var c=Ext.toolbar.Toolbar,d=c.shortcutsHV[this.vertical?1:0][a]||c.shortcuts[a];a="string"==typeof d?{xtype:d}:d?Ext.apply({},d):{xtype:"tbtext",text:a},this.applyDefaults(a),b=[a]}return this.callParent(b)},applyDefaults:function(a){return Ext.isString(a)||(a=this.callParent(arguments)),a},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon",d=this;d[c](a,"mouseover",d.onButtonOver,d),d[c](a,"menushow",d.onButtonMenuShow,d),d[c](a,"menuhide",d.onButtonMenuHide,d)}},onBeforeAdd:function(a){var b=this,c=a.isButton;c&&b.defaultButtonUI&&"default"===a.ui&&!a.hasOwnProperty("ui")?a.ui=b.defaultButtonUI:(c||a.isFormField)&&"footer"!==b.ui&&(a.ui=a.ui+"-toolbar",a.addCls(a.baseCls+"-toolbar")),a instanceof Ext.toolbar.Separator&&a.setUI(b.vertical?"vertical":"horizontal"),b.callParent(arguments)},onAdd:function(a){this.callParent(arguments),this.trackMenu(a)},onRemove:function(a){this.callParent(arguments),this.trackMenu(a,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){this.activeMenuBtn&&this.activeMenuBtn!=a&&(this.activeMenuBtn.hideMenu(),a.showMenu(),this.activeMenuBtn=a)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}}),Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",mixins:{docking:"Ext.container.DockingContainer"},requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps(),this.callParent()},initBorderProps:function(){var a=this;a.frame&&a.border&&void 0===a.bodyBorder&&(a.bodyBorder=!1),a.frame&&a.border&&(a.bodyBorder===!1||0===a.bodyBorder)&&(a.manageBodyBorders=!0)},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();return a.initBodyStyles(),a.protoBody.writeTo(b),delete a.protoBody,b},getComponent:function(a){var b=this.callParent(arguments);return void 0!==b||Ext.isNumber(a)||(b=this.getDockedComponent(a)),b},getProtoBody:function(){var a=this,b=a.protoBody;return b||(a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),b},initBodyStyles:function(){var a=this,b=a.getProtoBody();void 0!==a.bodyPadding&&(a.layout.managePadding?b.setStyle("padding",0):b.setStyle("padding",this.unitizeBox(a.bodyPadding===!0?5:a.bodyPadding))),a.initBodyBorder()},initBodyBorder:function(){var a=this;a.frame&&a.bodyBorder&&(Ext.isNumber(a.bodyBorder)||(a.bodyBorder=1),a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder)))},getCollapsedDockedItems:function(){var a=this;return a.header===!1||"placeholder"==a.collapseMode?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(a,b){var c=this,d=c.rendered?c.body:c.getProtoBody();return Ext.isFunction(a)&&(a=a()),1==arguments.length?(Ext.isString(a)&&(a=Ext.Element.parseStyles(a)),d.setStyle(a)):d.setStyle(a,b),c},addBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();return c.addCls(a),b},removeBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();return c.removeCls(a),b},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments);return b.addBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]),c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments);return b.removeBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]),c},addUIToElement:function(){var a=this;a.callParent(arguments),a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments),a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments),this.setupDockingRenderTpl(a)}}),Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.util.CSS","Ext.layout.component.Body","Ext.Img"],alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var a=this,b=a.hasOwnProperty("titlePosition"),c=a.items,d=b?a.titlePosition:c?c.length:0,e=[a.orientation,a.getDockName()],f=a.ownerCt;a.addEvents("click","dblclick"),a.indicateDragCls=a.headerCls+"-draggable",a.title=a.title||"&#160;",a.tools=a.tools||[],c=a.items=c?Ext.Array.slice(c):[],a.orientation=a.orientation||"horizontal",a.dock=a.dock?a.dock:"horizontal"==a.orientation?"top":"left",(f?f.border||f.frame:a.border)||e.push(a.orientation+"-noborder"),a.addClsWithUI(e),a.addCls([a.headerCls,a.headerCls+"-"+a.orientation]),a.indicateDrag&&a.addCls(a.indicateDragCls),(a.iconCls||a.icon||a.glyph)&&(a.initIconCmp(),b||c.length||++d,c.push(a.iconCmp)),a.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,rtl:a.rtl,id:a.id+"_hd",style:a.titleAlign?"text-align:"+a.titleAlign:"",cls:a.headerCls+"-text-container "+a.baseCls+"-text-container "+a.baseCls+"-text-container-"+a.ui,renderTpl:a.getTpl("headingTpl"),renderData:{title:a.title,cls:a.baseCls,headerCls:a.headerCls,ui:a.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:a.onTitleRender,scope:a}}),a.layout="vertical"==a.orientation?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},Ext.Array.push(c,a.tools),a.tools.length=0,a.callParent(),c.length<d&&(d=c.length),a.titlePosition=d,a.insert(d,a.titleCmp),a.on({dblclick:a.onDblClick,click:a.onClick,element:"el",scope:a})},initIconCmp:function(){var a,b=this,c=[b.headerCls+"-icon",b.baseCls+"-icon",b.iconCls];b.glyph&&c.push(b.baseCls+"-glyph"),a={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:c,baseCls:b.baseCls+"-icon",id:b.id+"-iconEl",iconCls:b.iconCls,glyph:b.glyph},Ext.isEmpty(b.icon)||(delete a.iconCls,a.src=b.icon),b.iconCmp=new Ext.Img(a)},beforeRender:function(){this.protoEl.unselectable(),this.callParent()},afterLayout:function(){var a,b,c,d,e=this;"vertical"===e.orientation&&(e.adjustTitlePosition(),b=e.frameTR,b&&(a=e.frameBR,c=e.frameTL,d=e.getWidth()-b.getPadding("r")-(c?c.getPadding("l"):e.el.getBorderWidth("l"))+"px",a.setStyle("background-position-x",d),b.setStyle("background-position-x",d)),Ext.isIE7&&Ext.isStrict&&e.frame&&e.el.repaint())},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var a,b=this.titleCmp;!Ext.isIE9m&&b&&(a=b.el,a.setStyle("left",a.getWidth()+"px"))},onTitleRender:function(){"vertical"===this.orientation&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(a){var b,c,d=this,e=d.callParent(arguments),f=[d.baseCls+"-body-"+a,d.baseCls+"-body-"+d.ui+"-"+a];if(d.bodyCls){for(b=d.bodyCls.split(" "),c=0;c<f.length;c++)Ext.Array.contains(b,f[c])||b.push(f[c]);d.bodyCls=b.join(" ")}else d.bodyCls=f.join(" ");return e},removeUIClsFromElement:function(a){var b,c,d=this,e=d.callParent(arguments),f=[d.baseCls+"-body-"+a,d.baseCls+"-body-"+d.ui+"-"+a];if(d.bodyCls){for(b=d.bodyCls.split(" "),c=0;c<f.length;c++)Ext.Array.remove(b,f[c]);d.bodyCls=b.join(" ")}return e},addUIToElement:function(){var a,b,c=this;c.callParent(arguments),b=c.baseCls+"-body-"+c.ui,c.rendered?c.body.addCls(c.bodyCls?c.bodyCls:b):c.bodyCls?(a=c.bodyCls.split(" "),Ext.Array.contains(a,b)||a.push(b),c.bodyCls=a.join(" ")):c.bodyCls=b,c.titleCmp&&c.titleCmp.rendered&&c.titleCmp.addCls(c.baseCls+"-text-container-"+c.ui)},removeUIFromElement:function(){var a,b,c=this;c.callParent(arguments),b=c.baseCls+"-body-"+c.ui,c.rendered?c.body.removeCls(c.bodyCls?c.bodyCls:b):c.bodyCls?(a=c.bodyCls.split(" "),Ext.Array.remove(a,b),c.bodyCls=a.join(" ")):c.bodyCls=b,c.titleCmp&&c.titleCmp.rendered&&c.titleCmp.removeCls(c.baseCls+"-text-container-"+c.ui)},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,b){var c="."+Ext.panel.Tool.prototype.baseCls;b.getTarget(c)||this.fireEvent(a,this,b)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(a){var b=this,c=b.titleCmp;b.title=a,c.rendered?(c.textEl.update(b.title||"&#160;"),c.updateLayout()):b.titleCmp.on({render:function(){b.setTitle(a)},single:!0})},getMinWidth:function(){var a,b,c,d=this,e=d.titleCmp.textEl.dom,f=d.tools;if(e.style.display="inline",a=e.offsetWidth,e.style.display="",f&&(b=f.length))for(c=0;b>c;c++)f[c].el&&(a+=f[c].el.dom.offsetWidth);return d.iconCmp&&(a+=d.iconCmp.el.dom.offsetWidth),a+10},setIconCls:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.iconCls=a,b.iconCmp||c?d&&(c?(b.iconCmp.destroy(),delete b.iconCmp):(d.removeCls(d.iconCls),d.addCls(a),d.iconCls=a)):(b.initIconCmp(),b.insert(0,b.iconCmp))},setIcon:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.icon=a,b.iconCmp||c?d&&(c?(b.iconCmp.destroy(),delete b.iconCmp):d.setSrc(b.icon)):(b.initIconCmp(),b.insert(0,b.iconCmp))},setGlyph:function(a){var b=this,c=b.iconCmp;b.iconCmp?c&&(a?b.iconCmp.setGlyph(a):(b.iconCmp.destroy(),delete b.iconCmp)):(b.initIconCmp(),b.insert(0,b.iconCmp))},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},syncBeforeAfterTitleClasses:function(){var a,b,c,d,e=this,f=e.items,g=f.items,h=e.titlePosition,i=g.length,j=f.generation,k=e.syncBeforeAfterGen;if(k!==j)for(e.syncBeforeAfterGen=j,c=0;i>c;++c)d=g[c],a=d.afterTitleCls||(d.afterTitleCls=d.baseCls+"-after-title"),b=d.beforeTitleCls||(d.beforeTitleCls=d.baseCls+"-before-title"),!e.title||h>c?(k&&d.removeCls(a),d.addCls(b)):c>h&&(k&&d.removeCls(b),d.addCls(a))},onAdd:function(a){var b=this.tools;this.callParent(arguments),a.isTool&&(b.push(a),b[a.type]=a)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var a=this,b=a.callParent(),c=a.ownerCt;return(!a.expanding&&c&&c.collapsed||a.isCollapsedExpander)&&(b+="-"+c.collapsedCls),b+"-"+a.dock}}),Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b){Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b}),b=b||this.defaultPadding;var c,d,e,f,g=Ext.get(this.getEl()).getBox(),h=Ext.get(a),i=h.getScroll(),j=h.dom;j==document.body?c={x:i.left,y:i.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:(d=h.getXY(),c={x:d[0],y:d[1],width:j.clientWidth,height:j.clientHeight}),e=g.y-c.y,f=g.x-c.x,this.resetConstraints(),this.setXConstraint(f-(b.left||0),c.width-f-g.width-(b.right||0),this.xTickSize),this.setYConstraint(e-(b.top||0),c.height-e-g.height-(b.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.initTarget(a,b,c),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof a&&(a=Ext.id(a)),this.id=a,this.addToGroup(b?b:"default"),this.handleElId=a,this.setDragElId(a),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(a,b,c,d){this.padding=b||0===b?c||0===c?[a,b,c,d]:[a,b,a,b]:[a,a,a,a]},setInitPosition:function(a,b){var c,d,e,f=this.getEl();this.DDMInstance.verifyEl(f)&&(c=a||0,d=b||0,e=Ext.Element.getXY(f),this.initPageX=e[0]-c,this.initPageY=e[1]-d,this.lastPageX=e[0],this.lastPageY=e[1],this.setStartPosition(e))},setStartPosition:function(a){var b=a||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=b[0],this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=!0,this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a],this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.handleElId=a,this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this),this.setHandleElId(a),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a){var b=this;b.primaryButtonOnly&&0!=a.button||b.isLocked()||(b.DDMInstance.refreshCache(b.groups),(b.hasOuterHandles||b.DDMInstance.isOverTarget(a.getPoint(),b))&&b.clickValidator(a)&&(b.setStartPosition(),b.b4MouseDown(a),b.onMouseDown(a),b.DDMInstance.handleMouseDown(a,b),b.DDMInstance.stopEvent(a)))},clickValidator:function(a){var b=a.getTarget();return this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(b,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;c>b;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b,c,d,e=!0;try{b=a.nodeName.toUpperCase()}catch(f){b=a.nodeName}for(e=e&&!this.invalidHandleTypes[b],e=e&&!this.invalidHandleIds[a.id],c=0,d=this.invalidHandleClasses.length;e&&d>c;++c)e=!Ext.fly(a).hasCls(this.invalidHandleClasses[c]);return e},setXTicks:function(a,b){this.xTicks=[],this.xTickSize=b;var c,d={};for(c=this.initPageX;c>=this.minX;c-=b)d[c]||(this.xTicks[this.xTicks.length]=c,d[c]=!0);for(c=this.initPageX;c<=this.maxX;c+=b)d[c]||(this.xTicks[this.xTicks.length]=c,d[c]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[],this.yTickSize=b;var c,d={};for(c=this.initPageY;c>=this.minY;c-=b)d[c]||(this.yTicks[this.yTicks.length]=c,d[c]=!0);for(c=this.initPageY;c<=this.maxY;c+=b)d[c]||(this.yTicks[this.yTicks.length]=c,d[c]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a,this.rightConstraint=b,this.minX=this.initPageX-a,this.maxX=this.initPageX+b,c&&this.setXTicks(this.initPageX,c),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a,this.bottomConstraint=b,this.minY=this.initPageY-a,this.maxY=this.initPageY+b,c&&this.setYTicks(this.initPageY,c),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];var c,d,e,f,g;for(c=0,d=b.length;d>c;++c)if(e=c+1,b[e]&&b[e]>=a)return f=a-b[c],g=b[e]-a,g>f?b[c]:b[e];return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:!0,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a,this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var d,e,f,g,h=this.getTargetCoord(b,c),i=a.dom?a:Ext.fly(a,"_dd"),j=i.getSize(),k=Ext.Element;return this.deltaSetXY?(d=this.cachedViewportSize,this.setLocalXY(i,Math.max(0,Math.min(h.x+this.deltaSetXY[0],d.width-j.width)),Math.max(0,Math.min(h.y+this.deltaSetXY[1],d.height-j.height)))):(d=this.cachedViewportSize={width:k.getDocumentWidth(),height:k.getDocumentHeight()},e=[Math.max(0,Math.min(h.x,d.width-j.width)),Math.max(0,Math.min(h.y,d.height-j.height))],i.setXY(e),f=this.getLocalX(i),g=i.getLocalY(),this.deltaSetXY=[f-h.x,g-h.y]),this.cachePosition(h.x,h.y),this.autoScroll(h.x,h.y,a.offsetHeight,a.offsetWidth),h},cachePosition:function(a,b){if(a)this.lastPageX=a,this.lastPageY=b;else{var c=Ext.Element.getXY(this.getEl());this.lastPageX=c[0],this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewHeight(),f=Ext.Element.getViewWidth(),g=this.DDMInstance.getScrollTop(),h=this.DDMInstance.getScrollLeft(),i=c+b,j=d+a,k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=40,n=document.all?80:30;
i>e&&m>k&&window.scrollTo(h,g+n),g>b&&g>0&&m>b-g&&window.scrollTo(h,g-n),j>f&&m>l&&window.scrollTo(h+n,g),h>a&&h>0&&m>a-h&&window.scrollTo(h-n,g)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;return this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX)),this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY)),c=this.getTick(c,this.xTicks),d=this.getTick(d,this.yTicks),{x:c,y:d}},applyConfig:function(){this.callParent(),this.scroll=this.config.scroll!==!1},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}}),Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){a&&(this.init(a,b,c),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var a,b,c=this,d=document.body;return d&&d.firstChild?(a=this.getDragEl(),void(a||(a=document.createElement("div"),a.id=this.dragElId,b=a.style,b.position="absolute",b.visibility="hidden",b.cursor="move",b.border="2px solid #aaa",b.zIndex=999,d.insertBefore(a,d.firstChild)))):void setTimeout(function(){c.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=(this.getEl(),this.getDragEl()),d=c.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2)),this.setDragElPos(a,b),Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c),this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="",this.beforeMove(),a.style.visibility="hidden",Ext.dd.DDM.moveToEl(a,b),b.style.visibility="hidden",a.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(a){var b=this;a=a||{},Ext.apply(b,{hideMode:"visibility",hidden:!0,floating:!0,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()}),b.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed,this.dropStatus!=a&&(this.el.replaceCls(this.dropStatus,a),this.dropStatus=a)},reset:function(a){var b=this,c=Ext.baseCSSPrefix+"dd-drag-proxy ";b.el.replaceCls(c+b.dropAllowed,c+b.dropNotAllowed),b.dropStatus=b.dropNotAllowed,a&&b.ghost.update("")},update:function(a){"string"==typeof a?this.ghost.update(a):(this.ghost.update(""),a.style.margin="0",this.ghost.dom.appendChild(a));var b=this.ghost.dom.firstChild;b&&Ext.fly(b).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent(),a&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(a,b,c){var d=this;d.callback=b,d.scope=c,a&&d.animRepair!==!1?(d.el.addCls(d.repairCls),d.el.hideUnders(!0),d.anim=d.el.animate({duration:d.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:!0,callback:d.afterRepair,scope:d})):d.afterRepair()},afterRepair:function(){var a=this;a.hide(!0),a.el.removeCls(a.repairCls),"function"==typeof a.callback&&a.callback.call(a.scope||a),delete a.callback,delete a.scope}}),Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a),this.dragData||(this.dragData={}),Ext.apply(this,b),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}]),this.dragging=!1},getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c,d=Ext.dd.DragDropManager.getDDById(b);this.cachedTarget=d,this.beforeDragEnter(d,a,b)!==!1&&(d.isNotifyTarget?(c=d.notifyEnter(this,a,this.dragData),this.proxy.setStatus(c)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(d,a,b))},beforeDragEnter:function(){return!0},onDragOver:function(a,b){var c,d=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);this.beforeDragOver(d,a,b)!==!1&&(d.isNotifyTarget&&(c=d.notifyOver(this,a,this.dragData),this.proxy.setStatus(c)),this.afterDragOver&&this.afterDragOver(d,a,b))},beforeDragOver:function(){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);this.beforeDragOut(c,a,b)!==!1&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(c,a,b)),this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);this.beforeDragDrop(c,a,b)!==!1&&(c.isNotifyTarget?c.notifyDrop(this,a,this.dragData)!==!1?this.onValidDrop(c,a,b):this.onInvalidDrop(c,a,b):this.onValidDrop(c,a,b),this.afterDragDrop&&this.afterDragDrop(c,a,b)),delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(a,b,c){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(a,b,c){var d=this;b||(b=a,a=null,c=b.getTarget().id),d.beforeInvalidDrop(a,b,c)!==!1&&(d.cachedTarget&&(d.cachedTarget.isNotifyTarget&&d.cachedTarget.notifyOut(d,b,d.dragData),d.cacheTarget=null),d.proxy.repair(d.getRepairXY(b,d.dragData),d.afterRepair,d),d.afterInvalidDrop&&d.afterInvalidDrop(b,c))},afterRepair:function(){var a=this;Ext.enableFx&&a.el.highlight(a.repairHighlightColor),a.dragging=!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);b&&this.onBeforeDrag(b,a)!==!1&&(this.dragData=b,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(a,b),this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);return c.id=Ext.id(),this.proxy.update(c),this.onStartDrag(a,b),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){var c=this;c.panel=a,c.id=c.panel.id+"-ddproxy",Ext.apply(c,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;a.ghost&&(a.proxy&&(a.proxy.remove(),delete a.proxy),a.panel.unghost(null,a.moveOnDrag),delete a.ghost)},show:function(){var a,b=this;b.ghost||(a=b.panel.getSize(),b.panel.el.setVisibilityMode(Ext.Element.DISPLAY),b.ghost=b.panel.ghost(),b.insertProxy&&(b.proxy=b.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),b.proxy.setSize(a)))},repair:function(a,b,c){this.hide(),Ext.callback(b,c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}}),Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(a,b){var c=this;c.panel=a,c.dragData={panel:a},c.panelProxy=new Ext.panel.Proxy(a,b),c.proxy=c.panelProxy.proxy,c.callParent([a.el,b]),c.setupEl(a)},setupEl:function(a){var b=this,c=a.header,d=a.body;c&&(b.setHandleElId(c.id),d=c.el),d?(d.setStyle("cursor","move"),b.scroll=!1):a.on("boxready",b.setupEl,b,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){return this.onStartDrag(a,b),!0},createFrame:Ext.emptyFn,getDragEl:function(){var a=this.panelProxy.ghost;return a?a.el.dom:void 0},endDrag:function(){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX,b-=this.startPageY,this.setDelta(a,b)},onInvalidDrop:function(a,b,c){var d=this;d.beforeInvalidDrop(a,b,c)!==!1&&(d.cachedTarget&&(d.cachedTarget.isNotifyTarget&&d.cachedTarget.notifyOut(d,b,d.dragData),d.cacheTarget=null),d.afterInvalidDrop&&d.afterInvalidDrop(b,c))}}),Ext.define("Ext.util.Memento",function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,e){var f=e?e+c:c,g=a[f];(g||a.hasOwnProperty(f))&&d(b,c,g)}function d(a,b,c){Ext.isDefined(c)?a[b]=c:delete a[b]}function e(a,b,c,d,e){if(b)if(Ext.isArray(d)){var f,g=d.length;for(f=0;g>f;f++)a(b,c,d[f],e)}else a(b,c,d,e)}return{data:null,target:null,constructor:function(a,b){a&&(this.target=a,b&&this.capture(b))},capture:function(b,c,d){var f=this;e(a,f.data||(f.data={}),c||f.target,b,d)},remove:function(a){e(b,this.data,null,a)},restore:function(a,b,d,f){e(c,this.data,d||this.target,a,f),b!==!1&&this.remove(a)},restoreAll:function(a,b){var c,e=this,f=b||this.target,g=e.data;for(c in g)g.hasOwnProperty(c)&&d(f,c,g[c]);a!==!1&&delete e.data}}}()),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(a){this.callParent(arguments),a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=this,c=b.lastWidthModel,d=b.lastHeightModel,e=b.owner.body;b.callParent(arguments),c&&c.fixed&&a.widthModel.shrinkWrap&&e.setWidth(null),d&&d.fixed&&a.heightModel.shrinkWrap&&e.setHeight(null)},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments);return a.targetContext!=a&&(b+=a.getPaddingInfo().height),b},calculateOwnerWidthFromContentWidth:function(a){var b=this.callParent(arguments);return a.targetContext!=a&&(b+=a.getPaddingInfo().width),b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height,d=a.targetContext;return d!=a&&(c-=a.getPaddingInfo().height),a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width,d=a.targetContext;d!=a&&(c-=a.getPaddingInfo().width),a.bodyContext.setWidth(c,!a.widthModel.natural)}}),Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var a=this;a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat"),a.collapsible&&this.addStateEvents(["expand","collapse"]),a.unstyled&&a.setUI("plain"),a.frame&&a.setUI(a.ui+"-framed"),a.bridgeToolbars(),a.callParent(),a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP,a.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd),a.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var a=this,b=a.el,c=a.header;b&&c&&b.dom.setAttribute("aria-labelledby",c.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(a){var b=this,c=b.title,d=b.header,e=b.reExpander,f=b.placeholder;b.title=a,d?d.isHeader?d.setTitle(a):d.title=a:b.rendered&&b.updateHeader(),e&&e.setTitle(a),f&&f.setTitle&&f.setTitle(a),b.fireEvent("titlechange",b,a,c)},setIconCls:function(a){var b=this,c=b.iconCls,d=b.header,e=b.placeholder;b.iconCls=a,d?d.isHeader?d.setIconCls(a):d.iconCls=a:b.updateHeader(),e&&e.setIconCls&&e.setIconCls(a),b.fireEvent("iconclschange",b,a,c)},setIcon:function(a){var b=this,c=b.icon,d=b.header,e=b.placeholder;b.icon=a,d?d.isHeader?d.setIcon(a):d.icon=a:b.updateHeader(),e&&e.setIcon&&e.setIcon(a),b.fireEvent("iconchange",b,a,c)},setGlyph:function(a){var b=this,c=b.glyph,d=b.header,e=b.placeholder;b.glyph=a,d?d.isHeader?d.setGlyph(a):d.glyph=a:b.updateHeader(),e&&e.setGlyph&&e.setIcon(a),b.fireEvent("glyphchange",b,a,c)},bridgeToolbars:function(){function a(a,b,c){return Ext.isArray(a)?a={xtype:"toolbar",items:a}:a.xtype||(a.xtype="toolbar"),a.dock=b,("left"==b||"right"==b)&&(a.vertical=!0),c&&(a.layout=Ext.applyIf(a.layout||{},{pack:{left:"start",center:"center"}[d.buttonAlign]||"end"})),a}var b,c,d=this,e=[],f=d.minButtonWidth;d.tbar&&(e.push(a(d.tbar,"top")),d.tbar=null),d.bbar&&(e.push(a(d.bbar,"bottom")),d.bbar=null),d.buttons&&(d.fbar=d.buttons,d.buttons=null),d.fbar&&(b=a(d.fbar,"bottom",!0),b.ui="footer",f&&(c=b.defaults,b.defaults=function(a){var b=c||{};return!(!a.xtype||"button"===a.xtype||a.isComponent&&a.isXType("button"))||"minWidth"in b||(b=Ext.apply({minWidth:f},b)),b}),e.push(b),d.fbar=null),d.lbar&&(e.push(a(d.lbar,"left")),d.lbar=null),d.rbar&&(e.push(a(d.rbar,"right")),d.rbar=null),d.dockedItems?(Ext.isArray(d.dockedItems)||(d.dockedItems=[d.dockedItems]),d.dockedItems=d.dockedItems.concat(e)):d.dockedItems=e},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var a,b=this;b.callParent(),b.initTools(),b.preventHeader||b.header===!1||b.updateHeader(),b.collapsed&&(b.isPlaceHolderCollapse()?b.hidden||(b.setHiddenState(!0),b.preventCollapseFire=!0,b.placeholderCollapse(),delete b.preventCollapseFire,a=b.collapsed,b.collapsed=!1):(b.beginCollapse(),b.addClsWithUI(b.collapsedCls))),a&&(b.collapsed=a)},initTools:function(){var a,b,c=this,d=c.tools;for(c.tools=[],a=d&&d.length;a;)--a,c.tools[a]=b=d[a],b.toolOwner=c;!c.collapsible||c.hideCollapseTool||c.header===!1||c.preventHeader||(c.collapseDirection=c.collapseDirection||c.headerPosition||"top",c.collapseTool=c.expandTool=Ext.widget({xtype:"tool",handler:c.toggleCollapse,scope:c}),c.updateCollapseTool(),c.collapseFirst&&c.tools.unshift(c.collapseTool)),c.addTools(),c.closable&&(c.addClsWithUI("closable"),c.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(c.close,c,[])}))),c.collapseTool&&!c.collapseFirst&&c.addTool(c.collapseTool)},addTools:Ext.emptyFn,updateCollapseTool:function(){var a=this,b=a.collapseTool;b&&b.setType(a.collapsed&&!a.isPlaceHolderCollapse()?"expand-"+a.getOppositeDirection(a.collapseDirection):"collapse-"+a.collapseDirection)},close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(a){var b=this,c=b.header,d=b.title,e=b.tools,f=b.icon||b.iconCls,g="left"===b.headerPosition||"right"===b.headerPosition;Ext.isObject(c)||c!==!1&&(a||d||f||e&&e.length||b.collapsible&&!b.titleCollapse)?(c&&c.isHeader?c.show():(c=b.header=Ext.widget(Ext.apply({xtype:"header",title:d,titleAlign:b.titleAlign,orientation:g?"vertical":"horizontal",dock:b.headerPosition||"top",textCls:b.headerTextCls,iconCls:b.iconCls,icon:b.icon,glyph:b.glyph,baseCls:b.baseCls+"-header",tools:e,ui:b.ui,id:b.id+"_header",overCls:b.headerOverCls,indicateDrag:b.draggable,frame:(b.frame||b.alwaysFramed)&&b.frameHeader,ignoreParentFrame:b.frame||b.overlapHeader,ignoreBorderManagement:b.frame||b.ignoreHeaderBorderManagement,ownerCt:b,listeners:b.collapsible&&b.titleCollapse?{click:b.toggleCollapse,scope:b}:null},b.header)),b.addDocked(c,0)),b.initHeaderAria()):c&&c.hide()},setUI:function(a){var b=this;b.callParent(arguments),b.header&&b.header.rendered&&b.header.setUI(a)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(a){var b=this;return b.collapsed&&b.placeholder?b.placeholder.isVisible(a):b.callParent(arguments)},onHide:function(){var a=this;a.collapsed&&a.placeholder?a.placeholder.hide():a.callParent(arguments)},onShow:function(){var a=this;a.collapsed&&a.isPlaceHolderCollapse()?(a.setHiddenState(!0),a.placeholderCollapse()):a.callParent(arguments)},onRemoved:function(a){var b=this;b.placeholder&&!a&&b.ownerCt.remove(b.placeholder,!1),b.callParent(arguments)},addTool:function(a){Ext.isArray(a)||(a=[a]);var b,c,d=this,e=d.header,f=a.length;for(b=0;f>b;b++)c=a[b],c.toolOwner=d,e&&e.isHeader?e.addTool(c):d.tools.push(c);d.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return"left"===a||"right"===a},collapsedVertical:function(){var a=this.getCollapsed();return"top"===a||"bottom"===a},restoreDimension:function(){var a=this.collapseDirection;return"top"===a||"bottom"===a?"height":"width"},getCollapsed:function(){var a=this;return a.collapsed===!0?a.collapseDirection:a.collapsed},getState:function(){var a,b=this,c=b.callParent();return c=b.addPropertyToState(c,"collapsed"),b.collapsed&&(a=b.collapseMemento,a=a&&a.data,b.collapsedVertical()?(c&&delete c.height,a&&(c=b.addPropertyToState(c,"height",a.height))):(c&&delete c.width,a&&(c=b.addPropertyToState(c,"width",a.width)))),c},findReExpander:function(a){var b,c,d=this,e=Ext.Component,f=d.dockedItems.items,g=f.length;if("mini"!==d.collapseMode)switch(a){case e.DIRECTION_TOP:case e.DIRECTION_BOTTOM:for(c=0;g>c;c++)if(b=f[c],!b.hidden&&b.isHeader&&(!b.dock||"top"===b.dock||"bottom"===b.dock))return b;break;case e.DIRECTION_LEFT:case e.DIRECTION_RIGHT:for(c=0;g>c;c++)if(b=f[c],!b.hidden&&b.isHeader&&("left"===b.dock||"right"===b.dock))return b;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(a){var b=this,c=a||b.collapseDirection,d=b.reExpander||b.findReExpander(c);return b.expandDirection=b.getOppositeDirection(c),d||(b.reExpander=d=b.createReExpander(c,{dock:c,cls:Ext.baseCSSPrefix+"docked "+b.baseCls+"-"+b.ui+"-collapsed",isCollapsedExpander:!0}),b.dockedItems.insert(0,d)),d},createReExpander:function(a,b){var c=this,d="left"===a,e="right"===a,f=d||e,g=Ext.apply({hideMode:"offsets",title:c.title||"&#160;",titleAlign:c.titleAlign,orientation:f?"vertical":"horizontal",textCls:c.headerTextCls,icon:c.icon,iconCls:c.iconCls,glyph:c.glyph,baseCls:c.self.prototype.baseCls+"-header",ui:c.ui,frame:c.frame&&c.frameHeader,ignoreParentFrame:c.frame||c.overlapHeader,indicateDrag:c.draggable,collapseImmune:!0,ownerCt:c.ownerCt,ownerLayout:c.componentLayout,margin:c.margin},b);return"mini"===c.collapseMode&&(f?g.width=1:g.height=1),c.hideCollapseTool||((d||e&&c.isPlaceHolderCollapse())&&(g.titlePosition=1),g.tools=[{xtype:"tool",type:"expand-"+c.getOppositeDirection(a),uiCls:["top"],handler:c.toggleCollapse,scope:c}]),g=new Ext.panel.Header(g),g.addClsWithUI(c.getHeaderCollapsedClasses(g)),g},getHeaderCollapsedClasses:function(a){var b,c=this,d=c.collapsedCls;return b=[d,d+"-"+a.getDockName()],c.border&&(!c.frame||c.frame&&Ext.supports.CSS3BorderRadius)&&b.push(d+"-border-"+a.getDockName()),b},beginCollapse:function(){var a,b=this,c=b.lastBox,d=b.rendered,e=b.collapseMemento||(b.collapseMemento=new Ext.util.Memento(b)),f=b.getSizeModel(),g=b.header;e.capture(["height","minHeight","width","minWidth"]),c&&e.capture(b.restoreDimension(),c,"last."),b.collapsedVertical()?(f.width.shrinkWrap&&(b.width=d?b.getWidth():b.width||b.minWidth||100),delete b.height,b.minHeight=0):b.collapsedHorizontal()&&(f.height.shrinkWrap&&(b.height=d?b.getHeight():b.height||b.minHeight||100),delete b.width,b.minWidth=0),b.ownerCt&&b.ownerCt.getLayout().beginCollapse(b),b.isPlaceHolderCollapse()||g===!1||(g===(a=b.getReExpander())?(g.collapseImmune=!0,g.getHierarchyState().collapseImmune=!0,g.addClsWithUI(b.getHeaderCollapsedClasses(g)),g.rendered&&g.updateFrame()):a.el&&(a.el.show(),a.hidden=!1)),b.resizer&&b.resizer.disable()},beginExpand:function(){var a,b=this,c=b.lastBox,d=b.collapseMemento,e=this.restoreDimension(),f=b.header;d&&(d.restore(["minHeight","minWidth",e]),c&&d.restore(e,!0,c,"last.")),b.ownerCt&&b.ownerCt.getLayout().beginExpand(b),b.isPlaceHolderCollapse()||f===!1||(f===(a=b.getReExpander())?(delete f.collapseImmune,delete f.getHierarchyState().collapseImmune,f.removeClsWithUI(b.getHeaderCollapsedClasses(f)),f.rendered&&(f.expanding=!0,f.updateFrame(),delete f.expanding)):(a.hidden=!0,a.el.hide())),b.resizer&&b.resizer.enable()},collapse:function(a,b){var c=this,d=a||c.collapseDirection,e=c.ownerCt;return c.isCollapsingOrExpanding?c:(arguments.length<2&&(b=c.animCollapse),c.collapsed||c.fireEvent("beforecollapse",c,a,b)===!1?c:e&&c.isPlaceHolderCollapse()?c.placeholderCollapse(a,b):(c.collapsed=d,c.beginCollapse(),c.getHierarchyState().collapsed=!0,c.fireHierarchyEvent("collapse"),c.doCollapseExpand(1,b)))},doCollapseExpand:function(a,b){var c=this,d=c.animCollapse,e=c.ownerLayout;return c.animCollapse=b,c.isCollapsingOrExpanding=a,b&&c.addCls(Ext.baseCSSPrefix+"animating-size"),e&&!b?e.onContentChange(c):c.updateLayout({isRoot:!0}),c.animCollapse=d,c},afterCollapse:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0,b.updateCollapseTool(),a&&b.removeCls(Ext.baseCSSPrefix+"animating-size"),c&&a&&c.onContentChange(b),b.setHiddenDocked(),b.fireEvent("collapse",b)},setHiddenDocked:function(){var a,b,c=this,d=c.hiddenOnCollapse,e=c.getDockedItems(),f=e.length,g=0;for(c.header!==!1&&(b=c.getReExpander()),d.add(c.body);f>g;g++)a=e[g],a&&a!==b&&a.el&&d.add(a.el);d.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility",""),a.clear()},getPlaceholder:function(a){var b=this,c=a||b.collapseDirection,d=null,e=b.placeholder,f=b.floatable,g=b.titleCollapse;return e||((f||b.collapsible&&g)&&(d={click:{fn:!g&&f?b.floatCollapsedPanel:b.toggleCollapse,element:"el",scope:b}}),b.placeholder=e=Ext.widget(b.createReExpander(c,{id:b.id+"-placeholder",listeners:d}))),e.placeholderFor||(e.isComponent||(b.placeholder=e=b.lookupComponent(e)),Ext.applyIf(e,{margins:b.margins,placeholderFor:b}),e.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+c+"-placeholder",b.collapsedCls])),e},placeholderCollapse:function(a,b){var c,d=this,e=d.ownerCt,f=a||d.collapseDirection,g=Ext.baseCSSPrefix+"border-region-slide-in",h=d.getPlaceholder(f);return d.isCollapsingOrExpanding=1,d.setHiddenState(!0),d.collapsed=f,h.rendered?(h.el.dom.parentNode!==d.el.dom.parentNode&&d.el.dom.parentNode.insertBefore(h.el.dom,d.el.dom),h.hidden=!1,h.el.show(),e.updateLayout()):e.insert(e.items.indexOf(d),h),d.rendered?(d.el.setVisibilityMode(d.placeholderCollapseHideMode),b?(d.el.addCls(g),h.el.hide(),c=d.convertCollapseDir(f),d.el.slideOut(c,{preserveScroll:!0,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(g),h.el.show().setStyle("display","none").slideIn(c,{easing:"linear",duration:100,listeners:{afteranimate:function(){h.focus(),d.isCollapsingOrExpanding=0,d.fireEvent("collapse",d)}}})}}})):(d.el.hide(),d.isCollapsingOrExpanding=0,d.fireEvent("collapse",d))):(d.isCollapsingOrExpanding=0,d.preventCollapseFire||d.fireEvent("collapse",d)),d},floatCollapsedPanel:function(){var a,b,c=this,d=c.placeholder,e=d.getSize(),f=Ext.baseCSSPrefix+"border-region-slide-in",g=c.collapsed,h=c.ownerCt||c;if(!c.isSliding){if(c.el.hasCls(f))return void c.slideOutFloatedPanel();switch(c.isSliding=!0,d.el.hide(),d.hidden=!0,c.el.show(),c.setHiddenState(!1),c.collapsed=!1,h.updateLayout(),a=c.getBox(!1,!0),d.el.show(),d.hidden=!1,c.el.hide(),c.setHiddenState(!0),c.collapsed=g,h.updateLayout(),c.slideOutTask=c.slideOutTask||new Ext.util.DelayedTask(c.slideOutFloatedPanel,c),d.el.on("mouseleave",c.onMouseLeaveFloated,c),c.el.on("mouseleave",c.onMouseLeaveFloated,c),d.el.on("mouseenter",c.onMouseEnterFloated,c),c.el.on("mouseenter",c.onMouseEnterFloated,c),c.el.addCls(f),c.floated=!0,c.collapseTool&&c.collapseTool.el.hide(),c.collapsed){case"top":c.setLocalXY(a.x,a.y+e.height-1);break;case"right":c.setLocalXY(a.x-e.width+1,a.y);break;case"bottom":c.setLocalXY(a.x,a.y-e.height+1);break;case"left":c.setLocalXY(a.x+e.width-1,a.y)}b=c.convertCollapseDir(c.collapsed),c.floatedFromCollapse=c.collapsed,c.collapsed=!1,c.setHiddenState(!1),c.el.slideIn(b,{preserveScroll:!0,duration:Ext.Number.from(c.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.isSliding=!1,c.fireEvent("float",c)}}})}},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},slideOutFloatedPanel:function(){var a,b=this,c=this.el;b.isSliding||b.isDestroyed||(b.isSliding=!0,b.floated=!1,b.slideOutFloatedPanelBegin(),"string"==typeof b.collapsed&&(a=b.convertCollapseDir(b.collapsed)),c.slideOut(a,{preserveScroll:!0,duration:Ext.Number.from(b.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.slideOutFloatedPanelEnd(),b.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var a=this,b=a.placeholder.el,c=a.el;a.collapsed=a.floatedFromCollapse,a.setHiddenState(!0),a.floatedFromCollapse=null,b.un("mouseleave",a.onMouseLeaveFloated,a),c.un("mouseleave",a.onMouseLeaveFloated,a),b.un("mouseenter",a.onMouseEnterFloated,a),c.un("mouseenter",a.onMouseEnterFloated,a)},slideOutFloatedPanelEnd:function(){var a=this;a.collapseTool&&a.collapseTool.el.show(),a.slideOutTask.cancel(),a.isSliding=!1,a.fireEvent("unfloat",a)},expand:function(a){var b=this;return b.isCollapsingOrExpanding?b:(arguments.length||(a=b.animCollapse),b.collapsed||b.floatedFromCollapse?b.fireEvent("beforeexpand",b,a)===!1?b:(delete this.getHierarchyState().collapsed,b.isPlaceHolderCollapse()?b.placeholderExpand(a):(b.restoreHiddenDocked(),b.beginExpand(),b.collapsed=!1,b.doCollapseExpand(2,a))):b)},placeholderExpand:function(a){var b,c,d=this,e=d.collapsed,f=Ext.baseCSSPrefix+"border-region-slide-in",g=d.ownerLayout?d.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(a=!1),d.floatedFromCollapse&&(c=d.getPosition(!0),d.slideOutFloatedPanelBegin(),d.slideOutFloatedPanelEnd(),d.floated=!1),a?(Ext.suspendLayouts(),d.placeholder.hide(),d.el.show(),d.collapsed=!1,d.setHiddenState(!1),g&&!c&&(g.hidden=!0),Ext.resumeLayouts(!0),g.hidden=!1,d.el.addCls(f),d.isCollapsingOrExpanding=2,c?(b=d.getXY(),d.setLocalXY(c[0],c[1]),d.setXY([b[0],b[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(f),d.isCollapsingOrExpanding=0,d.fireEvent("expand",d)}}})):(d.el.hide(),d.placeholder.el.show(),d.placeholder.hidden=!1,d.setHiddenState(!1),d.el.slideIn(d.convertCollapseDir(e),{preserveScroll:!0,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(f),d.placeholder.hide(),d.updateLayout(),d.isCollapsingOrExpanding=0,d.fireEvent("expand",d)}}}))):(d.floated=d.collapsed=!1,d.el.removeCls(f),Ext.suspendLayouts(),d.placeholder.hide(),d.show(),Ext.resumeLayouts(!0),d.fireEvent("expand",d)),d},afterExpand:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0,b.updateCollapseTool(),a&&b.removeCls(Ext.baseCSSPrefix+"animating-size"),c&&a&&c.onContentChange(b),b.fireEvent("expand",b),b.fireHierarchyEvent("expand")},setBorder:function(a,b){if(!b){var c=this,d=c.header;a=a?a===!0?"1px":c.unitizeBox(a):0,d&&(d.isHeader?d.setBorder(a):d.border=a),c.rendered&&c.bodyBorder!==!1&&c.body.setStyle("border-width",a),c.updateLayout(),c.border=a}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var a,b,c=this;c.header||c.updateHeader(!0),c.header&&(a=Ext.applyIf({el:c.el,delegate:"#"+Ext.escapeId(c.header.id)},c.draggable),(c.constrain||c.constrainHeader)&&(a.constrain=c.constrain,a.constrainDelegate=c.constrainHeader,a.constrainTo=c.constrainTo||c.container),b=c.dd=new Ext.util.ComponentDragger(this,a),c.relayEvents(b,["dragstart","drag","dragend"]),c.maximized&&b.disable())},ghostTools:function(){var a,b,c,d=[],e=this.header,f=e?e.query("tool[hidden=false]"):[];if(f.length)for(a=0,b=f.length;b>a;a++)c=f[a],d.push({type:c.type});else d=[{type:"placeholder"}];return d},ghost:function(a){var b,c=this,d=c.ghostPanel,e=c.getBox();return d?d.el.show():(d=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:c.frame&&!c.alwaysFramed,alwaysFramed:c.alwaysFramed,overlapHeader:c.overlapHeader,headerPosition:c.headerPosition,baseCls:c.baseCls,cls:c.baseCls+"-ghost "+(a||"")}),c.ghostPanel=d),c.ghostPanel.hidden=!1,d.floatParent=c.floatParent,c.floating?d.zIndexManager.assignZIndices():d.toFront(),c.preventHeader||c.header===!1||(b=d.header,b&&(b.suspendLayouts(),Ext.Array.forEach(b.query("tool"),b.remove,b),b.resumeLayouts()),d.addTool(c.ghostTools()),d.setTitle(c.title),c.iconCls?d.setIconCls(c.iconCls):c.icon?d.setIcon(c.icon):c.glyph&&d.setGlyph(c.glyph),d.header.addCls(Ext.baseCSSPrefix+"header-ghost")),d.setPagePosition(e.x,e.y),d.setSize(e.width,e.height),c.el.hide(),d},unghost:function(a,b){var c=this;c.ghostPanel&&(a!==!1&&(c.el.show(),b!==!1&&(c.setPagePosition(c.ghostPanel.getXY()),"offsets"==c.hideMode&&delete c.el.hideModeStyles),Ext.defer(c.focus,10,c)),c.ghostPanel.el.hide(),c.ghostPanel.hidden=!0)},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()
},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},convertCollapseDir:function(a){return a.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx}),Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating),a.callParent(arguments),a.constrain=a.constrain||a.constrainPosition},showAt:function(a){var b=this;this.callParent(arguments),b.isVisible()&&(b.setPagePosition(a[0],a[1]),(b.constrainPosition||b.constrain)&&b.doConstrain(),b.toFront(!0))},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(a)},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments),a.lastActive=new Date,a.setTarget(a.target),a.origAnchor=a.anchor},onRender:function(){var a=this;a.callParent(arguments),a.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+a.getAnchorPosition(),a.anchorEl=a.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+a.anchorCls})},setTarget:function(a){var b,c=this,d=Ext.get(a);c.target&&(b=Ext.get(c.target),c.mun(b,"mouseover",c.onTargetOver,c),c.mun(b,"mouseout",c.onTargetOut,c),c.mun(b,"mousemove",c.onMouseMove,c)),c.target=d,d&&c.mon(d,{freezeEvent:!0,mouseover:c.onTargetOver,mouseout:c.onTargetOut,mousemove:c.onMouseMove,scope:c}),c.anchor&&(c.anchorTarget=c.target)},onMouseMove:function(a){var b,c=this,d=c.delegate?a.getTarget(c.delegate):c.triggerElement=!0;d?(c.targetXY=a.getXY(),d===c.triggerElement?!c.hidden&&c.trackMouse&&(b=c.getTargetXY(),c.constrainPosition&&(b=c.el.adjustForConstraints(b,c.el.parent())),c.setPagePosition(b)):(c.hide(),c.lastActive=new Date(0),c.onTargetOver(a))):!c.closable&&c.isVisible()&&c.autoHide!==!1&&c.hide()},getTargetXY:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this;if(m.delegate&&(m.anchorTarget=m.triggerElement),m.anchor){if(m.targetCounter++,b=m.getOffsets(),c=m.anchorToTarget&&!m.trackMouse?m.getAlignToXY(m.anchorTarget,m.getAnchorAlign()):m.targetXY,d=Ext.Element.getViewWidth()-5,e=Ext.Element.getViewHeight()-5,f=document.documentElement,g=document.body,h=(f.scrollLeft||g.scrollLeft||0)+5,i=(f.scrollTop||g.scrollTop||0)+5,j=[c[0]+b[0],c[1]+b[1]],k=m.getSize(),l=m.constrainPosition,m.anchorEl.removeCls(m.anchorCls),m.targetCounter<2&&l){if(j[0]<h)return m.anchorToTarget&&(m.defaultAlign="l-r",m.mouseOffset&&(m.mouseOffset[0]*=-1)),m.anchor="left",m.getTargetXY();if(j[0]+k.width>d)return m.anchorToTarget&&(m.defaultAlign="r-l",m.mouseOffset&&(m.mouseOffset[0]*=-1)),m.anchor="right",m.getTargetXY();if(j[1]<i)return m.anchorToTarget&&(m.defaultAlign="t-b",m.mouseOffset&&(m.mouseOffset[1]*=-1)),m.anchor="top",m.getTargetXY();if(j[1]+k.height>e)return m.anchorToTarget&&(m.defaultAlign="b-t",m.mouseOffset&&(m.mouseOffset[1]*=-1)),m.anchor="bottom",m.getTargetXY()}return m.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+m.getAnchorPosition(),m.anchorEl.addCls(m.anchorCls),m.targetCounter=0,j}return a=m.getMouseOffset(),m.targetXY?[m.targetXY[0]+a[0],m.targetXY[1]+a[1]]:a},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];return a.mouseOffset&&(b[0]+=a.mouseOffset[0],b[1]+=a.mouseOffset[1]),b},getAnchorPosition:function(){var a,b=this;switch(b.anchor?b.tipAnchor=b.anchor.charAt(0):(a=b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),b.tipAnchor=a[1].charAt(0)),b.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,b,c=this,d=c.getAnchorPosition().charAt(0);if(c.anchorToTarget&&!c.trackMouse)switch(d){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0]}else switch(d){case"t":b=[-15-c.anchorOffset,30];break;case"b":b=[-19-c.anchorOffset,-13-c.el.dom.offsetHeight];break;case"r":b=[-15-c.el.dom.offsetWidth,-13-c.anchorOffset];break;default:b=[25,-13-c.anchorOffset]}return a=c.getMouseOffset(),b[0]+=a[0],b[1]+=a[1],b},onTargetOver:function(a){var b,c=this,d=c.delegate;c.disabled||a.within(c.target.dom,!0)||(b=d?a.getTarget(d):!0,b&&(c.triggerElement=b,c.triggerEvent=a,c.clearTimer("hide"),c.targetXY=a.getXY(),c.delayShow()))},delayShow:function(){var a=this;a.hidden&&!a.showTimer?Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval?a.show():a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a):a.hidden||a.autoHide===!1||a.show()},showFromDelay:function(){this.fromDelayShow=!0,this.show(),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(a){var b=this,c=b.triggerElement,d=c===!0?b.target:c;b.disabled||!c||a.within(d,!0)||(b.showTimer&&(b.clearTimer("show"),b.triggerElement=null),b.autoHide!==!1&&b.delayHide())},delayHide:function(){var a=this;a.hidden||a.hideTimer||(a.hideTimer=Ext.defer(a.hide,a.hideDelay,a))},hide:function(){var a=this;a.clearTimer("dismiss"),a.lastActive=new Date,a.anchorEl&&a.anchorEl.hide(),a.callParent(arguments),delete a.triggerElement},show:function(){var a=this;this.callParent(),this.hidden===!1&&(a.setPagePosition(-1e4,-1e4),a.anchor&&(a.anchor=a.origAnchor),a.calledFromShowAt||a.showAt(a.getTargetXY()),a.anchor?(a.syncAnchor(),a.anchorEl.show()):a.anchorEl.hide())},showAt:function(a){var b=this;b.lastActive=new Date,b.clearTimers(),b.calledFromShowAt=!0,b.isVisible()||this.callParent(arguments),b.isVisible()&&(b.setPagePosition(a[0],a[1]),(b.constrainPosition||b.constrain)&&b.doConstrain(),b.toFront(!0),b.el.sync(!0),b.dismissDelay&&b.autoHide!==!1&&(b.dismissTimer=Ext.defer(b.hide,b.dismissDelay,b)),b.anchor?(b.syncAnchor(),b.anchorEl.isVisible()||b.anchorEl.show()):b.anchorEl.hide()),delete b.calledFromShowAt},syncAnchor:function(){var a,b,c,d=this;switch(d.tipAnchor.charAt(0)){case"t":a="b",b="tl",c=[20+d.anchorOffset,1];break;case"r":a="l",b="tr",c=[-1,12+d.anchorOffset];break;case"b":a="t",b="bl",c=[20+d.anchorOffset,-1];break;default:a="r",b="tl",c=[1,12+d.anchorOffset]}d.anchorEl.alignTo(d.el,a+"-"+b,c),d.anchorEl.setStyle("z-index",parseInt(d.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(){var a=this;a.callParent(arguments),a.anchor&&a.syncAnchor()},_timerNames:{},clearTimer:function(a){var b=this,c=b._timerNames,d=c[a]||(c[a]=a+"Timer"),e=b[d];e&&(clearTimeout(e),b[d]=null)},clearTimers:function(){var a=this;a.clearTimer("show"),a.clearTimer("dismiss"),a.clearTimer("hide")},onShow:function(){var a=this;a.callParent(),a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent(),a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(a){var b=this;b.closable||a.within(b.el.dom)||(b.disable(),Ext.defer(b.doEnable,100,b))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var a=this;a.clearTimers(),Ext.destroy(a.anchorEl),delete a.anchorEl,delete a.target,delete a.anchorTarget,delete a.triggerElement,a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc(),a.targets=a.targets||{},a.callParent()},register:function(a){for(var b,c,d,e=Ext.isArray(a)?a:arguments,f=0,g=e.length;g>f;f++)if(a=e[f],b=a.target)if(Ext.isArray(b))for(c=0,d=b.length;d>c;c++)this.targets[Ext.id(b[c])]=a;else this.targets[Ext.id(b)]=a},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.activeTarget;a=Ext.get(a).dom,b.isVisible()?c&&c.el==a&&b.hide():c&&c.el==a&&b.clearTimer("show")},getTipCfg:function(a){var b,c=a.getTarget(),d=c.title;return this.interceptTitles&&d&&Ext.isString(d)?(c.qtip=d,c.removeAttribute("title"),a.preventDefault(),{text:d}):(b=this.tagConfig,(c=a.getTarget("["+b.namespace+b.attribute+"]"))?{target:c,text:c.getAttribute(b.namespace+b.attribute)}:void 0)},onTargetOver:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this,n=a.getTarget(m.delegate);if(!m.disabled&&(m.targetXY=a.getXY(),n&&1===n.nodeType&&n!=document.documentElement&&n!=document.body)){if(m.activeTarget&&(n==m.activeTarget.el||Ext.fly(m.activeTarget.el).contains(n)))return void(m.targetTextEmpty()?(m.onShowVeto(),delete m.activeTarget):(m.clearTimer("hide"),m.show()));if(n){i=m.targets;for(l in i)if(i.hasOwnProperty(l)&&(k=i[l],j=Ext.fly(k.target),j&&(j.dom===n||j.contains(n)))){d=j.dom;break}if(d)return m.activeTarget=m.targets[d.id],m.activeTarget.el=n,m.anchor=m.activeTarget.anchor,m.anchor&&(m.anchorTarget=n),b=parseInt(m.activeTarget.showDelay,10),b&&(c=m.showDelay,m.showDelay=b),m.delayShow(),void(b&&(m.showDelay=c))}d=Ext.fly(n,"_quicktip-target"),e=m.tagConfig,f=e.namespace,g=m.getTipCfg(a),g&&(g.target&&(n=g.target,d=Ext.fly(n,"_quicktip-target")),h=d.getAttribute(f+e.hide),m.activeTarget={el:n,text:g.text,width:+d.getAttribute(f+e.width)||null,autoHide:"user"!=h&&"false"!==h,title:d.getAttribute(f+e.title),cls:d.getAttribute(f+e.cls),align:d.getAttribute(f+e.align),showDelay:parseInt(d.getAttribute(f+e.showDelay),10)},m.anchor=d.getAttribute(f+e.anchor),m.anchor&&(m.anchorTarget=n),b=parseInt(m.activeTarget.showDelay,10),b&&(c=m.showDelay,m.showDelay=b),m.delayShow(),b&&(m.showDelay=c))}},onTargetOut:function(a){var b,c,d=this,e=d.activeTarget;e&&a.within(d.activeTarget.el)&&!d.getTipCfg(a)||(d.clearTimer("show"),delete d.activeTarget,d.autoHide!==!1&&(b=e&&parseInt(e.hideDelay,10),b&&(c=d.hideDelay,d.hideDelay=b),d.delayHide(),b&&(d.hideDelay=c)))},targetTextEmpty:function(){var a,b,c=this,d=c.activeTarget,e=c.tagConfig;return d&&(a=d.el,a&&(b=a.getAttribute(e.namespace+e.attribute),!b&&!c.targets[d.target]))?!0:!1},show:function(){var a=this,b=a.fromDelayShow;return b&&a.targetTextEmpty()?(a.onShowVeto(),void delete a.activeTarget):void a.callParent(arguments)},showAt:function(a){var b,c=this,d=c.activeTarget,e=c.header;d&&(c.rendered||(c.render(Ext.getBody()),c.activeTarget=d),c.suspendLayouts(),d.title?(c.setTitle(d.title),e.show()):e&&e.hide(),c.update(d.text),c.autoHide=d.autoHide,c.dismissDelay=d.dismissDelay||c.dismissDelay,d.mouseOffset&&(a[0]+=d.mouseOffset[0],a[1]+=d.mouseOffset[1]),b=c.lastCls,b&&(c.removeCls(b),delete c.lastCls),b=d.cls,b&&(c.addCls(b),c.lastCls=b),c.setWidth(d.width),c.anchor?c.constrainPosition=!1:d.align?(a=c.getAlignToXY(d.el,d.align),c.constrainPosition=!1):c.constrainPosition=!0,c.resumeLayouts(!0)),c.callParent([a])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",{requires:["Ext.tip.QuickTip"],singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(a,b){var c=this;if(!c.tip){if(!Ext.isReady)return void Ext.onReady(function(){Ext.tip.QuickTipManager.init(a,b)});var d=Ext.apply({disabled:c.disabled,id:"ext-quicktips-tip"},b),e=d.className,f=d.xtype;e?delete d.className:f&&(e="widget."+f,delete d.xtype),a!==!1&&(d.renderTo=document.body),c.tip=Ext.create(e||"Ext.tip.QuickTip",d),Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip),this.tip=void 0},ddDisable:function(){var a=this,b=a.tip;b&&!a.disabled&&b.disable()},ddEnable:function(){var a=this,b=a.tip;b&&!a.disabled&&b.enable()},enable:function(){var a=this,b=a.tip;b&&b.enable(),a.disabled=!1},disable:function(){var a=this,b=a.tip;b&&b.disable(),a.disabled=!0},isEnabled:function(){var a=this.tip;return void 0!==a&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}}),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.tip.QuickTipManager"],scope:void 0,enableQuickTips:!0,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(a,b,c){var d,e,f,g,h,i=Ext.app.Controller,j=a.prototype,k=[];if(f=b.name||a.superclass.name,h=b.appFolder||a.superclass.appFolder,f&&(b.$namespace=f,Ext.app.addNamespaces(f)),b.namespaces&&Ext.app.addNamespaces(b.namespaces),b["paths processed"])delete b["paths processed"];else if(f&&h&&Ext.Loader.setPath(f,h),e=b.paths)for(g in e)e.hasOwnProperty(g)&&Ext.Loader.setPath(g,e[g]);b.autoCreateViewport&&i.processDependencies(j,k,f,"view",["Viewport"]),k.length&&(d=c.onBeforeCreated,c.onBeforeCreated=function(){var a=Ext.Array.clone(arguments);Ext.require(k,function(){return d.apply(this,a)})})},constructor:function(){var a=this;a.callParent(arguments),a.doInit(a),a.initNamespace(),a.initControllers(),a.onBeforeLaunch(),a.finishInitControllers()},initNamespace:function(){var a,b=this,c=b.appProperty;a=Ext.namespace(b.name),a&&(a.getApplication=function(){return b},c&&(a[c]||(a[c]=b)))},initControllers:function(){var a=this,b=Ext.Array.from(a.controllers);a.controllers=new Ext.util.MixedCollection;for(var c=0,d=b.length;d>c;c++)a.getController(b[c])},finishInitControllers:function(){var a,b,c,d=this;for(a=d.controllers.getRange(),b=0,c=a.length;c>b;b++)a[b].finishInit(d)},launch:Ext.emptyFn,onBeforeLaunch:function(){var a,b,c,d,e=this;for(e.enableQuickTips&&e.initQuickTips(),e.autoCreateViewport&&e.initViewport(),e.launch.call(e.scope||e),e.launched=!0,e.fireEvent("launch",e),a=e.controllers.items,c=a.length,b=0;c>b;b++)d=a[b],d.onLaunch(e)},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView("Viewport");a&&a.create()},getController:function(a){var b,c,d=this,e=d.controllers;return c=e.get(a),c||(b=d.getModuleClassName(a,"controller"),c=Ext.create(b,{application:d,id:a}),e.add(c),d._initialized&&c.doInit(d)),c},getApplication:function(){return this}}),Ext.define("Ext.app.domain.Controller",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.app.Controller"],type:"controller",idProperty:"id",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.app.Controller)}}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},isProvider:!0,constructor:function(a){var b=this;Ext.apply(b,a),Ext.applyIf(b,{id:Ext.id(null,"provider-")}),b.addEvents("connect","disconnect","data","exception"),b.mixins.observable.constructor.call(b,a)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.app.domain.Direct",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.direct.Provider"],type:"direct",idProperty:"id",constructor:function(){var a=this;a.callParent(),a.monitor(Ext.direct.Provider)}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(a,b){this.arrowHandler=a,this.scope=b},onClick:function(a){var b=this;a.preventDefault(),b.disabled||(b.overMenuTrigger?(b.maybeShowMenu(),b.fireEvent("arrowclick",b,a),b.arrowHandler&&b.arrowHandler.call(b.scope||b,b,a)):(b.doToggle(),b.fireHandler(a)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(a){var b=this,c="";return a&&b.showText===!0?(b.prependText&&(c+=b.prependText),c+=a.text):b.text},setActiveItem:function(a,b){var c=this;Ext.isObject(a)||(a=c.menu.getComponent(a)),a&&(c.rendered?(c.setText(c.getButtonText(a)),c.setIconCls(a.iconCls),c.setGlyph(a.glyph)):(c.text=c.getButtonText(a),c.iconCls=a.iconCls,c.glyph=a.glyph),c.activeItem=a,a.checked||a.setChecked(!0,!1),c.forceIcon&&c.setIconCls(c.forceIcon),c.forceGlyph&&c.setGlyph(c.forceGlyph),b||c.fireEvent("change",c,a))},getActiveItem:function(){return this.activeItem},initComponent:function(){var a,b,c,d,e=this,f=0;for(e.addEvents("change"),e.changeHandler&&(e.on("change",e.changeHandler,e.scope||e),delete e.changeHandler),a=(e.menu.items||[]).concat(e.items||[]),e.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},e.menu),c=a.length,b=0;c>b;b++)d=a[b],d=Ext.applyIf({group:e.id,itemIndex:b,checkHandler:e.checkHandler,scope:e,checked:d.checked||!1},d),e.menu.items.push(d),d.checked&&(f=b);e.itemCount=e.menu.items.length,e.callParent(arguments),e.on("click",e.toggleSelected,e),e.setActiveItem(f,e),e.width&&e.showText&&e.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(a,b){b&&this.setActiveItem(a)},toggleSelected:function(){var a,b=this,c=b.menu;a=b.activeItem.next(":not([disabled])")||c.items.getAt(0),a.setChecked(!0)}}),Ext.define("Ext.chart.Callout",{constructor:function(a){a.callouts&&(a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},a.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var a,b,c,d,e,f,g,h,i=this,j=i.items,k=i.chart.animate,l=i.callouts,m=l.styles,n=i.calloutsArray,o=i.chart.getChartStore(),p=o.getCount(),q=j.length/p,r=[];for(a=0,b=0;p>a;a++)for(c=0;q>c;c++)if(e=j[b],f=n[b],g=o.getAt(a),h=!l.filter||l.filter(g),h||f){f||(n[b]=f=i.onCreateCallout(g,e,a,h,c,b));for(d in f)f[d]&&f[d].setAttributes&&f[d].setAttributes(m,!0);if(!h)for(d in f)f[d]&&(f[d].setAttributes?f[d].setAttributes({hidden:!0},!0):f[d].setVisible&&f[d].setVisible(!1));l&&l.renderer&&l.renderer(f,g),i.onPlaceCallout(f,g,e,a,h,k,c,b,r),r.push(f),b++}else b++;this.hideCallouts(b)}},onCreateCallout:function(){var a=this,b=(a.calloutsGroup,a.callouts),c=b?b.styles:void 0,d=c?c.width:0,e=c?c.height:0,f=a.chart,g=f.surface,h={lines:!1};return h.lines=g.add(Ext.apply({},{type:"path",path:"M0,0",stroke:a.getLegendColor()||"#555"},c)),b.items&&(h.panel=new Ext.Panel({style:"position: absolute;",width:d,height:e,items:b.items,renderTo:f.el})),h},hideCallouts:function(a){for(var b,c,d=this.calloutsArray,e=d.length;e-->a;){b=d[e];for(c in b)b[c]&&b[c].hide(!0)}}}),Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:!1,isCompositeSprite:!0,constructor:function(a){var b=this;a=a||{},Ext.apply(b,a),b.addEvents("mousedown","mouseup","mouseover","mouseout","click"),b.id=Ext.id(null,"ext-sprite-group-"),b.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){var b=this;a.on({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick})},add:function(){var a=this.callParent(arguments);return this.attachEvents(a),a},insert:function(){return this.callParent(arguments)},remove:function(a){var b=this;return a.un({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick}),b.callParent(arguments)},getBBox:function(){for(var a,b,c=0,d=this.items,e=this.length,f=1/0,g=f,h=-f,i=f,j=-f;e>c;c++)a=d[c],a.el&&!a.bboxExcluded&&(b=a.getBBox(),g=Math.min(g,b.x),i=Math.min(i,b.y),h=Math.max(h,b.height+b.y),j=Math.max(j,b.width+b.x));return{x:g,y:i,height:h-i,width:j-g}},setAttributes:function(a,b){for(var c=0,d=this.items,e=this.length;e>c;c++)d[c].setAttributes(a,b);return this},hide:function(a){for(var b=0,c=this.items,d=this.length;d>b;b++)c[b].hide(a);return this},show:function(a){for(var b=0,c=this.items,d=this.length;d>b;b++)c[b].show(a);return this},redraw:function(){var a=this,b=0,c=a.items,d=a.getSurface(),e=a.length;if(d)for(;e>b;b++)d.renderItem(c[b]);return a},setStyle:function(a){for(var b,c,d=0,e=this.items,f=this.length;f>d;d++)b=e[d],c=b.el,c&&c.setStyle(a)},addCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;e>b;b++)d.addCls(c[b],a)},removeCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;e>b;b++)d.removeCls(c[b],a)},getSurface:function(){var a=this.first();return a?a.surface:null},destroy:function(){var a,b=this,c=b.getSurface(),d=b.autoDestroy;if(c)for(;b.getCount()>0;)a=b.first(),b.remove(a),c.remove(a,d);b.clearListeners()}}),Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(a,b){b=b||this.prototype.enginePriority;for(var c=0,d=b.length;d>c;c++)if(Ext.supports[b[c]])return Ext.create("Ext.draw.engine."+b[c],a);return!1},save:function(a,b){b=b||{};var c={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},d=c[b.type]||"Svg",e=Ext.draw.engine[d+"Exporter"];return e.generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(a){var b=this;a=a||{},Ext.apply(b,a),b.domRef=Ext.getDoc().dom,b.customAttributes={},b.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),b.mixins.observable.constructor.call(b),b.getId(),b.initGradients(),b.initItems(),b.renderTo&&(b.render(b.renderTo),delete b.renderTo),b.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&(this.viewBox={x:a,y:b,width:c,height:d},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var a,b,c=this.gradients,d=this.addGradient;if(c)for(a=0,b=c.length;b>a&&d.call(this,c[a],a,b)!==!1;a++);}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,a&&this.add(a)},initBackground:function(a){var b,c,d=this,e=d.width,f=d.height;Ext.isString(a)&&(a={fill:a}),a&&(a.gradient?(c=a.gradient,b=c.id,d.addGradient(c),d.background=d.add({type:"rect",x:0,y:0,width:e,height:f,fill:"url(#"+b+")",zIndex:-1})):a.fill?d.background=d.add({type:"rect",x:0,y:0,width:e,height:f,fill:a.fill,zIndex:-1}):a.image&&(d.background=d.add({type:"image",x:0,y:0,width:e,height:f,src:a.image,zIndex:-1})),d.background.bboxExcluded=!0)},setSize:function(){this.applyViewBox()},scrubAttrs:function(a){var b,c={},d={},e=a.attr;for(b in e)this.translateAttrs.hasOwnProperty(b)?(c[this.translateAttrs[b]]=e[b],d[this.translateAttrs[b]]=!0):this.availableAttrs.hasOwnProperty(b)&&!d[b]&&(c[b]=e[b]);return c},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a,b,c,d,e,f,g=Array.prototype.slice.call(arguments),h=g.length>1;if(h||Ext.isArray(g[0])){for(b=h?g:g[0],c=[],d=0,e=b.length;e>d;d++)f=b[d],f=this.add(f),c.push(f);return c}return a=this.prepareItems(g[0],!0)[0],this.insertByZIndex(a),this.onAdd(a),a},insertByZIndex:function(a){var b,c=this,d=c.items.items,e=d.length,f=Math.ceil,g=a.attr.zIndex,h=e,i=h-1,j=0;if(c.orderSpritesByZIndex&&e&&g<d[i].attr.zIndex){for(;i>=j;)if(h=f((j+i)/2),b=d[h].attr.zIndex,b>g)i=h-1;else{if(!(g>b))break;j=h+1}for(;e>h&&d[h].attr.zIndex<=g;)h++}return c.items.insert(h,a),h},onAdd:function(a){var b,c,d,e=a.group,f=a.draggable;if(e){for(b=[].concat(e),c=b.length,d=0;c>d;d++)e=b[d],this.getGroup(e).add(a);delete a.group}f&&a.initDraggable()},remove:function(a,b){if(a){this.items.remove(a);var c,d=[].concat(this.groups.items),e=d.length;for(c=0;e>c;c++)d[c].remove(a);a.onRemove(),b===!0&&a.destroy()}},removeAll:function(a){var b,c=this.items.items,d=c.length;for(b=d-1;b>-1;b--)this.remove(c[b],a)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var a,b,c,d,e,f,g,h=this,i=h.viewBox,j=h.width||1,k=h.height||1;i&&(j||k)?(a=i.x,b=i.y,c=i.width,d=i.height,e=k/d,f=j/c,g=Math.min(f,e),j>c*g&&(a-=(j-c*g)/2/g),k>d*g&&(b-=(k-d*g)/2/g),h.viewBoxShift={dx:-a,dy:-b,scale:g},h.background&&h.background.setAttributes(Ext.apply({},{x:a,y:b,width:j/g,height:k/g},{hidden:!1}),!0)):h.background&&j&&k&&h.background.setAttributes(Ext.apply({x:0,y:0,width:j,height:k},{hidden:!1}),!0)},getBBox:function(a,b){var c=this["getPath"+a.type](a);return b?(a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(c),a.bbox.plain):(a.dirtyTransform&&this.applyTransformations(a,!0),a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(c,a.matrix)),a.bbox.transform)},transformToViewBox:function(a,b){if(this.viewBoxShift){var c=this,d=c.viewBoxShift;return[a/d.scale-d.dx,b/d.scale-d.dy]}return[a,b]},applyTransformations:function(a,b){"text"==a.type&&(a.bbox.transform=0,this.transform(a,!1)),a.dirtyTransform=!1;var c=this,d=a.attr;(null!=d.translation.x||null!=d.translation.y)&&c.translate(a),(null!=d.scaling.x||null!=d.scaling.y)&&c.scale(a),null!=d.rotation.degrees&&c.rotate(a),a.bbox.transform=0,this.transform(a,b),a.transformations=[]},rotate:function(a){var b,c=a.attr.rotation.degrees,d=a.attr.rotation.x,e=a.attr.rotation.y;Ext.isNumber(d)&&Ext.isNumber(e)||(b=this.getBBox(a,!0),d=Ext.isNumber(d)?d:b.x+b.width/2,e=Ext.isNumber(e)?e:b.y+b.height/2),a.transformations.push({type:"rotate",degrees:c,x:d,y:e})},translate:function(a){var b=a.attr.translation.x||0,c=a.attr.translation.y||0;a.transformations.push({type:"translate",x:b,y:c})},scale:function(a){var b,c=a.attr.scaling.x||1,d=a.attr.scaling.y||1,e=a.attr.scaling.centerX,f=a.attr.scaling.centerY;Ext.isNumber(e)&&Ext.isNumber(f)||(b=this.getBBox(a,!0),e=Ext.isNumber(e)?e:b.x+b.width/2,f=Ext.isNumber(f)?f:b.y+b.height/2),a.transformations.push({type:"scale",x:c,y:d,centerX:e,centerY:f})},rectPath:function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ellipsePath:function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radius,b.radius)},getPathellipse:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radiusX||b.width/2||0,b.radiusY||b.height/2||0)},getPathrect:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width||0,b.height||0,b.r||0)},getPathimage:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width,b.height)},getPathtext:function(a){var b=this.getBBoxText(a);return this.rectPath(b.x,b.y,b.width,b.height)},createGroup:function(a){var b=this.groups.get(a);return b||(b=new Ext.draw.CompositeSprite({surface:this}),b.id=a||Ext.id(null,"ext-surface-group-"),this.groups.add(b)),b},getGroup:function(a){var b;return"string"==typeof a?(b=this.groups.get(a),b||(b=this.createGroup(a))):b=a,b},prepareItems:function(a){a=[].concat(a);var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],b instanceof Ext.draw.Sprite?b.surface=this:(b.surface=this,a[c]=this.createItem(b));return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var a=this;delete a.domRef,a.background&&a.background.destroy(),a.removeAll(!0),Ext.destroy(a.groups.items)}}),Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",setHeightInDom:!0,setWidthInDom:!0,type:"draw",measureContentWidth:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return b.viewBox?a.heightModel.shrinkWrap?c.width:d.width/d.height*(a.getProp("contentHeight")-c.height)+c.width:b.autoSize?d.width+c.width:d.x+d.width+c.width},measureContentHeight:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return a.target.viewBox?a.widthModel.shrinkWrap?c.height:d.height/d.width*(a.getProp("contentWidth")-c.width)+c.height:b.autoSize?d.height+c.height:d.y+d.height+c.height},getBBox:function(a){var b=a.surfaceBBox;return b||(b=a.target.surface.items.getBBox(),b.width===-1/0&&b.height===-1/0&&(b.width=b.height=b.x=b.y=0),a.surfaceBBox=b),b},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,!0)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,!0)},finishedLayout:function(a){var b=a.props,c=a.getPaddingInfo();this.owner.setSurfaceSize(b.contentWidth-c.width,b.contentHeight-c.height),this.callParent(arguments)}}),Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var a,b,c,d,e,f,g=this,h=g.viewBox,i=g.autoSize;g.callParent(arguments),g.createSurface()!==!1&&(b=g.surface.items,(h||i)&&(a=b.getBBox(),c=a.width,d=a.height,e=a.x,f=a.y,g.viewBox?g.surface.setViewBox(e,f,c,d):g.autoSizeSurface()))},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(a,b){if(this.surface.setSize(a,b),this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y-+Ext.isOpera,a,b)}},createSurface:function(){function a(a){return function(b){c.fireEvent(a,b)}}var b,c=this,d=Ext.applyIf({renderTo:c.el,height:c.height,width:c.width,items:c.items},c.initialConfig);return delete d.listeners,d.gradients||(d.gradients=c.gradients),(b=Ext.draw.Surface.create(d,c.enginePriority))?(c.surface=b,void b.on({scope:c,mouseup:a("mouseup"),mousedown:a("mousedown"),mousemove:a("mousemove"),mouseenter:a("mouseenter"),mouseleave:a("mouseleave"),click:a("click"),dblclick:a("dblclick")})):!1
},onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}}),Ext.chart=Ext.chart||{},Ext.define("Ext.chart.theme.Theme",function(){return function(){Ext.chart.theme=function(a,b){a=a||{};var c,d,e,f,g,h,i,j,k,l,m=0,n=Ext.Date.now(),o=[];if(a.baseColor&&(k=Ext.draw.Color.fromString(a.baseColor),l=k.getHSL()[2],.15>l?k=k.getLighter(.3):.3>l?k=k.getLighter(.15):l>.85?k=k.getDarker(.3):l>.7&&(k=k.getDarker(.15)),a.colors=[k.getDarker(.3).toString(),k.getDarker(.15).toString(),k.toString(),k.getLighter(.15).toString(),k.getLighter(.3).toString()],delete a.baseColor),a.colors){for(d=a.colors.slice(),g=b.markerThemes,f=b.seriesThemes,c=d.length,b.colors=d;c>m;m++)e=d[m],i=g[m]||{},h=f[m]||{},i.fill=h.fill=i.stroke=h.stroke=e,g[m]=i,f[m]=h;b.markerThemes=g.slice(0,c),b.seriesThemes=f.slice(0,c)}for(j in b)j in a&&(Ext.isObject(a[j])&&Ext.isObject(b[j])?Ext.apply(b[j],a[j]):b[j]=a[j]);if(a.useGradients){for(d=b.colors||function(){var a=[];for(m=0,f=b.seriesThemes,c=f.length;c>m;m++)a.push(f[m].fill||f[m].stroke);return a}(),m=0,c=d.length;c>m;m++)k=Ext.draw.Color.fromString(d[m]),k&&(e=k.getDarker(.1).toString(),k=k.toString(),j="theme-"+k.substr(1)+"-"+e.substr(1)+"-"+n,o.push({id:j,angle:45,stops:{0:{color:k.toString()},100:{color:e.toString()}}}),d[m]="url(#"+j+")");b.gradients=o,b.colors=d}Ext.apply(this,b)}}(),{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:!1,initTheme:function(a){var b,c,d=this,e=Ext.chart.theme;if(a){a=a.split(":");for(b in e)if(b==a[0])return c="gradients"==a[1],d.themeAttrs=new e[b]({useGradients:c}),c&&(d.gradients=d.themeAttrs.gradients),void(d.themeAttrs.background&&(d.background=d.themeAttrs.background))}}}}()),Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"}),this.callParent([a])},initComponent:function(){var a=this;a.callParent(arguments),a.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(){var a=this,b=a.comp;this.startPosition=b.getPosition(!0),b.ghost&&!b.liveDrag&&(a.proxy=b.ghost(),a.dragTarget=a.proxy.header.el),(a.constrain||a.constrainDelegate)&&(a.constrainTo=a.calculateConstrainRegion())}}}),Ext.define("Ext.chart.Mask",{requires:["Ext.chart.MaskLayer"],constructor:function(a){var b=this;b.addEvents("select"),a&&Ext.apply(b,a),b.enableMask&&b.on("afterrender",function(){var a=new Ext.chart.MaskLayer({renderTo:b.el,hidden:!0});a.el.on({mousemove:function(a){b.onMouseMove(a)},mouseup:function(a){b.onMouseUp(a)}}),a.initDraggable(),b.maskType=b.mask,b.mask=a,b.maskSprite=b.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:!0,stroke:"#00f",cursor:"crosshair"})},b,{single:!0})},onMouseUp:function(a){var b,c=this,d=c.bbox||c.chartBBox;c.maskMouseDown=!1,c.mouseDown=!1,c.mouseMoved&&(c.handleMouseEvent(a),c.mouseMoved=!1,b=c.maskSelection,c.fireEvent("select",c,{x:b.x-d.x,y:b.y-d.y,width:b.width,height:b.height}))},onMouseDown:function(a){this.handleMouseEvent(a)},onMouseMove:function(a){this.handleMouseEvent(a)},handleMouseEvent:function(a){var b,c=this,d=c.maskType,e=c.bbox||c.chartBBox,f=e.x,g=e.y,h=Math,i=h.floor,j=h.abs,k=h.min,l=h.max,m=i(g+e.height),n=i(f+e.width),o=a.getPageX()-c.el.getX(),p=a.getPageY()-c.el.getY(),q=c.maskMouseDown;o=l(o,f),p=l(p,g),o=k(o,n),p=k(p,m),"mousedown"===a.type?(c.mouseDown=!0,c.mouseMoved=!1,c.maskMouseDown={x:o,y:p}):(c.mouseMoved=c.mouseDown,q&&c.mouseDown?("horizontal"==d?(p=g,q.y=m):"vertical"==d&&(o=f,q.x=n),n=q.x-o,m=q.y-p,b=["M",o,p,"l",n,0,0,m,-n,0,"z"],c.maskSelection={x:(n>0?o:o+n)+c.el.getX(),y:(m>0?p:p+m)+c.el.getY(),width:j(n),height:j(m)},c.mask.updateBox(c.maskSelection),c.mask.show(),c.maskSprite.setAttributes({hidden:!0},!0)):(b="horizontal"==d?["M",o,g,"L",o,m]:"vertical"==d?["M",f,p,"L",n,p]:["M",o,g,"L",o,m,"M",f,p,"L",n,p],c.maskSprite.setAttributes({path:b,"stroke-width":d===!0?1:1,hidden:!1},!0)))},onMouseLeave:function(){var a=this;a.mouseMoved=!1,a.mouseDown=!1,a.maskMouseDown=!1,a.mask.hide(),a.maskSprite.hide(!0)}}),Ext.define("Ext.chart.Navigation",{setZoom:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=n.axes.items,p=n.chartBBox,q=p.width,r=p.height,s={x:a.x-n.el.getX(),y:a.y-n.el.getY(),width:a.width,height:a.height};for(b=0,c=o.length;c>b;b++)d=o[b],m="bottom"==d.position||"top"==d.position,"Category"==d.type?(i||(i=n.getChartStore(),j=i.data.items.length),e=s,l=d.length,k=Math.round(l/j),m?(g=e.x?Math.floor(e.x/k)+1:0,h=(e.x+e.width)/k):(g=e.y?Math.floor(e.y/k)+1:0,h=(e.y+e.height)/k)):(e={x:s.x/q,y:s.y/r,width:s.width/q,height:s.height/r},f=d.calcEnds(),m?(g=(f.to-f.from)*e.x+f.from,h=(f.to-f.from)*e.width+g):(h=(f.to-f.from)*(1-e.y)+f.from,g=h-(f.to-f.from)*e.height)),d.minimum=g,d.maximum=h,m?d.doConstrain&&"vertical"!=n.maskType&&d.doConstrain():d.doConstrain&&"horizontal"!=n.maskType&&d.doConstrain();n.redraw(!1)},restoreZoom:function(){var a,b,c,d=this,e=d.axes.items;for(d.setSubStore(null),a=0,b=e.length;b>a;a++)c=e[a],delete c.minimum,delete c.maximum;d.redraw(!1)}}),Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(a,b){return a.add(Ext.apply({type:"circle",x:b.x,y:b.y,stroke:null,radius:b.radius},b))},line:function(a,b){return a.add(Ext.apply({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius/5},b))},square:function(a,b){return a.add(Ext.applyIf({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius,radius:null},b))},triangle:function(a,b){return b.radius*=1.75,a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x,",",b.y,"m0-",.58*b.radius,"l",.5*b.radius,",",.87*b.radius,"-",b.radius,",0z")},b))},diamond:function(a,b){var c=b.radius;return c*=1.5,a.add(Ext.apply({type:"path",stroke:null,path:["M",b.x,b.y-c,"l",c,c,-c,c,-c,-c,c,-c,"z"]},b))},cross:function(a,b){var c=b.radius;return c/=1.7,a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c,",",b.y,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"])},b))},plus:function(a,b){var c=b.radius/1.3;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c/2,",",b.y-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"])},b))},arrow:function(a,b){var c=b.radius;return a.add(Ext.apply({type:"path",path:"M".concat(b.x-.7*c,",",b.y-.4*c,"l",[.6*c,0,0,.4*-c,c,.8*c,-c,.8*c,0,.4*-c,.6*-c,0],"z")},b))},drop:function(a,b,c,d,e,f){e=e||30,f=f||0,a.add({type:"path",path:["M",b,c,"l",e,0,"A",.4*e,.4*e,0,1,0,b+.7*e,c-.7*e,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-f,x:b,y:c}}),f=(f+90)*Math.PI/180,a.add({type:"text",x:b+e*Math.sin(f)-10,y:c+e*Math.cos(f)+5,text:d,"font-size":12*e/40,stroke:"none",fill:"#fff"})}}),Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],hiddenSeries:!1,label:void 0,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments),this.createLegend(a)},createLegend:function(a){var b=this,c=b.series,d=a.yFieldIndex;b.label=b.createLabel(a),b.createSeriesMarkers(a),b.setAttributes({hidden:!1},!0),b.yFieldIndex=d,b.on("mouseover",b.onMouseOver,b),b.on("mouseout",b.onMouseOut,b),b.on("mousedown",b.onMouseDown,b),c.visibleInLegend(d)||(b.hiddenSeries=!0,b.label.setAttributes({opacity:.5},!0)),b.updatePosition({x:0,y:0})},getLabelText:function(){function a(a){var b=c[a];return Ext.isArray(b)?b[d]:b}var b=this,c=b.series,d=b.yFieldIndex;return a("title")||a("yField")},createLabel:function(){var a=this,b=a.legend;return a.add("label",a.surface.add({type:"text",x:20,y:0,zIndex:(a.zIndex||0)+2,fill:b.labelColor,font:b.labelFont,text:a.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(a){var b=this,c=a.yFieldIndex,d=b.series,e=d.type,f=(b.surface,b.zIndex);if("line"===e||"scatter"===e){if("line"===e){var g=Ext.apply(d.seriesStyle,d.style);b.drawLine(.5,.5,16.5,.5,f,g,c)}if(d.showMarkers||"scatter"===e){var h=Ext.apply(d.markerStyle,d.markerConfig||{},{fill:d.getLegendColor(c)});b.drawMarker(8.5,.5,f,h)}}else b.drawFilledBox(12,12,f,c)},drawLine:function(a,b,c,d,e,f,g){var h=this,i=h.surface,j=h.series;return h.add("line",i.add({type:"path",path:"M"+a+","+b+"L"+c+","+d,zIndex:(e||0)+2,"stroke-width":j.lineWidth,"stroke-linejoin":"round","stroke-dasharray":j.dash,stroke:f.stroke||j.getLegendColor(g)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(a,b,c,d){{var e=this,f=e.surface;e.series}return e.add("marker",Ext.chart.Shape[d.type](f,{fill:d.fill,x:a,y:b,zIndex:(c||0)+2,radius:d.radius||d.size,style:{cursor:"pointer"}}))},drawFilledBox:function(a,b,c,d){var e=this,f=e.surface,g=e.series;return e.add("box",f.add({type:"rect",zIndex:(c||0)+2,x:0,y:0,width:a,height:b,fill:g.getLegendColor(d),style:{cursor:"pointer"}}))},onMouseOver:function(){var a=this;a.label.setStyle({"font-weight":"bold"}),a.series._index=a.yFieldIndex,a.series.highlightItem()},onMouseOut:function(){var a=this,b=a.legend,c=a.boldRe;a.label.setStyle({"font-weight":b.labelFont&&c.test(b.labelFont)?"bold":"normal"}),a.series._index=a.yFieldIndex,a.series.unHighlightItem()},onMouseDown:function(){var a=this,b=a.yFieldIndex;a.hiddenSeries?(a.series.showAll(b),a.label.setAttributes({opacity:1},!0)):(a.series.hideAll(b),a.label.setAttributes({opacity:.5},!0)),a.hiddenSeries=!a.hiddenSeries,a.legend.chart.redraw()},updatePosition:function(a){var b,c=this,d=c.items,e=d.length,f=0;for(a||(a=c.legend);e>f;f++)switch(b=d[f],b.type){case"text":b.setAttributes({x:20+a.x+c.x,y:a.y+c.y},!0);break;case"rect":b.setAttributes({translate:{x:a.x+c.x,y:a.y+c.y-6}},!0);break;default:b.setAttributes({translate:{x:a.x+c.x,y:a.y+c.y}},!0)}}}),Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(a){var b=this;a&&Ext.apply(b,a),b.items=[],b.isVertical=-1!=="left|right|float".indexOf(b.position),b.origX=b.x,b.origY=b.y},create:function(){var a,b,c,d=this,e=d.chart.series.items;if(d.createBox(),d.rebuild!==!1&&d.createItems(),!d.created&&d.isDisplayed())for(d.created=!0,a=0,b=e.length;b>a;a++)c=e[a],c.on("titlechange",d.redraw,d)},redraw:function(){var a=this;a.create(),a.updatePosition()},isDisplayed:function(){return this.visible&&-1!==this.chart.series.findIndex("showInLegend",!0)},createItems:function(){var a,b,c,d,e,f,g,h=this,i=h.chart.series.items,j=h.items;for(h.removeItems(),b=0,c=i.length;c>b;b++)if(f=i[b],f.showInLegend)for(a=[].concat(f.yField),d=0,e=a.length;e>d;d++)g=h.createLegendItem(f,d),j.push(g);h.alignItems()},removeItems:function(){var a,b=this,c=b.items,d=c?c.length:0;if(d)for(a=0;d>a;a++)c[a].destroy();c.length=[]},alignItems:function(){var a,b,c,d,e,f=this,g=f.padding,h=f.isVertical,i=Math.floor;a=f.updateItemDimensions(),b=a.maxWidth,c=a.maxHeight,d=a.totalWidth,e=a.totalHeight,f.width=i((h?b:d)+2*g),f.height=i((h?e:c)+2*g)},updateItemDimensions:function(){var a,b,c,d,e,f,g=this,h=g.items,i=g.padding,j=g.itemSpacing,k=0,l=0,m=0,n=0,o=g.isVertical,p=Math.floor,q=Math.max,r=0;for(a=0,b=h.length;b>a;a++)c=h[a],d=c.getBBox(),e=d.width,f=d.height,r=0===a?0:j,c.x=i+p(o?0:m+r),c.y=i+p(o?n+r:0)+f/2,m+=r+e,n+=r+f,k=q(k,e),l=q(l,f);return{totalWidth:m,totalHeight:n,maxWidth:k,maxHeight:l}},createLegendItem:function(a,b){var c=this;return new Ext.chart.LegendItem({legend:c,series:a,surface:c.chart.surface,yFieldIndex:b})},getBBox:function(){var a=this;return{x:Math.round(a.x)-a.boxStrokeWidth/2,y:Math.round(a.y)-a.boxStrokeWidth/2,width:a.width+a.boxStrokeWidth,height:a.height+a.boxStrokeWidth}},createBox:function(){var a,b,c=this;return c.boxSprite&&c.boxSprite.destroy(),b=c.getBBox(),isNaN(b.width)||isNaN(b.height)?void(c.boxSprite=!1):(a=c.boxSprite=c.chart.surface.add(Ext.apply({type:"rect",stroke:c.boxStroke,"stroke-width":c.boxStrokeWidth,fill:c.boxFill,zIndex:c.boxZIndex},b)),void a.redraw())},calcPosition:function(){var a,b,c=this,d=c.width,e=c.height,f=c.chart,g=f.chartBBox,h=f.insetPadding,i=g.width-2*h,j=g.height-2*h,k=g.x+h,l=g.y+h,m=f.surface,n=Math.floor;switch(c.position){case"left":a=h,b=n(l+j/2-e/2);break;case"right":a=n(m.width-d)-h,b=n(l+j/2-e/2);break;case"top":a=n(k+i/2-d/2),b=h;break;case"bottom":a=n(k+i/2-d/2),b=n(m.height-e)-h;break;default:a=n(c.origX)+h,b=n(c.origY)+h}return{x:a,y:b}},updatePosition:function(){var a,b,c,d,e=this,f=e.items;if(e.isDisplayed()){for(a=e.calcPosition(),e.x=a.x,e.y=a.y,b=0,c=f.length;c>b;b++)f[b].updatePosition();d=e.getBBox(),isNaN(d.width)||isNaN(d.height)?e.boxSprite&&e.boxSprite.hide(!0):(e.boxSprite||e.createBox(),e.boxSprite.setAttributes(d,!0),e.boxSprite.show(!0))}},toggle:function(a){var b=this,c=0,d=b.items,e=d.length;for(b.boxSprite&&(a?b.boxSprite.show(!0):b.boxSprite.hide(!0));e>c;++c)a?d[c].show(!0):d[c].hide(!0);b.visible=a}}),Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(a){var b=Ext.identityFn;Ext.chart.theme.call(this,a,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var a=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],b=["Green","Sky","Red","Purple","Blue","Yellow"],c=0,d=a.length,e=Ext.chart.theme,f=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],g=f.length;d>c;c++)e[b[c]]=function(a){return Ext.extend(e.Base,{constructor:function(b){e.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},b))}})}(a[c]);for(c=0;g>c;c++)e["Category"+(c+1)]=function(a){return Ext.extend(e.Base,{constructor:function(b){e.Base.prototype.constructor.call(this,Ext.apply({colors:a},b))}})}(f[c])}),Ext.define("Ext.chart.Chart",{extend:"Ext.draw.Component",alias:"widget.chart",mixins:{themeManager:"Ext.chart.theme.Theme",mask:"Ext.chart.Mask",navigation:"Ext.chart.Navigation",bindable:"Ext.util.Bindable",observable:"Ext.util.Observable"},uses:["Ext.chart.series.Series"],requires:["Ext.util.MixedCollection","Ext.data.StoreManager","Ext.chart.Legend","Ext.chart.theme.Base","Ext.chart.theme.Theme","Ext.util.DelayedTask"],viewBox:!1,animate:!1,legend:!1,insetPadding:10,background:!1,constructor:function(a){var b,c=this;a=Ext.apply({},a),c.initTheme(a.theme||c.theme),c.gradients&&Ext.apply(a,{gradients:c.gradients}),c.background&&Ext.apply(a,{background:c.background}),a.animate&&(b={easing:"ease",duration:500},a.animate=Ext.isObject(a.animate)?Ext.applyIf(a.animate,b):b),c.mixins.observable.constructor.call(c,a),a.enableMask&&c.mixins.mask.constructor.call(c),c.mixins.navigation.constructor.call(c),c.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var a,b,c=this;c.callParent(),c.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(c,{zoom:{width:1,height:1,x:0,y:0}}),c.maxGutters={left:0,right:0,bottom:0,top:0},c.store=Ext.data.StoreManager.lookup(c.store),a=c.axes,c.axes=new Ext.util.MixedCollection(!1,function(a){return a.position}),a&&c.axes.addAll(a),b=c.series,c.series=new Ext.util.MixedCollection(!1,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))}),b&&c.series.addAll(b),c.legend!==!1&&(c.legend=new Ext.chart.Legend(Ext.applyIf({chart:c},c.legend))),c.on({mousemove:c.onMouseMove,mouseleave:c.onMouseLeave,mousedown:c.onMouseDown,mouseup:c.onMouseUp,click:c.onClick,dblclick:c.onDblClick,scope:c})},afterComponentLayout:function(a,b,c,d){var e=this;Ext.isNumber(a)&&Ext.isNumber(b)&&(a!==c||b!==d?(e.curWidth=a,e.curHeight=b,e.redraw(!0),e.needsRedraw=!1):e.needsRedraw&&(e.redraw(),e.needsRedraw=!1)),this.callParent(arguments)},redraw:function(a){var b,c,d,e=this,f=e.series.items,g=f.length,h=e.axes.items,i=h.length,j=0,k=e.chartBBox={x:0,y:0,height:e.curHeight,width:e.curWidth},l=e.legend;for(e.surface.setSize(k.width,k.height),b=0;g>b;b++)c=f[b],d=c.initialized?c:e.initializeSeries(c,b,j),d.onRedraw(),Ext.isArray(c.yField)?j+=c.yField.length:++j;for(b=0;i>b;b++)c=h[b],c.initialized||e.initializeAxis(c);for(b=0;i>b;b++)h[b].processView();for(b=0;i>b;b++)h[b].drawAxis(!0);for(l!==!1&&l.visible&&(l.update||!l.created)&&l.create(),e.alignAxes(),l!==!1&&l.visible&&l.updatePosition(),e.getMaxGutters(),e.resizing=!!a,b=0;i>b;b++)h[b].drawAxis();for(b=0;g>b;b++)e.drawCharts(f[b]);e.resizing=!1},afterRender:function(){var a=this;a.callParent(arguments),a.categoryNames&&a.setCategoryNames(a.categoryNames),a.bindStore(a.store,!0),a.refresh(),"Vml"===a.surface.engine&&(a.on("added",a.onAddedVml,a),a.mon(a.hierarchyEventSource,"added",a.onContainerAddedVml,a))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(a){this.isDescendantOf(a)&&(this.needsRedraw=!0)},getEventXY:function(a){var b=this.surface.getRegion(),c=a.getXY(),d=c[0]-b.left,e=c[1]-b.top;return[d,e]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(a,b){var c,d,e,f,g=this,h=g.getEventXY(b),i=g.series.items;for(c=0,d=i.length;d>c;c++)e=i[c],Ext.draw.Draw.withinBox(h[0],h[1],e.bbox)&&e.getItemForPoint&&(f=e.getItemForPoint(h[0],h[1]),f&&e.fireEvent(a,f))},onMouseDown:function(a){var b,c,d,e,f=this,g=f.getEventXY(a),h=f.series.items;for(f.enableMask&&f.mixins.mask.onMouseDown.call(f,a),b=0,c=h.length;c>b;b++)d=h[b],Ext.draw.Draw.withinBox(g[0],g[1],d.bbox)&&d.getItemForPoint&&(e=d.getItemForPoint(g[0],g[1]),e&&d.fireEvent("itemmousedown",e))},onMouseUp:function(a){var b,c,d,e,f=this,g=f.getEventXY(a),h=f.series.items;for(f.enableMask&&f.mixins.mask.onMouseUp.call(f,a),b=0,c=h.length;c>b;b++)d=h[b],Ext.draw.Draw.withinBox(g[0],g[1],d.bbox)&&d.getItemForPoint&&(e=d.getItemForPoint(g[0],g[1]),e&&d.fireEvent("itemmouseup",e))},onMouseMove:function(a){var b,c,d,e,f,g,h,i=this,j=i.getEventXY(a),k=i.series.items;for(i.enableMask&&i.mixins.mask.onMouseMove.call(i,a),b=0,c=k.length;c>b;b++)d=k[b],Ext.draw.Draw.withinBox(j[0],j[1],d.bbox)?d.getItemForPoint&&(e=d.getItemForPoint(j[0],j[1]),f=d._lastItemForPoint,g=d._lastStoreItem,h=d._lastStoreField,(e!==f||e&&(e.storeItem!=g||e.storeField!=h))&&(f&&(d.fireEvent("itemmouseout",f),delete d._lastItemForPoint,delete d._lastStoreField,delete d._lastStoreItem),e&&(d.fireEvent("itemmouseover",e),d._lastItemForPoint=e,d._lastStoreItem=e.storeItem,d._lastStoreField=e.storeField))):(f=d._lastItemForPoint,f&&(d.fireEvent("itemmouseout",f),delete d._lastItemForPoint,delete d._lastStoreField,delete d._lastStoreItem))},onMouseLeave:function(a){var b,c,d,e=this,f=e.series.items;for(e.enableMask&&e.mixins.mask.onMouseLeave.call(e,a),b=0,c=f.length;c>b;b++)d=f[b],delete d._lastItemForPoint},delayRefresh:function(){var a=this;a.refreshTask||(a.refreshTask=new Ext.util.DelayedTask(a.refresh,a)),a.refreshTask.delay(a.refreshBuffer)},refresh:function(){var a=this;if(a.rendered&&void 0!==a.curWidth&&void 0!==a.curHeight){if(!a.isVisible(!0))return void(a.refreshPending||(a.setShowListeners("mon"),a.refreshPending=!0));a.fireEvent("beforerefresh",a)!==!1&&(a.redraw(),a.fireEvent("refresh",a))}},onShow:function(){var a=this;a.callParent(arguments),a.refreshPending&&(a.delayRefresh(),a.setShowListeners("mun")),delete a.refreshPending},setShowListeners:function(a){var b=this;b[a](b.hierarchyEventSource,{scope:b,single:!0,show:b.forceRefresh,expand:b.forceRefresh})},doRefresh:function(){this.setSubStore(null),this.refresh()},forceRefresh:function(a){var b=this;b.isDescendantOf(a)&&b.refreshPending&&(b.setShowListeners("mun"),b.delayRefresh()),delete b.refreshPending},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments),c.store&&!b&&c.refresh()},getStoreListeners:function(){var a=this.doRefresh,b=this.delayRefresh;return{refresh:a,add:b,bulkremove:b,update:b,clear:a}},setSubStore:function(a){this.substore=a},initializeAxis:function(a){var b=this,c=b.chartBBox,d=c.width,e=c.height,f=c.x,g=c.y,h=b.themeAttrs,i={chart:b};switch(h&&(i.axisStyle=Ext.apply({},h.axis),i.axisLabelLeftStyle=Ext.apply({},h.axisLabelLeft),i.axisLabelRightStyle=Ext.apply({},h.axisLabelRight),i.axisLabelTopStyle=Ext.apply({},h.axisLabelTop),i.axisLabelBottomStyle=Ext.apply({},h.axisLabelBottom),i.axisTitleLeftStyle=Ext.apply({},h.axisTitleLeft),i.axisTitleRightStyle=Ext.apply({},h.axisTitleRight),i.axisTitleTopStyle=Ext.apply({},h.axisTitleTop),i.axisTitleBottomStyle=Ext.apply({},h.axisTitleBottom)),a.position){case"top":Ext.apply(i,{length:d,width:e,x:f,y:g});break;case"bottom":Ext.apply(i,{length:d,width:e,x:f,y:e});break;case"left":Ext.apply(i,{length:e,width:d,x:f,y:e});break;case"right":Ext.apply(i,{length:e,width:d,x:d,y:e})}a.chart?Ext.apply(a,i):(Ext.apply(i,a),a=b.axes.replace(Ext.createByAlias("axis."+a.type.toLowerCase(),i))),a.initialized=!0},getInsets:function(){var a=this,b=a.insetPadding;return{top:b,right:b,bottom:b,left:b}},calculateInsets:function(){function a(a){var b=k.findIndex("position",a);return 0>b?null:k.getAt(b)}var b,c,d,e,f,g,h,i=this,j=i.legend,k=i.axes,l=["top","right","bottom","left"];for(b=i.getInsets(),c=0,d=l.length;d>c;c++)e=l[c],f="left"===e||"right"===e,g=a(e),j!==!1&&j.position===e&&(h=j.getBBox(),b[e]+=(f?h.width:h.height)+i.insetPadding),g&&g.bbox&&(h=g.bbox,b[e]+=f?h.width:h.height);return b},alignAxes:function(){var a,b,c,d,e,f,g,h=this,i=h.axes.items;for(a=h.calculateInsets(),b={x:a.left,y:a.top,width:h.curWidth-a.left-a.right,height:h.curHeight-a.top-a.bottom},h.chartBBox=b,c=0,d=i.length;d>c;c++)e=i[c],f=e.position,g="left"===f||"right"===f,e.x="right"===f?b.x+b.width:b.x,e.y="top"===f?b.y:b.y+b.height,e.width=g?b.width:b.height,e.length=g?b.height:b.width},initializeSeries:function(a,b,c){var d,e,f,g,h,j,k,l=this,m=l.themeAttrs,n=[],o=(a instanceof Ext.chart.series.Series).i=0;if(!a.initialized){if(k={chart:l,seriesId:a.seriesId},m){if(f=m.seriesThemes,h=m.markerThemes,d=Ext.apply({},m.series),e=Ext.apply({},m.marker),k.seriesStyle=Ext.apply(d,f[c%f.length]),k.seriesLabelStyle=Ext.apply({},m.seriesLabel),k.markerStyle=Ext.apply(e,h[c%h.length]),m.colors)k.colorArrayStyle=m.colors;else{for(n=[],j=f.length;j>i;i++)g=f[i],(g.fill||g.stroke)&&n.push(g.fill||g.stroke);n.length&&(k.colorArrayStyle=n)}k.seriesIdx=b,k.themeIdx=c}o?Ext.applyIf(a,k):(Ext.applyIf(k,a),a=l.series.replace(Ext.createByAlias("series."+a.type.toLowerCase(),k)))}return a.initialize&&a.initialize(),a.initialized=!0,a},getMaxGutters:function(){var a,b,c,d=this,e=d.series.items,f=0,g=0,h=0,i=0;for(a=0,b=e.length;b>a;a++)c=e[a].getGutters(),c&&(c.verticalAxis?(h=Math.max(h,c.lower),i=Math.max(i,c.upper)):(f=Math.max(f,c.lower),g=Math.max(g,c.upper)));d.maxGutters={left:f,right:g,bottom:h,top:i}},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=!1,a.drawSeries(),this.animate||a.fireEvent("afterrender")},save:function(a){return Ext.draw.Surface.save(this.surface,a)},destroy:function(){Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}}),Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){a.highlight&&"boolean"!=typeof a.highlight&&(this.highlightCfg=Ext.merge({},this.highlightCfg,a.highlight))},highlightItem:function(a){if(a){var b,c,d,e,f=this,g=a.sprite,h=Ext.merge({},f.highlightCfg,f.highlight),i=f.chart.surface,j=f.chart.animate;if(f.highlight&&g&&!g._highlighted){if(g._anim&&(g._anim.paused=!0),g._highlighted=!0,!g._defaults){g._defaults=Ext.apply({},g.attr),c={},d={};for(b in h)if(b in g._defaults||(g._defaults[b]=i.availableAttrs[b]),c[b]=g._defaults[b],d[b]=h[b],Ext.isObject(h[b])){c[b]={},d[b]={},Ext.apply(g._defaults[b],g.attr[b]),Ext.apply(c[b],g._defaults[b]);for(e in g._defaults[b])d[b][e]=e in h[b]?h[b][e]:c[b][e];for(e in h[b])e in d[b]||(d[b][e]=h[b][e])}g._from=c,g._to=d,g._endStyle=d}j?g._anim=new Ext.fx.Anim({target:g,from:g._from,to:g._to,duration:150}):g.setAttributes(g._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var a,b,c,d=this,e=d.items,f=e.length,g=Ext.merge({},d.highlightCfg,d.highlight),h=d.chart.animate,i=0;f>i;i++)if(e[i]&&(c=e[i].sprite,c&&c._highlighted)){c._anim&&(c._anim.paused=!0),a={};for(b in g)a[b]=Ext.isObject(c._defaults[b])?Ext.apply({},c._defaults[b]):c._defaults[b];h?(c._endStyle=a,c._anim=new Ext.fx.Anim({target:c,to:a,duration:150})):c.setAttributes(a,!0),delete c._highlighted}},cleanHighlights:function(){if(this.highlight){var a,b=this.group,c=this.markerGroup,d=0;for(a=b.getCount();a>d;d++)delete b.getAt(d)._defaults;if(c)for(a=c.getCount();a>d;d++)delete c.getAt(d)._defaults}}}),Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(){var a=this;a.label=Ext.applyIf(a.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn}),"none"!==a.label.display&&(a.labelsGroup=a.chart.surface.getGroup(a.seriesId+"-labels"))},renderLabels:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this,y=x.chart,z=y.gradients,A=x.items,B=y.animate,C=x.label,D=C.display,E=C.stackedDisplay,F=C.renderer,G=C.color,H=[].concat(C.field),I=x.labelsGroup,J=(I||0)&&I.length,K=x.chart.getChartStore(),L=K.getCount(),M=(A||0)&&A.length,N=M/L,O=(z||0)&&z.length,P=Ext.draw.Color,Q=[];if("none"!=D&&I){if(0==M)for(;J--;)Q.push(J);else{for(b=0,c=0,d=0;L>b;b++)for(e=0,f=0;N>f;f++){for(k=A[c],l=I.getAt(d),m=K.getAt(b);this.__excludes&&this.__excludes[e];)e++;if(!k&&l&&(l.hide(!0),d++),k&&H[f]){if(!l&&(l=x.onCreateLabel(m,k,b,D),!l))break;if(l.setAttributes({fill:String(G)},!0),x.onPlaceLabel(l,m,k,b,D,B,e),d++,C.contrast&&k.sprite){if(n=k.sprite,r=B&&n._endStyle?n._endStyle.fill:B&&n._to?n._to.fill:n.attr.fill,r=r||n.attr.fill,o=P.fromString(r),r&&!o){for(r=r.match(x.colorStringRe)[1],g=0;O>g;g++)if(a=z[g],a.id==r){j=0,h=0;for(i in a.stops)j++,h+=P.fromString(a.stops[i].color).getGrayscale();p=h/j/255;break}}else p=o.getGrayscale()/255;l.isOutside&&(p=1),q=P.fromString(l.attr.fill||l.attr.color).getHSL(),q[2]=p>.5?.2:.8,l.setAttributes({fill:String(P.fromHSL.apply({},q))},!0)}x.stacked&&E&&(k.totalPositiveValues||k.totalNegativeValues)&&(t=k.totalPositiveValues||0,u=k.totalNegativeValues||0,s=t+u,"total"==E?v=F(s):"balances"==E&&(0==t&&0==u?v=F(0):(v=F(t),w=F(u))),v&&(l=I.getAt(d),l||(l=x.onCreateLabel(m,k,b,"over")),q=P.fromString(l.attr.color||l.attr.fill).getHSL(),l.setAttributes({text:v,style:C.font,fill:String(P.fromHSL.apply({},q))},!0),x.onPlaceLabel(l,m,k,b,"over",B,e),d++),w&&(l=I.getAt(d),l||(l=x.onCreateLabel(m,k,b,"under")),q=P.fromString(l.attr.color||l.attr.fill).getHSL(),l.setAttributes({text:w,style:C.font,fill:String(P.fromHSL.apply({},q))},!0),x.onPlaceLabel(l,m,k,b,"under",B,e),d++))}c++,e++}for(J=I.length;J>d;)Q.push(d),d++}x.hideLabels(Q)}},hideLabels:function(a){var b=this.labelsGroup,c=!!a&&a.length;if(b)if(c===!1)for(c=b.getCount();c--;)b.getAt(c).hide(!0);else for(;c--;)b.getAt(a[c]).hide(!0)}}),Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:!1,renderFirst:!0,constructor:function(a){this.callParent([a]),a.sprites&&(this.spriteArray=[].concat(a.sprites),delete a.sprites)},onRender:function(){var a,b,c=this,d=0,e=0;if(this.callParent(arguments),b=c.spriteArray,c.renderFirst&&b)for(c.renderFirst=!1,e=b.length;e>d;d++)a=c.surface.add(b[d]),a.setAttributes({hidden:!1},!0)}}),Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(a){var b,c,d,e=this;a.tips&&(e.tipTimeout=null,e.tipConfig=Ext.apply({},a.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0}),e.tooltip=new Ext.tip.ToolTip(e.tipConfig),e.chart.surface.on("mousemove",e.tooltip.onMouseMove,e.tooltip),e.chart.surface.on("mouseleave",function(){e.hideTip()}),e.tipConfig.surface&&(b=e.tipConfig.surface,c=b.sprites,d=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:c}),b.width&&b.height&&d.setSize(b.width,b.height),e.tooltip.add(d),e.spriteTip=d))},showTip:function(a){var b,c,d,e,f,g,h,i,j,k,l=this;l.tooltip&&(clearTimeout(l.tipTimeout),b=l.tooltip,c=l.spriteTip,d=l.tipConfig,e=b.trackMouse,e||(b.trackMouse=!0,f=a.sprite,g=f.surface,h=Ext.get(g.getId()),h&&(i=h.getXY(),j=i[0]+(f.attr.x||0)+(f.attr.translation&&f.attr.translation.x||0),k=i[1]+(f.attr.y||0)+(f.attr.translation&&f.attr.translation.y||0),b.targetXY=[j,k])),c?d.renderer.call(b,a.storeItem,a,c.surface):d.renderer.call(b,a.storeItem,a),b.show(),b.trackMouse=e)},hideTip:function(){var a=this.tooltip;a&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){a.hide()},0))}}),Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(a){a=a||{};var b=this,c=a.position||"left";c=c.charAt(0).toUpperCase()+c.substring(1),a.label=Ext.apply(a["axisLabel"+c+"Style"]||{},a.label||{}),a.axisTitleStyle=Ext.apply(a["axisTitle"+c+"Style"]||{},a.labelTitle||{}),Ext.apply(b,a),b.fields=Ext.Array.from(b.fields),this.callParent(),b.labels=[],b.getId(),b.labelGroup=b.chart.surface.getGroup(b.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn}),Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],hidden:!1,forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},applyData:Ext.emptyFn,getRange:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.chart,o=n.getChartStore(),p=o.data.items,q=n.series.items,r=m.position,s=Ext.chart.series,t=[],u=1/0,v=-1/0,w="left"===m.position||"right"===m.position||"radial"===m.position,x=p.length,y={},z={},A=!0;for(h=m.fields,e=0,c=h.length;c>e;e++)z[h[e]]=!0;for(b=0,c=q.length;c>b;b++)if(!q[b].seriesIsHidden&&q[b].getAxesForXAndYFields&&(a=q[b].getAxesForXAndYFields(),!a.xAxis||a.xAxis===r||!a.yAxis||a.yAxis===r)){if(h=Ext.Array.from(s.Bar&&q[b]instanceof s.Bar&&!q[b].column?w?q[b].xField:q[b].yField:w?q[b].yField:q[b].xField),m.fields.length){for(e=0,d=h.length;d>e&&!z[h[e]];e++);if(e==d)continue
}if((g=q[b].stacked)&&(s.Bar&&q[b]instanceof s.Bar?q[b].column!=w&&(g=!1,A=!1):w||(g=!1,A=!1)),g){for(i={},e=0;e<h.length;e++)A&&q[b].__excludes&&q[b].__excludes[e]||(z[h[e]]||Ext.Logger.warn("Field `"+h[e]+"` is not included in the "+r+" axis config."),z[h[e]]=i[h[e]]=!0);t.push({fields:i,positiveValue:0,negativeValue:0})}else for(h&&0!=h.length||(h=m.fields),e=0;e<h.length;e++)A&&q[b].__excludes&&q[b].__excludes[e]||(z[h[e]]=y[h[e]]=!0)}for(b=0;x>b;b++){for(j=p[b],f=0;f<t.length;f++)t[f].positiveValue=0,t[f].negativeValue=0;for(k in z)if(l=j.get(k),"Time"==m.type&&"string"==typeof l&&(l=Date.parse(l)),!isNaN(l))for(l=void 0===l?0:Number(l),y[k]&&(u>l&&(u=l),l>v&&(v=l)),f=0;f<t.length;f++)t[f].fields[k]&&(l>=0?(t[f].positiveValue+=l,v<t[f].positiveValue&&(v=t[f].positiveValue),u>0&&(u=0)):(t[f].negativeValue+=l,u>t[f].negativeValue&&(u=t[f].negativeValue),0>v&&(v=0)))}return isFinite(v)||(v=m.prevMax||0),isFinite(u)||(u=m.prevMin||0),"number"==typeof u&&(u=Ext.Number.correctFloat(u)),"number"==typeof v&&(v=Ext.Number.correctFloat(v)),u==v||v==Math.floor(v)&&u==Math.floor(u)||(u=Math.floor(u),v=Math.floor(v)+1),isNaN(m.minimum)||(u=m.minimum),isNaN(m.maximum)||(v=m.maximum),u>=v&&(u=Math.floor(u),v=u+1),{min:u,max:v}},calcEnds:function(){var a,b,c,d,e=this,f=e.getRange(),g=f.min,h=f.max;return a=Ext.isNumber(e.majorTickSteps)?e.majorTickSteps+1:e.steps,b=!(Ext.isNumber(e.maximum)&&Ext.isNumber(e.minimum)&&Ext.isNumber(e.majorTickSteps)&&e.majorTickSteps>0),c=Ext.draw.Draw.snapEnds(g,h,a,b),Ext.isNumber(e.maximum)&&(c.to=e.maximum,d=!0),Ext.isNumber(e.minimum)&&(c.from=e.minimum,d=!0),e.adjustMaximumByMajorUnit&&(c.to=Math.ceil(c.to/c.step)*c.step,d=!0),e.adjustMinimumByMajorUnit&&(c.from=Math.floor(c.from/c.step)*c.step,d=!0),d&&(c.steps=Math.ceil((c.to-c.from)/c.step)),e.prevMin=g==h?0:g,e.prevMax=h,c},drawAxis:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=this,q=p.x,r=p.y,s=p.dashSize,t=p.length,u=p.position,v="left"==u||"right"==u,w=[],x=p.isNumericAxis,y=p.applyData(),z=y.step,A=y.steps,B=Ext.isArray(A),C=y.from,D=y.to,E=D-C||1,F=p.minorTickSteps||0,G=p.minorTickSteps||0,H=(Math.max(F+1,0),Math.max(G+1,0),"left"==u||"top"==u?-1:1),I=s*H,J=p.chart.series.items,K=J[0],L=K?K.nullGutters:p.nullGutters,M=0;if(p.from=C,p.to=D,!(p.hidden||C>D||B&&0==A.length||!B&&isNaN(z))){if(B)A=Ext.Array.filter(A,function(a){return+a>+p.from&&+a<+p.to},this),A=Ext.Array.union([p.from],A,[p.to]);else{for(A=new Array,m=+p.from;m<+p.to;m+=z)A.push(m);A.push(+p.to)}for(M=A.length,b=0,l=J.length;l>b;b++)if(!J[b].seriesIsHidden&&J[b].getAxesForXAndYFields&&(k=J[b].getAxesForXAndYFields(),!k.xAxis||!k.yAxis||k.xAxis===u||k.yAxis===u)){L=J[b].getGutters(),void 0!==L.verticalAxis&&L.verticalAxis!=v&&(g=J[b].getPadding(),L=v?{lower:g.bottom,upper:g.top,verticalAxis:!0}:{lower:g.left,upper:g.right,verticalAxis:!1});break}if(x&&(p.labels=[]),L)if(v)for(d=Math.floor(q),f=["M",d+.5,r,"l",0,-t],c=t-(L.lower+L.upper),j=0;M>j;j++)e=r-L.lower-(A[j]-A[0])*c/E,f.push("M",d,Math.floor(e)+.5,"l",2*I,0),w.push([d,Math.floor(e)]),x&&p.labels.push(A[j]);else for(e=Math.floor(r),f=["M",q,e+.5,"l",t,0],c=t-(L.lower+L.upper),j=0;M>j;j++)d=q+L.lower+(A[j]-A[0])*c/E,f.push("M",Math.floor(d)+.5,e,"l",0,2*I+1),w.push([Math.floor(d),e]),x&&p.labels.push(A[j]);if(h=v?G:F,Ext.isArray(h)?i=2==h.length?+Ext.Date.add(new Date,h[0],h[1])-Date.now():h[0]:Ext.isNumber(h)&&h>0&&(i=z/(h+1)),L&&i)for(j=0;M-1>j;j++)if(n=+A[j],o=+A[j+1],v)for(value=n+i;o>value;value+=i)e=r-L.lower-(value-A[0])*c/E,f.push("M",d,Math.floor(e)+.5,"l",I,0);else for(value=n+i;o>value;value+=i)d=q+L.upper+(value-A[0])*c/E,f.push("M",Math.floor(d)+.5,e,"l",0,I+1);p.axis||(p.axis=p.chart.surface.add(Ext.apply({type:"path",path:f},p.axisStyle))),p.axis.setAttributes({path:f},!0),p.inflections=w,!a&&p.grid&&p.drawGrid(),p.axisBBox=p.axis.getBBox(),p.drawLabel()}},drawGrid:function(){var a,b,c,d,e,f=this,g=f.chart.surface,h=f.grid,i=h.odd,j=h.even,k=f.inflections,l=k.length-(i||j?0:1),m=f.position,n=f.chart.maxGutters,o=f.width-2,p=1,q=[],r=[],s=[];for((0===n.bottom&&0===n.top||"left"!=m&&"right"!=m)&&(0===n.left&&0===n.right||"top"!=m&&"bottom"!=m)||(p=0,l++);l>p;p++)a=k[p],b=k[p-1],i||j?(q=p%2?r:s,c=(p%2?i:j)||{},d=(c.lineWidth||c["stroke-width"]||0)/2,e=2*d,"left"==m?q.push("M",b[0]+1+d,b[1]+.5-d,"L",b[0]+1+o-d,b[1]+.5-d,"L",a[0]+1+o-d,a[1]+.5+d,"L",a[0]+1+d,a[1]+.5+d,"Z"):"right"==m?q.push("M",b[0]-d,b[1]+.5-d,"L",b[0]-o+d,b[1]+.5-d,"L",a[0]-o+d,a[1]+.5+d,"L",a[0]-d,a[1]+.5+d,"Z"):"top"==m?q.push("M",b[0]+.5+d,b[1]+1+d,"L",b[0]+.5+d,b[1]+1+o-d,"L",a[0]+.5-d,a[1]+1+o-d,"L",a[0]+.5-d,a[1]+1+d,"Z"):q.push("M",b[0]+.5+d,b[1]-d,"L",b[0]+.5+d,b[1]-o+d,"L",a[0]+.5-d,a[1]-o+d,"L",a[0]+.5-d,a[1]-d,"Z")):q=q.concat("left"==m?["M",a[0]+.5,a[1]+.5,"l",o,0]:"right"==m?["M",a[0]-.5,a[1]+.5,"l",-o,0]:"top"==m?["M",a[0]+.5,a[1]+.5,"l",0,o]:["M",a[0]+.5,a[1]-.5,"l",0,-o]);i||j?(r.length&&(!f.gridOdd&&r.length&&(f.gridOdd=g.add({type:"path",path:r})),f.gridOdd.setAttributes(Ext.apply({path:r,hidden:!1},i||{}),!0)),s.length&&(f.gridEven||(f.gridEven=g.add({type:"path",path:s})),f.gridEven.setAttributes(Ext.apply({path:s,hidden:!1},j||{}),!0))):q.length?(f.gridLines||(f.gridLines=f.chart.surface.add({type:"path",path:q,"stroke-width":f.lineWidth||1,stroke:f.gridColor||"#ccc"})),f.gridLines.setAttributes({hidden:!1,path:q},!0)):f.gridLines&&f.gridLines.hide(!0)},getOrCreateLabel:function(a,b){var c=this,d=c.labelGroup,e=d.getAt(a),f=c.chart.surface;return e?b!=e.attr.text&&(e.setAttributes(Ext.apply({text:b},c.label),!0),e._bbox=e.getBBox()):(e=f.add(Ext.apply({group:d,type:"text",x:0,y:0,text:b},c.label)),f.renderItem(e),e._bbox=e.getBBox()),c.label.rotation?(e.setAttributes({rotation:{degrees:0}},!0),e._ubbox=e.getBBox(),e.setAttributes(c.label,!0)):e._ubbox=e._bbox,e},rect2pointArray:function(a){var b=this.chart.surface,c=b.getBBox(a,!0),d=[c.x,c.y],e=d.slice(),f=[c.x+c.width,c.y],g=f.slice(),h=[c.x+c.width,c.y+c.height],i=h.slice(),j=[c.x,c.y+c.height],k=j.slice(),l=a.matrix;return d[0]=l.x.apply(l,e),d[1]=l.y.apply(l,e),f[0]=l.x.apply(l,g),f[1]=l.y.apply(l,g),h[0]=l.x.apply(l,i),h[1]=l.y.apply(l,i),j[0]=l.x.apply(l,k),j[1]=l.y.apply(l,k),[d,f,h,j]},intersect:function(a,b){var c=this.rect2pointArray(a),d=this.rect2pointArray(b);return!!Ext.draw.Draw.intersect(c,d).length},drawHorizontalLabels:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.label,o=Math.floor,p=Math.max,q=m.chart.axes,r=m.chart.insetPadding,s=m.chart.maxGutters,t=m.position,u=m.inflections,v=u.length,w=m.labels,x=0,y=m.adjustEnd,z=-1!=q.findIndex("position","left"),A=-1!=q.findIndex("position","right");for(h=v-1,c=u[0],l=m.getOrCreateLabel(0,m.label.renderer(w[0])),a=Math.floor(Math.abs(Math.sin(n.rotate&&n.rotate.degrees*Math.PI/180||0))),k=0;v>k;k++){if(c=u[k],g=m.label.renderer(w[k]),f=m.getOrCreateLabel(k,g),b=f._bbox,x=p(x,b.height+m.dashSize+m.label.padding),i=o(c[0]-(a?b.height:b.width)/2),y&&0==s.left&&0==s.right&&(0!=k||z?k!=h||A||(i=Math.min(i,c[0]-b.width+r)):i=c[0]),j="top"==t?c[1]-2*m.dashSize-m.label.padding-b.height/2:c[1]+2*m.dashSize+m.label.padding+b.height/2,f.setAttributes({hidden:!1,x:i,y:j},!0),0!=k&&(m.intersect(f,d)||m.intersect(f,l))){if(k!==h||0===e){f.hide(!0);continue}d.hide(!0)}d=f,e=k}return x},drawVerticalLabels:function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.inflections,l=j.position,m=k.length,n=j.chart,o=n.insetPadding,p=j.labels,q=0,r=Math.max,s=Math.floor,t=Math.ceil,u=j.chart.axes,v=j.chart.maxGutters,w=-1!=u.findIndex("position","top"),x=-1!=u.findIndex("position","bottom"),y=j.adjustEnd,z=m-1;for(i=0;m>i;i++){if(b=k[i],f=j.label.renderer(p[i]),e=j.getOrCreateLabel(i,f),a=e._bbox,q=r(q,a.width+j.dashSize+j.label.padding),h=b[1],y&&v.bottom+v.top<a.height/2&&(i!=z||w?0!=i||x||(h=j.y+v.bottom-s(a.height/2)):h=Math.max(h,j.y-j.length+t(a.height/2)-o)),g="left"==l?b[0]-a.width-j.dashSize-j.label.padding-2:b[0]+j.dashSize+j.label.padding+2,e.setAttributes(Ext.apply({hidden:!1,x:g,y:h},j.label),!0),0!=i&&j.intersect(e,c)){if(i!==z||0===d){e.hide(!0);continue}c.hide(!0)}c=e,d=i}return q},drawLabel:function(){var a,b,c=this,d=c.position,e=c.labelGroup,f=c.inflections,g=0,h=0;for("left"==d||"right"==d?g=c.drawVerticalLabels():h=c.drawHorizontalLabels(),a=e.getCount(),b=f.length;a>b;b++)e.getAt(b).hide(!0);c.bbox={},Ext.apply(c.bbox,c.axisBBox),c.bbox.height=h,c.bbox.width=g,Ext.isString(c.title)&&c.drawTitle(g,h)},setTitle:function(a){this.title=a,this.drawLabel()},drawTitle:function(a,b){var c,d,e,f=this,g=f.position,h=f.chart.surface,i=f.displaySprite,j=f.title,k="left"==g||"right"==g,l=f.x,m=f.y;i?i.setAttributes({text:j},!0):(c={type:"text",x:0,y:0,text:j},i=f.displaySprite=h.add(Ext.apply(c,f.axisTitleStyle,f.labelTitle)),h.renderItem(i)),d=i.getBBox(),e=f.dashSize+f.label.padding,k?(m-=f.length/2-d.height/2,"left"==g?l-=a+e+d.width/2:l+=a+e+d.width-d.width/2,f.bbox.width+=d.width+10):(l+=f.length/2-.5*d.width,"top"==g?m-=b+e+.3*d.height:m+=b+e+.8*d.height,f.bbox.height+=d.height+10),i.setAttributes({translate:{x:l,y:m}},!0)}}),Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:!1,doConstrain:function(){var a,b=this,c=b.chart,d=c.getChartStore(),e=d.data.items,f=c.series.items,g=f.length,h=[];for(a=0;g>a;a++)if("bar"===f[a].type&&f[a].stacked)return;for(a=b.minimum;a<b.maximum;a++)h.push(e[a]);c.setSubStore(new Ext.data.Store({model:d.model,data:h}))},setLabels:function(){var a,b,c,d,e,f,g=this.chart.getChartStore(),h=g.data.items,i=this.fields,j=i.length;for(d=this.labels=[],a=0,b=h.length;b>a;a++)for(c=h[a],f=0;j>f;f++)e=c.get(i[f]),d.push(e)},applyData:function(){this.callParent(),this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}}),Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(){var a,b,c=this.chart,d=c.surface,e=c.chartBBox,f=e.x+e.width/2,g=e.y+e.height,h=this.margin||10,i=Math.min(e.width,2*e.height)/2+h,j=[],k=this.steps,l=Math.PI,m=Math.cos,n=Math.sin;if(this.sprites&&!c.resizing)return void this.drawLabel();if(this.margin>=0)if(this.sprites)for(j=this.sprites,b=0;k>=b;b++)j[b].setAttributes({path:["M",f+(i-h)*m(b/k*l-l),g+(i-h)*n(b/k*l-l),"L",f+i*m(b/k*l-l),g+i*n(b/k*l-l),"Z"],stroke:"#ccc"},!0);else for(b=0;k>=b;b++)a=d.add({type:"path",path:["M",f+(i-h)*m(b/k*l-l),g+(i-h)*n(b/k*l-l),"L",f+i*m(b/k*l-l),g+i*n(b/k*l-l),"Z"],stroke:"#ccc"}),a.setAttributes({hidden:!1},!0),j.push(a);this.sprites=j,this.drawLabel(),this.title&&this.drawTitle()},drawTitle:function(){var a,b=this,c=b.chart,d=c.surface,e=c.chartBBox,f=b.titleSprite;f||(b.titleSprite=f=d.add(Ext.apply({type:"text",zIndex:2},b.axisTitleStyle,b.labelTitle))),f.setAttributes(Ext.apply({text:b.title},b.label||{}),!0),a=f.getBBox(),f.setAttributes({x:e.x+e.width/2-a.width/2,y:e.y+e.height-a.height/2-4},!0)},setTitle:function(a){this.title=a,this.drawTitle()},drawLabel:function(){var a,b,c=this.chart,d=c.surface,e=c.chartBBox,f=e.x+e.width/2,g=e.y+e.height,h=this.margin||10,i=Math.min(e.width,2*e.height)/2+2*h,j=Math.round,k=[],l=this.maximum||0,m=this.minimum||0,n=this.steps,o=0,p=Math.PI,q=Math.cos,r=Math.sin,s=this.label,t=s.renderer||Ext.identityFn;if(this.labelArray)for(k=this.labelArray,o=0;n>=o;o++)b=0===o||o===n?7:0,k[o].setAttributes({text:t(j(m+o/n*(l-m))),x:f+i*q(o/n*p-p),y:g+i*r(o/n*p-p)-b},!0);else for(o=0;n>=o;o++)b=0===o||o===n?7:0,a=d.add({type:"text",text:t(j(m+o/n*(l-m))),x:f+i*q(o/n*p-p),y:g+i*r(o/n*p-p)-b,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"}),a.setAttributes({hidden:!1},!0),k.push(a);this.labelArray=k}}),Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:!0,alias:"axis.numeric",uses:["Ext.data.Store"],constructor:function(a){var b,c=this,d=!(!a.label||!a.label.renderer);c.callParent([a]),b=c.label,null==a.constrain&&(c.constrain=null!=a.minimum&&null!=a.maximum),d||(b.renderer=function(a){return c.roundToDecimal(a,c.decimals)})},roundToDecimal:function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c},minimum:0/0,maximum:0/0,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=h.getChartStore(),j=i.data.items,k=(h.series.items,g.fields),l=k.length,m=g.calcEnds(),n=m.from,o=m.to,p=[];for(a=0,b=j.length;b>a;a++){for(f=!0,c=j[a],d=0;l>d;d++){if(e=c.get(k[d]),"Time"==g.type&&"string"==typeof e&&(e=Date.parse(e)),+n>+e){f=!1;break}if(+e>+o){f=!1;break}}f&&p.push(c)}h.setSubStore(new Ext.data.Store({model:i.model,data:p}))},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var a,b,c=this,d=c.chart,e=d.series.items;for(a=0,b=e.length;b>a;a++)if(e[a].stacked){delete c.minimum,delete c.maximum,c.constrain=!1;break}c.constrain&&c.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}}),Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Numeric",position:"radial",alias:"axis.radial",drawAxis:function(){var a,b,c,d=this.chart,e=d.surface,f=d.chartBBox,g=d.getChartStore(),h=g.getCount(),i=f.x+f.width/2,j=f.y+f.height/2,k=Math.min(f.width,f.height)/2,l=[],m=this.steps,n=2*Math.PI,o=Math.cos,p=Math.sin;if(this.sprites&&!d.resizing)return void this.drawLabel();if(this.sprites){for(l=this.sprites,b=0;m>b;b++)l[b].setAttributes({x:i,y:j,radius:Math.max(k*(b+1)/m,0),stroke:"#ccc"},!0);for(c=0;h>c;c++)l[b+c].setAttributes({path:["M",i,j,"L",i+k*o(c/h*n),j+k*p(c/h*n),"Z"],stroke:"#ccc"},!0)}else{for(b=1;m>=b;b++)a=e.add({type:"circle",x:i,y:j,radius:Math.max(k*b/m,0),stroke:"#ccc"}),a.setAttributes({hidden:!1},!0),l.push(a);for(b=0;h>b;b++)a=e.add({type:"path",path:["M",i,j,"L",i+k*o(b/h*n),j+k*p(b/h*n),"Z"],stroke:"#ccc"}),a.setAttributes({hidden:!1},!0),l.push(a)}this.sprites=l,this.drawLabel()},drawLabel:function(){var a,b,c,d,e,f,g,h,i,j=this.chart,k=j.series.items,l=j.surface,m=j.chartBBox,n=j.getChartStore(),o=n.data.items,p=m.x+m.width/2,q=m.y+m.height/2,r=Math.min(m.width,m.height)/2,s=Math.max,t=Math.round,u=[],v=[],w=[],x=!this.maximum,y=this.maximum||0,z=this.steps,A=0,B=2*Math.PI,C=Math.cos,D=Math.sin,E=this.label.display,F="none"!==E,G=10;if(F){for(A=0,b=k.length;b>A;A++)a=k[A],v.push(a.yField),f=a.xField;for(g=0,b=o.length;b>g;g++)if(c=o[g],w.push(c.get(f)),x)for(A=0,e=v.length;e>A;A++)y=s(+c.get(v[A]),y);if(this.labelArray){if(u=this.labelArray,"categories"!=E)for(A=0;z>A;A++)u[A].setAttributes({text:t((A+1)/z*y),x:p,y:q-r*(A+1)/z,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=E)for(g=0,z=w.length;z>g;g++)h=C(g/z*B)*(r+G),i=D(g/z*B)*(r+G),u[A+g]&&u[A+g].setAttributes({type:"text",text:w[g],x:p+h,y:q+i,"text-anchor":.001>=h*h?"middle":0>h?"end":"start"},!0)}else{if("categories"!=E)for(A=1;z>=A;A++)d=l.add({type:"text",text:t(A/z*y),x:p,y:q-r*A/z,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),d.setAttributes({hidden:!1},!0),u.push(d);if("scale"!=E)for(g=0,z=w.length;z>g;g++)h=C(g/z*B)*(r+G),i=D(g/z*B)*(r+G),d=l.add({type:"text",text:w[g],x:p+h,y:q+i,"text-anchor":.001>=h*h?"middle":0>h?"end":"start"}),d.setAttributes({hidden:!1},!0),u.push(d)}this.labelArray=u}},getRange:function(){var a=this.callParent();return a.min=0,a},processView:function(){var a,b,c,d,e=this,f=e.chart.series.items,g=[];for(a=0,b=f.length;b>a;a++)c=f[a],g.push(c.yField);e.fields=g,d=e.calcEnds(),e.maximum=d.to,e.steps=d.steps}}),Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",uses:["Ext.data.Store"],dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(a){var b,c,d,e=this;e.callParent([a]),b=e.label||{},d=this.dateFormat,d&&(b.renderer?(c=b.renderer,b.renderer=function(a){return a=c(a),Ext.Date.format(new Date(c(a)),d)}):b.renderer=function(a){return Ext.Date.format(new Date(a>>0),d)})},processView:function(){var a=this;a.fromDate&&(a.minimum=+a.fromDate),a.toDate&&(a.maximum=+a.toDate),a.constrain&&a.doConstrain()},calcEnds:function(){var a,b=this,c=b.step;return c?(a=b.getRange(),a=Ext.draw.Draw.snapEndsByDateAndStep(new Date(a.min),new Date(a.max),Ext.isNumber(c)?[Date.MILLI,c]:c),b.minimum&&(a.from=b.minimum),b.maximum&&(a.to=b.maximum),a):b.callParent(arguments)}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:!0,renderer:function(a,b,c){return c},shadowAttributes:null,animating:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(a){var b=this;a&&Ext.apply(b,a),b.shadowGroups=[],b.mixins.labels.constructor.call(b,a),b.mixins.highlights.constructor.call(b,a),b.mixins.tips.constructor.call(b,a),b.mixins.callouts.constructor.call(b,a),b.addEvents({scope:b,itemclick:!0,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),b.mixins.observable.constructor.call(b,a),b.on({scope:b,itemmouseover:b.onItemMouseOver,itemmouseout:b.onItemMouseOut,mouseleave:b.onMouseLeave}),b.style&&Ext.apply(b.seriesStyle,b.style)},onRedraw:Ext.emptyFn,eachRecord:function(a,b){var c=this.chart;c.getChartStore().each(a,b)},getRecordCount:function(){var a=this.chart,b=a.getChartStore();return b?b.getCount():0},isExcluded:function(a){var b=this.__excludes;return!(!b||!b[a])},setBBox:function(a){var b,c,d=this,e=d.chart,f=e.chartBBox,g=a?{left:0,right:0,bottom:0,top:0}:e.maxGutters;b={x:f.x,y:f.y,width:f.width,height:f.height},d.clipBox=b,c={x:b.x+g.left-e.zoom.x*e.zoom.width,y:b.y+g.bottom-e.zoom.y*e.zoom.height,width:(b.width-(g.left+g.right))*e.zoom.width,height:(b.height-(g.bottom+g.top))*e.zoom.height},d.bbox=c},onAnimate:function(a,b){var c=this;return a.stopAnimation(),c.animating?a.animate(Ext.applyIf(b,c.chart.animate)):(c.animating=!0,a.animate(Ext.apply(Ext.applyIf(b,c.chart.animate),{callback:function(){c.animating=!1,c.fireEvent("afterrender")}})))},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(a){var b=this;a.series===b&&(b.highlight&&b.highlightItem(a),b.tooltip&&b.showTip(a))},onItemMouseOut:function(a){var b=this;a.series===b&&(b.unHighlightItem(),b.tooltip&&b.hideTip(a))},onMouseLeave:function(){var a=this;a.unHighlightItem(),a.tooltip&&a.hideTip()},getItemForPoint:function(a,b){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var c,d,e=this,f=e.items,g=e.bbox;if(!Ext.draw.Draw.withinBox(a,b,g))return null;for(c=0,d=f.length;d>c;c++)if(f[c]&&this.isItemInPoint(a,b,f[c],c))return f[c];return null},isItemInPoint:function(){return!1},hideAll:function(){var a,b,c,d,e,f,g,h=this,i=h.items;for(h.seriesIsHidden=!0,h._prevShowMarkers=h.showMarkers,h.showMarkers=!1,h.hideLabels(0),c=0,b=i.length;b>c;c++)if(a=i[c],f=a.sprite,f&&f.setAttributes({hidden:!0},!0),f&&f.shadows)for(g=f.shadows,d=0,e=g.length;e>d;++d)g[d].setAttributes({hidden:!0},!0)},showAll:function(){var a=this,b=a.chart.animate;a.chart.animate=!1,a.seriesIsHidden=!1,a.showMarkers=a._prevShowMarkers,a.drawSeries(),a.chart.animate=b},hide:function(){if(this.items){var a,b,c,d,e,f=this,g=f.items;if(g&&g.length){for(a=0,d=g.length;d>a;++a)if(g[a].sprite&&(g[a].sprite.hide(!0),e=g[a].shadows||g[a].sprite.shadows))for(b=0,c=e.length;c>b;++b)e[b].hide(!0);f.hideLabels()}}},getLegendColor:function(){var a,b,c=this;if(c.seriesStyle){if(a=c.seriesStyle.fill,b=c.seriesStyle.stroke,a&&"none"!=a)return a;if(b)return b}return c.colorArrayStyle?c.colorArrayStyle[c.themeIdx%c.colorArrayStyle.length]:"#000"},visibleInLegend:function(a){var b=this.__excludes;return b?!b[a]:!this.seriesIsHidden},setTitle:function(a,b){var c=this,d=c.title;Ext.isString(a)&&(b=a,a=0),Ext.isArray(d)?d[a]=b:c.title=b,c.fireEvent("titlechange",b,a)}}),Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var a,b,c,d,e,f,g,h=this,i=[],j=h.combinations;for(a=[].concat(h.yField),b=0,c=a.length;c>b;b++)d=h.title,i.push((Ext.isArray(d)?d[b]:d)||a[b]);if(j)for(j=Ext.Array.from(j),b=0,c=j.length;c>b;b++)e=j[b],f=i[e[0]],g=i[e[1]],i[e[1]]=f+" & "+g,i.splice(e[0],1);return i},eachYValue:function(a,b,c){var d,e,f,g=this,h=g.getYValueAccessors();for(d=0,e=h.length;e>d;d++)f=h[d],b.call(c,f(a),d)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(a,b){var c=this,d=c.getYValueAccessors(),e=d[a],f=d[b];d[b]=function(a){return e(a)+f(a)},d.splice(a,1),c.callParent([a,b])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var a,b,c,d,e=this,f=e.yValueAccessors;if(!f)for(f=e.yValueAccessors=[],a=[].concat(e.yField),c=0,d=a.length;d>c;c++)b=a[c],f.push(function(a){return a.get(b)});return f},getMinMaxXValues:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=h.getChartStore(),j=i.data.items,k=g.getRecordCount(),l=g.xField;if(k>0){for(d=1/0,e=-d,a=0,b=j.length;b>a;a++)c=j[a],f=c.get(l),f>e&&(e=f),d>f&&(d=f);1/0==d&&(d=0),e==-1/0&&(e=k-1)}else d=e=0;return[d,e]},getMinMaxYValues:function(){function a(a,b){j.isExcluded(b)||(0>a?i+=a:h+=a)}function b(a,b){j.isExcluded(b)||(a>g&&(g=a),f>a&&(f=a))}var c,d,e,f,g,h,i,j=this,k=j.chart,l=k.getChartStore(),m=l.data.items,n=j.getRecordCount(),o=j.stacked;if(n>0){for(f=1/0,g=-f,c=0,d=m.length;d>c;c++)e=m[c],o?(h=0,i=0,j.eachYValue(e,a),h>g&&(g=h),f>i&&(f=i)):j.eachYValue(e,b);1/0==f&&(f=0),g==-1/0&&(g=n-1)}else f=g=0;return[f,g]},getAxesForXAndYFields:function(){var a,b,c,d,e,f,g=this,h=g.chart.axes,i=[].concat(g.axis),j={},k=[].concat(g.yField),l={},m=[].concat(g.xField);if(f="bar"===g.type&&g.column===!1,f&&(a=k,k=m,m=a),Ext.Array.indexOf(i,"top")>-1)b="top";else if(Ext.Array.indexOf(i,"bottom")>-1)b="bottom";else if(h.get("top")&&h.get("bottom")){for(d=0,e=m.length;e>d;d++)l[m[d]]=!0;for(a=[].concat(h.get("bottom").fields),d=0,e=a.length;e>d;d++)if(l[a[d]]){b="bottom";break}for(a=[].concat(h.get("top").fields),d=0,e=a.length;e>d;d++)if(l[a[d]]){b="top";break}}else h.get("top")?b="top":h.get("bottom")&&(b="bottom");if(Ext.Array.indexOf(i,"left")>-1)c="left";else if(Ext.Array.indexOf(i,"right")>-1)c="right";else if(h.get("left")&&h.get("right")){for(d=0,e=k.length;e>d;d++)j[k[d]]=!0;for(a=[].concat(h.get("right").fields),d=0,e=a.length;e>d&&!j[a[d]];d++);for(a=[].concat(h.get("left").fields),d=0,e=a.length;e>d;d++)if(j[a[d]]){c="left";break}}else h.get("left")?c="left":h.get("right")&&(c="right");return f?{xAxis:c,yAxis:b}:{xAxis:b,yAxis:c}}}),Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:!0,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface;a.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg),Ext.apply(b,a,{__excludes:[]}),b.highlight&&(b.highlightSprite=c.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),b.group=c.getGroup(b.seriesId)},shrink:function(a,b,c){var d,e,f=a.length,g=Math.floor(f/c),h=0,i=this.areas.length,j=[],k=[],l=[];for(e=0;i>e;++e)j[e]=0;for(d=0;f>d;++d){for(h+=+a[d],e=0;i>e;++e)j[e]+=+b[d][e];if(d%g==0){for(k.push(h/g),e=0;i>e;++e)j[e]/=g;for(l.push(j),h=0,e=0,j=[];i>e;++e)j[e]=0}}return{x:k,y:l}},getBounds:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this,s=r.chart,t=s.getChartStore(),u=t.data.items,v=[].concat(r.yField),w=v.length,x=[],y=[],z=1/0,A=z,B=z,C=-z,D=-z,E=Math,F=(E.min,E.max,r.getAxesForXAndYFields()),G=F.xAxis,H=F.yAxis;for(r.setBBox(),g=r.bbox,(q=s.axes.get(G))&&("Time"===q.type&&(e=!0),d=q.applyData(),A=d.from,C=d.to),(q=s.axes.get(H))&&(d=q.applyData(),B=d.from,D=d.to),r.xField&&!Ext.isNumber(A)&&(q=r.getMinMaxXValues(),e=!0,A=q[0],C=q[1]),r.yField&&!Ext.isNumber(B)&&(q=r.getMinMaxYValues(),B=q[0],D=q[1]),Ext.isNumber(B)||(B=0),Ext.isNumber(D)||(D=0),b=u.length,b>0&&e&&(f=u[0].get(r.xField),"number"!=typeof f&&(f=+f,isNaN(f)&&(e=!1))),a=0;b>a;a++){for(c=u[a],j=c.get(r.xField),k=[],"number"!=typeof j&&(j=e?+j:a),x.push(j),m=0,l=0;w>l;l++)r.__excludes[l]||(p=c.get(v[l]),"number"==typeof p&&k.push(p));y.push(k)}return h=g.width/(C-A||1),i=g.height/(D-B||1),n=x.length,n>g.width&&r.areas&&(o=r.shrink(x,y,g.width),x=o.x,y=o.y),{bbox:g,minX:A,minY:B,xValues:x,yValues:y,xScale:h,yScale:i,areasLen:w}},getPaths:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=n.chart,p=(o.getChartStore(),!0),q=n.getBounds(),r=q.bbox,s=n.items=[],t=[],u=0,v=[];for(c=q.xValues.length,b=0;c>b;b++)for(f=q.xValues[b],g=q.yValues[b],d=r.x+(f-q.minX)*q.xScale,void 0===m&&(m=d),h=0,u=0,i=0;i<q.areasLen;i++)n.__excludes[i]||(t[i]||(t[i]=[]),k=g[u],h+=k,e=r.y+r.height-(h-q.minY)*q.yScale,v[i]?(v[i].push("L",d,e),t[i].push(["L",d,e])):(v[i]=["M",d,e],t[i].push(["L",d,e])),s[i]||(s[i]={pointsUp:[],pointsDown:[],series:n}),s[i].pointsUp.push([d,e]),u++);for(i=0;i<q.areasLen;i++)if(!n.__excludes[i]){if(l=v[i],0==i||p)p=!1,l.push("L",d,r.y+r.height,"L",m,r.y+r.height,"Z");else{for(a=t[j],a.reverse(),l.push("L",d,a[0][2]),b=0;c>b;b++)l.push(a[b][0],a[b][1],a[b][2]),s[i].pointsDown[c-b-1]=[a[b][1],a[b][2]];l.push("L",m,l[2],"Z")}j=i}return{paths:v,areasLen:q.areasLen}},drawSeries:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=h.getChartStore(),j=h.surface,k=h.animate,l=g.group,m=Ext.apply(g.seriesStyle,g.style),n=g.colorArrayStyle,o=n&&n.length||0,p=g.themeIdx;if(g.unHighlightItem(),g.cleanHighlights(),!i||!i.getCount()||g.seriesIsHidden)return g.hide(),void(g.items=[]);for(c=g.getPaths(),g.areas||(g.areas=[]),a=0;a<c.areasLen;a++)g.__excludes[a]||(f=p+a,g.areas[a]||(g.items[a].sprite=g.areas[a]=j.add(Ext.apply({},{type:"path",group:l,path:c.paths[a],stroke:m.stroke||n[f%o],fill:n[f%o]},m||{}))),b=g.areas[a],d=c.paths[a],k?(e=g.renderer(b,!1,{path:d,fill:n[a%o],stroke:m.stroke||n[a%o]},a,i),g.animation=g.onAnimate(b,{to:e})):(e=g.renderer(b,!1,{path:d,hidden:!1,fill:n[f%o],stroke:m.stroke||n[f%o]},a,i),g.areas[a].setAttributes(e,!0)));g.renderLabels(),g.renderCallouts()},onAnimate:function(a){return a.show(),this.callParent(arguments)},onCreateLabel:function(a,b){return null},onPlaceLabel:function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.chart,m=l.resizing,n=k.label,o=n.renderer,p=n.field,q=k.bbox,r=Number(c.point[d][0]),s=Number(c.point[d][1]);a.setAttributes({text:o(b.get(p[g]),a,b,c,d,e,f,g),hidden:!0},!0),h=a.getBBox(),i=h.width/2,j=h.height/2,r<q.x+i?r=q.x+i:r+i>q.x+q.width&&(r=q.x+q.width-i),s-=j,s<q.y+j?s+=2*j:s+j>q.y+q.height&&(s-=2*j),k.chart.animate&&!k.chart.resizing?(a.show(!0),k.onAnimate(a,{to:{x:r,y:s}})):(a.setAttributes({x:r,y:s},!0),m&&k.animation?k.animation.on("afteranimate",function(){a.show(!0)}):a.show(!0))},onPlaceCallout:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r=this,s=r.chart,t=(s.surface,s.resizing,r.callouts,r.items),u=0==d?!1:t[d-1].point,v=d==t.length-1?!1:t[d+1].point,w=c.point,x=a&&a.label?a.label.getBBox():{width:0,height:0},y=30,z=3,A=r.clipRect;if(x.width&&x.height){u||(u=w),v||(v=w),h=(v[1]-u[1])/(v[0]-u[0]),i=(w[1]-u[1])/(w[0]-u[0]),j=(v[1]-w[1])/(v[0]-w[0]),f=Math.sqrt(1+h*h),e=[1/f,h/f],g=[-e[1],e[0]],i>0&&0>j&&g[1]<0||0>i&&j>0&&g[1]>0?(g[0]*=-1,g[1]*=-1):(Math.abs(i)<Math.abs(j)&&g[0]<0||Math.abs(i)>Math.abs(j)&&g[0]>0)&&(g[0]*=-1,g[1]*=-1),p=w[0]+g[0]*y,q=w[1]+g[1]*y,k=p+(g[0]>0?0:-(x.width+2*z)),l=q-x.height/2-z,m=x.width+2*z,n=x.height+2*z,(k<A[0]||k+m>A[0]+A[2])&&(g[0]*=-1),(l<A[1]||l+n>A[1]+A[3])&&(g[1]*=-1),p=w[0]+g[0]*y,q=w[1]+g[1]*y,k=p+(g[0]>0?0:-(x.width+2*z)),l=q-x.height/2-z,m=x.width+2*z,n=x.height+2*z,a.lines.setAttributes({path:["M",w[0],w[1],"L",p,q,"Z"]},!0),a.box.setAttributes({x:k,y:l,width:m,height:n},!0),a.label.setAttributes({x:p+(g[0]>0?z:-(x.width+z)),y:q},!0);for(o in a)a[o].show(!0)}},isItemInPoint:function(a,b,c,d){var e,f,g,h=this,i=c.pointsUp,j=c.pointsDown,k=Math.abs,l=!1,m=!1,n=1/0;for(e=0,f=i.length;f>e;e++)if(g=[i[e][0],i[e][1]],l=!1,m=e==f-1,n>k(a-g[0])&&(n=k(a-g[0]),l=!0,m&&++e),!l||l&&m){if(g=i[e-1],b>=g[1]&&(!j.length||b<=j[e-1][1]))return c.storeIndex=e-1,c.storeField=h.yField[d],c.storeItem=h.chart.getChartStore().getAt(e-1),c._points=j.length?[g,j[e-1]]:[g],!0;break}return!1},highlightSeries:function(){var a,b,c;void 0!==this._index&&(a=this.areas[this._index],a.__highlightAnim&&(a.__highlightAnim.paused=!0),a.__highlighted=!0,a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1,a.__prevFill=a.__prevFill||a.attr.fill,a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth,c=Ext.draw.Color.fromString(a.__prevFill),b={lineWidth:(a.__prevLineWidth||0)+2},c?b.fill=c.getLighter(.2).toString():b.opacity=Math.max(a.__prevOpacity-.3,0),this.chart.animate?a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:b},this.chart.animate)):a.setAttributes(b,!0))},unHighlightSeries:function(){var a;void 0!==this._index&&(a=this.areas[this._index],a.__highlightAnim&&(a.__highlightAnim.paused=!0),a.__highlighted&&(a.__highlighted=!1,a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})))},highlightItem:function(a){var b,c,d=this;return a?(b=a._points,c=2==b.length?["M",b[0][0],b[0][1],"L",b[1][0],b[1][1]]:["M",b[0][0],b[0][1],"L",b[0][0],d.bbox.y+d.bbox.height],void d.highlightSprite.setAttributes({path:c,hidden:!1},!0)):void this.highlightSeries()},unHighlightItem:function(a){a||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0,b.__excludes[a]=!0,b.areas[a].hide(!0),b.redraw()},showAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0,b.__excludes[a]=!1,b.areas[a].show(!0),b.redraw()},redraw:function(){var a,b=this;a=b.chart.legend.rebuild,b.chart.legend.rebuild=!1,b.chart.redraw(),b.chart.legend.rebuild=a},hide:function(){if(this.areas){var a,b,c=this,d=c.areas;if(d&&d.length){for(a=0,b=d.length;b>a;++a)d[a]&&d[a].hide(!0);c.hideLabels()}}},getLegendColor:function(a){var b=this;return a+=b.themeIdx,b.colorArrayStyle[a%b.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart.surface,f=d.chart.shadow;if(a.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg),Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),d.group=e.getGroup(d.seriesId+"-bars"),f)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(e.getGroup(d.seriesId+"-shadows"+b))},getPadding:function(){var a=this,b=a.xPadding,c=a.yPadding,d={};return Ext.isNumber(b)?(d.left=b,d.right=b):Ext.isObject(b)?(d.left=b.left,d.right=b.right):(d.left=0,d.right=0),d.width=d.left+d.right,Ext.isNumber(c)?(d.bottom=c,d.top=c):Ext.isObject(c)?(d.bottom=c.bottom,d.top=c.top):(d.bottom=0,d.top=0),d.height=d.bottom+d.top,d},getBarGirth:function(){var a,b,c=this,d=c.chart.getChartStore(),e=c.column,f=d.getCount(),g=c.gutter/100;return c.style&&c.style.width?c.style.width:(a=c.getPadding(),b=e?"width":"height",(c.chart.chartBBox[b]-a[b])/(f*(g+1)-g))},getGutters:function(){var a=this,b=a.column,c=a.getPadding(),d=a.getBarGirth()/2,e=Math.ceil((b?c.left:c.bottom)+d),f=Math.ceil((b?c.right:c.top)+d);
return{lower:e,upper:f,verticalAxis:!b}},getBounds:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=this,z=y.chart,A=z.getChartStore(),B=A.data.items,C=[].concat(y.yField),D=C.length,E=D,F=y.groupGutter/100,G=y.column,H=y.getPadding(),I=y.stacked,J=y.getBarGirth(),K=G?"width":"height",L=Math,M=L.min,N=L.max,O=L.abs,P=y.getAxesForXAndYFields(),Q=P.yAxis;if(y.setBBox(!0),m=y.bbox,y.__excludes)for(v=0,t=y.__excludes.length;t>v;v++)y.__excludes[v]&&E--;if(p=z.axes.get(Q),p&&(j=p.applyData(),n=j.from,o=j.to),y.yField&&!Ext.isNumber(n)&&(q=y.getMinMaxYValues(),n=q[0],o=q[1]),Ext.isNumber(n)||(n=0),Ext.isNumber(o)||(o=0),r=(G?m.height-H.height:m.width-H.width)/(o-n),k=J,l=J/((I?1:E)*(F+1)-F),K in y.style&&(l=M(l,y.style[K]),k=l*((I?1:E)*(F+1)-F)),s=G?m.y+m.height-H.bottom:m.x+H.left,I){for(t=[[],[]],a=0,b=B.length;b>a;a++)for(c=B[a],t[0][a]=t[0][a]||0,t[1][a]=t[1][a]||0,v=0;D>v;v++)y.__excludes&&y.__excludes[v]||(u=c.get(C[v]),t[+(u>0)][a]+=O(u));t[+(o>0)].push(O(o)),t[+(n>0)].push(O(n)),x=N.apply(L,t[0]),w=N.apply(L,t[1]),r=(G?m.height-H.height:m.width-H.width)/(w+x),s+=x*r*(G?-1:1)}else 0>n/o&&(s-=n*r*(G?-1:1));if(y.boundColumn)for(p=z.axes.get(P.xAxis),p&&(j=p.applyData(),e=j.from,f=j.to),y.xField&&!Ext.isNumber(e)&&(q=y.getMinMaxYValues(),e=q[0],f=q[1]),Ext.isNumber(e)||(e=0),Ext.isNumber(f)||(f=0),i=y.getGutters(),g=(m.width-(i.lower+i.upper))/(f-e||1),h=m.x+i.lower,d=[],a=0,b=B.length;b>a;a++)c=B[a],u=c.get(y.xField),d[a]=h+(u-e)*g-l/2;return{bars:C,barsLoc:d,bbox:m,shrunkBarWidth:k,barsLen:D,groupBarsLen:E,barWidth:J,groupBarWidth:l,scale:r,zero:s,padding:H,signed:0>n/o,minY:n,maxY:o}},getPaths:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this,x=w.chart,y=x.getChartStore(),z=y.data.items,A=w.bounds=w.getBounds(),B=w.items=[],C=Ext.isArray(w.yField)?w.yField:[w.yField],D=w.gutter/100,E=w.groupGutter/100,F=x.animate,G=w.column,H=w.group,I=x.shadow,J=w.shadowGroups,K=(w.shadowAttributes,J.length),L=A.bbox,M=A.barWidth,N=A.shrunkBarWidth,O=w.getPadding(),P=w.stacked,Q=A.barsLen,R=w.colorArrayStyle,S=R&&R.length||0,T=w.themeIdx,U=Math,V=U.max,W=(U.min,U.abs);for(a=0,b=z.length;b>a;a++){for(c=z[a],i=A.zero,j=A.zero,g=0,h=0,o=p=0,k=!1,d=0,n=0;Q>d;d++)if(!w.__excludes||!w.__excludes[d]){if(e=c.get(A.bars[d]),e>=0?o+=e:p+=e,f=Math.round((e-V(A.minY,0))*A.scale),v=T+(Q>1?d:0),l={fill:R[v%S]},G?Ext.apply(l,{height:f,width:V(A.groupBarWidth,0),x:w.boundColumn?A.barsLoc[a]:L.x+O.left+.5*(M-N)+a*M*(1+D)+n*A.groupBarWidth*(1+E)*!P,y:i-f}):(t=b-1-a,Ext.apply(l,{height:V(A.groupBarWidth,0),width:f+(i==A.zero),x:i+(i!=A.zero),y:L.y+O.top+.5*(M-N)+t*M*(1+D)+n*A.groupBarWidth*(1+E)*!P+1})),0>f&&(G?(l.y=j,l.height=W(f)):(l.x=j+f,l.width=W(f))),P&&(0>f?j+=f*(G?-1:1):i+=f*(G?-1:1),g+=W(f),0>f&&(h+=W(f))),l.x=Math.floor(l.x)+1,u=Math.floor(l.y),Ext.isIE8m&&l.y>u&&u--,l.y=u,l.width=Math.floor(l.width),l.height=Math.floor(l.height),B.push({series:w,yField:C[d],storeItem:c,value:[c.get(w.xField),e],attr:l,point:G?[l.x+l.width/2,e>=0?l.y:l.y+l.height]:[e>=0?l.x+l.width:l.x,l.y+l.height/2]}),F&&x.resizing){if(m=G?{x:l.x,y:A.zero,width:l.width,height:0}:{x:A.zero,y:l.y,width:0,height:l.height},I&&(P&&!k||!P))for(k=!0,q=0;K>q;q++)r=J[q].getAt(P?a:a*Q+d),r&&r.setAttributes(m,!0);s=H.getAt(a*Q+d),s&&s.setAttributes(m,!0)}n++}P&&B.length&&(B[a*n].totalDim=g,B[a*n].totalNegDim=h,B[a*n].totalPositiveValues=o,B[a*n].totalNegativeValues=p)}if(P&&0==n)for(a=0,b=z.length;b>a;a++)for(q=0;K>q;q++)r=J[q].getAt(a),r&&r.hide(!0)},renderShadows:function(a,b,c,d){var e,f,g,h,i,j,k,l=this,m=l.chart,n=m.surface,o=m.animate,p=l.stacked,q=l.shadowGroups,r=l.shadowAttributes,s=q.length,t=m.getChartStore(),u=l.column,v=l.items,w=[],x=d.zero;if(p&&a%d.groupBarsLen===0||!p)for(j=a/d.groupBarsLen,e=0;s>e;e++)f=Ext.apply({},r[e]),g=q[e].getAt(p?j:a),Ext.copyTo(f,b,"x,y,width,height"),g||(g=n.add(Ext.apply({type:"rect",group:q[e]},Ext.apply({},c,f)))),p&&(h=v[a].totalDim,i=v[a].totalNegDim,u?(f.y=x+i-h-1,f.height=h):(f.x=x-i,f.width=h)),k=l.renderer(g,t.getAt(j),f,a,t),k.hidden=!!b.hidden,o?l.onAnimate(g,{to:k}):g.setAttributes(k,!0),w.push(g);return w},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o=this,p=o.chart,q=p.getChartStore(),r=p.surface,s=p.animate,t=o.stacked,u=o.column,v=p.axes,w=o.getAxesForXAndYFields(),x=w.xAxis,y=(w.yAxis,p.shadow),z=o.shadowGroups,A=z.length,B=o.group,C=o.seriesStyle;if(!q||!q.getCount()||o.seriesIsHidden)return o.hide(),void(o.items=[]);for(k=Ext.apply({},this.style,C),delete k.fill,delete k.x,delete k.y,delete k.width,delete k.height,o.unHighlightItem(),o.cleanHighlights(),o.boundColumn=x&&Ext.Array.contains(o.axis,x)&&v.get(x)&&v.get(x).isNumericAxis,o.getPaths(),j=o.bounds,a=o.items,e=u?{y:j.zero,height:0}:{x:j.zero,width:0},b=a.length,c=0;b>c;c++){if(f=B.getAt(c),l=a[c].attr,y&&(a[c].shadows=o.renderShadows(c,l,e,j)),f||(m=Ext.apply({},e,l),m=Ext.apply(m,k||{}),f=r.add(Ext.apply({},{type:"rect",group:B},m))),s){if(g=o.renderer(f,q.getAt(c),l,c,q),f._to=g,n=o.onAnimate(f,{to:Ext.apply(g,k)}),y&&t&&c%j.barsLen===0)for(d=c/j.barsLen,h=0;A>h;h++)n.on("afteranimate",function(){this.show(!0)},z[h].getAt(d))}else g=o.renderer(f,q.getAt(c),Ext.apply(l,{hidden:!1}),c,q),f.setAttributes(Ext.apply(g,k),!0);a[c].sprite=f}for(b=B.getCount(),d=c;b>d;d++)B.getAt(d).hide(!0);if(o.stacked&&(c=q.getCount()),y)for(h=0;A>h;h++)for(i=z[h],b=i.getCount(),d=c;b>d;d++)i.getAt(d).hide(!0);o.renderLabels()},onCreateLabel:function(){var a=this,b=a.chart.surface,c=a.labelsGroup,d=a.label,e=Ext.apply({},d,a.seriesLabelStyle||{});return b.add(Ext.apply({type:"text",group:c},e||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){{var h,i,j,k,l,m,n,o=this,p=o.bounds,q=p.groupBarWidth,r=o.column,s=o.chart,t=s.chartBBox,u=s.resizing,v=(c.value[0],c.value[1]),w=c.attr,x=o.label,y=o.stacked,z=x.stackedDisplay,A="vertical"==x.orientation,B=[].concat(x.field),C=x.renderer,D=p.zero,E="insideStart",F="insideEnd",G="outside",H="over",I="under",J=4,K=2;p.signed}if(e==E||e==F||e==G){if(y&&e==G)return void a.hide(!0);if(a.setAttributes({style:void 0}),h=Ext.isNumber(g)?C(b.get(B[g]),a,b,c,d,e,f,g):"",a.setAttributes({text:h}),i=o.getLabelSize(h,a.attr.style),j=i.width,k=i.height,r){if(!j||!k||y&&w.height<k)return void a.hide(!0);if(l=w.x+(A?q/2:(q-j)/2),e==G){var L=v>=0?w.y-t.y:t.y+t.height-w.y-w.height;k+K>L&&(e=F)}if(y||e==G||k+K>w.height&&(e=G),!m)if(m=w.y,v>=0)switch(e){case E:m+=w.height+(A?-K:-k/2);break;case F:m+=A?k+J:k/2;break;case G:m+=A?-K:-k/2}else switch(e){case E:m+=A?k+K:k/2;break;case F:m+=A?w.height-K:w.height-k/2;break;case G:m+=A?w.height+k+K:w.height+k/2}}else{if(!j||!k||y&&!w.width)return void a.hide(!0);if(m=w.y+(A?(q+k)/2:q/2),e==G){var L=v>=0?t.x+t.width-w.x-w.width:w.x-t.x;j+J>L&&(e=F)}if(e!=G&&!A&&j+J>w.width)if(y){if(k>w.width)return void a.hide(!0);l=w.x+w.width/2,m=w.y+w.height-(w.height-j)/2,A=!0}else e=G;if(!l)if(l=w.x,v>=0)switch(e){case E:l+=A?j/2:J;break;case F:l+=w.width+(A?-j/2:-j-J);break;case G:l+=w.width+(A?j/2:J)}else switch(e){case E:l+=w.width+(A?-j/2:-j-J);break;case F:l+=A?j/2:J;break;case G:l+=A?-j/2:-j-J}}}else if((e==H||e==I)&&y&&z)switch(h=a.attr.text,a.setAttributes({style:Ext.applyIf(a.attr&&a.attr.style||{},{"font-weight":"bold","font-size":"14px"})}),i=o.getLabelSize(h,a.attr.style),j=i.width,k=i.height,e){case H:r?(l=w.x+(A?q/2:(q-j)/2),m=D-(c.totalDim-c.totalNegDim)-k/2-K):(l=D+(c.totalDim-c.totalNegDim)+J,m=w.y+(A?(q+k)/2:q/2));break;case I:r?(l=w.x+(A?q/2:(q-j)/2),m=D+c.totalNegDim+k/2):(l=D-c.totalNegDim-j-J,m=w.y+(A?(q+k)/2:q/2))}return void 0==l||void 0==m?void a.hide(!0):(a.isOutside=e==G,a.setAttributes({text:h}),n={x:l,y:m},A&&(n.rotate={x:l,y:m,degrees:270}),f&&u&&(r?(l=w.x+w.width/2,m=D):(l=D,m=w.y+w.height/2),a.setAttributes({x:l,y:m},!0),A&&a.setAttributes({rotate:{x:l,y:m,degrees:270}},!0)),void(f?o.onAnimate(a,{to:n}):a.setAttributes(Ext.apply(n,{hidden:!1}),!0)))},getLabelSize:function(a,b){var c,d,e,f=this.testerLabel,g=this.label,h=Ext.apply({},g,b,this.seriesLabelStyle||{}),i="vertical"===g.orientation;return f||(f=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},h))),f.setAttributes({style:b,text:a},!0),c=f.getBBox(),d=c.width,e=c.height,{width:i?e:d,height:i?d:e}},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c){var d=c.sprite.getBBox();return d.x<=a&&d.y<=b&&d.x+d.width>=a&&d.y+d.height>=b},hideAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;for(a=(isNaN(this._index)?a:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[a]=!0,this.drawSeries(),e;d>e;e++)c[e].drawAxis()},showAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;for(a=(isNaN(this._index)?a:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[a]=!1,this.drawSeries(),e;d>e;e++)c[e].drawAxis()},getLegendColor:function(a){var b=this,c=b.colorArrayStyle.length;return b.style&&b.style.fill?b.style.fill:b.colorArrayStyle[a%c]},highlightItem:function(){this.callParent(arguments),this.renderLabels()},unHighlightItem:function(){this.callParent(arguments),this.renderLabels()},cleanHighlights:function(){this.callParent(arguments),this.renderLabels()}}),Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:!0,boundColumn:!1,xPadding:10,yPadding:0}),Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart,f=e.surface,g=(e.store,e.shadow);if(Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),d.group=f.getGroup(d.seriesId),g)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(f.getGroup(d.seriesId+"-shadows"+b));f.customAttributes.segment=function(a){return d.getSegment(a)}},initialize:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d=a.label,e=c.length;a.yField=[],d&&d.field&&e>0&&a.yField.push(c[0].get(d.field))},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=Math.abs,g=b.centerX,h=b.centerY,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=.01,r=(a.endRho-a.startRho,a.startAngle),s=a.endAngle,t=(r+s)/2*c,u=a.margin||0,v=f(s-r)>180,w=Math.min(r,s)*c,x=Math.max(r,s)*c,y=!1;return g+=u*d(t),h+=u*e(t),i=g+a.startRho*d(w),m=h+a.startRho*e(w),j=g+a.endRho*d(w),n=h+a.endRho*e(w),k=g+a.startRho*d(x),o=h+a.startRho*e(x),l=g+a.endRho*d(x),p=h+a.endRho*e(x),f(i-k)<=q&&f(m-o)<=q&&(y=!0),y?{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+v,1,l,p],["Z"]]}:{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+v,1,l,p],["L",k,o],["A",a.startRho,a.startRho,0,+v,0,i,m],["Z"]]}},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=(Math.max("rho"in d?d.rho:b.radius,b.label.minMargin),+b.donut,Math.min(g,h)*c),j=Math.max(g,h)*c,k=-(i+(j-i)/2),l=e+(a.endRho+a.startRho)/2*Math.cos(k),m=f-(a.endRho+a.startRho)/2*Math.sin(k);a.middle={x:l,y:m}},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.chart,s=r.getChartStore(),t=q.group,u=q.chart.animate,v=q.chart.axes.get(0),w=v&&v.minimum||q.minimum||0,x=v&&v.maximum||q.maximum||0,y=q.angleField||q.field||q.xField,z=r.surface,A=r.chartBBox,B=(q.rad,+q.donut),C=[],D=q.seriesStyle,E=(q.seriesLabelStyle,q.colorArrayStyle),F=E&&E.length||0,G=Math.cos,H=Math.sin;if(Ext.apply(D,q.style||{}),q.setBBox(),m=q.bbox,q.colorSet&&(E=q.colorSet,F=E.length),!s||!s.getCount()||q.seriesIsHidden)return q.hide(),void(q.items=[]);for(b=q.centerX=A.x+A.width/2,c=q.centerY=A.y+A.height,q.radius=Math.min(b-A.x,c-A.y),q.slices=e=[],q.items=C=[],q.value||(j=s.getAt(0),q.value=j.get(y)),g=q.value,q.needle?(o={series:q,value:g,startAngle:-180,endAngle:0,rho:q.radius},n=-180*(1-(g-w)/(x-w)),e.push(o)):(n=-180*(1-(g-w)/(x-w)),o={series:q,value:g,startAngle:-180,endAngle:n,rho:q.radius},p={series:q,value:q.maximum-g,startAngle:n,endAngle:0,rho:q.radius},e.push(o,p)),k=0,i=e.length;i>k;k++)d=e[k],f=t.getAt(k),a=Ext.apply({segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:d.rho*+B/100,endRho:d.rho}},Ext.apply(D,E&&{fill:E[k%F]}||{})),h=Ext.apply({},a.segment,{slice:d,series:q,storeItem:j,index:k}),C[k]=h,f||(l=Ext.apply({type:"path",group:t},Ext.apply(D,E&&{fill:E[k%F]}||{})),f=z.add(Ext.apply(l,a))),d.sprite=d.sprite||[],h.sprite=f,d.sprite.push(f),u?(a=q.renderer(f,j,a,k,s),f._to=a,q.onAnimate(f,{to:a})):(a=q.renderer(f,j,Ext.apply(a,{hidden:!1}),k,s),f.setAttributes(a,!0));q.needle&&(n=n*Math.PI/180,q.needleSprite?u?q.onAnimate(q.needleSprite,{to:{path:["M",b+q.radius*+B/100*G(n),c+-Math.abs(q.radius*+B/100*H(n)),"L",b+q.radius*G(n),c+-Math.abs(q.radius*H(n))]}}):q.needleSprite.setAttributes({type:"path",path:["M",b+q.radius*+B/100*G(n),c+-Math.abs(q.radius*+B/100*H(n)),"L",b+q.radius*G(n),c+-Math.abs(q.radius*H(n))]}):q.needleSprite=q.chart.surface.add({type:"path",path:["M",b+q.radius*+B/100*G(n),c+-Math.abs(q.radius*+B/100*H(n)),"L",b+q.radius*G(n),c+-Math.abs(q.radius*H(n))],"stroke-width":4,stroke:"#222"}),q.needleSprite.setAttributes({hidden:!1},!0)),delete q.value},setValue:function(a){this.value=a,this.drawSeries()},onCreateLabel:function(){},onPlaceLabel:function(){},onPlaceCallout:function(){},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this,f=e.centerX,g=e.centerY,h=Math.abs,i=h(a-f),j=h(b-g),k=c.startAngle,l=c.endAngle,m=Math.sqrt(i*i+j*j),n=Math.atan2(b-g,a-f)/e.rad;return 0===d&&n>=k&&l>n&&m>=c.startRho&&m<=c.endRho},getLegendColor:function(a){var b=this.colorSet||this.colorArrayStyle;return b[a%b.length]}}),Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart.surface,f=d.chart.shadow;if(a.highlightCfg=Ext.Object.merge({"stroke-width":3},a.highlightCfg),Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),d.group=e.getGroup(d.seriesId),d.showMarkers&&(d.markerGroup=e.getGroup(d.seriesId+"-markers")),f)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(e.getGroup(d.seriesId+"-shadows"+b))},shrink:function(a,b,c){for(var d=a.length,e=Math.floor(d/c),f=1,g=0,h=0,i=[+a[0]],j=[+b[0]];d>f;++f)g+=+a[f]||0,h+=+b[f]||0,f%e==0&&(i.push(g/e),j.push(h/e),g=0,h=0);return{x:i,y:j}},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R=this,S=R.chart,T=S.axes,U=S.getChartStore(),V=U.data.items,W=U.getCount(),X=R.chart.surface,Y={},Z=R.group,$=R.showMarkers,_=R.markerGroup,ab=S.shadow,bb=R.shadowGroups,cb=R.shadowAttributes,db=R.smooth,eb=bb.length,fb=["M"],gb=["M"],hb=["M"],ib=["M"],jb=S.markerIndex,kb=([].concat(R.axis),[]),lb={},mb=[],nb=!1,ob=[],pb=Ext.apply({},R.markerStyle),qb=R.seriesStyle,rb=R.colorArrayStyle,sb=rb&&rb.length||0,tb=Ext.isNumber,ub=(R.seriesIdx,R.getAxesForXAndYFields()),vb=ub.xAxis,wb=ub.yAxis,xb=vb?T.get(vb).type:"",yb=wb?T.get(wb).type:"";if(R.fireEvent("beforedraw",R)!==!1){if(!W||R.seriesIsHidden){if(R.hide(),R.items=[],R.line){if(R.line.hide(!0),R.line.shadows)for(c=R.line.shadows,r=0,eb=c.length;eb>r;r++)d=c[r],d.hide(!0);R.fillPath&&R.fillPath.hide(!0)}return R.line=null,void(R.fillPath=null)}if(J=Ext.apply(pb||{},R.markerConfig,{fill:R.seriesStyle.fill||rb[R.themeIdx%rb.length]}),L=J.type,delete J.type,K=qb,K["stroke-width"]||(K["stroke-width"]=.5),N="opacity"in K?K.opacity:1,Q="opacity"in K?K.opacity:.3,O="lineOpacity"in K?K.lineOpacity:N,P="fillOpacity"in K?K.fillOpacity:Q,jb&&_&&_.getCount())for(q=0;jb>q;q++)v=_.getAt(q),_.remove(v),_.add(v),w=_.getAt(_.getCount()-2),v.setAttributes({x:0,y:0,translate:{x:w.attr.translation.x,y:w.attr.translation.y}},!0);for(R.unHighlightItem(),R.cleanHighlights(),R.setBBox(),Y=R.bbox,R.clipRect=[Y.x,Y.y,Y.width,Y.height],(t=T.get(vb))&&(u=t.applyData(),D=u.from,E=u.to),(t=T.get(wb))&&(u=t.applyData(),F=u.from,G=u.to),R.xField&&!Ext.isNumber(D)&&(t=R.getMinMaxXValues(),D=t[0],E=t[1]),R.yField&&!Ext.isNumber(F)&&(t=R.getMinMaxYValues(),F=t[0],G=t[1]),isNaN(D)?(D=0,B=Y.width/(W-1||1)):B=Y.width/(E-D||W-1||1),isNaN(F)?(F=0,C=Y.height/(W-1||1)):C=Y.height/(G-F||W-1||1),q=0,s=V.length;s>q;q++)a=V[q],y=a.get(R.xField),"Time"==xb&&"string"==typeof y&&(y=Date.parse(y)),("string"==typeof y||"object"==typeof y&&!Ext.isDate(y)||vb&&T.get(vb)&&"Category"==T.get(vb).type)&&(y=y in lb?lb[y]:lb[y]=q),z=a.get(R.yField),"Time"==yb&&"string"==typeof z&&(z=Date.parse(z)),"undefined"==typeof z||"string"==typeof z&&!z?Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("[Ext.chart.series.Line]  Skipping a store element with an undefined value at ",a,y,z):(("string"==typeof z||"object"==typeof z&&!Ext.isDate(z)||wb&&T.get(wb)&&"Category"==T.get(wb).type)&&(z=q),ob.push(q),kb.push(y),mb.push(z));for(s=kb.length,s>Y.width&&(A=R.shrink(kb,mb,Y.width),kb=A.x,mb=A.y),R.items=[],M=0,s=kb.length,q=0;s>q;q++)if(y=kb[q],z=mb[q],z!==!1){if(j=(Y.x+(y-D)*B).toFixed(2),k=(Y.y+Y.height-(z-F)*C).toFixed(2),nb&&(nb=!1,gb.push("M")),gb=gb.concat([j,k]),"undefined"==typeof o&&"undefined"!=typeof k&&(o=k,n=j),(!R.line||S.resizing)&&(fb=fb.concat([j,Y.y+Y.height/2])),S.animate&&S.resizing&&R.line&&(R.line.setAttributes({path:fb,opacity:O},!0),R.fillPath&&R.fillPath.setAttributes({path:fb,opacity:P},!0),R.line.shadows))for(c=R.line.shadows,r=0,eb=c.length;eb>r;r++)d=c[r],d.setAttributes({path:fb},!0);$&&(v=_.getAt(M++),v?(v.setAttributes({value:'"'+y+", "+z+'"',x:0,y:0,hidden:!1},!0),v._to={translate:{x:+j,y:+k}}):(v=Ext.chart.Shape[L](X,Ext.apply({group:[Z,_],x:0,y:0,translate:{x:+(l||j),y:m||Y.y+Y.height/2},value:'"'+y+", "+z+'"',zIndex:4e3},J)),v._to={translate:{x:+j,y:+k}})),R.items.push({series:R,value:[y,z],point:[j,k],sprite:v,storeItem:U.getAt(ob[q])}),l=j,m=k}else 1==gb.length&&(gb=[]),nb=!0,R.items.push(!1);if(!(gb.length<=1)){if(R.smooth&&(ib=Ext.draw.Draw.smooth(gb,tb(db)?db:R.defaultSmoothness)),hb=db?ib:gb,S.markerIndex&&R.previousPath?(f=R.previousPath,db||Ext.Array.erase(f,1,2)):f=gb,!R.line&&(R.line=X.add(Ext.apply({type:"path",group:Z,path:fb,stroke:K.stroke||K.fill},K||{})),R.line.setAttributes({opacity:O},!0),ab&&R.line.setAttributes(Ext.apply({},R.shadowOptions),!0),R.line.setAttributes({fill:"none",zIndex:3e3}),!K.stroke&&sb&&R.line.setAttributes({stroke:rb[R.themeIdx%sb]},!0),ab))for(c=R.line.shadows=[],e=0;eb>e;e++)b=cb[e],b=Ext.apply({},b,{path:fb}),d=X.add(Ext.apply({},{type:"path",group:bb[e]},b)),c.push(d);if(R.fill&&(h=hb.concat([["L",j,Y.y+Y.height],["L",n,Y.y+Y.height],["L",n,o]]),R.fillPath||(R.fillPath=X.add({group:Z,type:"path",fill:K.fill||rb[R.themeIdx%sb],path:fb}))),p=$&&_.getCount(),S.animate){if(g=R.fill,H=R.line,i=R.renderer(H,!1,{path:hb},q,U),Ext.apply(i,K||{},{stroke:K.stroke||K.fill}),delete i.fill,H.show(!0),R.animation=I=S.markerIndex&&R.previousPath?R.onAnimate(H,{to:i,from:{path:f}}):R.onAnimate(H,{to:i}),ab)for(c=H.shadows,r=0;eb>r;r++)c[r].show(!0),S.markerIndex&&R.previousPath?R.onAnimate(c[r],{to:{path:hb},from:{path:f}}):R.onAnimate(c[r],{to:{path:hb}});if(g&&(R.fillPath.show(!0),R.onAnimate(R.fillPath,{to:Ext.apply({},{path:h,fill:K.fill||rb[R.themeIdx%sb],"stroke-width":0,opacity:P},K||{})})),$){for(M=0,q=0;s>q;q++)R.items[q]&&(x=_.getAt(M++),x&&(i=R.renderer(x,U.getAt(q),x._to,q,U),R.onAnimate(x,{to:Ext.applyIf(i,J||{})}),x.show(!0)));for(;p>M;M++)x=_.getAt(M),x.hide(!0)}}else{if(i=R.renderer(R.line,!1,{path:hb,hidden:!1},q,U),Ext.apply(i,K||{},{stroke:K.stroke||K.fill}),delete i.fill,R.line.setAttributes(i,!0),R.line.setAttributes({opacity:O},!0),ab)for(c=R.line.shadows,r=0;eb>r;r++)c[r].setAttributes({path:hb,hidden:!1},!0);if(R.fill&&R.fillPath.setAttributes({path:h,hidden:!1,opacity:P},!0),$){for(M=0,q=0;s>q;q++)R.items[q]&&(x=_.getAt(M++),x&&(i=R.renderer(x,U.getAt(q),x._to,q,U),x.setAttributes(Ext.apply(J||{},i||{}),!0),x.attr.hidden||x.show(!0)));for(;p>M;M++)x=_.getAt(M),x.hide(!0)}}S.markerIndex&&(R.smooth?Ext.Array.erase(gb,1,2):Ext.Array.splice(gb,1,0,gb[1],gb[2]),R.previousPath=gb),R.renderLabels(),R.renderCallouts(),R.fireEvent("draw",R)}}},onCreateLabel:function(a,b){var c=this,d=c.labelsGroup,e=c.label,f=c.bbox,g=Ext.apply({},e,c.seriesLabelStyle||{});return c.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:d,x:Number(b.point[0]),y:f.y+f.height/2},g||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=this,o=n.chart,p=o.resizing,q=n.label,r=q.renderer,s=q.field,t=n.bbox,u=Number(c.point[0]),v=Number(c.point[1]),w=c.sprite.attr.radius;a.setAttributes({text:r(b.get(s),a,b,c,d,e,f,g),hidden:!0},!0),i=c.sprite.getBBox(),i.width=i.width||2*w,i.height=i.height||2*w,h=a.getBBox(),j=h.width/2,k=h.height/2,"rotate"==e?(l=i.width/2+j+k/2,u+l+j>t.x+t.width?u-=l:u+=l,a.setAttributes({rotation:{x:u,y:v,degrees:-45}},!0)):("under"==e||"over"==e)&&(a.setAttributes({rotation:{degrees:0}},!0),u<t.x+j?u=t.x+j:u+j>t.x+t.width&&(u=t.x+t.width-j),m=i.height/2+k,v+="over"==e?-m:m,v<t.y+k?v+=2*m:v+k>t.y+t.height&&(v-=2*m)),n.chart.animate&&!n.chart.resizing?(a.show(!0),n.onAnimate(a,{to:{x:u,y:v}})):(a.setAttributes({x:u,y:v},!0),p&&n.animation?n.animation.on("afteranimate",function(){a.show(!0)}):a.show(!0))},highlightItem:function(){var a=this,b=a.line;a.callParent(arguments),b&&!a.highlighted&&("__strokeWidth"in b||(b.__strokeWidth=parseFloat(b.attr["stroke-width"])||0),b.__anim&&(b.__anim.paused=!0),b.__anim=new Ext.fx.Anim({target:b,to:{"stroke-width":b.__strokeWidth+3}}),a.highlighted=!0)},unHighlightItem:function(){var a,b=this,c=b.line;b.callParent(arguments),c&&b.highlighted&&(a=c.__strokeWidth||parseFloat(c.attr["stroke-width"])||0,c.__anim=new Ext.fx.Anim({target:c,to:{"stroke-width":a}}),b.highlighted=!1)},onPlaceCallout:function(a,b,c,d,e){if(e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.chart,u=(t.surface,t.resizing,s.callouts),v=s.items,w=0==d?!1:v[d-1].point,x=d==v.length-1?!1:v[d+1].point,y=[+c.point[0],+c.point[1]],z=u.offsetFromViz||30,A=(u.offsetToSide||10,u.offsetBox||3),B=s.clipRect,C={width:u.styles.width||10,height:u.styles.height||10};w||(w=y),x||(x=y),i=(x[1]-w[1])/(x[0]-w[0]),j=(y[1]-w[1])/(y[0]-w[0]),k=(x[1]-y[1])/(x[0]-y[0]),g=Math.sqrt(1+i*i),f=[1/g,i/g],h=[-f[1],f[0]],j>0&&0>k&&h[1]<0||0>j&&k>0&&h[1]>0?(h[0]*=-1,h[1]*=-1):(Math.abs(j)<Math.abs(k)&&h[0]<0||Math.abs(j)>Math.abs(k)&&h[0]>0)&&(h[0]*=-1,h[1]*=-1),q=y[0]+h[0]*z,r=y[1]+h[1]*z,l=q+(h[0]>0?0:-(C.width+2*A)),m=r-C.height/2-A,n=C.width+2*A,o=C.height+2*A,(l<B[0]||l+n>B[0]+B[2])&&(h[0]*=-1),(m<B[1]||m+o>B[1]+B[3])&&(h[1]*=-1),q=y[0]+h[0]*z,r=y[1]+h[1]*z,l=q+(h[0]>0?0:-(C.width+2*A)),m=r-C.height/2-A,n=C.width+2*A,o=C.height+2*A,t.animate?(s.onAnimate(a.lines,{to:{path:["M",y[0],y[1],"L",q,r,"Z"]}}),a.panel&&a.panel.setPosition(l,m,!0)):(a.lines.setAttributes({path:["M",y[0],y[1],"L",q,r,"Z"]},!0),a.panel&&a.panel.setPosition(l,m));for(p in a)a[p].show(!0)}},isItemInPoint:function(a,b,c,d){{var e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.items,s=q.selectionTolerance,t=Math.sqrt;Math.abs}return f=r[d],e=d&&r[d-1],d>=i&&(e=r[i-1]),g=e&&e.point,h=f&&f.point,j=e?g[0]:h[0]-s,k=e?g[1]:h[1],l=f?h[0]:g[0]+s,m=f?h[1]:g[1],n=t((a-j)*(a-j)+(b-k)*(b-k)),o=t((a-l)*(a-l)+(b-m)*(b-m)),p=Math.min(n,o),s>=p?p==n?e:f:!1},toggleAll:function(a){var b,c,d,e,f=this;if(a?Ext.chart.series.Cartesian.prototype.showAll.call(f):Ext.chart.series.Cartesian.prototype.hideAll.call(f),f.line&&(f.line.setAttributes({hidden:!a},!0),f.line.shadows))for(b=0,e=f.line.shadows,c=e.length;c>b;b++)d=e[b],d.setAttributes({hidden:!a},!0);f.fillPath&&f.fillPath.setAttributes({hidden:!a},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}}),Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",accuracy:1e5,rad:2*Math.PI/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart,f=e.surface,g=(e.store,e.shadow);if(a.highlightCfg=Ext.merge({segment:{margin:20}},a.highlightCfg),Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),d.group=f.getGroup(d.seriesId),g)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(f.getGroup(d.seriesId+"-shadows"+b));f.customAttributes.segment=function(a){var b=d.getSegment(a);return b.path&&0!==b.path.length||(b.path=["M",0,0]),b},d.__excludes=d.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var a,b,c,d=this,e=d.chart.getChartStore(),f=e.data.items;if(d.yField=[],d.label.field)for(a=0,b=f.length;b>a;a++)c=f[a],d.yField.push(c.get(d.label.field))},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=b.centerX,g=b.centerY,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=.01,u=a.startAngle,v=a.endAngle,w=(u+v)/2*c,x=a.margin||0,y=Math.min(u,v)*c,z=Math.max(u,v)*c,A=d(y),B=e(y),C=d(z),D=e(z),E=d(w),F=e(w),G=0;return t>z-y?{path:""}:(0!==x&&(f+=x*E,g+=x*F),i=f+a.endRho*A,m=g+a.endRho*B,k=f+a.endRho*C,o=g+a.endRho*D,r=f+a.endRho*E,s=g+a.endRho*F,0!==a.startRho?(h=f+a.startRho*A,l=g+a.startRho*B,j=f+a.startRho*C,n=g+a.startRho*D,p=f+a.startRho*E,q=g+a.startRho*F,{path:[["M",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",j,n],["A",a.startRho,a.startRho,0,G,0,p,q],["L",p,q],["A",a.startRho,a.startRho,0,0,0,h,l],["L",h,l],["Z"]]}):{path:[["M",f,g],["L",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",f,g],["Z"]]})},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=(+b.donut,-(g+h)*c/2),j=(a.endRho+a.startRho)/2,k=e+j*Math.cos(i),l=f-j*Math.sin(i);a.middle={x:k,y:l}},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=v.chart.getChartStore(),x=w.data.items,y=v.group,z=v.chart.animate,A=v.angleField||v.field||v.xField,B=[].concat(v.lengthField),C=0,D=v.chart,E=D.surface,F=D.chartBBox,G=D.shadow,H=v.shadowGroups,I=v.shadowAttributes,J=H.length,K=B.length,L=0,M=+v.donut,N=[],O=[],P=0,Q=0,R=0,S=v.seriesStyle,T=v.colorArrayStyle,U=T&&T.length||0,V=0;if(Ext.apply(S,v.style||{}),v.setBBox(),u=v.bbox,v.colorSet&&(T=v.colorSet,U=T.length),!w||!w.getCount()||v.seriesIsHidden)return v.hide(),void(v.items=[]);for(v.unHighlightItem(),v.cleanHighlights(),g=v.centerX=F.x+F.width/2,h=v.centerY=F.y+F.height/2,v.radius=Math.min(g-F.x,h-F.y),v.slices=k=[],v.items=O=[],q=0,p=x.length;p>q;q++)if(a=x[q],(!this.__excludes||!this.__excludes[q])&&(P+=+a.get(A),B[0])){for(r=0,C=0;K>r;r++)C+=+a.get(B[r]);N[q]=C,Q=Math.max(Q,C)}for(P=P||1,q=0,p=x.length;p>q;q++){if(a=x[q],this.__excludes&&this.__excludes[q]?m=0:(m=a.get(A),0==V&&(V=1)),1==V)for(V=2,v.firstAngle=R=v.accuracy*m/P/2,r=0;q>r;r++)k[r].startAngle=k[r].endAngle=v.firstAngle;s=R-v.accuracy*m/P,j={series:v,value:m,startAngle:R,endAngle:s,storeItem:a},B[0]?(o=+N[q],j.rho=Math.floor(v.radius/Q*o)):j.rho=v.radius,k[q]=j,function(){R=s}()}if(G)for(q=0,p=k.length;p>q;q++)for(j=k[q],j.shadowAttrs=[],r=0,L=0,d=[];K>r;r++){for(l=y.getAt(q*K+r),i=B[r]?w.getAt(q).get(B[r])/N[q]*j.rho:j.rho,b={segment:{startAngle:j.startAngle,endAngle:j.endAngle,margin:0,rho:j.rho,startRho:L+i*M/100,endRho:L+i},hidden:!j.value&&j.startAngle%v.accuracy==j.endAngle%v.accuracy},f=0,d=[];J>f;f++)c=I[f],e=H[f].getAt(q),e||(e=D.surface.add(Ext.apply({},{type:"path",group:H[f],strokeLinejoin:"round"},b,c))),c=v.renderer(e,w.getAt(q),Ext.apply({},b,c),q,w),z?v.onAnimate(e,{to:c}):e.setAttributes(c,!0),d.push(e);j.shadowAttrs[r]=d}for(q=0,p=k.length;p>q;q++)for(j=k[q],r=0,L=0;K>r;r++)l=y.getAt(q*K+r),i=B[r]?w.getAt(q).get(B[r])/N[q]*j.rho:j.rho,b=Ext.apply({segment:{startAngle:j.startAngle,endAngle:j.endAngle,margin:0,rho:j.rho,startRho:L+i*M/100,endRho:L+i},hidden:!j.value&&j.startAngle%v.accuracy==j.endAngle%v.accuracy},Ext.apply(S,T&&{fill:T[(K>1?r:q)%U]}||{})),n=Ext.apply({},b.segment,{slice:j,series:v,storeItem:j.storeItem,index:q}),v.calcMiddle(n),G&&(n.shadows=j.shadowAttrs[r]),O[q]=n,l||(t=Ext.apply({type:"path",group:y,middle:n.middle},Ext.apply(S,T&&{fill:T[(K>1?r:q)%U]}||{})),l=E.add(Ext.apply(t,b))),j.sprite=j.sprite||[],n.sprite=l,j.sprite.push(l),j.point=[n.middle.x,n.middle.y],z?(b=v.renderer(l,w.getAt(q),b,q,w),l._to=b,l._animating=!0,v.onAnimate(l,{to:b,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:l}}})):(b=v.renderer(l,w.getAt(q),Ext.apply(b,{hidden:!1}),q,w),l.setAttributes(b,!0)),L+=i;for(p=y.getCount(),q=0;p>q;q++)!k[q/K>>0]&&y.getAt(q)&&y.getAt(q).hide(!0);if(G)for(J=H.length,f=0;p>f;f++)if(!k[f/K>>0])for(r=0;J>r;r++)H[r].getAt(f)&&H[r].getAt(f).hide(!0);v.renderLabels(),v.renderCallouts()},onCreateLabel:function(a,b){var c=this,d=c.labelsGroup,e=c.label,f=(c.centerX,c.centerY,b.middle),g=Ext.apply(c.seriesLabelStyle||{},e||{});return c.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:d,x:f.x,y:f.y},g))},onPlaceLabel:function(a,b,c,d,e,f,g){function h(a){return 0>a&&(a+=360),a%360}var i,j,k,l,m=this,n=m.chart,o=n.resizing,p=m.label,q=p.renderer,r=p.field,s=m.centerX,t=m.centerY,u=c.middle,v={x:u.x,y:u.y},w=u.x-s,x=u.y-t,y={},z=1,A=Math.atan2(x,w||1),B=180*A/Math.PI;switch(v.hidden=!1,this.__excludes&&this.__excludes[d]&&(v.hidden=!0),a.setAttributes({text:q(b.get(r),a,b,c,d,e,f,g)},!0),e){case"outside":z=2*Math.sqrt(w*w+x*x),a.setAttributes({rotation:{degrees:0}},!0),j=a.getBBox(),k=j.width/2*Math.cos(A)+4,l=j.height/2*Math.sin(A)+4,z+=Math.sqrt(k*k+l*l),v.x=z*Math.cos(A)+s,v.y=z*Math.sin(A)+t;break;case"rotate":B=h(B),B=B>90&&270>B?B+180:B,i=a.attr.rotation.degrees,null!=i&&Math.abs(i-B)>90?(B>i?B-=360:B+=360,B%=360):B=h(B),v.rotate={degrees:B,x:v.x,y:v.y}}v.translate={x:0,y:0},!f||o||"rotate"==e&&null==i?a.setAttributes(v,!0):m.onAnimate(a,{to:v}),a._from=y},onPlaceCallout:function(a,b,c){var d,e,f=this,g=f.chart,h=f.centerX,i=f.centerY,j=c.middle,k={x:j.x,y:j.y},l=j.x-h,m=j.y-i,n=1,o=Math.atan2(m,l||1),p=a&&a.label?a.label.getBBox():{width:0,height:0},q=20,r=10,s=10;if(p.width&&p.height){n=c.endRho+q,d=(c.endRho+c.startRho)/2+(c.endRho-c.startRho)/3,k.x=n*Math.cos(o)+h,k.y=n*Math.sin(o)+i,l=d*Math.cos(o),m=d*Math.sin(o),g.animate?(f.onAnimate(a.lines,{to:{path:["M",l+h,m+i,"L",k.x,k.y,"Z","M",k.x,k.y,"l",l>0?r:-r,0,"z"]}}),f.onAnimate(a.box,{to:{x:k.x+(l>0?r:-(r+p.width+2*s)),y:k.y+(m>0?-p.height-s/2:-p.height-s/2),width:p.width+2*s,height:p.height+2*s}}),f.onAnimate(a.label,{to:{x:k.x+(l>0?r+s:-(r+p.width+s)),y:k.y+(m>0?-p.height/4:-p.height/4)}})):(a.lines.setAttributes({path:["M",l+h,m+i,"L",k.x,k.y,"Z","M",k.x,k.y,"l",l>0?r:-r,0,"z"]},!0),a.box.setAttributes({x:k.x+(l>0?r:-(r+p.width+2*s)),y:k.y+(m>0?-p.height-s/2:-p.height-s/2),width:p.width+2*s,height:p.height+2*s},!0),a.label.setAttributes({x:k.x+(l>0?r+s:-(r+p.width+s)),y:k.y+(m>0?-p.height/4:-p.height/4)},!0));for(e in a)a[e].show(!0)}},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c){var d=this,e=d.centerX,f=d.centerY,g=Math.abs,h=g(a-e),i=g(b-f),j=c.startAngle,k=c.endAngle,l=Math.sqrt(h*h+i*i),m=Math.atan2(b-f,a-e)/d.rad;
return m>d.firstAngle&&(m-=d.accuracy),j>=m&&m>k&&l>=c.startRho&&l<=c.endRho},hideAll:function(a){var b,c,d,e,f,g,h;for(a=(isNaN(this._index)?a:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[a]=!0,h=this.slices[a].sprite,f=0,g=h.length;g>f;f++)h[f].setAttributes({hidden:!0},!0);if(this.slices[a].shadowAttrs)for(b=0,e=this.slices[a].shadowAttrs,c=e.length;c>b;b++)for(d=e[b],f=0,g=d.length;g>f;f++)d[f].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0,this.__excludes[a]=!1,this.drawSeries()},highlightItem:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.rad;if(a=a||this.items[this._index],this.unHighlightItem(),!(!a||s.animating||a.sprite&&a.sprite._animating)&&(s.callParent([a]),s.highlight&&"segment"in s.highlightCfg&&(b=s.highlightCfg.segment,c=s.chart.animate,s.labelsGroup&&(l=s.labelsGroup,m=s.label.display,n=l.getAt(a.index),o=(a.startAngle+a.endAngle)/2*t,p=b.margin||0,q=p*Math.cos(o),r=p*Math.sin(o),Math.abs(q)<1e-10&&(q=0),Math.abs(r)<1e-10&&(r=0),c?(n.stopAnimation(),n.animate({to:{translate:{x:q,y:r}},duration:s.highlightDuration})):n.setAttributes({translate:{x:q,y:r}},!0)),s.chart.shadow&&a.shadows)))for(e=0,f=a.shadows,h=f.length;h>e;e++){g=f[e],i={},j=a.sprite._from.segment;for(k in j)k in b||(i[k]=j[k]);d={segment:Ext.applyIf(i,s.highlightCfg.segment)},c?(g.stopAnimation(),g.animate({to:d,duration:s.highlightDuration})):g.setAttributes(d,!0)}},unHighlightItem:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this;if(t.highlight){if("segment"in t.highlightCfg&&t.items)for(a=t.items,b=t.chart.animate,c=!!t.chart.shadow,d=t.labelsGroup,e=a.length,f=0,g=0,h=t.label.display;e>f;f++)if(q=a[f],q&&(n=q.sprite,n&&n._highlighted&&(d&&(r=d.getAt(q.index),s=Ext.apply({translate:{x:0,y:0}},"rotate"==h?{rotate:{x:r.attr.x,y:r.attr.y,degrees:r.attr.rotation.degrees}}:{}),b?(r.stopAnimation(),r.animate({to:s,duration:t.highlightDuration})):r.setAttributes(s,!0)),c)))for(o=q.shadows,i=o.length;i>g;g++){k={},l=q.sprite._to.segment,m=q.sprite._from.segment,Ext.apply(k,m);for(j in l)j in m||(k[j]=l[j]);p=o[g],b?(p.stopAnimation(),p.animate({to:{segment:k},duration:t.highlightDuration})):p.setAttributes({segment:k},!0)}t.callParent(arguments)}},getLegendColor:function(a){var b=this;return b.colorSet&&b.colorSet[a%b.colorSet.length]||b.colorArrayStyle[a%b.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(){this.callParent(arguments);var a=this,b=a.chart.surface;a.group=b.getGroup(a.seriesId),a.showMarkers&&(a.markerGroup=b.getGroup(a.seriesId+"-markers"))},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.chart.getChartStore(),s=r.data.items,t=q.group,u=q.chart,v=u.series.items,w=q.field||q.yField,x=u.surface,y=u.chartBBox,z=q.colorArrayStyle,A=0,B=[],C=Math.max,D=Math.cos,E=Math.sin,F=2*Math.PI,G=r.getCount(),H=q.seriesStyle,I=u.axes&&u.axes.get(0),J=!(I&&I.maximum);if(q.setBBox(),A=J?0:I.maximum||0,Ext.apply(H,q.style||{}),!r||!r.getCount()||q.seriesIsHidden)return q.hide(),q.items=[],q.radar&&q.radar.hide(!0),void(q.radar=null);if(H.stroke||(H.stroke=z[q.themeIdx%z.length]),q.unHighlightItem(),q.cleanHighlights(),f=q.centerX=y.x+y.width/2,g=q.centerY=y.y+y.height/2,q.radius=i=Math.min(y.width,y.height)/2,q.items=h=[],J){for(c=0,d=v.length;d>c;c++)e=v[c],B.push(e.yField);for(a=0;G>a;a++)for(b=s[a],o=0,p=B.length;p>o;o++)A=C(+b.get(B[o]),A)}for(A=A||1,j=[],k=[],o=0;G>o;o++)b=s[o],n=i*b.get(w)/A,l=n*D(o/G*F),m=n*E(o/G*F),0==o?(k.push("M",l+f,m+g),j.push("M",.01*l+f,.01*m+g)):(k.push("L",l+f,m+g),j.push("L",.01*l+f,.01*m+g)),h.push({sprite:!1,point:[f+l,g+m],storeItem:b,series:q});k.push("Z"),q.radar||(q.radar=x.add(Ext.apply({type:"path",group:t,path:j},H||{}))),u.resizing&&q.radar.setAttributes({path:j},!0),u.animate?q.onAnimate(q.radar,{to:Ext.apply({path:k},H||{})}):q.radar.setAttributes(Ext.apply({path:k},H||{}),!0),q.showMarkers&&q.drawMarkers(),q.renderLabels(),q.renderCallouts()},drawMarkers:function(){var a,b,c,d,e,f=this,g=f.chart,h=g.surface,i=g.getChartStore(),j=Ext.apply({},f.markerStyle||{}),k=Ext.apply(j,f.markerConfig,{fill:f.colorArrayStyle[f.themeIdx%f.colorArrayStyle.length]}),l=f.items,m=k.type,n=f.markerGroup,o=f.centerX,p=f.centerY;for(delete k.type,b=0,c=l.length;c>b;b++)a=l[b],d=n.getAt(b),d?d.show():d=Ext.chart.Shape[m](h,Ext.apply({group:n,x:0,y:0,translate:{x:o,y:p}},k)),a.sprite=d,g.resizing&&d.setAttributes({x:0,y:0,translate:{x:o,y:p}},!0),d._to={translate:{x:a.point[0],y:a.point[1]}},e=f.renderer(d,i.getAt(b),d._to,b,i),e=Ext.applyIf(e||{},k||{}),g.animate?f.onAnimate(d,{to:e}):d.setAttributes(e,!0)},isItemInPoint:function(a,b,c){var d,e=10,f=Math.abs;return d=c.point,f(d[0]-a)<=e&&f(d[1]-b)<=e},onCreateLabel:function(){var a=this,b=a.labelsGroup,c=a.label,d=a.centerX,e=a.centerY,f=Ext.apply({},c,a.seriesLabelStyle||{});return a.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:b,x:d,y:e},f||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){function h(a){return 0>a&&(a+=360),a%360}var i,j,k=this,l=k.chart,m=l.resizing,n=k.label,o=n.renderer,p=n.field,q=k.centerX,r=k.centerY,s={x:Number(c.point[0]),y:Number(c.point[1])},t=s.x-q,u=s.y-r,v=Math.atan2(u,t||1),w=180*v/Math.PI;a.setAttributes({text:o(b.get(p),a,b,c,d,e,f,g),hidden:!0},!0),i=a.getBBox(),w=h(w),w>45&&135>w||w>225&&315>w?(j=w>45&&135>w?1:-1,s.y+=j*i.height/2):(j=w>=135&&225>=w?-1:1,s.x+=j*i.width/2),m&&a.setAttributes({x:q,y:r},!0),f?(a.show(!0),k.onAnimate(a,{to:s})):(a.setAttributes(s,!0),a.show(!0))},toggleAll:function(a){var b,c,d,e,f=this;if(a?Ext.chart.series.Radar.superclass.showAll.call(f):Ext.chart.series.Radar.superclass.hideAll.call(f),f.radar&&(f.radar.setAttributes({hidden:!a},!0),f.radar.shadows))for(b=0,e=f.radar.shadows,c=e.length;c>b;b++)d=e[b],d.setAttributes({hidden:!a},!0)},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(a){for(var b=this,c=b.markerGroup&&b.markerGroup.getCount()||0,d=a||0;c>d;d++)b.markerGroup.getAt(d).hide(!0)},getAxesForXAndYFields:function(){var a=this,b=a.chart,c=b.axes,d=[].concat(c&&c.get(0));return{yAxis:d}}}),Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(a){this.callParent(arguments);var b,c,d=this,e=d.chart.shadow,f=d.chart.surface;if(Ext.apply(d,a,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),d.group=f.getGroup(d.seriesId),e)for(b=0,c=d.shadowAttributes.length;c>b;b++)d.shadowGroups.push(f.getGroup(d.seriesId+"-shadows"+b))},getBounds:function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.chart,l=k.getChartStore(),m=k.axes,n=j.getAxesForXAndYFields(),o=n.xAxis,p=n.yAxis;return j.setBBox(),a=j.bbox,(h=m.get(o))&&(i=h.applyData(),d=i.from,f=i.to),(h=m.get(p))&&(i=h.applyData(),e=i.from,g=i.to),j.xField&&!Ext.isNumber(d)&&(h=j.getMinMaxXValues(),d=h[0],f=h[1]),j.yField&&!Ext.isNumber(e)&&(h=j.getMinMaxYValues(),e=h[0],g=h[1]),isNaN(d)?(d=0,f=l.getCount()-1,b=a.width/(l.getCount()-1)):b=a.width/(f-d),isNaN(e)?(e=0,g=l.getCount()-1,c=a.height/(l.getCount()-1)):c=a.height/(g-e),{bbox:a,minX:d,minY:e,xScale:b,yScale:c}},getPaths:function(){var a,b,c,d,e,f,g,h,i=this,j=i.chart,k=j.shadow,l=j.getChartStore(),m=l.data.items,n=i.group,o=i.bounds=i.getBounds(),p=i.bbox,q=o.xScale,r=o.yScale,s=o.minX,t=o.minY,u=p.x,v=p.y,w=p.height,x=(i.items=[],[]);for(a=0,b=m.length;b>a;a++)c=m[a],f=c.get(i.xField),g=c.get(i.yField),"undefined"==typeof g||"string"==typeof g&&!g||null==f||null==g?Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("[Ext.chart.series.Scatter]  Skipping a store element with a value which is either undefined or null  at ",c,f,g):(("string"==typeof f||"object"==typeof f&&!Ext.isDate(f))&&(f=a),("string"==typeof g||"object"==typeof g&&!Ext.isDate(g))&&(g=a),d=u+(f-s)*q,e=v+w-(g-t)*r,x.push({x:d,y:e}),i.items.push({series:i,value:[f,g],point:[d,e],storeItem:c}),j.animate&&j.resizing&&(h=n.getAt(a),h&&(i.resetPoint(h),k&&i.resetShadow(h))));return x},resetPoint:function(a){var b=this.bbox;a.setAttributes({translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}},!0)},resetShadow:function(a){var b,c,d=this,e=a.shadows,f=d.shadowAttributes,g=d.shadowGroups.length,h=d.bbox;for(b=0;g>b;b++)c=Ext.apply({},f[b]),c.translate?(c.translate.x+=(h.x+h.width)/2,c.translate.y+=(h.y+h.height)/2):c.translate={x:(h.x+h.width)/2,y:(h.y+h.height)/2},e[b].setAttributes(c,!0)},createPoint:function(a,b){var c=this,d=c.chart,e=c.group,f=c.bbox;return Ext.chart.Shape[b](d.surface,Ext.apply({},{x:0,y:0,group:e,translate:{x:(f.x+f.width)/2,y:(f.y+f.height)/2}},a))},createShadow:function(a,b,c){var d,e,f,g,h=this,i=h.chart,j=h.shadowGroups,k=h.shadowAttributes,l=j.length,m=h.bbox;for(a.shadows=f=[],d=0;l>d;d++)g=Ext.apply({},k[d]),g.translate?(g.translate.x+=(m.x+m.width)/2,g.translate.y+=(m.y+m.height)/2):Ext.apply(g,{translate:{x:(m.x+m.width)/2,y:(m.y+m.height)/2}}),Ext.apply(g,b),e=Ext.chart.Shape[c](i.surface,Ext.apply({},{x:0,y:0,group:j[d]},g)),f.push(e)},drawSeries:function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.chart,n=m.getChartStore(),o=l.group,p=m.shadow,q=l.shadowGroups,r=l.shadowAttributes,s=q.length;if(f=Ext.apply(l.markerStyle,l.markerConfig),h=f.type||"circle",delete f.type,!n||!n.getCount())return l.hide(),void(l.items=[]);for(l.unHighlightItem(),l.cleanHighlights(),b=l.getPaths(),d=b.length,e=0;d>e;e++){if(c=b[e],a=o.getAt(e),Ext.apply(c,f),a||(a=l.createPoint(c,h),p&&l.createShadow(a,f,h)),i=a.shadows,m.animate)for(j=l.renderer(a,n.getAt(e),{translate:c},e,n),a._to=j,l.onAnimate(a,{to:j}),g=0;s>g;g++)k=Ext.apply({},r[g]),j=l.renderer(i[g],n.getAt(e),Ext.apply({},{hidden:!1,translate:{x:c.x+(k.translate?k.translate.x:0),y:c.y+(k.translate?k.translate.y:0)}},k),e,n),l.onAnimate(i[g],{to:j});else for(j=l.renderer(a,n.getAt(e),{translate:c},e,n),a._to=j,a.setAttributes(j,!0),g=0;s>g;g++)k=Ext.apply({},r[g]),j=l.renderer(i[g],n.getAt(e),Ext.apply({},{hidden:!1,translate:{x:c.x+(k.translate?k.translate.x:0),y:c.y+(k.translate?k.translate.y:0)}},k),e,n),i[g].setAttributes(j,!0);l.items[e].sprite=a}for(d=o.getCount(),e=b.length;d>e;e++)o.getAt(e).hide(!0);l.renderLabels(),l.renderCallouts()},onCreateLabel:function(a,b){var c=this,d=c.labelsGroup,e=c.label,f=Ext.apply({},e,c.seriesLabelStyle),g=c.bbox;return c.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:d,x:Number(b.point[0]),y:g.y+g.height/2},f))},onPlaceLabel:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=this,p=o.chart,q=p.resizing,r=o.label,s=r.renderer,t=r.field,u=o.bbox,v=Number(c.point[0]),w=Number(c.point[1]),x=c.sprite.attr.radius;a.setAttributes({text:s(b.get(t),a,b,c,d,e,f,g),hidden:!0},!0),i=c.sprite.getBBox(),i.width=i.width||2*x,i.height=i.height||2*x,h=a.getBBox(),j=h.width/2,k=h.height/2,"rotate"==e?(l=i.width/2+j+k/2,v+l+j>u.x+u.width?v-=l:v+=l,a.setAttributes({rotation:{x:v,y:w,degrees:-45}},!0)):("under"==e||"over"==e)&&(a.setAttributes({rotation:{degrees:0}},!0),v<u.x+j?v=u.x+j:v+j>u.x+u.width&&(v=u.x+u.width-j),m=i.height/2+k,w+="over"==e?-m:m,w<u.y+k?w+=2*m:w+k>u.y+u.height&&(w-=2*m)),p.animate?q?(n=c.sprite.getActiveAnimation(),n?n.on("afteranimate",function(){a.setAttributes({x:v,y:w},!0),a.show(!0)}):a.show(!0)):o.onAnimate(a,{to:{x:v,y:w}}):(a.setAttributes({x:v,y:w},!0),a.show(!0))},onPlaceCallout:function(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=l.chart,n=(m.surface,m.resizing,l.callouts,l.items,c.point),o=a.label.getBBox(),p=30,q=3,r=l.bbox;d=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],j=n[0]+d[0]*p,k=n[1]+d[1]*p,e=j+(d[0]>0?0:-(o.width+2*q)),f=k-o.height/2-q,g=o.width+2*q,h=o.height+2*q,(e<r[0]||e+g>r[0]+r[2])&&(d[0]*=-1),(f<r[1]||f+h>r[1]+r[3])&&(d[1]*=-1),j=n[0]+d[0]*p,k=n[1]+d[1]*p,e=j+(d[0]>0?0:-(o.width+2*q)),f=k-o.height/2-q,g=o.width+2*q,h=o.height+2*q,m.animate?(l.onAnimate(a.lines,{to:{path:["M",n[0],n[1],"L",j,k,"Z"]}},!0),l.onAnimate(a.box,{to:{x:e,y:f,width:g,height:h}},!0),l.onAnimate(a.label,{to:{x:j+(d[0]>0?q:-(o.width+q)),y:k}},!0)):(a.lines.setAttributes({path:["M",n[0],n[1],"L",j,k,"Z"]},!0),a.box.setAttributes({x:e,y:f,width:g,height:h},!0),a.label.setAttributes({x:j+(d[0]>0?q:-(o.width+q)),y:k},!0));for(i in a)a[i].show(!0)},onAnimate:function(a){return a.show(),this.callParent(arguments)},isItemInPoint:function(a,b,c){{var d,e=10;Math.abs}return d=c.point,d[0]-e<=a&&d[0]+e>=a&&d[1]-e<=b&&d[1]+e>=b}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(){return this.autoSizePolicy},initHierarchyState:function(a){a.inShrinkWrapTable=!0},getLayoutItems:function(){var a,b,c=this,d=[],e=c.callParent(),f=e.length;for(b=0;f>b;b++)a=e[b],a.hidden||d.push(a);return d},getHiddenItems:function(){for(var a,b=[],c=this.owner.items.items,d=c.length,e=0;d>e;++e)a=c[e],a.rendered&&a.hidden&&b.push(a);return b},renderChildren:function(){var a,b,c,d,e,f,g,h,i=this,j=i.getLayoutItems(),k=i.owner.getTargetEl().child("table",!0).tBodies[0],l=k.rows,m=0,n=j.length,o=i.getHiddenItems();for(a=i.calculateCells(j);n>m;m++)if(b=a[m],c=b.rowIdx,d=b.cellIdx,e=j[m],f=l[c],f||(f=k.insertRow(c),i.trAttrs&&f.set(i.trAttrs)),h=g=Ext.get(f.cells[d]||f.insertCell(d)),i.needsDivWrap()&&(h=g.first()||g.createChild({tag:"div"}),h.setWidth(null)),e.rendered?i.isValidParent(e,h,c,d,k)||i.moveItem(e,h,0):i.renderItem(e,h,0),i.tdAttrs&&g.set(i.tdAttrs),e.tdAttrs&&g.set(e.tdAttrs),g.set({colSpan:e.colspan||1,rowSpan:e.rowspan||1,id:e.cellId||"",cls:i.cellCls+" "+(e.cellCls||"")}),!a[m+1]||a[m+1].rowIdx!==c)for(d++;f.cells[d];)f.deleteCell(d);for(c++;k.rows[c];)k.deleteRow(c);for(m=0,n=o.length;n>m;++m)i.ensureInDocument(o[m].getEl())},ensureInDocument:function(a){for(var b=a.dom.parentNode;b;){if("BODY"==b.tagName.toUpperCase())return;b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(a){if(a.hasDomProp("containerChildrenSizeDone")){var b=a.targetContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,e=d||c,f=e&&b.el.child("table",!0),g=e&&b.getPaddingInfo();c&&a.setContentWidth(f.offsetWidth+g.width,!0),d&&a.setContentHeight(f.offsetHeight+g.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var a,b,c=this.getLayoutItems(),d=c.length;for(a=0;d>a;a++)b=c[a],Ext.fly(b.el.dom.parentNode).setWidth(b.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(a){for(var b,c,d=[],e=0,f=0,g=0,h=this.columns||1/0,i=[],j=0,k=a.length;k>j;j++){for(c=a[j];f>=h||i[f]>0;)if(f>=h)for(f=0,g=0,e++,b=0;h>b;b++)i[b]>0&&i[b]--;else f++;for(d.push({rowIdx:e,cellIdx:g}),b=c.colspan||1;b;--b)i[f]=c.rowspan||1,++f;++g}return d},getRenderTree:function(){var a,b,c,d,e,f,g,h,i=this,j=i.getLayoutItems(),k=[],l=Ext.apply({tag:"table",role:"presentation",cls:i.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:k}},i.tableAttrs),m=i.tdAttrs,n=i.needsDivWrap(),o=j.length;for(a=i.calculateCells(j),b=0;o>b;b++)c=j[b],d=a[b],f=d.rowIdx,g=d.cellIdx,e=k[f],e||(e=k[f]={tag:"tr",cn:[]},i.trAttrs&&Ext.apply(e,i.trAttrs)),h=e.cn[g]={tag:"td"},m&&Ext.apply(h,m),Ext.apply(h,{colSpan:c.colspan||1,rowSpan:c.rowspan||1,id:c.cellId||"",cls:i.cellCls+" "+(c.cellCls||"")}),n&&(h=h.cn={tag:"div"}),i.configureItem(c),h.cn=c.getRenderTree();return l},isValidParent:function(a,b,c,d){var e,f,g;return 3===arguments.length?(g=a.el.up("table"),g&&g.dom.parentNode===b.dom):(e=this.owner.getTargetEl().child("table",!0).tBodies[0],f=e.rows[c].cells[d],a.el.dom.parentNode===f)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",initComponent:function(){var a=this,b=a.columns;b&&(a.layout=Ext.apply({},{columns:b},a.layout)),a.title||a.addClsWithUI(a.noTitleCls),a.callParent(arguments)},onBeforeAdd:function(a){a.isButton&&(a.ui=this.defaultButtonUI&&"default"===a.ui&&!a.hasOwnProperty("ui")?this.defaultButtonUI:a.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(a){return Ext.isString(a)||(a=this.callParent(arguments)),a}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(a){var b=this;b.target=a,a.on("beforedestroy",b.disable,b),b.onContainerAdd(a)},unbind:function(){var a=this,b=a.target;b&&b.un("beforedestroy",a.disable,a),a.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(a,b){this.disabled||(b.is(this.selector)&&this.onItemAdd(b.ownerCt,b),b.isQueryable&&this.onContainerAdd(b))},onItemAdd:function(a,b){var c=this,d=c.items,e=c.addHandler;c.disabled||(e&&e.call(c.scope||b,b),d&&d.add(b))},onItemRemove:function(a,b){var c=this,d=c.items,e=c.removeHandler;c.disabled||(e&&e.call(c.scope||b,b),d&&d.remove(b))},onContainerAdd:function(a,b){var c,d,e,f,g=this,h=g.handleAdd,i=g.handleRemove;if(a.isContainer&&(a.on("add",h,g),a.on("dockedadd",h,g),a.on("remove",i,g),a.on("dockedremove",i,g)),b!==!0)for(c=a.query(g.selector),e=0,d=c.length;d>e;++e)f=c[e],g.onItemAdd(f.ownerCt,f);for(c=a.query("container"),e=0,d=c.length;d>e;++e)g.onContainerAdd(c[e],!0)},handleRemove:function(a,b){var c=this;c.disabled||(b.is(c.selector)&&c.onItemRemove(a,b),b.isQueryable&&c.onContainerRemove(a,b))},onContainerRemove:function(a,b){var c,d,e,f,g=this;if(b.isDestroyed||b.destroying||!b.isContainer)g.invalidateItems();else{for(g.removeCtListeners(b),c=b.query(g.selector),d=0,e=c.length;e>d;++d)f=c[d],g.onItemRemove(f.ownerCt,f);for(c=b.query("container"),d=0,e=c.length;e>d;++d)g.removeCtListeners(c[d])}},removeCtListeners:function(a){var b=this;a.un("add",b.handleAdd,b),a.un("dockedadd",b.handleAdd,b),a.un("remove",b.handleRemove,b),a.un("dockedremove",b.handleRemove,b)},getItems:function(){var a=this,b=a.items;return b||(b=a.items=new Ext.util.MixedCollection,b.addAll(a.target.query(a.selector))),b},invalidateItems:function(){this.items=null}}),Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var a=this,b=document.body.parentNode,c=a.el=Ext.getBody();Ext.getScrollbarSize(),a.width=a.height=void 0,a.callParent(arguments),Ext.fly(b).addCls(a.viewportCls),a.autoScroll&&(Ext.fly(b).setStyle(a.getOverflowStyle()),delete a.autoScroll),c.setHeight=c.setWidth=Ext.emptyFn,c.dom.scroll="no",a.allowDomMove=!1,a.renderTo=a.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){var a=this;a.callParent(arguments),a.width=Ext.Element.getViewportWidth(),a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(a,b){(a!=this.width||b!=this.height)&&this.setSize(a,b)},initHierarchyState:function(){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){var a=this;a.removeUIFromElement(),a.el.removeCls(a.baseCls),Ext.fly(document.body.parentNode).removeCls(a.viewportCls),a.callParent()}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(a){var b=this;Ext.apply(b,a),b.id&&(Ext.data.IdGenerator.all[b.id]=b)},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c,d;if("string"==typeof a)c=d=a,a=null;else{if(a.isGenerator)return a;c=a.id||a.type,d=a.type}return b=this.all[c],b||(b=Ext.create("idgen."+d,a)),b}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var b=this.useNull?null:"";return void 0===a||null===a?b:String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return"number"==typeof a?parseInt(a):void 0!==a&&null!==a&&""!==a?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return"number"==typeof a?a:void 0!==a&&null!==a&&""!==a?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return"boolean"==typeof a?a:!this.useNull||void 0!==a&&null!==a&&""!==a?"true"===a||1==a:null},sortType:a.none,type:"bool"},DATE:{convert:function(a){var b,c=this.dateReadFormat||this.dateFormat;return a?a instanceof Date?a:c?Ext.Date.parse(a,c):(b=Date.parse(a),b?new Date(b):null):null},sortType:a.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:!0,constructor:function(a){var b,c=this,d=Ext.data.Types;Ext.isString(a)&&(a={name:a}),Ext.apply(c,a),b=c.sortType,c.type?Ext.isString(c.type)&&(c.type=d[c.type.toUpperCase()]||d.AUTO):c.type=d.AUTO,Ext.isString(b)?c.sortType=Ext.data.SortTypes[b]:Ext.isEmpty(b)&&(c.sortType=c.type.sortType),a.hasOwnProperty("convert")?c.convert||!c.type.convert||a.hasOwnProperty("defaultValue")||(c.defaultValue=c.type.convert(c.defaultValue)):c.convert=c.type.convert,a.convert&&(c.hasCustomConvert=!0)},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return 0===this.length},getByField:function(a){var b,c,d=[];for(c=0;c<this.length;c++)b=this.items[c],b.field==a&&d.push(b);return d}}),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){return 1===arguments.length&&(b=a),!!b||0===b||b===!1},length:function(a,b){if(void 0===b||null===b)return!1;var c=b.length,d=a.min,e=a.max;return d&&d>c||e&&c>e?!1:!0},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return!(!a.matcher||!a.matcher.test(b))},inclusion:function(a,b){return a.list&&-1!=Ext.Array.indexOf(a.list,b)},exclusion:function(a,b){return a.list&&-1==Ext.Array.indexOf(a.list,b)}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ModelManager","Ext.data.IdGenerator","Ext.data.Field","Ext.data.Errors","Ext.data.Operation","Ext.data.validations","Ext.util.MixedCollection"],compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;return c&&!d?1:!c&&d?-1:0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var e,f,g,h,i=this,j=Ext.getClassName(a),k=a.prototype,l=a.prototype.superclass,m=b.validations||[],n=b.fields||[],o=b.associations||[],p=function(a,b){var c,d,e=0;if(a)for(a=Ext.Array.from(a),c=a.length;c>e;++e)d=a[e],Ext.isObject(d)||(d={model:d}),d.type=b,o.push(d)},q=b.idgen,r=new Ext.util.MixedCollection(!1,k.itemNameFn),s=new Ext.util.MixedCollection(!1,k.itemNameFn),t=l.validations,u=l.fields,v=l.associations,w=[],x="idProperty"in b?b.idProperty:k.idProperty,y=x?x.isField?x:new Ext.data.Field(x):null,z=!1,A=function(a,b,c){var d,e;r.events.add.firing?(e=a,d=b):(d=c,e=b.originalIndex),d.originalIndex=e,y&&(d.mapping&&d.mapping===y.mapping||d.name===y.name)&&(k.idField=d,z=!0,d.defaultValue=void 0)},B=b.proxy,C=function(){r.sortBy(k.compareConvertFields)};for(a.modelName=j,k.modelName=j,t&&(m=t.concat(m)),b.validations=m,u&&(n=u.items.concat(n)),r.on({add:A,replace:A}),g=0,h=n.length;h>g;++g)e=n[g],r.add(e.isField?e:new Ext.data.Field(e));for(y&&!z&&(k.idField=y,y.defaultValue=void 0,r.add(y)),C(),r.on({add:C,replace:C}),b.fields=r,q&&(b.idgen=Ext.data.IdGenerator.get(q)),p(b.belongsTo,"belongsTo"),delete b.belongsTo,p(b.hasMany,"hasMany"),delete b.hasMany,p(b.hasOne,"hasOne"),delete b.hasOne,v&&(o=v.items.concat(o)),g=0,h=o.length;h>g;++g)w.push("association."+o[g].type.toLowerCase());B?B.isProxy||w.push("proxy."+(B.type||B)):a.prototype.proxy||(a.prototype.proxy=a.prototype.defaultProxyType,w.push("proxy."+a.prototype.defaultProxyType)),Ext.require(w,function(){for(Ext.ModelManager.registerType(j,a),g=0,h=o.length;h>g;++g)f=o[g],f.isAssociation?f=Ext.applyIf({ownerModel:j,associatedModel:f.model},f.initialConfig):Ext.apply(f,{ownerModel:j,associatedModel:f.model}),void 0===Ext.ModelManager.getModel(f.model)?Ext.ModelManager.registerDeferredAssociation(f):s.add(Ext.data.association.Association.create(f));b.associations=s,d.call(i,a,b,c),B&&B.isProxy&&a.setProxy(B),Ext.ModelManager.onModelDefined(a)})}},inheritableStatics:{setProxy:function(a){return a.isProxy||("string"==typeof a&&(a={type:a}),a=Ext.createByAlias("proxy."+a.type,a)),a.setModel(this),this.proxy=this.prototype.proxy=a,a},getProxy:function(){var a=this.proxy;return a?a:(a=this.prototype.proxy,a.isProxy&&(a=a.clone()),this.setProxy(a))},setFields:function(a,b,c){var d,e,f,g,h=this,i=!1,j=h.prototype,k=j.fields,l=j.superclass.fields;for(b&&(j.idProperty=b,e=b.isField?b:new Ext.data.Field(b)),c&&(j.clientIdProperty=c),k?k.clear():k=h.prototype.fields=new Ext.util.MixedCollection(!1,function(a){return a.name}),l&&(a=l.items.concat(a)),g=0,f=a.length;f>g;g++)d=new Ext.data.Field(a[g]),e&&(d.mapping&&d.mapping===e.mapping||d.name===e.name)&&(i=!0,d.defaultValue=void 0),k.add(d);return e&&!i&&(e.defaultValue=void 0,k.add(e)),h.fields=k,k},getFields:function(){return this.prototype.fields.items},load:function(a,b){b=Ext.apply({},b),b=Ext.applyIf(b,{action:"read",id:a});var c,d=new Ext.data.Operation(b),e=b.scope||this;c=function(c){var d=null,f=c.wasSuccessful();f?(d=c.getRecords()[0],d.hasId()||d.setId(a),Ext.callback(b.success,e,[d,c])):Ext.callback(b.failure,e,[d,c]),Ext.callback(b.callback,e,[d,c,f])},this.getProxy().read(d,c,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");return a.phantom=!0,a.internalId=b,b}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=this,o=b||0===b,p=n.idProperty,q=n.idField;if(n.raw=c||a,n.modified={},l=n[n.persistenceProperty]=d||{},n.data=n[n.persistenceProperty],n.mixins.observable.constructor.call(n),!d)if(a?!o&&p&&(b=a[p],e=b||0===b):a=n.emptyData,f=n.fields.items,g=f.length,m=0,Ext.isArray(a))for(;g>m;m++)h=f[m],i=h.name,j=a[h.originalIndex],void 0===j&&(j=h.defaultValue),h.convert&&(j=h.convert(j,n)),void 0!==j&&(l[i]=j);else for(;g>m;m++)h=f[m],i=h.name,j=a[i],void 0===j&&(j=h.defaultValue),h.convert&&(j=h.convert(j,n)),void 0!==j&&(l[i]=j);n.stores=[],o?(e=!0,l[p]=q&&q.convert?q.convert(b):b):e||(k=n.idgen.generate(),null!=k&&(n.preventInternalUpdate=!0,n.setId(k),delete n.preventInternalUpdate)),n.internalId=e?b:Ext.data.Model.id(n),"function"==typeof n.init&&n.init(),n.id=n.idgen.getRecId(n)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m[m.persistenceProperty],o=m.fields,p=m.modified,q="string"==typeof a;q?(l=m._singleProp,l[a]=b):l=a;for(h in l)if(l.hasOwnProperty(h)){if(k=l[h],o&&(d=o.get(h))&&d.convert&&(k=d.convert(k,m)),c=n[h],m.isEqual(c,k))continue;if(n[h]=k,(g||(g=[])).push(h),d&&d.persist)if(p.hasOwnProperty(h)){if(m.isEqual(p[h],k)){delete p[h],m.dirty=!1;for(f in p)if(p.hasOwnProperty(f)){m.dirty=!0;break}}}else m.dirty=!0,p[h]=c;h==m.idProperty&&(e=!0,i=c,j=k)}return q&&delete l[a],e&&m.changeId(i,j),!m.editing&&g&&m.afterEdit(g),g||null},copyFrom:function(a){var b,c,d,e,f,g=this,h=g.fields.items,i=h.length,j=[],k=0,l=g.idProperty;if(a){for(c=g[g.persistenceProperty],d=a[a.persistenceProperty];i>k;k++)b=h[k],e=b.name,e!=l&&(f=d[e],void 0===f||g.isEqual(c[e],f)||(c[e]=f,j.push(e)));g.phantom&&!a.phantom&&(g.beginEdit(),g.setId(a.getId()),g.endEdit(!0),g.commit(!0))}return j},isEqual:function(a,b){return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():a===b},beginEdit:function(){var a,b,c,d=this;if(!d.editing){d.editing=!0,d.dirtySave=d.dirty,c=d[d.persistenceProperty],b=d.dataSave={};for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a]);c=d.modified,b=d.modifiedSave={};for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a])}},cancelEdit:function(){var a=this;a.editing&&(a.editing=!1,a.modified=a.modifiedSave,a[a.persistenceProperty]=a.dataSave,a.dirty=a.dirtySave,a.modifiedSave=a.dataSave=a.dirtySave=null)},endEdit:function(a,b){var c,d,e=this;a=a===!0,e.editing&&(e.editing=!1,c=e.dataSave,e.modifiedSave=e.dataSave=e.dirtySave=null,a||(b||(b=e.getModifiedFieldNames(c)),d=e.dirty||b.length>0,d&&e.afterEdit(b)))},getModifiedFieldNames:function(a){var b,c=this,d=c[c.persistenceProperty],e=[];a=a||c.dataSave;for(b in d)d.hasOwnProperty(b)&&(c.isEqual(d[b],a[b])||e.push(b));return e},getChanges:function(){var a,b=this.modified,c={};for(a in b)b.hasOwnProperty(a)&&(c[a]=this.get(a));return c},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a,b,c,d=this,e=d.fields.items,f=e.length;for(d.dirty=!0,c=0;f>c;c++)a=e[c],a.persist&&(b=a.name,d.modified[b]=d.get(b))},reject:function(a){var b,c=this,d=c.modified;for(b in d)d.hasOwnProperty(b)&&"function"!=typeof d[b]&&(c[c.persistenceProperty][b]=d[b]);c.dirty=!1,c.editing=!1,c.modified={},a!==!0&&c.afterReject()},commit:function(a,b){var c=this;c.phantom=c.dirty=c.editing=!1,c.modified={},a!==!0&&c.afterCommit(b)},copy:function(a){var b=this;return new b.self(b.raw,a,null,Ext.apply({},b[b.persistenceProperty]))},setProxy:function(a){return a.isProxy||("string"==typeof a&&(a={type:a}),a=Ext.createByAlias("proxy."+a.type,a)),a.setModel(this.self),this.proxy=a,a},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var a,b,c,d,e,f,g=new Ext.data.Errors,h=this.validations,i=Ext.data.validations;
if(h)for(a=h.length,f=0;a>f;f++)b=h[f],c=b.field||b.name,e=b.type,d=i[e](b,this.get(c)),d||g.add({field:c,message:b.message||i[e+"Message"]});return g},isValid:function(){return this.validate().isValid()},save:function(a){a=Ext.apply({},a);var b,c,d,e,f=this,g=f.phantom?"create":"update",h=a.scope||f,i=f.stores,j=0;return Ext.apply(a,{records:[f],action:g}),d=new Ext.data.Operation(a),e=function(d){var e=d.wasSuccessful();if(e){for(b=i.length;b>j;j++)c=i[j],c.fireEvent("write",c,d),c.fireEvent("datachanged",c);Ext.callback(a.success,h,[f,d])}else Ext.callback(a.failure,h,[f,d]);Ext.callback(a.callback,h,[f,d,e])},f.getProxy()[g](d,e,f),f},destroy:function(a){a=Ext.apply({records:[this],action:"destroy"},a);var b,c,d,e,f,g,h=this,i=h.phantom!==!0,j=a.scope||h,k=0;return f=new Ext.data.Operation(a),g=function(f){if(e=[h,f],b=Ext.Array.clone(h.stores),f.wasSuccessful()){for(c=b.length;c>k;k++)d=b[k],d.remove&&d.remove(h,!0),d.fireEvent("bulkremove",d,[h],[d.indexOf(h)],!1),i&&d.fireEvent("write",d,f);h.clearListeners(),Ext.callback(a.success,j,e)}else Ext.callback(a.failure,j,e);Ext.callback(a.callback,j,e)},i?h.getProxy().destroy(f,g,h):(f.complete=f.success=!0,f.resultSet=h.getProxy().reader.nullResultSet,g(f)),h},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(a,b){var c,d,e,f=this;f.preventInternalUpdate||(c=f.hasId(a),d=f.hasId(b),e=f.internalId,f.phantom=!d,(d!==c||d&&c)&&(f.internalId=d?b:Ext.data.Model.id(f)),f.fireEvent("idchanged",f,a,b,e),f.callStore("onIdChanged",a,b,e))},hasId:function(a){return 0===arguments.length&&(a=this.getId()),!(!a&&0!==a)},join:function(a){var b=this;b.stores.length?Ext.Array.include(this.stores,a):b.stores[0]=a,this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a),this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(a){this.callStore("afterCommit",a)},callStore:function(a){var b,c=Ext.Array.clone(arguments),d=this.stores,e=0,f=d.length;for(c[0]=this;f>e;++e)b=d[e],b&&Ext.isFunction(b[a])&&b[a].apply(b,c)},getData:function(a){var b,c,d=this,e=d.fields.items,f=e.length,g={};for(c=0;f>c;c++)b=e[c].name,g[b]=d.get(b);return a===!0&&Ext.apply(g,d.getAssociatedData()),g},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=q.associations.items,s=r.length,t={},u=[],v=[],w=[];for(m=0;s>m;m++)if(l=r[m],j=l.associationId,i=a[j],!i||i===b)if(a[j]=b,o=l.type,p=l.name,"hasMany"==o){if(c=q[l.storeName],t[p]=[],c&&c.getCount()>0)for(d=c.data.items,k=d.length,n=0;k>n;n++)e=d[n],t[p][n]=e.getData(),u.push(e),v.push(p),w.push(n)}else("belongsTo"==o||"hasOne"==o)&&(e=q[l.instanceName],void 0!==e&&(t[p]=e.getData(),u.push(e),v.push(p),w.push(-1)));for(m=0,k=u.length;k>m;++m)e=u[m],f=t[v[m]],g=w[m],h=e.prepareAssociatedData(a,b+1),-1===g?Ext.apply(f,h):Ext.apply(f[g],h);return t}}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(a){var b=this;a=a||{},b.callParent([a]),b.extraParams=a.extraParams||{},b.api=Ext.apply({},a.api||b.api),b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var b,c=this,d=a.params=Ext.apply({},a.params,c.extraParams);return Ext.applyIf(d,c.getParams(a)),void 0!==a.id&&void 0===d[c.idParam]&&(d[c.idParam]=a.id),b=new Ext.data.Request({params:d,action:a.action,records:a.records,operation:a,url:a.url,proxy:c}),b.url=c.buildUrl(b),a.request=b,b},processResponse:function(a,b,c,d,e,f){var g,h,i=this;a===!0?(g=i.getReader(),g.applyDefaults="read"===b.action,h=g.read(i.extractResponseData(d)),h.success!==!1?(Ext.apply(b,{response:d,resultSet:h}),b.commitRecords(h.records),b.setCompleted(),b.setSuccessful()):(b.setException(h.message),i.fireEvent("exception",this,d,b))):(i.setException(b,d),i.fireEvent("exception",this,d,b)),"function"==typeof e&&e.call(f||i,b),i.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){for(var b=[],c=a.length,d=0;c>d;d++)b[d]={property:a[d].property,direction:a[d].direction};return this.applyEncoding(b)},encodeFilters:function(a){for(var b=[],c=a.length,d=0;c>d;d++)b[d]={property:a[d].property,value:a[d].value};return this.applyEncoding(b)},getParams:function(a){var b,c,d=this,e={},f=Ext.isDefined,g=a.groupers,h=a.sorters,i=a.filters,j=a.page,k=a.start,l=a.limit,m=d.simpleSortMode,n=d.simpleGroupMode,o=d.pageParam,p=d.startParam,q=d.limitParam,r=d.groupParam,s=d.groupDirectionParam,t=d.sortParam,u=d.filterParam,v=d.directionParam;return o&&f(j)&&(e[o]=j),p&&f(k)&&(e[p]=k),q&&f(l)&&(e[q]=l),b=r&&g&&g.length>0,b&&(n?(e[r]=g[0].property,e[s]=g[0].direction||"ASC"):e[r]=d.encodeSorters(g)),t&&h&&h.length>0&&(m?(c=0,h.length>1&&b&&(c=1),e[t]=h[c].property,e[v]=h[c].direction):e[t]=d.encodeSorters(h)),u&&i&&i.length>0&&(e[u]=d.encodeFilters(i)),e},buildUrl:function(a){var b=this,c=b.getUrl(a);return b.noCache&&(c=Ext.urlAppend(c,Ext.String.format("{0}={1}",b.cacheString,Ext.Date.now()))),c},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a);return a.allowWrite()&&(e=d.write(e)),Ext.apply(e,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),disableCaching:!1}),Ext.Ajax.request(e),e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){e.processResponse(g,b,a,h,c,d)}}},function(){Ext.data.HttpProxy=this}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]),this.setReader(this.reader)},updateOperation:function(a,b,c){var d=0,e=a.getRecords(),f=e.length;for(d;f>d;d++)e[d].commit();a.setCompleted(),a.setSuccessful(),Ext.callback(b,c||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(a,b,c){var d=this,e=a.resultSet=d.getReader().read(d.data),f=e.records,g=a.sorters,h=a.groupers,i=a.filters;a.setCompleted(),e.success&&(i&&i.length&&(f=e.records=Ext.Array.filter(f,Ext.util.Filter.createFilterFn(i))),h&&h.length&&(g=g?g.concat(h):g),g&&g.length&&(e.records=Ext.Array.sort(f,Ext.util.Sortable.createComparator(g))),d.enablePaging&&void 0!==a.start&&void 0!==a.limit&&(a.start>=e.total?(e.success=!1,e.count=0,e.records=[]):(e.records=Ext.Array.slice(e.records,a.start,a.start+a.limit),e.count=e.records.length))),e.success?a.setSuccessful():d.fireEvent("exception",d,null,a),Ext.callback(b,c||d,[a])},clear:Ext.emptyFn}),Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",constructor:function(a){Ext.apply(this,a),this.callParent([a])},add:function(a,b){var c,d=this,e=d.findKey(b);return e?(d.unlinkEntry(c=d.map[e]),c.prev=d.last,c.next=null):c={prev:d.last,next:null,key:a,value:b},d.last?d.last.next=c:d.first=c,d.last=c,d.callParent([a,c]),d.prune(),b},insertBefore:function(a,b,c){var d,e,f=this;return(c=this.map[this.findKey(c)])?(d=f.findKey(b),d?f.unlinkEntry(e=f.map[d]):e={prev:c.prev,next:c,key:a,value:b},c.prev?e.prev.next=e:f.first=e,e.next=c,c.prev=e,f.prune(),b):f.add(a,b)},get:function(a){var b=this.map[a];return b?(b.next&&this.moveToEnd(b),b.value):void 0},removeAtKey:function(a){return this.unlinkEntry(this.map[a]),this.callParent(arguments)},clear:function(){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(a){a&&(a.next?a.next.prev=a.prev:this.last=a.prev,a.prev?a.prev.next=a.next:this.first=a.next,a.prev=a.next=null)},moveToEnd:function(a){this.unlinkEntry(a),(a.prev=this.last)?this.last.next=a:this.first=a,this.last=a},getArray:function(a){for(var b=[],c=this.first;c;)b.push(a?c.key:c.value),c=c.next;return b},each:function(a,b,c){var d=this,e=c?d.last:d.first,f=d.length;for(b=b||d;e&&a.call(b,e.key,e.value,f)!==!1;)e=c?e.prev:e.next;return d},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b].value===a)return b;return void 0},clone:function(){var a,b=new this.self(this.initialConfig),c=this.map;b.suspendEvents();for(a in c)c.hasOwnProperty(a)&&b.add(a,c[a].value);return b.resumeEvents(),b},prune:function(){var a=this,b=a.maxSize?a.length-a.maxSize:0;if(b>0)for(;a.first&&b;b--)a.removeAtKey(a.first.key)}}),Ext.define("Ext.data.PageMap",{extend:"Ext.util.LruCache",clear:function(){var a=this;a.pageMapGeneration=(a.pageMapGeneration||0)+1,a.callParent(arguments)},forEach:function(a,b){var c,d,e,f,g,h=this,i=Ext.Object.getKeys(h.map),j=i.length;for(c=0;j>c;c++)i[c]=Number(i[c]);for(Ext.Array.sort(i),b=b||h,c=0;j>c;c++)for(e=i[c],f=h.getPage(e),g=f.length,d=0;g>d;d++)if(a.call(b,f[d],(e-1)*h.pageSize+d)===!1)return},findBy:function(a,b){var c=this,d=null;return b=b||c,c.forEach(function(c,e){return a.call(b,c,e)?(d=c,!1):void 0}),d},findIndexBy:function(a,b){var c=this,d=-1;return b=b||c,c.forEach(function(c,e){return a.call(b,c)?(d=e,!1):void 0}),d},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,b){var c,d,e=this,f=a+Math.floor((b.length-1)/e.pageSize);for(c=0;f>=a;a++,c+=e.pageSize)d=Ext.Array.slice(b,c,c+e.pageSize),e.add(a,d),e.fireEvent("pageAdded",a,d)},getCount:function(){var a=this.callParent();return a&&(a=(a-1)*this.pageSize+this.last.value.length),a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(a,b){for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);d>=c;c++)if(!this.hasPage(c))return!1;return!0},hasPage:function(a){return!!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(a,b){this.hasRange(a,b)||Ext.Error.raise("PageMap asked for range which it does not have");for(var c,d,e,f,g=this,h=g.getPageFromRecordIndex(a),i=g.getPageFromRecordIndex(b),j=(h-1)*g.pageSize,k=i*g.pageSize-1,l=h,m=[],n=0;i>=l;l++)l==h?(c=a-j,e=!0):(c=0,e=!1),l==i&&(d=g.pageSize-(k-b),e=!0),e?Ext.Array.push(m,Ext.Array.slice(g.getPage(l),c,d)):Ext.Array.push(m,g.getPage(l));for(f=m.length;f>n;n++)m[n].index=a++;return m}}),Ext.define("Ext.data.Group",{extend:"Ext.util.Observable",key:void 0,dirty:!0,constructor:function(){this.callParent(arguments),this.records=[]},contains:function(a){return-1!==Ext.Array.indexOf(this.records,a)},add:function(a){Ext.Array.push(this.records,a),this.dirty=!0},remove:function(a){Ext.isArray(a)||(a=[a]);var b,c=a.length;for(b=0;c>b;++b)Ext.Array.remove(this.records,a[b]);this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(a){var b,c=this;return(a===!0||c.dirty||!c.aggregate)&&(b=c.store.model,c.aggregate=new b,c.aggregate.isSummary=!0),c.aggregate}}),Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:["Ext.data.StoreManager","Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Ext.data.PageMap","Ext.data.Group"],uses:["Ext.ModelManager","Ext.util.Grouper"],remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||a.property},groupIdFn:function(a){return a.key}},constructor:function(a){a=Ext.apply({},a);var b,c,d=this,e=a.groupers||d.groupers,f=a.groupField||d.groupField;c=a.data||d.data,c&&(d.inlineData=c,delete a.data),!e&&f&&(e=[{property:f,direction:a.groupDir||d.groupDir}],(a.getGroupString||d.getGroupString!==Ext.data.Store.prototype.getGroupString)&&(e[0].getGroupString=function(a){return d.getGroupString(a)})),delete a.groupers,d.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn),d.groupers.addAll(d.decodeGroupers(e)),d.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn),d.callParent([a]),d.buffered?(d.data=new Ext.data.PageMap({store:d,keyFn:Ext.data.Store.recordIdFn,pageSize:d.pageSize,maxSize:d.purgePageCount,listeners:{clear:d.onPageMapClear,scope:d}}),d.pageRequests={},d.remoteSort=d.remoteGroup=d.remoteFilter=!0,d.sortOnLoad=!1,d.filterOnLoad=!1):(d.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0}),d.data.pageSize=d.pageSize),d.remoteGroup&&(d.remoteSort=!0),d.sorters.insert(0,d.groupers.getRange()),b=d.proxy,c=d.inlineData,d.buffered||d.pageSize||(d.pageSize=d.defaultPageSize),c?(b instanceof Ext.data.proxy.Memory?(b.data=c,d.read()):d.add.apply(d,[c]),d.sorters.items.length&&!d.remoteSort&&d.group(null,null,!0),delete d.inlineData):d.autoLoad&&Ext.defer(d.load,1,d,["object"==typeof d.autoLoad?d.autoLoad:void 0])},onBeforeSort:function(){var a=this.groupers;a.getCount()>0&&this.sort(a.items,"prepend",!1)},decodeGroupers:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b,c,d=a.length,e=Ext.util.Grouper,f=[];for(c=0;d>c;c++)b=a[c],b instanceof e?f.push(b):(Ext.isString(b)&&(b={property:b}),b=Ext.apply({root:"data",direction:"ASC"},b),b.fn&&(b.sorterFn=b.fn),"function"==typeof b&&(b={sorterFn:b}),f.push(new e(b)));return f},group:function(a,b,c){var d,e,f=this;a&&(f.sorters.removeAll(f.groupers.items),Ext.isArray(a)?e=a:Ext.isObject(a)?e=[a]:Ext.isString(a)&&(d=f.groupers.get(a),d?void 0===b?d.toggle():d.setDirection(b):(d={property:a,direction:b||"ASC"},e=[d])),e&&e.length&&(f.groupers.clear(),f.groupers.addAll(f.decodeGroupers(e))),f.sorters.insert(0,f.groupers.items)),f.remoteGroup?f.buffered?(f.data.clear(),f.loadPage(1,{groupChange:!0})):f.load({scope:f,callback:c?null:f.fireGroupChange}):(f.doSort(f.generateComparator()),f.constructGroups(),c||f.fireGroupChange())},getGroupField:function(){var a,b=this.groupers.first();return b&&(a=b.property),a},constructGroups:function(){var a,b,c,d,e=this,f=this.data.items,g=f.length,h=e.groups;if(h.clear(),e.isGrouped())for(b=0;g>b;++b)d=f[b],a=e.getGroupString(d),c=h.get(a),c||(c=new Ext.data.Group({key:a,store:e}),h.add(a,c)),c.add(d)},clearGrouping:function(){var a,b=this,c=b.groupers.items,d=c.length;for(a=0;d>a;a++)b.sorters.remove(c[a]);b.groupers.clear(),b.remoteGroup?b.buffered?(b.data.clear(),b.loadPage(1,{groupChange:!0})):b.load({scope:b,callback:b.fireGroupChange}):(b.groups.clear(),b.sorters.length?b.sort():(b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(a){var b,c,d,e,f=this.data.items,g=f.length,h=[],i={};for(e=0;g>e;e++)b=f[e],c=this.getGroupString(b),d=i[c],void 0===d&&(d={name:c,children:[]},h.push(d),i[c]=d),d.children.push(b);return a?i[a]:h},getGroupsForGrouper:function(a,b){var c,d,e,f,g,h=a.length,i=[];for(g=0;h>g;g++)e=a[g],d=b.getGroupString(e),d!==c&&(f={name:d,grouper:b,records:[]},i.push(f)),f.records.push(e),c=d;return i},getGroupsForGrouperIndex:function(a,b){var c,d=this,e=d.groupers,f=e.getAt(b),g=d.getGroupsForGrouper(a,f),h=g.length;if(b+1<e.length)for(c=0;h>c;c++)g[c].children=d.getGroupsForGrouperIndex(g[c].records,b+1);for(c=0;h>c;c++)g[c].depth=b;return g},getGroupData:function(a){var b=this;return a!==!1&&b.sort(),b.getGroupsForGrouperIndex(b.data.items,0)},getGroupString:function(a){var b=this.groupers.first();return b?b.getGroupString(a):""},insert:function(a,b){var c,d,e,f,g=this,h=!1,i=g.modelDefaults;if(f=Ext.isIterable(b)?[]:b=[b],d=b.length){for(c=0;d>c;c++)e=b[c],e.isModel||(e=g.createModel(e)),f[c]=e,i&&e.set(i),e.join(g),h=h||e.phantom===!0;g.data.insert(a,f),g.snapshot&&g.snapshot.addAll(f),g.requireSort&&(g.suspendEvents(),g.sort(),g.resumeEvents()),g.isGrouped()&&g.updateGroupsOnAdd(f),g.fireEvent("add",g,f,a),g.fireEvent("datachanged",g),g.autoSync&&h&&!g.autoSyncSuspended&&g.sync()}return f},updateGroupsOnAdd:function(a){var b,c,d,e,f=this,g=f.groups,h=a.length;for(b=0;h>b;++b)e=a[b],c=f.getGroupString(e),d=g.getByKey(c),d||(d=g.add(new Ext.data.Group({key:c,store:f}))),d.add(e)},updateGroupsOnRemove:function(a){var b,c,d,e,f=this,g=f.groups,h=a.length;for(b=0;h>b;++b)e=a[b],c=f.getGroupString(e),d=g.getByKey(c),d&&(d.remove(e),0===d.records.length&&g.remove(d))},updateGroupsOnUpdate:function(a,b){var c,d,e,f,g=this,h=g.getGroupField(),i=g.getGroupString(a),j=g.groups;if(b&&-1!==Ext.Array.indexOf(b,h)){for(g.buffered&&Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"}),e=j.items,d=0,c=e.length;c>d;++d)if(f=e[d],f.contains(a)){f.remove(a);break}for(f=j.getByKey(i),f||(f=j.add(new Ext.data.Group({key:i,store:g}))),f.add(a),g.data.remove(a),g.data.insert(g.data.findInsertionIndex(a,g.generateComparator()),a),d=0,c=this.getCount();c>d;d++)g.data.items[d].index=d}else j.getByKey(i).setDirty()},add:function(a){var b,c,d,e=this;return b=Ext.isArray(a)?a:arguments,c=b.length,d=!e.remoteSort&&e.sorters&&e.sorters.items.length,d&&1===c?[e.addSorted(e.createModel(b[0]))]:(d&&(e.requireSort=!0),b=e.insert(e.data.length,b),delete e.requireSort,b)},addSorted:function(a){var b=this,c=b.data.findInsertionIndex(a,b.generateComparator());return b.insert(c,a),a},createModel:function(a){return a.isModel||(a=Ext.ModelManager.create(a,this.model)),a},onUpdate:function(a,b,c){this.isGrouped()&&this.updateGroupsOnUpdate(a,c)},each:function(a,b){var c,d,e=this.data.items,f=e.length;for(d=0;f>d&&(c=e[d],a.call(b||c,c,d,f)!==!1);d++);},remove:function(a,b,c){b=b===!0;var d,e,f,g,h,i,j,k=this,l=!1,m=k.snapshot,n=k.data,o=0,p=[],q=[],r=[],s=!c&&k.hasListeners.remove;if(a.isModel?(a=[a],d=1):Ext.isIterable(a)?d=a.length:"object"==typeof a&&(i=!0,o=a.start,d=a.end+1,j=d-o),!i){for(o=0;d>o;++o)h=a[o],"number"==typeof h?(g=h,h=n.getAt(g)):g=k.indexOf(h),h&&g>-1&&p.push({record:h,index:g}),m&&m.remove(h);p=Ext.Array.sort(p,function(a,b){var c=a.index,d=b.index;return c===b.index2?0:d>c?-1:1}),o=0,d=p.length}for(;d>o;o++)i?(h=n.getAt(o),g=o):(e=p[o],h=e.record,g=e.index),q.push(h),r.push(g),f=h.phantom!==!0,!b&&f&&(h.removedFrom=g,k.removed.push(h)),h.unjoin(k),g-=o,l=l||f,i||(n.removeAt(g),s&&k.fireEvent("remove",k,h,g,!!b));i&&n.removeRange(a.start,j),c||(k.fireEvent("bulkremove",k,q,r,!!b),k.fireEvent("datachanged",k)),!b&&k.autoSync&&l&&!k.autoSyncSuspended&&k.sync()},removeAt:function(a,b){var c=this,d=c.getCount();d>=a&&(1===arguments.length?c.remove([a]):b&&c.remove({start:a,end:Math.min(a+b,d)-1}))},removeAll:function(a){var b=this,c=b.snapshot,d=b.data;c&&c.removeAll(d.getRange()),b.buffered?d&&(a&&b.suspendEvent("clear"),d.clear(),a&&b.resumeEvent("clear")):(b.remove({start:0,end:b.getCount()-1},!1,a),a!==!0&&b.fireEvent("clear",b))},load:function(a){var b=this;return a=a||{},"function"==typeof a&&(a={callback:a}),a.groupers=a.groupers||b.groupers.items,a.page=a.page||b.currentPage,a.start=void 0!==a.start?a.start:(a.page-1)*b.pageSize,a.limit=a.limit||b.pageSize,a.addRecords=a.addRecords||!1,b.buffered?(a.limit=b.viewSize||b.defaultViewSize,b.loadToPrefetch(a)):b.callParent([a])},reload:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.getCount();if(a||(a={}),!j.buffered)return j.callParent(arguments);if(delete j.totalCount,g=function(){j.rangeCached(b,c)&&(j.loading=!1,j.data.un("pageAdded",g),i=j.data.getRange(b,c),j.fireEvent("load",j,i,!0))},h=Math.ceil((j.leadingBufferZone+j.trailingBufferZone)/2),b=a.start||(k?j.getAt(0).index:0),c=b+(a.count||(k?k:j.pageSize))-1,d=j.getPageFromRecordIndex(Math.max(b-h,0)),e=j.getPageFromRecordIndex(c+h),j.data.clear(!0),j.fireEvent("beforeload",j,a)!==!1)for(j.loading=!0,j.data.on("pageAdded",g),f=d;e>=f;f++)j.prefetchPage(f,a)},onProxyLoad:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful();b.isDestroyed||(c&&(b.totalCount=c.total),b.loading=!1,e&&b.loadRecords(d,a),b.hasListeners.load&&b.fireEvent("load",b,d,e),b.hasListeners.read&&b.fireEvent("read",b,d,e),Ext.callback(a.callback,a.scope||b,[d,a,e]))},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(a,b){Ext.isString(a)&&(a={property:a,value:b});var c,d=this,e=d.decodeFilters(a),f=d.sorters.length&&d.sortOnFilter&&!d.remoteSort,g=e.length;for(c=0;g>c;c++)d.filters.replace(e[c]);a=d.filters.items,a.length&&(d.remoteFilter?(delete d.totalCount,d.buffered?(d.data.clear(),d.loadPage(1)):(d.currentPage=1,d.load())):(d.snapshot=d.snapshot||d.data.clone(),d.data=d.snapshot.filter(a),d.constructGroups(),f?d.sort():(d.fireEvent("datachanged",d),d.fireEvent("refresh",d))),d.fireEvent("filterchange",d,a))},clearFilter:function(a){var b=this;if(b.filters.clear(),b.remoteFilter){if(a)return;delete b.totalCount,b.buffered?(b.data.clear(),b.loadPage(1)):(b.currentPage=1,b.load())}else b.isFiltered()&&(b.data=b.snapshot,delete b.snapshot,b.constructGroups(),a!==!0&&(b.fireEvent("datachanged",b),b.fireEvent("refresh",b)));b.fireEvent("filterchange",b,b.filters.items)},removeFilter:function(a,b){var c=this;!c.remoteFilter&&c.isFiltered()&&(a instanceof Ext.util.Filter?c.filters.remove(a):c.filters.removeAtKey(a),b!==!1?c.filters.length?c.filter():c.clearFilter():c.fireEvent("filterchange",c,c.filters.items))},addFilter:function(a,b){var c,d,e,f=this;for(c=f.decodeFilters(a),e=c.length,d=0;e>d;d++)f.filters.replace(c[d]);b!==!1&&f.filters.length?f.filter():f.fireEvent("filterchange",f,f.filters.items)},isFiltered:function(){var a=this.snapshot;return!(!a||a===this.data)},filterBy:function(a,b){var c=this;c.snapshot=c.snapshot||c.data.clone(),c.data=c.queryBy(a,b||c),c.fireEvent("datachanged",c),c.fireEvent("refresh",c)},queryBy:function(a,b){var c=this;return(c.snapshot||c.data).filterBy(a,b||c)},query:function(a,b,c,d,e){var f=this,g=f.createFilterFn(a,b,c,d,e),h=f.queryBy(g);return h||(h=new Ext.util.MixedCollection),h},loadData:function(a,b){var c,d=a.length,e=[];for(c=0;d>c;c++)e.push(this.createModel(a[c]));this.loadRecords(e,b?this.addRecordsOptions:void 0)},loadRawData:function(a,b){var c=this,d=c.proxy.reader.read(a),e=d.records;d.success&&(c.totalCount=d.total,c.loadRecords(e,b?c.addRecordsOptions:void 0))},loadRecords:function(a,b){var c,d,e=this,f=0,g=a.length,h=e.snapshot;if(b&&(c=b.start,d=b.addRecords),d?h&&h.addAll(a):(delete e.snapshot,e.clearData(!0)),e.data.addAll(a),void 0!==c)for(;g>f;f++)a[f].index=c+f,a[f].join(e);else for(;g>f;f++)a[f].join(e);e.suspendEvents(),e.filterOnLoad&&!e.remoteFilter&&e.filter(),e.sortOnLoad&&!e.remoteSort&&e.sort(void 0,void 0,void 0,!0),e.resumeEvents(),e.isGrouped()&&e.constructGroups(),e.fireEvent("datachanged",e),e.fireEvent("refresh",e)},loadPage:function(a,b){var c=this;return c.currentPage=a,b=Ext.apply({page:a,start:(a-1)*c.pageSize,limit:c.pageSize,addRecords:!c.clearOnPageLoad},b),c.buffered?(b.limit=c.viewSize||c.defaultViewSize,c.loadToPrefetch(b)):void c.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){var b,c,d=this;if(!d.buffered&&d.data)for(b=d.data.items,c=b.length;c--;)b[c].unjoin(d);d.data&&d.data.clear(),(a!==!0||d.clearRemovedOnLoad)&&(d.removed.length=0)},loadToPrefetch:function(a){var b,c,d,e=this,f=a,g=a.start,h=a.start+a.limit-1,i=Math.min(h,a.start+(e.viewSize||a.limit)-1),j=e.getPageFromRecordIndex(Math.max(g-e.trailingBufferZone,0)),k=e.getPageFromRecordIndex(h+e.leadingBufferZone),l=function(){e.rangeCached(g,i)&&(e.loading=!1,c=e.data.getRange(g,i),e.data.un("pageAdded",l),e.hasListeners.guaranteedrange&&e.guaranteeRange(g,i,a.callback,a.scope),a.callback&&a.callback.call(a.scope||e,c,g,h,a),e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("load",e,c,!0),a.groupChange&&e.fireGroupChange())};e.fireEvent("beforeload",e,a)!==!1&&(delete e.totalCount,e.loading=!0,a.callback&&(f=Ext.apply({},a),delete f.callback),e.on("prefetch",function(a,c,g){if(g)if(d=e.getTotalCount())for(e.data.on("pageAdded",l),i=Math.min(i,d-1),k=e.getPageFromRecordIndex(Math.min(i+e.leadingBufferZone,d-1)),b=j+1;k>=b;++b)e.prefetchPage(b,f);else e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("load",e,c,!0);else e.fireEvent("load",e,c,!1)},null,{single:!0}),e.prefetchPage(j,f))},prefetch:function(a){var b,c,d=this,e=d.pageSize;return e?(d.lastPageSize&&e!=d.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),d.data.pageSize||(d.data.pageSize=e)):d.pageSize=d.data.pageSize=e=a.limit,d.lastPageSize=e,a.page||(a.page=d.getPageFromRecordIndex(a.start),a.start=(a.page-1)*e,a.limit=Math.ceil(a.limit/e)*e),d.pageRequests[a.page]||(a=Ext.apply({action:"read",filters:d.filters.items,sorters:d.sorters.items,groupers:d.groupers.items,pageMapGeneration:d.data.pageMapGeneration},a),c=new Ext.data.Operation(a),d.fireEvent("beforeprefetch",d,c)!==!1&&(b=d.proxy,d.pageRequests[a.page]=b.read(c,d.onProxyPrefetch,d),b.isSynchronous&&delete d.pageRequests[a.page])),d},onPageMapClear:function(){var a,b,c=this,d=c.wasLoading,e=c.pageRequests;c.data.events.pageadded&&c.data.events.pageadded.clearListeners(),c.loading=!0,c.totalCount=0;for(b in e)e.hasOwnProperty(b)&&(a=e[b],delete e[b],delete a.callback);c.fireEvent("clear",c),c.loading=d},prefetchPage:function(a,b){var c=this,d=c.pageSize||c.defaultPageSize,e=(a-1)*c.pageSize,f=c.totalCount;(void 0===f||c.getCount()!==f)&&c.prefetch(Ext.applyIf({page:a,start:e,limit:d},b))},onProxyPrefetch:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful(),f=a.page;a.pageMapGeneration===b.data.pageMapGeneration&&(c&&(b.totalCount=c.total,b.fireEvent("totalcountchange",b.totalCount)),void 0!==f&&delete b.pageRequests[f],b.loading=!1,b.fireEvent("prefetch",b,d,e,a),e&&b.cachePage(d,a.page),Ext.callback(a.callback,a.scope||b,[d,a,e]))},cachePage:function(a,b){var c,d=this,e=a.length;for(Ext.isDefined(d.totalCount)||(d.totalCount=a.length,d.fireEvent("totalcountchange",d.totalCount)),c=0;e>c;c++)a[c].join(d);d.data.addPage(b,a)},rangeCached:function(a,b){return this.data&&this.data.hasRange(a,b)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var b,c=this,d=c.getTotalCount(),e=a.prefetchStart,f=a.prefetchEnd>d-1?d-1:a.prefetchEnd;f=Math.max(0,f),b=c.data.getRange(e,f),a.fireEvent!==!1&&c.fireEvent("guaranteedrange",b,e,f,a),a.callback&&a.callback.call(a.scope||c,b,e,f,a)},guaranteeRange:function(a,b,c,d,e){e=Ext.apply({callback:c,scope:d},e),this.getRange(a,b,e)},prefetchRange:function(a,b){var c,d,e,f=this;if(!f.rangeCached(a,b))for(c=f.getPageFromRecordIndex(a),d=f.getPageFromRecordIndex(b),f.data.maxSize=f.purgePageCount?d-c+1+f.purgePageCount:0,e=c;d>=e;e++)f.pageCached(e)||f.prefetchPage(e)},primeCache:function(a,b,c){var d=this;-1===c?(a=Math.max(a-d.leadingBufferZone,0),b=Math.min(b+d.trailingBufferZone,d.totalCount-1)):1===c?(a=Math.max(Math.min(a-d.trailingBufferZone,d.totalCount-d.pageSize),0),b=Math.min(b+d.leadingBufferZone,d.totalCount-1)):(a=Math.min(Math.max(Math.floor(a-(d.leadingBufferZone+d.trailingBufferZone)/2),0),d.totalCount-d.pageSize),b=Math.min(Math.max(Math.ceil(b+(d.leadingBufferZone+d.trailingBufferZone)/2),0),d.totalCount-1)),d.prefetchRange(a,b)},sort:function(){var a=this;return a.buffered&&a.remoteSort&&a.data.clear(),a.callParent(arguments)},doSort:function(a){var b,c,d,e=this;if(e.remoteSort)e.buffered?(e.data.clear(),e.loadPage(1)):e.load();else{if(e.data.sortBy(a),!e.buffered)for(b=e.getRange(),c=b.length,d=0;c>d;d++)b[d].index=d;e.fireEvent("datachanged",e),e.fireEvent("refresh",e)}},find:function(a,b,c,d,e,f){var g=this.createFilterFn(a,b,d,e,f);return g?this.data.findIndexBy(g,null,c):-1},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return-1!==b?a.getAt(b):null},createFilterFn:function(a,b,c,d,e){return Ext.isEmpty(b)?!1:(b=this.data.createValueMatcher(b,c,d,e),function(c){return b.test(c.data[a])})},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,b,c){var d=this,e=c===!0&&d.snapshot?d.snapshot:d.data;return e.collect(a,"data",b)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b,c){var d,e,f,g,h=this,i=h.totalCount-1,j=h.lastRequestStart;return c=Ext.apply({prefetchStart:a,prefetchEnd:b},c),h.buffered?(b=b>=h.totalCount?i:b,d=0===a?0:a-1,e=b===i?b:b+1,h.lastRequestStart=a,h.rangeCached(d,e)?(h.onGuaranteedRange(c),g=h.data.getRange(a,b)):(h.fireEvent("cachemiss",h,a,b),f=function(){h.rangeCached(d,e)&&(h.fireEvent("cachefilled",h,a,b),h.data.un("pageAdded",f),h.onGuaranteedRange(c))},h.data.on("pageAdded",f),h.prefetchRange(a,b)),h.primeCache(a,b,j>a?-1:1)):(g=h.data.getRange(a,b),c.callback&&c.callback.call(c.scope||h,g,a,b,c)),g},getById:function(a){var b=(this.snapshot||this.data).findBy(function(b){return b.getId()===a});return b},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;return b||0===b?b:this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(a){var b=this;return a&&b.isGrouped()?b.aggregate(function(a){return a.length?a[0]:void 0},b,!0):b.data.first()},last:function(a){var b=this;return a&&b.isGrouped()?b.aggregate(function(a){var b=a.length;return b?a[b-1]:void 0},b,!0):b.data.last()},sum:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getSum,c,!0,[a]):c.getSum(c.data.items,a)},getSum:function(a,b){for(var c=0,d=0,e=a.length;e>d;++d)c+=a[d].get(b);return c},count:function(a){var b=this;return a&&b.isGrouped()?b.aggregate(function(a){return a.length},b,!0):b.getCount()},min:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getMin,c,!0,[a]):c.getMin(c.data.items,a)
},getMin:function(a,b){var c,d,e=1,f=a.length;for(f>0&&(d=a[0].get(b));f>e;++e)c=a[e].get(b),d>c&&(d=c);return d},max:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getMax,c,!0,[a]):c.getMax(c.data.items,a)},getMax:function(a,b){var c,d,e=1,f=a.length;for(f>0&&(d=a[0].get(b));f>e;++e)c=a[e].get(b),c>d&&(d=c);return d},average:function(a,b){var c=this;return b&&c.isGrouped()?c.aggregate(c.getAverage,c,!0,[a]):c.getAverage(c.data.items,a)},getAverage:function(a,b){var c=0,d=a.length,e=0;if(a.length>0){for(;d>c;++c)e+=a[c].get(b);return e/d}return 0},aggregate:function(a,b,c,d){if(d=d||[],c&&this.isGrouped()){var e,f,g=this.getGroups(),h=g.length,i={};for(f=0;h>f;++f)e=g[f],i[e.name]=this.getAggregate(a,b||this,e.children,d);return i}return this.getAggregate(a,b,this.data.items,d)},getAggregate:function(a,b,c,d){return d=d||[],a.apply(b||this,[c].concat(d))},onIdChanged:function(a,b,c,d){var e=this.snapshot;e&&e.updateKey(d,c),this.data.updateKey(d,c),this.callParent(arguments)},commitChanges:function(){for(var a=this,b=a.getModifiedRecords(),c=b.length,d=0;c>d;d++)b[d].commit();a.removed.length=0},filterNewOnly:function(a){return a.phantom===!0},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var a,b=this,c=b.getRejectRecords(),d=c.length,e=0;d>e;e++)a=c[e],a.reject(),a.phantom&&b.remove(a);for(c=b.removed,d=c.length,e=0;d>e;e++)a=c[e],b.insert(a.removedFrom||0,a),a.reject();b.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(a,b,c){var d,e=null==a.mapping?a.originalIndex:a.mapping;return"function"==typeof e?d=b+".mapping("+c+", this)":(isNaN(e)&&(e='"'+e+'"'),d=c+"["+e+"]"),d}}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a),this.callParent([a])},loadData:function(a,b){if(this.expandData===!0){for(var c=[],d=0,e=a.length;e>d;d++)c[c.length]=[a[d]];a=c}this.callParent([a,b])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a),b.operations=[],b.exceptions=[]},add:function(a){return this.total++,a.setBatch(this),this.operations.push(a),this},start:function(a){var b=this;return b.isRunning?b:(b.exceptions.length=0,b.hasException=!1,b.isRunning=!0,b.runOperation(Ext.isDefined(a)?a:b.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(a){var b,c=this,d=c.operations,e=d[a];return void 0===e?(c.isRunning=!1,c.isComplete=!0,c.fireEvent("complete",c,d[d.length-1])):(c.current=a,b=function(a){var b=a.hasException();b&&(c.hasException=!0,c.exceptions.push(a),c.fireEvent("exception",c,a)),b&&c.pauseOnException?c.pause():(a.setCompleted(),c.fireEvent("operationcomplete",c,a),c.runNextOperation())},e.setStarted(),c.proxy[e.action](e,b,c)),c}}),Ext.define("Ext.data.BufferStore",{extend:"Ext.data.Store",alias:"store.buffer",sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}}),Ext.define("Ext.direct.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.app.domain.Direct"],mixins:{observable:"Ext.util.Observable"},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var a=this;a.addEvents("event","exception"),a.transactions=new Ext.util.MixedCollection,a.providers=new Ext.util.MixedCollection,a.mixins.observable.constructor.call(a)},addProvider:function(a){var b,c,d=this,e=arguments,f=d.relayers||(d.relayers={});{if(!(e.length>1))return a.isProvider||(a=Ext.create("direct."+a.type+"provider",a)),d.providers.add(a),a.on("data",d.onProviderData,d),a.relayedEvents&&(f[a.id]=d.relayEvents(a,a.relayedEvents)),a.isConnected()||a.connect(),a;for(b=0,c=e.length;c>b;++b)d.addProvider(e[b])}},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var b,c=this,d=c.providers,e=c.relayers;return a=a.isProvider?a:d.get(a),a?(a.un("data",c.onProviderData,c),b=a.id,e[b]&&(e[b].destroy(),delete e[b]),d.remove(a),a):null},addTransaction:function(a){return this.transactions.add(a),a},removeTransaction:function(a){var b=this;return a=b.getTransaction(a),b.transactions.remove(a),a},getTransaction:function(a){return"object"==typeof a?a:this.transactions.get(a)},onProviderData:function(a,b){var c,d,e=this;if(Ext.isArray(b))for(c=0,d=b.length;d>c;++c)e.onProviderData(a,b[c]);else b.name&&"event"!=b.name&&"exception"!=b.name?e.fireEvent(b.name,b):b.status===!1&&e.fireEvent("exception",b),e.fireEvent("event",b,a)},parseMethod:function(a){if(Ext.isString(a)){for(var b=a.split("."),c=0,d=b.length,e=Ext.global;e&&d>c;)e=e[b[c]],++c;a=Ext.isFunction(e)?e:null}return a||null}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],paramOrder:void 0,paramsAsHash:!0,directFn:void 0,paramOrderRe:/[\s,|]/,constructor:function(){var a,b=this;b.callParent(arguments),a=b.paramOrder,Ext.isString(a)&&(b.paramOrder=a.split(b.paramOrderRe))},resolveMethods:function(){var a,b=this,c=b.directFn,d=b.api,e=Ext.direct.Manager;if(c)a=b.directFn=e.parseMethod(c),Ext.isFunction(a)||Ext.Error.raise("Cannot resolve directFn "+c);else if(d)for(c in d)d.hasOwnProperty(c)&&(a=d[c],d[c]=e.parseMethod(a),Ext.isFunction(d[c])||Ext.Error.raise("Cannot resolve Direct api "+c+" method "+a));b.methodsResolved=!0},doRequest:function(a,b,c){var d,e,f=this,g=f.getWriter(),h=f.buildRequest(a),i=h.params,j=[];f.methodsResolved||f.resolveMethods(),d=f.api[h.action]||f.directFn,a.allowWrite()&&(h=g.write(h)),"read"==a.action?(e=d.directCfg.method,j=e.getArgs(i,f.paramOrder,f.paramsAsHash)):j.push(h.jsonData),Ext.apply(h,{args:j,directFn:d}),j.push(f.createRequestCallback(h,a,b,c),f),d.apply(window,j)},applyEncoding:Ext.identityFn,createRequestCallback:function(a,b,c,d){var e=this;return function(f,g){e.processResponse(g.status,b,a,g,c,d)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(a){if(a=Ext.apply({},a),!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(b.reader,a,"totalProperty,root,idProperty"),a.proxy=b}this.callParent([a])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(a){a=Ext.apply({},a);var b,c,d=this,e=Ext.isDefined(a.disableCaching)?a.disableCaching:d.disableCaching,f=a.disableCachingParam||d.disableCachingParam,g=++d.requestCount,h=a.callbackName||"callback"+g,i=a.callbackKey||d.callbackKey,j=Ext.isDefined(a.timeout)?a.timeout:d.timeout,k=Ext.apply({},a.params),l=a.url,m=Ext.name;return e&&!k[f]&&(k[f]=Ext.Date.now()),a.params=k,k[i]=m+".data.JsonP."+h,c=d.createScript(l,k,a),d.requests[g]=b={url:l,params:k,script:c,id:g,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:i,callbackName:h},j>0&&(b.timeout=setTimeout(Ext.bind(d.handleTimeout,d,[b]),j)),d.setupErrorHandling(b),d[h]=Ext.bind(d.handleResponse,d,[b],!0),d.loadScript(b),b},abort:function(a){var b,c=this,d=c.requests;if(a)a.id||(a=d[a]),c.handleAbort(a);else for(b in d)d.hasOwnProperty(b)&&c.abort(d[b])},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort",this.handleResponse(null,a)},handleError:function(a){a.errorType="error",this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout",this.handleResponse(null,a)},handleResponse:function(a,b){var c=!0;b.timeout&&clearTimeout(b.timeout),delete this[b.callbackName],delete this.requests[b.id],this.cleanupErrorHandling(b),Ext.fly(b.script).remove(),b.errorType?(c=!1,Ext.callback(b.failure,b.scope,[b.errorType])):Ext.callback(b.success,b.scope,[a]),Ext.callback(b.callback,b.scope,[c,a,b.errorType]),Ext.EventManager.idleEvent.fire()},createScript:function(a,b){var c=document.createElement("script");return c.setAttribute("src",Ext.urlAppend(a,Ext.Object.toQueryString(b))),c.setAttribute("async",!0),c.setAttribute("type","text/javascript"),c},loadScript:function(a){Ext.getHead().appendChild(a.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception"),this.callParent(arguments)},doRequest:function(a,b,c){var d=this,e=d.buildRequest(a),f=e.params;return Ext.apply(e,{callbackKey:d.callbackKey,timeout:d.timeout,scope:d,disableCaching:!1,callback:d.createRequestCallback(e,a,b,c)}),d.autoAppendParams&&(e.params={}),e.jsonp=Ext.data.JsonP.request(e),e.params=f,a.setStarted(),d.lastRequest=e,e},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g){delete e.lastRequest,e.processResponse(f,b,a,g,c,d)}},setException:function(a){a.setException(a.request.jsonp.errorType)},buildUrl:function(a){var b,c,d,e,f=this,g=f.callParent(arguments),h=a.records,i=f.getWriter();if(i&&a.operation.allowWrite()&&(a=i.write(a)),b=a.params,c=b.filters,delete b.filters,c&&c.length)for(e=0;e<c.length;e++)d=c[e],d.value&&(b[d.property]=d.value);return(!i||!i.encode)&&Ext.isArray(h)&&h.length>0&&(b[f.recordParam]=f.encodeRecords(h)),f.autoAppendParams&&(g=Ext.urlAppend(g,Ext.Object.toQueryString(b))),g},abort:function(){var a=this.lastRequest;a&&Ext.data.JsonP.abort(a.jsonp)},encodeRecords:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(Ext.encode(a[c].getData()));return b}}),Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a),this.callParent([a])}}),Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a),this.callParent([a])}}),Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field","Ext.data.writer.Json"],statics:{decorate:function(a){var b,c,d;"string"==typeof a?a=Ext.ModelManager.getModel(a):a.isModel&&(a=Ext.ModelManager.getModel(a.modelName)),a.prototype.isNode||(b=a.prototype.idProperty,c=a.prototype.fields.get(b),d=a.prototype.fields.get(b).type.type,a.override(this.getPrototypeBody()),this.applyFields(a,[{name:"parentId",type:d,defaultValue:null,useNull:c.useNull},{name:"index",type:"int",defaultValue:0,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null}]))},applyFields:function(a,b){var c,d,e=a.prototype,f=e.fields,g=f.keys,h=b.length;for(d=0;h>d;d++)c=b[d],Ext.Array.contains(g,c.name)||f.add(new Ext.data.Field(c))},getPrototypeBody:function(){var a={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0,rootchange:!0};return{isNode:!0,constructor:function(){var a=this;return a.callParent(arguments),a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null,a.childNodes=[],a},createNode:function(a){return a.isModel||(a=Ext.ModelManager.create(a,this.modelName)),a.childNodes||(a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null,a.childNodes=[]),a},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a,b){var c,d,e,f,g=this,h=g.data.depth,i={},j=g.childNodes,k=j.length,l=g.phantom,m=g[g.persistenceProperty];b||Ext.Error.raise("NodeInterface expects update info to be passed");for(d in b)f=g.fields.get(d),e=b[d],f&&f.persist&&(g.dirty=g.dirty||!g.isEqual(m[d],e)),m[d]=e;if(a&&(g.commit(),g.phantom=l),g.data.depth!==h)for(i={depth:g.data.depth+1},c=0;k>c;c++)j[c].updateInfo(a,i)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;return a.get("expandable")?!(a.isLeaf()||a.isLoaded()&&!a.hasChildNodes()):!1},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,b,c){var d,e,f,g,h,i=this,j={isLast:!0,parentId:i.getId(),depth:(i.data.depth||0)+1};if(!Ext.isArray(a)){if(a=i.createNode(a),b!==!0&&i.fireEventArgs("beforeappend",[i,a])===!1)return!1;if(f=i.childNodes.length,g=a.parentNode){if(b!==!0&&a.fireEventArgs("beforemove",[a,g,i,f])===!1)return!1;g.removeChild(a,!1,!1,!0)}return Ext.suspendLayouts(),f=i.childNodes.length,0===f&&i.setFirstChild(a),i.childNodes[f]=a,a.parentNode=i,a.nextSibling=null,i.setLastChild(a),h=i.childNodes[f-1],h?(a.previousSibling=h,h.nextSibling=a,h.updateInfo(c,{isLast:!1}),h.triggerUIUpdate()):a.previousSibling=null,j.isFirst=0===f,j.index=f,a.updateInfo(c,j),i.isLoaded()?1===i.childNodes.length&&i.triggerUIUpdate():i.set("loaded",!0),f&&i.childNodes[f-1].isExpanded()&&i.childNodes[f-1].cascadeBy(i.triggerUIUpdate),!a.isLeaf()&&a.phantom&&a.set("loaded",!0),Ext.resumeLayouts(!0),b!==!0&&(i.fireEventArgs("append",[i,a,f]),g&&a.fireEventArgs("move",[a,g,i,f])),a}for(i.callStore("suspendAutoSync"),d=0,e=a.length-1;e>d;d++)i.appendChild(a[d],b,c);i.callStore("resumeAutoSync"),i.appendChild(a[e],b,c)},getOwnerTree:function(){for(var a,b=this;b.parentNode;)b=b.parentNode;return a=b.store,a&&(a.treeStore&&(a=a.treeStore),a.tree)?a.ownerTree:void 0},removeChild:function(a,b,c,d){var e,f,g,h=this,i=h.indexOf(a);if(-1===i||c!==!0&&h.fireEventArgs("beforeremove",[h,a,!!d])===!1)return!1;if(Ext.suspendLayouts(),Ext.Array.erase(h.childNodes,i,1),h.firstChild===a&&h.setFirstChild(a.nextSibling),h.lastChild===a&&h.setLastChild(a.previousSibling),(g=a.previousSibling)&&(a.previousSibling.nextSibling=a.nextSibling),a.nextSibling)for(a.nextSibling.previousSibling=a.previousSibling,0===i&&a.nextSibling.updateInfo(!1,{isFirst:!0}),e=i,f=h.childNodes.length;f>e;e++)h.childNodes[e].updateInfo(!1,{index:e});else g&&(g.updateInfo(!1,{isLast:!0}),g.isExpanded()?g.cascadeBy(h.triggerUIUpdate):g.triggerUIUpdate());return h.childNodes.length||h.triggerUIUpdate(),Ext.resumeLayouts(!0),c!==!0&&(a.removeContext={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling},a.previousSibling=a.nextSibling=a.parentNode=null,h.fireEventArgs("remove",[h,a,!!d]),a.removeContext=null),b?a.destroy(!0):a.clear(),a},copy:function(a,b){var c,d=this,e=d.callParent(arguments),f=d.childNodes?d.childNodes.length:0;if(b)for(c=0;f>c;c++)e.appendChild(d.childNodes[c].copy(void 0,!0));return e},clear:function(a){var b=this;b.parentNode=b.previousSibling=b.nextSibling=null,a&&(b.firstChild=b.lastChild=null)},destroy:function(a){var b,c=this,d=c.destroyOptions,e=c.childNodes,f=e.length;if(a===!0){for(c.clear(!0),b=0;f>b;b++)e[b].destroy(!0);c.childNodes=null,delete c.destroyOptions,c.callParent([d])}else c.destroyOptions=a,c.remove(!0)},insertBefore:function(a,b,c){var d,e,f,g=this,h=g.indexOf(b),i=a.parentNode,j=h;if(!b)return g.appendChild(a);if(a===b)return!1;if(a=g.createNode(a),c!==!0&&g.fireEventArgs("beforeinsert",[g,a,b])===!1)return!1;if(i===g&&g.indexOf(a)<h&&j--,i){if(c!==!0&&a.fireEventArgs("beforemove",[a,i,g,h,b])===!1)return!1;i.removeChild(a,!1,!1,!0)}for(0===j&&g.setFirstChild(a),Ext.Array.splice(g.childNodes,j,0,a),a.parentNode=g,a.nextSibling=b,b.previousSibling=a,e=g.childNodes[j-1],e?(a.previousSibling=e,e.nextSibling=a):a.previousSibling=null,a.updateInfo(!1,{parentId:g.getId(),index:j,isFirst:0===j,isLast:!1,depth:(g.data.depth||0)+1}),f=j+1,d=g.childNodes.length;d>f;f++)g.childNodes[f].updateInfo(!1,{index:f});return g.isLoaded()?1===g.childNodes.length&&g.triggerUIUpdate():g.set("loaded",!0),!a.isLeaf()&&a.phantom&&a.set("loaded",!0),c!==!0&&(g.fireEventArgs("insert",[g,a,b]),i&&a.fireEventArgs("move",[a,i,g,j,b])),a},insertChild:function(a,b){var c=this.childNodes[a];return c?this.insertBefore(b,c):this.appendChild(b)},remove:function(a,b){var c=this,d=c.parentNode;return d?d.removeChild(c,a,b):a&&c.destroy(!0),c},removeAll:function(a,b,c){var d,e=this,f=e.childNodes,g=0,h=f.length;if(h){for(e.fireEventArgs("bulkremove",[e,f,!1]);h>g;++g)d=f[g],d.removeContext={parentNode:d.parentNode,previousSibling:d.previousSibling,nextSibling:d.nextSibling},d.previousSibling=d.nextSibling=d.parentNode=null,e.fireEventArgs("remove",[e,d,!1]),d.removeContext=null,a?d.destroy(!0):d.removeAll(!1,b,!0);return e.firstChild=e.lastChild=null,c?e.childNodes=null:(e.childNodes.length=0,e.triggerUIUpdate()),e}},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b,c){var d=b?b.nextSibling:null;return this.removeChild(b,!1,c),this.insertBefore(a,d,c),b},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){for(var b=this.childNodes,c=b.length,d=0;c>d;++d)if(b[d].getId()===a)return d;return-1},getPath:function(a,b){a=a||this.idProperty,b=b||"/";for(var c=[this.get(a)],d=this.parentNode;d;)c.unshift(d.get(a)),d=d.parentNode;return b+c.join(b)},getDepth:function(){return this.get("depth")},bubble:function(a,b,c){for(var d=this;d&&a.apply(b||d,c||[d])!==!1;)d=d.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,b,c){if(a.apply(b||this,c||[this])!==!1){var d,e=this.childNodes,f=e.length;for(d=0;f>d;d++)e[d].cascadeBy(a,b,c)}},eachChild:function(a,b,c){var d,e=this.childNodes,f=e.length;for(d=0;f>d&&a.apply(b||this,c||[e[d]])!==!1;d++);},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(a,b,c){for(var d,e,f=this.childNodes,g=f.length,h=0;g>h;h++){if(d=f[h],a.call(b||d,d)===!0)return d;if(c&&(e=d.findChildBy(a,b,c),null!==e))return e}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1},sort:function(a,b,c){var d,e,f=this.childNodes,g=f.length,h={isFirst:!0};if(g>0){for(Ext.Array.sort(f,a),this.setFirstChild(f[0]),this.setLastChild(f[g-1]),d=0;g>d;d++)e=f[d],e.previousSibling=f[d-1],e.nextSibling=f[d+1],h.isLast=d===g-1,h.index=d,e.updateInfo(!1,h),h.isFirst=!1,b&&!e.isLeaf()&&e.sort(a,!0,!0);c!==!0&&this.fireEventArgs("sort",[this,f])}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var a=this.parentNode;a;){if(!a.isExpanded())return!1;a=a.parentNode}return!0},expand:function(a,b,c){var d,e=this;e.isLeaf()?Ext.callback(b,c||e):e.isLoading()?e.on("expand",function(){e.expand(a,b,c)},e,{single:!0}):e.isExpanded()?a?(d=e.getOwnerTree(),e.expandChildren(!0,d?d.singleExpand:!1,b,c)):Ext.callback(b,c||e,[e.childNodes]):e.fireEventArgs("beforeexpand",[e,e.onChildNodesAvailable,e,[a,b,c]])},onChildNodesAvailable:function(a,b,c,d){var e,f=this;Ext.suspendLayouts(),f.set("expanded",!0),f.fireEventArgs("expand",[f,f.childNodes,!1]),b?(e=f.getOwnerTree(),f.expandChildren(!0,e?e.singleExpand:!1,c,d)):Ext.callback(c,d||f,[f.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(a,b,c,d){var e,f,g=this,h=g.childNodes,i=[],j=b?Math.min(h.length,1):h.length;for(e=0;j>e;++e)f=h[e],f.isLeaf()||(i[i.length]=f);for(j=i.length,e=0;j>e;++e)i[e].expand(a);c&&Ext.callback(c,d||g,[g.childNodes])},collapse:function(a,b,c){var d,e,f=this,g=f.isExpanded(),h=f.childNodes.length;if(!f.isLeaf()&&(!g&&a||f.fireEventArgs("beforecollapse",[f])!==!1)){if(Ext.suspendLayouts(),f.isExpanded())a&&(e=function(){for(d=0;h>d;d++)f.childNodes[d].setCollapsed(!0)},b=b?Ext.Function.createSequence(e,b):e),f.set("expanded",!1),f.fireEventArgs("collapse",[f,f.childNodes,!1,b?Ext.Function.bind(b,c,[f.childNodes]):null,null]),b=null;else if(a)for(d=0;h>d;d++)f.childNodes[d].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(b,c||f,[f.childNodes])},setCollapsed:function(a){var b,c=this,d=c.childNodes.length;if(!c.isLeaf()&&c.fireEventArgs("beforecollapse",[c,Ext.emptyFn])!==!1&&(c.data.expanded=!1,c.fireEventArgs("collapse",[c,c.childNodes,!1,null,null]),a))for(b=0;d>b;b++)c.childNodes[b].setCollapsed(!0)},collapseChildren:function(a,b,c){var d,e,f=this,g=f.childNodes,h=g.length,i=[];for(d=0;h>d;++d)e=g[d],!e.isLeaf()&&e.isLoaded()&&e.isExpanded()&&i.push(e);for(h=i.length,d=0;h>d;++d)e=i[d],d===h-1?e.collapse(a,b,c):e.collapse(a)},fireEventArgs:function(b,c){var d,e,f,g,h,i=Ext.data.Model.prototype.fireEventArgs;if(a[b]){for(e=this;d!==!1&&e;e=(h=e).parentNode)e.hasListeners[b]&&(d=i.call(e,b,c));return f=h.rootOf,d!==!1&&f&&(g=f.treeStore,g&&g.hasListeners[b]&&(d=g.fireEventArgs.call(g,b,c)),d!==!1&&f.hasListeners[b]&&(d=f.fireEventArgs.call(f,b,c))),d}return i.apply(this,arguments)},serialize:function(){var a,b,c=Ext.data.writer.Json.prototype.getRecordData(this),d=this.childNodes,e=d.length;if(e>0){for(a=[],b=0;e>b;b++)a.push(d[b].serialize());c.children=a}return c}}}}}),Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(a){var b,c=this;a=a||{},Ext.apply(c,a),a.proxy={type:"proxy"},c.callParent([a]),b=c.node,b&&(c.node=null,c.setNode(b))},getTotalCount:function(){return this.getCount()},setNode:function(a){var b=this;b.node&&b.node!=a&&(b.mun(b.node,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,bulkremove:b.onBulkRemove,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b}),b.node=null),a&&(Ext.data.NodeInterface.decorate(a.self),b.removeAll(),b.rootVisible?b.add(a):a.isExpanded()||b.treeStore.autoLoad===!1||a.expand(),b.mon(a,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,bulkremove:b.onBulkRemove,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b}),b.node=a,a.isExpanded()&&a.isLoaded()&&b.onNodeExpand(a,a.childNodes,!0))},onNodeSort:function(a,b){var c=this;(-1!==c.indexOf(a)||a===c.node&&!c.rootVisible&&a.isExpanded())&&(Ext.suspendLayouts(),c.onNodeCollapse(a,b,!0),c.onNodeExpand(a,b,!0),Ext.resumeLayouts(!0))},onNodeExpand:function(a,b,c){var d=this,e=d.indexOf(a)+1,f=[];c||d.fireEvent("beforeexpand",a,b,e),d.handleNodeExpand(a,b,f),d.insert(e,f),c||d.fireEvent("expand",a,b)},handleNodeExpand:function(a,b,c){var d,e,f=this,g=b?b.length:0;if((f.recursive||a===f.node)&&(a===this.node||f.isVisible(a))&&g)for(d=0;g>d;d++)e=b[d],c.push(e),e.isExpanded()&&(e.isLoaded()?f.handleNodeExpand(e,e.childNodes,c):(e.set("expanded",!1),e.expand()))},onBulkRemove:function(a,b){this.onNodeCollapse(a,b,!0)},onNodeCollapse:function(a,b,c,d,e){var f,g,h,i,j=this,k=j.indexOf(a)+1;if(j.recursive||a===j.node){if(c||j.fireEvent("beforecollapse",a,b,k,d,e),b.length&&j.data.contains(b[0])){for(f=a;f.parentNode;){if(h=f.nextSibling){i=!0,g=j.indexOf(h);break}f=f.parentNode}i||(g=j.getCount()),j.removeAt(k,g-k)}c||j.fireEvent("collapse",a,b,k)}},onNodeAppend:function(a,b,c){var d,e,f=this;if(f.isVisible(b)){if(0===c)d=a;else{for(e=b.previousSibling;e.isExpanded()&&e.lastChild;)e=e.lastChild;d=e}f.insert(f.indexOf(d)+1,b),!b.isLeaf()&&b.isExpanded()&&(b.isLoaded()?f.onNodeExpand(b,b.childNodes,!0):f.treeStore.fillCount||(b.set("expanded",!1),b.expand()))}},onNodeInsert:function(a,b,c){var d=this,e=this.indexOf(c);-1!=e&&d.isVisible(b)&&(d.insert(e,b),!b.isLeaf()&&b.isExpanded()&&(b.isLoaded()?d.onNodeExpand(b,b.childNodes,!0):(b.set("expanded",!1),b.expand())))},onNodeRemove:function(a,b){var c=this;-1!=c.indexOf(b)&&(!b.isLeaf()&&b.isExpanded()&&(b.parentNode=b.removeContext.parentNode,b.nextSibling=b.removeContext.nextSibling,c.onNodeCollapse(b,b.childNodes,!0),b.parentNode=b.nextSibling=null),c.remove(b))},isVisible:function(a){for(var b=a.parentNode;b;){if(b===this.node&&b.data.expanded)return!0;if(!b.data.expanded)return!1;b=b.parentNode}return!1}}),Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(a){Ext.apply(this,a)}}),Ext.define("Ext.data.SequentialIdGenerator",{extend:"Ext.data.IdGenerator",alias:"idgen.sequential",constructor:function(){var a=this;a.callParent(arguments),a.parts=[a.prefix,""]},prefix:"",seed:1,generate:function(){var a=this,b=a.parts;return b[1]=a.seed++,b.join("")}}),Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b),a&&b.setRootNode(a),b.on({scope:b,idchanged:b.onNodeIdChanged,insert:b.onNodeInsert,append:b.onNodeAppend,remove:b.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(a){var b=this;return b.root=a,a.rootOf?a.rootOf.removeRootNode():a.parentNode&&a.parentNode.removeChild(a),a.rootOf=b,a.fireEventArgs("beforeappend",[null,a])!==!1&&(a.set("root",!0),a.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),b.nodeHash={},a.fireEvent("append",null,a),a.fireEvent("rootchange",a)),a},removeRootNode:function(){var a=this,b=a.root;return b.set("root",!1),b.fireEvent("remove",null,b,!1),b.fireEvent("rootchange",null),b.rootOf=a.root=null,b},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(a,b){this.registerNode(b,!0)},onNodeAppend:function(a,b){this.registerNode(b,!0)},onNodeRemove:function(a,b){this.unregisterNode(b,!0)},onNodeIdChanged:function(a,b,c,d){var e=this.nodeHash;e[a.internalId]=a,delete e[d]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,b){var c,d,e,f=this;if(f.nodeHash[a.internalId]=a,b===!0)for(c=a.childNodes,d=c.length,e=0;d>e;e++)f.registerNode(c[e],!0)},unregisterNode:function(a,b){var c,d,e,f=this;if(delete f.nodeHash[a.internalId],b===!0)for(c=a.childNodes,d=c.length,e=0;d>e;e++)f.unregisterNode(c[e],!0)},sort:function(a,b){this.getRootNode().sort(a,b)},filter:function(a,b){this.getRootNode().filter(a,b)}}),Ext.define("Ext.data.TreeModel",{extend:"Ext.data.Model",requires:["Ext.data.NodeInterface"]},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.Tree","Ext.data.NodeInterface"],clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:!1,constructor:function(a){var b,c,d,e=this;a=Ext.apply({},a),c=a.fields||e.fields,c||(a.fields=[{name:"text",type:"string"}],d=a.defaultRootProperty||e.defaultRootProperty,d!==e.defaultRootProperty&&a.fields.push({name:d,type:"auto",defaultValue:null,persist:!1})),e.callParent([a]),e.tree=new Ext.data.Tree,e.tree.treeStore=e,e.tree.on({scope:e,remove:e.onNodeRemove,beforeexpand:e.onBeforeNodeExpand,append:e.onNodeAdded,insert:e.onNodeAdded,sort:e.onNodeSort}),e.onBeforeSort(),b=e.root,b&&(delete e.root,e.setRootNode(b)),Ext.isDefined(e.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),e.nodeParam=e.nodeParameter,delete e.nodeParameter)},setProxy:function(a){var b,c;return a instanceof Ext.data.proxy.Proxy?c=Ext.isEmpty(a.getReader().root):Ext.isString(a)?c=!0:(b=a.reader,c=!(b&&!Ext.isEmpty(b.root))),a=this.callParent(arguments),a.idParam=this.nodeParam,c&&(b=a.getReader(),b.root=this.defaultRootProperty,b.buildExtractors(!0)),a},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(a,b,c,d){var e,f,g,h,i=this;a.isLoaded()?(h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)):(f=g=(a.raw||a[a.persistenceProperty])[(e=i.getProxy().getReader()).root])?(i.fillNode(a,e.extractData(f)),delete g[e.root],h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)):a.isLoading()?i.on("load",function(){h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)},i,{single:!0}):i.read({node:a,callback:function(){delete i.lastOptions.callback,h=[a.childNodes],d&&h.push.apply(h,d),Ext.callback(b,c||a,h)}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(a,b,c){var d=this;b.unjoin(d),b.phantom||c||Ext.Array.include(d.removed,b),!d.autoSync||d.autoSyncSuspended||c||d.sync()},onNodeAdded:function(a,b){var c,d=this,e=d.getProxy(),f=e.getReader(),g=b.raw||b[b.persistenceProperty];Ext.Array.remove(d.removed,b),b.join(d),b.isLeaf()||d.lazyFill||(c=f.getRoot(g),c&&(d.fillNode(b,f.extractData(c)),delete g[f.root])),d.autoSync&&!d.autoSyncSuspended&&(b.phantom||b.dirty)&&d.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(a,b){var c=this,d=c.model,e=d.prototype.idProperty;return a=a||{},a.isModel?a.isModel&&!a.isNode&&Ext.data.NodeInterface.decorate(d):(a=Ext.apply({},a),Ext.applyIf(a,{id:c.defaultRootId,text:c.defaultRootText,allowDrag:!1}),void 0===a[e]&&(a[e]=c.defaultRootId),Ext.data.NodeInterface.decorate(d),a=Ext.ModelManager.create(a,d)),c.getProxy().getReader().buildExtractors(!0),c.tree.setRootNode(a),b===!0||a.isLoaded()||c.autoLoad!==!0&&!a.isExpanded()||(a.data.expanded=!1,a.expand()),a
},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(a){a=a||{},a.params=a.params||{};var b=this,c=a.node||b.tree.getRootNode();return c||(c=b.setRootNode({expanded:!0},!0)),a.id=c.getId(),b.clearOnLoad&&(b.clearRemovedOnLoad&&b.clearRemoved(c),b.tree.un("remove",b.onNodeRemove,b),c.removeAll(!1),b.tree.on("remove",b.onNodeRemove,b)),Ext.applyIf(a,{node:c}),b.callParent([a]),b.loading&&c&&c.set("loading",!0),b},clearRemoved:function(a){var b,c,d,e=this,f=e.removed,g=a.getId(),h=f.length,i=h,j={},k=[],l={};if(a===e.getRootNode())return void(e.removed=[]);for(;i--;)b=f[i],l[b.getId()]=b;for(i=h;i--;){for(b=f[i],c=b;c&&c.getId()!==g;)d=c.get("parentId"),c=c.parentNode||e.getNodeById(d)||l[d];c&&(j[b.getId()]=b)}for(i=0;h>i;i++)b=f[i],j[b.getId()]||k.push(b);e.removed=k},fillNode:function(a,b){var c,d,e,f,g,h=this,i=b?b.length:0,j=h.sorters,k=!1,l=i&&h.sortOnLoad&&!h.remoteSort&&j&&j.items&&j.items.length;for(c=1;i>c&&(e=b[c],f=b[c-1],!(k=e[e.persistenceProperty].index!=f[f.persistenceProperty].index));c++);return l?(k&&h.sorters.insert(0,h.indexSorter),d=new Ext.util.MixedCollection,d.addAll(b),d.sort(h.sorters.items),b=d.items,h.sorters.remove(h.indexSorter)):k&&Ext.Array.sort(b,h.sortByIndex),a.set("loaded",!0),g=0===h.fillCount,g&&h.fireEvent("beforefill",h,a,b),++h.fillCount,b.length&&a.appendChild(b,void 0,!0),g&&h.fireEvent("fillcomplete",h,a,b),--h.fillCount,b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onIdChanged:function(a,b,c,d){this.tree.onNodeIdChanged(a,b,c,d),this.callParent(arguments)},onProxyLoad:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords(),e=a.node;b.loading=!1,e.set("loading",!1),c&&(b.clearOnLoad||(d=b.cleanRecords(e,d)),d=b.fillNode(e,d)),b.fireEvent("read",b,a.node,d,c),b.fireEvent("load",b,a.node,d,c),Ext.callback(a.callback,a.scope||b,[d,a,c])},cleanRecords:function(a,b){for(var c,d={},e=a.childNodes,f=0,g=e.length,h=[];g>f;++f)d[e[f].getId()]=!0;for(f=0,g=b.length;g>f;++f)c=b[f],d[c.getId()]||h.push(c);return h},removeAll:function(){var a=this.getRootNode();a&&a.destroy(!0),this.fireEvent("clear",this)},doSort:function(a){var b=this;b.remoteSort?b.load():(b.tree.sort(a,!0),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)),b.fireEvent("sort",b,b.sorters.getRange())}},function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})}),Ext.define("Ext.data.UuidGenerator",function(){function a(a,b){var c=a.toString(16);return c.length>b?c=c.substring(c.length-b):c.length<b&&(c=Ext.String.leftPad(c,b,"0")),c}function b(a,b){var c=Math.random()*(b-a+1);return Math.floor(c)+a}function c(a){if("number"==typeof a){var b=Math.floor(a/g);return{lo:Math.floor(a-b*g),hi:b}}return a}var d=Math.pow(2,14),e=Math.pow(2,16),f=Math.pow(2,28),g=Math.pow(2,32);return{extend:"Ext.data.IdGenerator",alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var a=this;a.callParent(arguments),a.parts=[],a.init()},generate:function(){var b=this,c=b.parts,d=b.timestamp;return c[0]=a(d.lo,8),c[1]=a(65535&d.hi,4),c[2]=a(d.hi>>>16&4095|b.version<<12,4),c[3]=a(128|b.clockSeq>>>8&63,2)+a(255&b.clockSeq,2),c[4]=a(b.salt.hi,4)+a(b.salt.lo,8),4==b.version?b.init():(++d.lo,d.lo>=g&&(d.lo=0,++d.hi)),c.join("-").toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var a,h,i=this;4==i.version?(i.clockSeq=b(0,d-1),a=i.salt||(i.salt={}),h=i.timestamp||(i.timestamp={}),a.lo=b(0,g-1),a.hi=b(0,e-1),h.lo=b(0,g-1),h.hi=b(0,f-1)):(i.salt=c(i.salt),i.timestamp=c(i.timestamp),i.salt.hi|=256)},reconfigure:function(a){Ext.apply(this,a),this.init()}}}()),Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(a){var b=this;return Ext.isEmpty(a)?Ext.emptyFn:Ext.isFunction(a)?a:function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){return a&&("function"==typeof a.normalize&&a.normalize(),a=a.firstChild)?a.nodeValue:void 0},getResponseData:function(a){var b,c,d=a.responseXML;return d?this.readRecords(d):(c="XML data not found in the response",b=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:c}),this.fireEvent("exception",this,a,b),Ext.Logger.warn(c),b)},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.root;return!c||b&&b==c?a:Ext.DomQuery.isXml(a)?Ext.DomQuery.selectNode(c,a):void 0},extractData:function(a){var b=this.record;return a=b!=a.nodeName?Ext.DomQuery.select(b,a):[a],this.callParent([a])},getAssociatedDataRoot:function(a,b){return Ext.DomQuery.select(b,a)[0]},readRecords:function(a){return Ext.isArray(a)&&(a=a[0]),this.xmlData=a,this.callParent([a])},createFieldAccessExpression:function(a,b,c){var d,e,f=this.namespace;return d=a.mapping||(f?f+"|":"")+a.name,e="function"==typeof d?b+".mapping("+c+", this)":'me.getNodeValue(Ext.DomQuery.selectNode("'+d+'", '+c+"))"}}),Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(a,b){var c,d,e=this,f=[],g=0,h=b.length,i=e.documentRoot,j=e.record,k=1!==b.length;for(f.push(e.header||""),!i&&k&&(i=e.defaultDocumentRoot),i&&f.push("<",i,">");h>g;++g){c=b[g],f.push("<",j,">");for(d in c)c.hasOwnProperty(d)&&f.push("<",d,">",c[d],"</",d,">");f.push("</",j,">")}return i&&f.push("</",i,">"),a.xmlData=f.join(""),a}}),Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a),this.callParent([a])}}),Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(){this.callParent(arguments);var a=this,b=a.ownerModel.prototype,c=a.associatedName,d=a.getterName||"get"+c,e=a.setterName||"set"+c;Ext.applyIf(a,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"BelongsToInstance",associationKey:c.toLowerCase()}),b[d]=a.createGetter(),b[e]=a.createSetter()},createSetter:function(){var a=this,b=a.foreignKey,c=a.instanceName;return function(a,d,e){var f=a&&a.isModel,g=f?a.getId():a;return f?this[c]=a:this[c]instanceof Ext.data.Model&&!this.isEqual(this.get(b),g)&&delete this[c],this.set(b,g),Ext.isFunction(d)&&(d={callback:d,scope:e||this}),Ext.isObject(d)?this.save(d):void 0}},createGetter:function(){var a=this,b=a.associatedName,c=a.associatedModel,d=a.foreignKey,e=a.primaryKey,f=a.instanceName;return function(a,g){a=a||{};var h,i,j,k=this,l=k.get(d);return a.reload===!0||void 0===k[f]?(i=Ext.ModelManager.create({},b),i.set(e,l),"function"==typeof a&&(a={callback:a,scope:g||k}),h=a.success,a.success=function(a){k[f]=a,h&&h.apply(this,arguments)},c.load(l,a),k[f]=i,i):(i=k[f],j=[i],g=g||a.scope||k,Ext.callback(a,g,j),Ext.callback(a.success,g,j),Ext.callback(a.failure,g,j),Ext.callback(a.callback,g,j),i)}},read:function(a,b,c){a[this.instanceName]=b.read([c]).records[0]}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return-1!=Ext.Array.indexOf(this.uncountable,a)},pluralize:function(a){if(this.isTransnumeral(a))return a;var b,c,d,e=this.plurals,f=e.length;for(d=0;f>d;d++)if(b=e[d],c=b[0],c==a||c.test&&c.test(a))return a.replace(c,b[1]);return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b,c,d,e=this.singulars,f=e.length;for(d=0;f>d;d++)if(b=e[d],c=b[0],c==a||c.test&&c.test(a))return a.replace(c,b[1]);return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=b%10,d=b%100;if(d>=11&&13>=d)return a+"th";switch(c){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var a,b={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(a in b)this.plural(a,b[a]),this.singular(b[a],a)}),Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",constructor:function(){var a,b,c=this;c.callParent(arguments),c.name=c.name||Ext.util.Inflector.pluralize(c.associatedName.toLowerCase()),a=c.ownerModel.prototype,b=c.name,Ext.applyIf(c,{storeName:b+"Store",foreignKey:c.ownerName.toLowerCase()+"_id"}),a[b]=c.createStore()},createStore:function(){var a=this,b=a.associatedModel,c=a.storeName,d=a.foreignKey,e=a.primaryKey,f=a.filterProperty,g=a.autoLoad,h=a.storeConfig||{};return function(){var a,i,j=this,k={};return void 0===j[c]&&(i=f?{property:f,value:j.get(f),exactMatch:!0}:{property:d,value:j.get(e),exactMatch:!0},k[d]=j.get(e),a=Ext.apply({},h,{model:b,filters:[i],remoteFilter:!1,modelDefaults:k,disableMetaChangeEvent:!0}),j[c]=Ext.data.AbstractStore.create(a),g&&j[c].load()),j[c]}},read:function(a,b,c){var d,e,f,g,h=a[this.name]();if(h.add(b.read(c).records),d=this.associatedModel.prototype.associations.findBy(function(b){return"belongsTo"===b.type&&b.associatedName===a.$className}))for(e=h.data.items,f=e.length,g=0;f>g;g++)e[g][d.instanceName]=a}}),Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(){this.callParent(arguments);var a=this,b=a.ownerModel.prototype,c=a.associatedName,d=a.getterName||"get"+c,e=a.setterName||"set"+c;Ext.applyIf(a,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"HasOneInstance",associationKey:c.toLowerCase()}),b[d]=a.createGetter(),b[e]=a.createSetter()},createSetter:function(){var a=this,b=a.foreignKey,c=a.instanceName;return function(a,d,e){var f=a&&a.isModel,g=f?a.getId():a;return f?this[c]=a:this[c]instanceof Ext.data.Model&&!this.isEqual(this.get(b),g)&&delete this[c],this.set(b,g),Ext.isFunction(d)&&(d={callback:d,scope:e||this}),Ext.isObject(d)?this.save(d):void 0}},createGetter:function(){var a=this,b=(a.ownerModel,a.associatedName),c=a.associatedModel,d=a.foreignKey,e=a.primaryKey,f=a.instanceName;return function(a,g){a=a||{};var h,i,j,k=this,l=k.get(d);return a.reload===!0||void 0===k[f]?(i=Ext.ModelManager.create({},b),i.set(e,l),"function"==typeof a&&(a={callback:a,scope:g||k}),h=a.success,a.success=function(a){k[f]=a,h&&h.apply(this,arguments)},c.load(l,a),k[f]=i,i):(i=k[f],j=[i],g=g||a.scope||k,Ext.callback(a,g,j),Ext.callback(a.success,g,j),Ext.callback(a.failure,g,j),Ext.callback(a.callback,g,j),i)}},read:function(a,b,c){var d=this.associatedModel.prototype.associations.findBy(function(b){return"belongsTo"===b.type&&b.associatedName===a.$className}),e=b.read([c]).records[0];a[this.instanceName]=e,d&&(e[d.instanceName]=a)}}),Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.SequentialIdGenerator"],id:void 0,constructor:function(){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:void 0),this.initialize()},create:function(a,b,c){var d,e,f,g=this,h=a.records,i=h.length,j=g.getIds();for(a.setStarted(),void 0===g.isHierarchical&&(g.isHierarchical=!!h[0].isNode,g.isHierarchical&&g.getStorageObject().setItem(g.getTreeKey(),!0)),f=0;i>f;f++)e=h[f],e.phantom?(e.phantom=!1,d=g.getNextId()):d=e.getId(),g.setRecord(e,d),e.commit(),j.push(d);g.setIds(j),a.setCompleted(),a.setSuccessful(),"function"==typeof b&&b.call(c||g,a)},read:function(a,b,c){var d,e,f,g,h,i=this,j=[],k=0,l=!0,m=i.model;if(a.setStarted(),i.isHierarchical)j=i.getTreeData();else if(d=i.getIds(),e=d.length,h=a.id)g=i.getRecord(h),null!==g&&(f=new m(g,h,g)),f?j.push(f):l=!1;else for(;e>k;k++)h=d[k],g=i.getRecord(h),j.push(new m(g,h,g));l&&a.setSuccessful(),a.setCompleted(),a.resultSet=Ext.create("Ext.data.ResultSet",{records:j,total:j.length,loaded:!0}),"function"==typeof b&&b.call(c||i,a)},update:function(a,b,c){var d,e,f,g=a.records,h=g.length,i=this.getIds();for(a.setStarted(),f=0;h>f;f++)d=g[f],this.setRecord(d),d.commit(),e=d.getId(),void 0!==e&&-1==Ext.Array.indexOf(i,e)&&i.push(e);this.setIds(i),a.setCompleted(),a.setSuccessful(),"function"==typeof b&&b.call(c||this,a)},destroy:function(a,b,c){var d,e=this,f=a.records,g=e.getIds(),h=g.length,i=[],j={},k=f.length;for(a.setStarted();k--;)Ext.apply(j,e.removeRecord(f[k]));for(k=0;h>k;k++)d=g[k],j[d]||i.push(d);e.setIds(i),a.setCompleted(),a.setSuccessful(),"function"==typeof b&&b.call(c||e,a)},getRecord:function(a){var b=this,c=b.cache,d=c[a]?c[a]:Ext.decode(b.getStorageObject().getItem(b.getRecordKey(a)));return d?(c[a]=d,d[b.model.prototype.idProperty]=a,d):null},setRecord:function(a,b){b?a.setId(b):b=a.getId();for(var c,d,e,f,g=this,h=a.data,i={},j=g.model,k=j.prototype.fields.items,l=k.length,m=0;l>m;m++)c=k[m],d=c.name,c.persist&&(i[d]=h[d]);delete i[g.model.prototype.idProperty],a.isNode&&1===a.get("depth")&&delete i.parentId,e=g.getStorageObject(),f=g.getRecordKey(b),g.cache[b]=i,e.removeItem(f),e.setItem(f,Ext.encode(i))},removeRecord:function(a){var b,c,d=this,e=a.getId(),f={};if(f[e]=a,d.getStorageObject().removeItem(d.getRecordKey(e)),delete d.cache[e],a.childNodes)for(c=a.childNodes,b=c.length;b--;)Ext.apply(f,d.removeRecord(c[b]));return f},getRecordKey:function(a){return a.isModel&&(a=a.getId()),Ext.String.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var a,b=this,c=(b.getStorageObject().getItem(b.id)||"").split(","),d=b.model,e=c.length,f="string"===d.prototype.fields.get(d.prototype.idProperty).type.type;if(1==e&&""===c[0])c=[];else for(a=0;e>a;a++)c[a]=f?c[a]:+c[a];return c},setIds:function(a){var b=this.getStorageObject(),c=a.join(",");b.removeItem(this.id),Ext.isEmpty(c)||b.setItem(this.id,c)},getNextId:function(){var a,b=this,c=b.getStorageObject(),d=b.getRecordCounterKey(),e=b.model,f="string"===e.prototype.fields.get(e.prototype.idProperty).type.type;return a=b.idGenerator.generate(),c.setItem(d,a),f||(a=+a),a},getTreeData:function(){for(var a,b,c,d,e,f,g=this,h=g.getIds(),i=h.length,j=[],k={},l=[],m=0,n=g.model,o=n.prototype.idProperty;i>m;m++)f=h[m],b=g.getRecord(f),j.push(b),k[f]=b,b.parentId||l.push(b);for(a=l.length,Ext.Array.sort(j,g.sortByParentId),m=a;i>m;m++)b=j[m],d=b.parentId,c&&c[o]===d||(c=k[d],c.children=e=[]),e.push(b);for(m=i;m--;)b=j[m],b.children||b.leaf||(b.loaded=!0);for(m=a;m--;)b=l[m],l[m]=new n(b,b[o],b);return l},sortByParentId:function(a,b){return(a.parentId||0)-(b.parentId||0)},initialize:function(){var a=this,b=a.getStorageObject(),c=+b.getItem(a.getRecordCounterKey());b.setItem(a.id,b.getItem(a.id)||""),b.getItem(a.getTreeKey())&&(a.isHierarchical=!0),a.idGenerator=new Ext.data.SequentialIdGenerator({seed:c?c+1:1})},clear:function(){var a,b=this,c=b.getStorageObject(),d=b.getIds(),e=d.length;for(a=0;e>a;a++)c.removeItem(b.getRecordKey(d[a]));c.removeItem(b.getRecordCounterKey()),c.removeItem(b.getTreeKey()),c.removeItem(b.id),b.cache={}},getStorageObject:function(){}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:!0,batchActions:!1,buildUrl:function(a){var b=this,c=a.operation,d=c.records||[],e=d[0],f=b.format,g=b.getUrl(a),h=e?e.getId():c.id;return b.appendId&&b.isValidId(h)&&(g.match(/\/$/)||(g+="/"),g+=h),f&&(g.match(/\.$/)||(g+="."),g+=f),a.url=g,b.callParent(arguments)},isValidId:function(a){return a||0===a}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){var b=this;Ext.apply(b,a),b.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),b.dragRegion=new Ext.util.Region(0,0,0,0),b.el&&b.initEl(b.el),b.mixins.observable.constructor.call(b),b.disabled&&b.disable()},initEl:function(a){var b=this;b.el=Ext.get(a),b.handle=Ext.get(b.delegate),b.delegate=b.handle?void 0:b.delegate,b.handle||(b.handle=b.el),b.handleListeners={scope:b,delegate:b.delegate,mousedown:b.onMouseDown},(b.trackOver||b.overCls)&&Ext.apply(b.handleListeners,{mouseover:b.onMouseOver,mouseout:b.onMouseOut}),b.mon(b.handle,b.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var a=this;a.active&&a.endDrag({}),a.clearListeners(),a.mun(a.handle,a.handleListeners),a.el=a.handle=null},onMouseOver:function(a,b){var c=this;c.disabled||(Ext.EventManager.contains(a)||c.delegate)&&(c.mouseIsOut=!1,c.overCls&&c.el.addCls(c.overCls),c.fireEvent("mouseover",c,a,c.delegate?a.getTarget(c.delegate,b):c.handle))},onMouseOut:function(a){var b=this;b.mouseIsDown?b.mouseIsOut=!0:(b.overCls&&b.el.removeCls(b.overCls),b.fireEvent("mouseout",b,a))},onMouseDown:function(a,b){var c,d=this;d.disabled||a.dragTracked||(d.dragTarget=d.delegate?b:d.handle.dom,d.startXY=d.lastXY=a.getXY(),d.startRegion=Ext.fly(d.dragTarget).getRegion(),d.fireEvent("mousedown",d,a)!==!1&&d.fireEvent("beforedragstart",d,a)!==!1&&d.onBeforeStart(a)!==!1&&(d.mouseIsDown=!0,a.dragTracked=!0,c=d.el.dom,Ext.isIE&&c.setCapture&&c.setCapture(),d.preventDefault!==!1&&a.preventDefault(),Ext.getDoc().on({scope:d,mouseup:d.onMouseUp,mousemove:d.onMouseMove,selectstart:d.stopSelect}),d.autoStart&&(d.timer=Ext.defer(d.triggerStart,d.autoStart===!0?1e3:d.autoStart,d,[a]))))},onMouseMove:function(a){var b=this,c=a.getXY(),d=b.startXY;if(a.preventDefault(),b.lastXY=c,!b.active){if(!(Math.max(Math.abs(d[0]-c[0]),Math.abs(d[1]-c[1]))>b.tolerance))return;b.triggerStart(a)}b.fireEvent("mousemove",b,a)===!1?b.onMouseUp(a):(b.onDrag(a),b.fireEvent("drag",b,a))},onMouseUp:function(a){var b=this;b.mouseIsDown=!1,b.mouseIsOut&&(b.mouseIsOut=!1,b.onMouseOut(a)),a.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),b.fireEvent("mouseup",b,a),b.endDrag(a)},endDrag:function(a){var b=this,c=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,scope:b}),b.clearStart(),b.active=!1,c&&(b.onEnd(a),b.fireEvent("dragend",b,a)),b._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(a){var b=this;b.clearStart(),b.active=!0,b.onStart(a),b.fireEvent("dragstart",b,a)},clearStart:function(){var a=this.timer;a&&(clearTimeout(a),this.timer=null)},stopSelect:function(a){return a.stopEvent(),!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region)return a.constrainTo;a._constrainRegion||(a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion())}else a._constrainRegion||(a._constrainRegion=a.getDragCt().getViewRegion());return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var b=this.getXY(a),c=this.startXY;return[b[0]-c[0],b[1]-c[1]]},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();return d?(c.x=c.left=c[0]=c.right=b[0],c.y=c.top=c[1]=c.bottom=b[1],c.constrainTo(d),[c.left,c.top]):b},dragTarget:function(a,b){var c,d=a.startXY,e=a.startRegion.copy(),f=a.getConstrainRegion();return f?(e.translateBy(b[0]-d[0],b[1]-d[1]),e.right>f.right&&(b[0]+=c=f.right-e.right,e.left+=c),e.left<f.left&&(b[0]+=f.left-e.left),e.bottom>f.bottom&&(b[1]+=c=f.bottom-e.bottom,e.top+=c),e.top<f.top&&(b[1]+=f.top-e.top),b):b}}}),Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(a,b){var c=this,d=c.containerScroll;c.callParent([a,b]),d&&(a=c.scrollEl||a,a=Ext.get(a),Ext.isObject(d)&&(a.ddScrollConfig=d),Ext.dd.ScrollManager.register(a))},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(a,b),!0},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this),a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=a,this.els={},this.dragEl=null,this.proc={}},onStop:function(){var a=Ext.dd.ScrollManager;a.dragEl=null,a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,d=c?c.increment:this.increment;this.animate?b.scroll(a.dir,d,!0,this.animDuration,this.triggerRefresh):b.scroll(a.dir,d)&&this.triggerRefresh()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id),a.id=0,a.el=null,a.dir=""},startProc:function(a,b){this.clearProc(),this.proc.el=a,this.proc.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:void 0,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;(void 0===c||this.ddmInstance.dragCurrent.ddGroup==c)&&(this.proc.id=setInterval(this.doScroll,d))},onFire:function(a,b){if(!b&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());var c,d,e,f,g=(a.getXY(),a.getPoint()),h=this.proc,i=this.els;for(c in i)if(d=i[c],e=d._region,f=d.ddScrollConfig?d.ddScrollConfig:this,e&&e.contains(g)&&d.isScrollable()){if(e.bottom-g.y<=f.vthresh)return void(h.el!=d&&this.startProc(d,"down"));if(e.right-g.x<=f.hthresh)return void(h.el!=d&&this.startProc(d,"left"));if(g.y-e.top<=f.vthresh)return void(h.el!=d&&this.startProc(d,"up"));if(g.x-e.left<=f.hthresh)return void(h.el!=d&&this.startProc(d,"right"))}this.clearProc()}},register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++)this.register(a[b]);else a=Ext.get(a),this.els[a.id]=a},unregister:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++)this.unregister(a[b]);else a=Ext.get(a),delete this.els[a.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var a,b=this.els;for(a in b)"object"==typeof b[a]&&(b[a]._region=b[a].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(a,b){if("string"==typeof a)return a;var c=a.id;return c||b===!1||(c="extdd-"+ ++this.autoIdSeed,a.id=c),c},register:function(a,b){if(b=b||{},"string"==typeof a&&(a=document.getElementById(a)),b.ddel=a,this.elements[this.getId(a)]=b,b.isHandle!==!1&&(this.handles[b.ddel.id]=b),b.handles){var c,d,e=b.handles;for(c=0,d=e.length;d>c;c++)this.handles[this.getId(e[c])]=b}},unregister:function(a){var b,c,d,e=this.getId(a,!1),f=this.elements[e];if(f&&(delete this.elements[e],f.handles))for(b=f.handles,c=0,d=b.length;d>c;c++)delete this.handles[this.getId(b[c],!1)]},getHandle:function(a){return"string"!=typeof a&&(a=a.id),this.handles[a]},getHandleFromEvent:function(a){var b=a.getTarget();return b?this.handles[b.id]:null},getTarget:function(a){return"string"!=typeof a&&(a=a.id),this.elements[a]},getTargetFromEvent:function(a){var b=a.getTarget();return b?this.elements[b.id]||this.handles[b.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);return d?(this.lastOverNode!=d&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,a,b,c),this.onNodeEnter(d,a,b,c),this.lastOverNode=d),this.onNodeOver(d,a,b,c)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c))},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){var d=this,e=d.getTargetFromEvent(b),f=e?d.onNodeDrop(e,a,b,c):d.onContainerDrop(a,b,c);return d.lastOverNode&&(d.onNodeOut(d.lastOverNode,a,b,c),d.lastOverNode=null),f},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){var a=this;return a.transaction||Ext.direct.Manager.getTransaction(a.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:!1}),Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(a){return Ext.isEmpty(a.responseText)?null:Ext.isObject(a.responseText)?a.responseText:Ext.decode(a.responseText)},createEvents:function(a){var b,c,d,e=this,f=null,g=[];try{f=e.parseResponse(a)}catch(h){return b=new Ext.direct.ExceptionEvent({data:h,xhr:a,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+h}),[b]}if(Ext.isArray(f))for(c=0,d=f.length;d>c;++c)g.push(e.createEvent(f[c]));else Ext.isObject(f)&&g.push(e.createEvent(f));return g},createEvent:function(a){return"object"==typeof a&&"type"in a?Ext.create("direct."+a.type,a):new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}}),Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",requires:["Ext.Ajax","Ext.util.DelayedTask"],uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],interval:3e3,constructor:function(){var a=this;a.callParent(arguments),a.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var a=this,b=a.url;b&&!a.pollTask&&(a.pollTask=Ext.TaskManager.start({run:a.runPoll,interval:a.interval,scope:a}),a.fireEvent("connect",a))},disconnect:function(){var a=this;a.pollTask&&(Ext.TaskManager.stop(a.pollTask),delete a.pollTask,a.fireEvent("disconnect",a))},runPoll:function(){var a=this,b=a.url;a.fireEvent("beforepoll",a)!==!1&&(Ext.isFunction(b)?b(a.baseParams):Ext.Ajax.request({url:b,callback:a.onData,scope:a,params:a.baseParams}),a.fireEvent("poll",a))},onData:function(a,b,c){var d,e,f,g=this;if(b)for(f=g.createEvents(c),d=0,e=f.length;e>d;++d)g.fireEvent("data",g,f[d]);else f=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),g.fireEvent("data",g,f)}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(a){var b,c,d,e,f=this,g=Ext.isDefined(a.params)?a.params:a.len;if(f.name=a.name,f.formHandler=a.formHandler,Ext.isNumeric(g))f.len=g,f.ordered=!0;else for(f.params={},c=g.length,d=0;c>d;d++)e=g[d],b=Ext.isObject(e)?e.name:e,f.params[b]=!0},getArgs:function(a,b,c){var d,e,f=this,g=[];if(f.ordered){if(f.len>0)if(b)for(d=0,e=b.length;e>d;d++)g.push(a[b[d]]);
else c&&g.push(a)}else g.push(a);return g},getCallData:function(a){var b,c,d,e,f=this,g=null,h=f.len,i=f.params;if(f.ordered)b=a[h],c=a[h+1],e=a[h+2],0!==h&&(g=a.slice(0,h));else{g=Ext.apply({},a[0]),b=a[1],c=a[2],e=a[3];for(d in g)g.hasOwnProperty(d)&&!i[d]&&delete g[d]}return{data:g,callback:b,scope:c,options:e}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(a){var b=this;Ext.apply(b,a),b.id=b.tid=++b.self.TRANSACTION_ID,b.retryCount=0},send:function(){var a=this;a.provider.queueTransaction(a)},retry:function(){var a=this;a.retryCount++,a.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.remotingprovider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,constructor:function(){var a=this;a.callParent(arguments),a.addEvents("beforecall","call","beforecallback"),a.namespace=Ext.isString(a.namespace)?Ext.ns(a.namespace):a.namespace||Ext.global,a.transactions=new Ext.util.MixedCollection,a.callBuffer=[]},getNamespace:function(a,b){var c,d,e,f;for(a=a||Ext.global,c=b.toString().split("."),e=0,f=c.length;f>e;e++)if(d=c[e],a=a[d],"undefined"==typeof a)return a;return a},createNamespaces:function(a,b){var c,d;a=a||Ext.global,c=b.toString().split(".");for(var e=0,f=c.length;f>e;e++)d=c[e],a[d]=a[d]||{},a=a[d];return a},initAPI:function(){var a,b,c,d,e,f,g=this,h=g.actions,i=g.namespace;for(a in h)if(h.hasOwnProperty(a))for(g.disableNestedActions?(b=i[a],b||(b=i[a]={})):(b=g.getNamespace(i,a),b||(b=g.createNamespaces(i,a))),c=h[a],d=0,e=c.length;e>d;++d)f=new Ext.direct.RemotingMethod(c[d]),b[f.name]=g.createHandler(a,f)},createHandler:function(a,b){var c,d=this,e=Array.prototype.slice;return c=b.formHandler?function(c,e,f){d.configureFormRequest(a,b,c,e,f)}:function(){d.configureRequest(a,b,e.call(arguments,0))},c.directCfg={action:a,method:b},c},isConnected:function(){return!!this.connected},connect:function(){var a=this;a.url&&(a.initAPI(),a.connected=!0,a.fireEvent("connect",a))},disconnect:function(){var a=this;a.connected&&(a.connected=!1,a.fireEvent("disconnect",a))},runCallback:function(a,b){var c,d,e,f=!!b.status,g=f?"success":"failure";a&&a.callback&&(c=a.callback,d=a.callbackOptions,e="undefined"!=typeof b.result?b.result:b.data,Ext.isFunction(c)?c(e,b,f,d):(Ext.callback(c[g],c.scope,[e,b,f,d]),Ext.callback(c.callback,c.scope,[e,b,f,d])))},onData:function(a,b,c){var d,e,f,g,h,i,j=this;if(b)for(f=j.createEvents(c),d=0,e=f.length;e>d;++d)g=f[d],h=j.getTransaction(g),j.fireEvent("data",j,g),h&&j.fireEvent("beforecallback",j,g,h)!==!1&&(j.runCallback(h,g,!0),Ext.direct.Manager.removeTransaction(h));else for(i=[].concat(a.transaction),d=0,e=i.length;e>d;++d)h=j.getTransaction(i[d]),h&&h.retryCount<j.maxRetries?h.retry():(g=new Ext.direct.ExceptionEvent({data:null,transaction:h,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),j.fireEvent("data",j,g),h&&j.fireEvent("beforecallback",j,h)!==!1&&(j.runCallback(h,g,!1),Ext.direct.Manager.removeTransaction(h)))},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(a,b,c){var d,e,f,g,h,i,j,k=this;d=b.getCallData(c),e=d.data,f=d.callback,g=d.scope,h=d.options||{},j=Ext.apply({},{provider:k,args:c,action:a,method:b.name,data:e,callbackOptions:h,callback:g&&Ext.isFunction(f)?Ext.Function.bind(f,g):f}),h.timeout&&Ext.applyIf(j,{timeout:h.timeout}),i=new Ext.direct.Transaction(j),k.fireEvent("beforecall",k,i,b)!==!1&&(Ext.direct.Manager.addTransaction(i),k.queueTransaction(i),k.fireEvent("call",k,i,b))},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.id}},sendRequest:function(a){var b,c,d,e,f,g=this,h=g.enableUrlEncode;if(b={url:g.url,callback:g.onData,scope:g,transaction:a,timeout:g.timeout},a.timeout&&(b.timeout=a.timeout),Ext.isArray(a))for(c=[],e=0,f=a.length;f>e;++e)c.push(g.getCallData(a[e]));else c=g.getCallData(a);h?(d={},d[Ext.isString(h)?h:"data"]=Ext.encode(c),b.params=d):b.jsonData=c,Ext.Ajax.request(b)},queueTransaction:function(a){var b=this,c=b.enableBuffer;return a.form?void b.sendFormRequest(a):c===!1||"undefined"!=typeof a.timeout?void b.sendRequest(a):(b.callBuffer.push(a),void(c?(b.callTask||(b.callTask=new Ext.util.DelayedTask(b.combineAndSend,b)),b.callTask.delay(Ext.isNumber(c)?c:10)):b.combineAndSend()))},combineAndSend:function(){var a=this,b=a.callBuffer,c=b.length;c>0&&(a.sendRequest(1==c?b[0]:b),a.callBuffer=[])},configureFormRequest:function(a,b,c,d,e){var f,g,h,i=this;f=new Ext.direct.Transaction({provider:i,action:a,method:b.name,args:[c,d,e],callback:e&&Ext.isFunction(d)?Ext.Function.bind(d,e):d,isForm:!0}),i.fireEvent("beforecall",i,f,b)!==!1&&(Ext.direct.Manager.addTransaction(f),g="multipart/form-data"==String(c.getAttribute("enctype")).toLowerCase(),h={extTID:f.id,extAction:a,extMethod:b.name,extType:"rpc",extUpload:String(g)},Ext.apply(f,{form:Ext.getDom(c),isUpload:g,params:d&&Ext.isObject(d.params)?Ext.apply(h,d.params):h}),i.fireEvent("call",i,f,b),i.sendFormRequest(f))},sendFormRequest:function(a){var b=this;Ext.Ajax.request({url:b.url,params:a.params,callback:b.onData,scope:b,form:a.form,isUpload:a.isUpload,transaction:a})}}),Ext.define("Ext.dom.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a,b){a=a||{};var c=this,d=Ext.DomHelper,e=a.parentEl,f=e?Ext.getDom(e):document.body,g=a.hideMode,h=Ext.baseCSSPrefix+(!a.fixed||Ext.isIE6||Ext.isIEQuirks?"layer":"fixed-layer");c.el=c,b&&(c.dom=Ext.getDom(b)),c.dom?(c.addCls(h),c.dom.parentNode||f.appendChild(c.dom)):c.dom=d.append(f,a.dh||{tag:"div",cls:h}),a.preventSync&&(c.preventSync=!0),c.id=a.id?c.dom.id=a.id:Ext.id(c.dom),Ext.Element.addToCache(c),a.cls&&c.addCls(a.cls),c.constrain=a.constrain!==!1,g?(c.setVisibilityMode(Ext.Element[g.toUpperCase()]),c.visibilityMode==Ext.Element.ASCLASS&&(c.visibilityCls=a.visibilityCls)):c.setVisibilityMode(a.useDisplay?Ext.Element.DISPLAY:Ext.Element.VISIBILITY),a.shadow?(c.shadowOffset=a.shadowOffset||4,c.shadow=new Ext.Shadow({offset:c.shadowOffset,mode:a.shadow,fixed:a.fixed}),c.disableShadow()):c.shadowOffset=0,c.useShim=a.shim!==!1&&Ext.useShims,a.hidden===!0?c.hide():c.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a,b,c=this;return c.useShim?(c.shim||(a=c.self.shims.shift(),a||(a=c.createShim(),a.enableDisplayMode("block"),a.hide()),b=c.dom.parentNode,a.dom.parentNode!=b&&b.insertBefore(a.dom,c.dom),c.shim=a),c.shim):null},hideShim:function(){var a=this;a.shim&&(a.shim.setDisplayed(!1),a.self.shims.push(a.shim),delete a.shim)},disableShadow:function(){var a=this;a.shadow&&!a.shadowDisabled&&(a.shadowDisabled=!0,a.shadow.hide(),a.lastShadowOffset=a.shadowOffset,a.shadowOffset=0)},enableShadow:function(a){var b=this;b.shadow&&b.shadowDisabled&&(b.shadowDisabled=!1,b.shadowOffset=b.lastShadowOffset,delete b.lastShadowOffset,a&&b.sync(!0))},sync:function(a){var b,c,d,e,f,g,h,i,j,k,l=this,m=l.shadow;if(!l.preventSync)return!l.updating&&l.isVisible()&&(m||l.useShim)&&(e=l.getShim(),f=l[l.localXYNames.get](),g=f[0],h=f[1],i=l.dom.offsetWidth,j=l.dom.offsetHeight,m&&!l.shadowDisabled?(a&&!m.isVisible()?m.show(l):m.realign(g,h,i,j),e&&(k=e.getStyle("z-index"),k>l.zindex&&l.shim.setStyle("z-index",l.zindex-2),e.show(),m.isVisible()?(b=m.el.getXY(),c=e.dom.style,d=m.el.getSize(),Ext.supports.CSS3BoxShadow&&(d.height+=6,d.width+=4,b[0]-=2,b[1]-=4),c.left=b[0]+"px",c.top=b[1]+"px",c.width=d.width+"px",c.height=d.height+"px"):(e.setSize(i,j),e[l.localXYNames.set](g,h)))):e&&(k=e.getStyle("z-index"),k>l.zindex&&l.shim.setStyle("z-index",l.zindex-2),e.show(),e.setSize(i,j),e[l.localXYNames.set](g,h))),l},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],f=d[1],g=this.shadowOffset,h=this.dom.offsetWidth+g,i=this.dom.offsetHeight+g,j=!1;e+h>a+c.left&&(e=a-h-g,j=!0),f+i>b+c.top&&(f=b-i-g,j=!0),e<c.left&&(e=c.left,j=!0),f<c.top&&(f=c.top,j=!0),j&&(Ext.Layer.superclass.setXY.call(this,[e,f]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(a,b,c,d,e){var f,g=this;return f=function(){a&&g.sync(!0),d&&d()},a||g.hideUnders(!0),g.callParent([a,b,c,d,e]),b||f(),g},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(){return this.callParent(arguments),this.sync()},setTop:function(){return this.callParent(arguments),this.sync()},setLeftTop:function(){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(a,b,c,d,e){var f=this;return d=f.createCB(d),f.fixDisplay(),f.beforeAction(),f.callParent([a,b,c,d,e]),b||d(),f},createCB:function(a){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY(),b.sync(c),a&&a()}},setX:function(a,b,c,d,e){return this.setXY([a,this.getY()],b,c,d,e),this},setY:function(a,b,c,d,e){return this.setXY([this.getX(),a],b,c,d,e),this},setSize:function(a,b,c,d,e,f){var g=this;return e=g.createCB(e),g.beforeAction(),g.callParent([a,b,c,d,e,f]),c||e(),g},setWidth:function(a,b,c,d,e){var f=this;return d=f.createCB(d),f.beforeAction(),f.callParent([a,b,c,d,e]),b||d(),f},setHeight:function(a,b,c,d,e){var f=this;return d=f.createCB(d),f.beforeAction(),f.callParent([a,b,c,d,e]),b||d(),f},setBounds:function(a,b,c,d,e,f,g,h){var i=this;return g=i.createCB(g),i.beforeAction(),e?i.callParent([a,b,c,d,e,f,g,h]):(Ext.Layer.superclass.setXY.call(i,[a,b]),Ext.Layer.superclass.setSize.call(i,c,d),g()),i},setZIndex:function(a){var b=this;return b.zindex=a,b.getShim()&&b.shim.setStyle("z-index",a++),b.shadow&&b.shadow.setZIndex(a++),b.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;b&&b.setOpacity(a)}}),Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(a,b,c,d,e,f){this.matrix=null!=a?[[a,c,e],[b,d,f],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(a,b,c,d,e,f){var g,h,i,j,k=this,l=[[],[],[]],m=[[a,c,e],[b,d,f],[0,0,1]];for(g=0;3>g;g++)for(h=0;3>h;h++){for(j=0,i=0;3>i;i++)j+=k.matrix[g][i]*m[i][h];l[g][h]=j}k.matrix=l},prepend:function(a,b,c,d,e,f){var g,h,i,j,k=this,l=[[],[],[]],m=[[a,c,e],[b,d,f],[0,0,1]];for(g=0;3>g;g++)for(h=0;3>h;h++){for(j=0,i=0;3>i;i++)j+=m[g][i]*k.matrix[i][h];l[g][h]=j}k.matrix=l},invert:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2],h=b*e-c*d;return new Ext.draw.Matrix(e/h,-c/h,-d/h,b/h,(d*g-e*f)/h,(c*f-b*g)/h)},clone:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2];return new Ext.draw.Matrix(b,c,d,e,f,g)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(a,b,c,d){var e=this;null==b&&(b=a),e.add(a,0,0,b,c*(1-a),d*(1-b))},rotate:function(a,b,c){a=Ext.draw.Draw.rad(a);var d=this,e=+Math.cos(a).toFixed(9),f=+Math.sin(a).toFixed(9);d.add(e,f,-f,e,b-e*b+f*c,-(f*b)+c-e*c)},x:function(a,b){var c=this.matrix;return a*c[0][0]+b*c[0][1]+c[0][2]},y:function(a,b){var c=this.matrix;return a*c[1][0]+b*c[1][1]+c[1][2]},get:function(a,b){return+this.matrix[a][b].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSvg:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(a,b){var c=this;return a=a||0,b=b||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+c.get(0,0)+", M12="+c.get(0,1)+", M21="+c.get(1,0)+", M22="+c.get(1,1)+", Dx="+(c.get(0,2)+a)+", Dy="+(c.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function a(a){return a[0]*a[0]+a[1]*a[1]}function b(b){var c=Math.sqrt(a(b));b[0]/=c,b[1]/=c}var c,d=this.matrix,e={translateX:d[0][2],translateY:d[1][2]};return c=[[d[0][0],d[0][1]],[d[1][1],d[1][1]]],e.scaleX=Math.sqrt(a(c[0])),b(c[0]),e.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1],c[1]=[c[1][0]-c[0][0]*e.shear,c[1][1]-c[0][1]*e.shear],e.scaleY=Math.sqrt(a(c[1])),b(c[1]),e.shear/=e.scaleY,e.rotate=Math.asin(-c[0][1]),e.isSimple=!(+e.shear.toFixed(9)||e.scaleX.toFixed(9)!=e.scaleY.toFixed(9)&&e.rotate),e}}),Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(a,b){var c=this,d=a.el;c.sprite=a,c.el=d,c.dragData={el:d,sprite:a},c.callParent([d,b]),c.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(){return this.el},getRegion:function(){var a,b,c,d,e,f,g,h=this,i=h.el;g=h.sprite,f=g.getBBox();try{a=Ext.Element.getXY(i)}catch(j){}return a?(b=a[0],c=b+f.width,d=a[1],e=d+f.height,new Ext.util.Region(d,c,e,b)):null},startDrag:function(a,b){{var c=this;c.sprite.attr}c.prev=c.sprite.surface.transformToViewBox(a,b)},onDrag:function(a){var b,c,d=a.getXY(),e=this,f=e.sprite,g=f.attr;d=e.sprite.surface.transformToViewBox(d[0],d[1]),b=d[0]-e.prev[0],c=d[1]-e.prev[1],f.setAttributes({translate:{x:g.translation.x+b,y:g.translation.y+c}},!0),e.prev=d},setDragElPos:function(){return!1}}),Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){var b=this;a=Ext.merge({},a||{}),b.id=Ext.id(null,"ext-sprite-"),b.transformations=[],Ext.copyTo(this,a,"surface,group,type,draggable"),b.bbox={},b.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete a.surface,delete a.group,delete a.type,delete a.draggable,b.setAttributes(a),b.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),b.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var a=this;a.el||a.surface.createSpriteElement(a),a.dd=new Ext.draw.SpriteDD(a,Ext.isBoolean(a.draggable)?null:a.draggable),a.on("beforedestroy",a.dd.destroy,a.dd)},setAttributes:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.fontProperties,m=l.length,n=k.pathProperties,o=n.length,p=!!k.surface,q=p&&k.surface.customAttributes||{},r=k.attr,s=!1;a=Ext.apply({},a);for(c in q)a.hasOwnProperty(c)&&"function"==typeof q[c]&&Ext.apply(a,q[c].apply(k,[].concat(a[c])));for(!!a.hidden!=!!r.hidden&&(k.dirtyHidden=!0),d=0;o>d;d++)if(c=n[d],c in a&&a[c]!==r[c]){k.dirtyPath=!0,s=!0;break}"zIndex"in a&&(k.zIndexDirty=!0),"text"in a&&(k.dirtyFont=!0,s=!0);for(d=0;m>d;d++)if(c=l[d],c in a&&a[c]!==r[c]){k.dirtyFont=!0,s=!0;break}return e=a.translation||a.translate,delete a.translate,delete a.translation,f=r.translation,e&&("x"in e&&e.x!==f.x||"y"in e&&e.y!==f.y)&&(k.dirtyTransform=!0,f.x=e.x,f.y=e.y),g=a.rotation||a.rotate,h=r.rotation,delete a.rotate,delete a.rotation,g&&("x"in g&&g.x!==h.x||"y"in g&&g.y!==h.y||"degrees"in g&&g.degrees!==h.degrees)&&(k.dirtyTransform=!0,h.x=g.x,h.y=g.y,h.degrees=g.degrees),i=a.scaling||a.scale,j=r.scaling,delete a.scale,delete a.scaling,i&&("x"in i&&i.x!==j.x||"y"in i&&i.y!==j.y||"cx"in i&&i.cx!==j.cx||"cy"in i&&i.cy!==j.cy)&&(k.dirtyTransform=!0,j.x=i.x,j.y=i.y,j.cx=i.cx,j.cy=i.cy),!k.dirtyTransform&&s&&(null===r.scaling.x||null===r.scaling.y||null===r.rotation.y||null===r.rotation.y)&&(k.dirtyTransform=!0),Ext.apply(r,a),k.dirty=!0,b===!0&&p&&k.redraw(),this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){return this.setAttributes({hidden:!0},a),this},show:function(a){return this.setAttributes({hidden:!1},a),this},remove:function(){return this.surface?(this.surface.remove(this),!0):!1},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var a=this;a.fireEvent("beforedestroy",a)!==!1&&(a.remove(),a.surface.onDestroy(a),a.clearListeners(),a.fireEvent("destroy"))},redraw:function(){return this.surface.renderItem(this),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(a){return this.surface.addCls(this,a),this},removeCls:function(a){return this.surface.removeCls(this,a),this}}),Ext.define("Ext.draw.Text",{extend:"Ext.draw.Component",uses:["Ext.util.CSS"],alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var a=this;a.textConfig=Ext.apply({type:"text",text:a.text,rotate:{degrees:a.degrees||0}},a.textStyle),Ext.apply(a.textConfig,a.getStyles(a.styleSelectors||a.styleSelector)),a.initialConfig.items=[a.textConfig],a.callParent(arguments)},getStyles:function(a){a=Ext.Array.from(a);for(var b,c,d=0,e=a.length,f={};e>d;d++)b=Ext.util.CSS.getRule(a[d]),b&&(c=b.style,c&&Ext.apply(f,{"font-family":c.fontFamily,"font-weight":c.fontWeight,"line-height":c.lineHeight,"font-size":c.fontSize,fill:c.color}));return f},setAngle:function(a){var b,c,d=this;d.rendered?(b=d.surface,c=b.items.items[0],d.degrees=a,c.setAttributes({rotate:{degrees:a}},!0),(d.autoSize||d.viewBox)&&d.updateLayout()):d.degrees=a},setText:function(a){var b,c,d=this;d.rendered?(b=d.surface,c=b.items.items[0],d.text=a||"",b.remove(c),d.textConfig.type="text",d.textConfig.text=d.text,c=b.add(d.textConfig),c.setAttributes({rotate:{degrees:d.degrees}},!0),(d.autoSize||d.viewBox)&&d.updateLayout()):d.on({render:function(){d.setText(a)},single:!0})}}),Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(a,b){b=b||{};var c,d=this,e=b.type;return-1===Ext.Array.indexOf(d.supportedTypes,e)?!1:(c=Ext.getBody().createChild({tag:"form",method:"POST",action:b.url||d.defaultUrl,cls:d.formCls,children:[{tag:"input",type:"hidden",name:b.widthParam||d.widthParam,value:b.width||a.width},{tag:"input",type:"hidden",name:b.heightParam||d.heightParam,value:b.height||a.height},{tag:"input",type:"hidden",name:b.typeParam||d.typeParam,value:e},{tag:"input",type:"hidden",name:b.svgParam||d.svgParam}]}),c.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(a),c.dom.submit(),c.remove(),!0)}}),Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(a,b){var c,d=this.domRef.createElementNS("http://www.w3.org/2000/svg",a);if(b)for(c in b)d.setAttribute(c,String(b[c]));return d},createSpriteElement:function(a){var b=this.createSvgElement(a.type);return b.id=a.id,b.style&&(b.style.webkitTapHighlightColor="rgba(0,0,0,0)"),a.el=Ext.get(b),this.applyZIndex(a),a.matrix=new Ext.draw.Matrix,a.bbox={plain:0,transform:0},this.applyAttrs(a),this.applyTransformations(a),a.fireEvent("render",a),b},getBBoxText:function(a){var b,c,d,e,f,g,h={};if(a&&a.el){g=a.el.dom;try{return h=g.getBBox()}catch(i){}for(h={x:h.x,y:1/0,width:0,height:0},f=g.getNumberOfChars(),e=0;f>e;e++)b=g.getExtentOfChar(e),h.y=Math.min(b.y,h.y),c=b.y+b.height-h.y,h.height=Math.max(h.height,c),d=b.x+b.width-h.x,h.width=Math.max(h.width,d);return h}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(a,b){for(var c,d,e=new Ext.draw.Matrix,f=a.transformations,g=f.length,h=0;g>h;h++)c=f[h],d=c.type,"translate"==d?e.translate(c.x,c.y):"rotate"==d?e.rotate(c.degrees,c.x,c.y):"scale"==d&&e.scale(c.x,c.y,c.centerX,c.centerY);a.matrix=e,b||a.el.set({transform:e.toSvg()})},setSize:function(a,b){var c=this,d=c.el;a=+a||c.width,b=+b||c.height,c.width=a,c.height=b,d.setSize(a,b),d.set({width:a,height:b}),c.callParent([a,b])},getRegion:function(){var a=this.el.getXY(),b=this.bgRect.getXY(),c=Math.max,d=c(a[0],b[0]),e=c(a[1],b[1]);return{left:d,top:e,right:d+this.width,bottom:e+this.height}},onRemove:function(a){a.el&&(a.el.destroy(),delete a.el),this.callParent(arguments)},setViewBox:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[a,b,c,d].join(" ")))},render:function(a){var b,c,d,e,f,g,h=this;h.el||(b=h.width||0,c=h.height||0,d=h.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:b,height:c}),e=h.getDefs(),f=h.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(g=h.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),d.appendChild(e),Ext.isSafari3&&d.appendChild(g),d.appendChild(f),a.appendChild(d),h.el=Ext.get(d),h.bgRect=Ext.get(f),Ext.isSafari3&&(h.webkitRect=Ext.get(g),h.webkitRect.hide()),h.el.on({scope:h,mouseup:h.onMouseUp,mousedown:h.onMouseDown,mouseover:h.onMouseOver,mouseout:h.onMouseOut,mousemove:h.onMouseMove,mouseenter:h.onMouseEnter,mouseleave:h.onMouseLeave,click:h.onClick,dblclick:h.onDblClick})),h.renderAll()},onMouseEnter:function(a){this.el.parent().getRegion().contains(a.getPoint())&&this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.el.parent().getRegion().contains(a.getPoint())||this.fireEvent("mouseleave",a)},processEvent:function(a,b){{var c,d=b.getTarget();this.surface}this.fireEvent(a,b),"tspan"==d.nodeName&&d.parentNode&&(d=d.parentNode),c=this.items.get(d.id),c&&c.fireEvent(a,c,b)},tuneText:function(a,b){var c,d,e,f,g,h,i=(a.el.dom,[]);if(b.hasOwnProperty("text")&&(d=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join(""),a.tspans&&b.text==d?i=a.tspans||[]:(i=this.setText(a,b.text),a.tspans=i)),i.length){for(c=this.getBBoxText(a).height,h=a.el.dom.getAttribute("x"),e=0,f=i.length;f>e;e++)g=Ext.isFF3_0||Ext.isFF3_5?2:4,i[e].setAttribute("x",h),i[e].setAttribute("dy",e?1.2*c:c/g);a.dirty=!0}},setText:function(a,b){for(var c,d,e,f,g,h=this,i=a.el.dom,j=[];i.firstChild;)i.removeChild(i.firstChild);for(g=String(b).split("\n"),e=0,f=g.length;f>e;e++)d=g[e],d&&(c=h.createSvgElement("tspan"),c.appendChild(document.createTextNode(Ext.htmlDecode(d))),i.appendChild(c),j[e]=c);return j},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){this.el&&(a.el||this.createSpriteElement(a),a.zIndexDirty&&this.applyZIndex(a),a.dirty&&(this.applyAttrs(a),a.dirtyTransform&&this.applyTransformations(a)))},redraw:function(a){a.dirty=a.zIndexDirty=!0,this.renderItem(a)},applyAttrs:function(a){var b,c,d,e,f,g,h=this,i=a.el,j=a.group,k=a.attr,l=h.parsers,m=h.gradientsMap||{},n=Ext.isSafari&&!Ext.isStrict;if(j){for(b=[].concat(j),d=b.length,c=0;d>c;c++)j=b[c],h.getGroup(j).add(a);delete a.group}e=h.scrubAttrs(a)||{},a.bbox.plain=0,a.bbox.transform=0,"circle"==a.type||"ellipse"==a.type?(e.cx=e.cx||e.x,e.cy=e.cy||e.y):"rect"==a.type?e.rx=e.ry=e.r:"path"==a.type&&e.d&&(e.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(e.d))),a.dirtyPath=!1,e["clip-rect"]&&(h.setClip(a,e),delete e["clip-rect"]),"text"==a.type&&e.font&&a.dirtyFont&&i.set({style:"font: "+e.font}),"image"==a.type&&i.dom.setAttributeNS(h.xlink,"href",e.src),Ext.applyIf(e,h.minDefaults[a.type]),a.dirtyHidden&&(k.hidden?h.hidePrim(a):h.showPrim(a),a.dirtyHidden=!1);for(f in e)if(e.hasOwnProperty(f)&&null!=e[f]){if(n&&"color|stroke|fill".indexOf(f)>-1&&e[f]in m&&(e[f]=m[e[f]]),"hidden"==f&&"text"==a.type)continue;f in l?i.dom.setAttribute(f,l[f](e[f],a,h)):i.dom.setAttribute(f,e[f])}"text"==a.type&&h.tuneText(a,e),a.dirtyFont=!1,g=k.style,g&&i.setStyle(g),a.dirty=!1,Ext.isSafari3&&(h.webkitRect.show(),setTimeout(function(){h.webkitRect.hide()}))},setClip:function(a,b){var c,d,e=this,f=b["clip-rect"];f&&(a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode),c=e.createSvgElement("clipPath"),d=e.createSvgElement("rect"),c.id=Ext.id(null,"ext-clip-"),d.setAttribute("x",f.x),d.setAttribute("y",f.y),d.setAttribute("width",f.width),d.setAttribute("height",f.height),c.appendChild(d),e.getDefs().appendChild(c),a.el.dom.setAttribute("clip-path","url(#"+c.id+")"),a.clip=d)},applyZIndex:function(a){var b,c=this,d=c.items,e=d.indexOf(a),f=a.el;if(c.el.dom.childNodes[e+2]!==f.dom){if(e>0)do b=d.getAt(--e).el;while(!b&&e>0);f.insertAfter(b||c.bgRect)}a.zIndexDirty=!1},createItem:function(a){var b=new Ext.draw.Sprite(a);return b.surface=this,b},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var b,c,d,e,f,g=this,h=a.stops.length,i=a.vector,j=Ext.isSafari&&!Ext.isStrict;if(f=g.gradientsMap||{},j)f["url(#"+a.id+")"]=a.stops[0].color;else for("linear"==a.type?(b=g.createSvgElement("linearGradient"),b.setAttribute("x1",i[0]),b.setAttribute("y1",i[1]),b.setAttribute("x2",i[2]),b.setAttribute("y2",i[3])):(b=g.createSvgElement("radialGradient"),b.setAttribute("cx",a.centerX),b.setAttribute("cy",a.centerY),b.setAttribute("r",a.radius),Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)&&(b.setAttribute("fx",a.focalX),b.setAttribute("fy",a.focalY))),b.id=a.id,g.getDefs().appendChild(b),e=0;h>e;e++)c=a.stops[e],d=g.createSvgElement("stop"),d.setAttribute("offset",c.offset+"%"),d.setAttribute("stop-color",c.color),d.setAttribute("stop-opacity",c.opacity),b.appendChild(d);g.gradientsMap=f},hasCls:function(a,b){return b&&-1!=(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")},addCls:function(a,b){var c,d,e,f=a.el,g=[],h=f.getAttribute("class")||"";if(Ext.isArray(b)){for(c=0,d=b.length;d>c;c++)e=b[c],"string"==typeof e&&-1==(" "+h+" ").indexOf(" "+e+" ")&&g.push(e);g.length&&f.set({"class":" "+g.join(" ")})}else"string"!=typeof b||this.hasCls(a,b)||f.set({"class":h+" "+b})},removeCls:function(a,b){var c,d,e,f,g,h=this,i=a.el,j=i.getAttribute("class")||"";if(Ext.isArray(b)||(b=[b]),j){for(g=j.replace(h.trimRe," ").split(h.spacesRe),c=0,e=b.length;e>c;c++)f=b[c],"string"==typeof f&&(f=f.replace(h.trimRe,""),d=Ext.Array.indexOf(g,f),-1!=d&&Ext.Array.erase(g,d,1));i.set({"class":g.join(" ")})}},destroy:function(){var a=this;a.callParent(),a.el&&a.el.remove(),a._defs&&Ext.get(a._defs).destroy(),a.bgRect&&Ext.get(a.bgRect).destroy(),a.webkitRect&&Ext.get(a.webkitRect).destroy(),delete a.el}}),Ext.define("Ext.draw.engine.SvgExporter",function(){var a,b,c,d,e=/,/g,f=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,g=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,h=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,i=function(e){a=e,b=a.length,c=a.width,d=a.height},j={path:function(a){var b,c,d,f=a.attr,g=f.path,h="";if(Ext.isArray(g[0]))for(d=g.length,c=0;d>c;c++)h+=g[c].join(" ");else h=Ext.isArray(g)?g.join(" "):g.replace(e," ");return b=m({d:h,fill:f.fill||"none",stroke:f.stroke,"fill-opacity":f.opacity,"stroke-width":f["stroke-width"],"stroke-opacity":f["stroke-opacity"],"z-index":f.zIndex,transform:a.matrix.toSvg()}),"<path "+b+"/>"},text:function(a){var b,c=a.attr,d=f.exec(c.font),e=d&&d[1]||"12",g=d&&d[3]||"Arial",h=c.text,i=Ext.isFF3_0||Ext.isFF3_5?2:4,j="";return a.getBBox(),j+='<tspan x="'+(c.x||"")+'" dy="',j+=e/i+'">',j+=Ext.htmlEncode(h)+"</tspan>",b=m({x:c.x,y:c.y,"font-size":e,"font-family":g,"font-weight":c["font-weight"],"text-anchor":c["text-anchor"],fill:c.fill||"#000","fill-opacity":c.opacity,transform:a.matrix.toSvg()}),"<text "+b+">"+j+"</text>"},rect:function(a){var b=a.attr,c=m({x:b.x,y:b.y,rx:b.rx,ry:b.ry,width:b.width,height:b.height,fill:b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix&&a.matrix.toSvg()});return"<rect "+c+"/>"},circle:function(a){var b=a.attr,c=m({cx:b.x,cy:b.y,r:b.radius,fill:b.translation.fill||b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix.toSvg()});return"<circle "+c+" />"},image:function(a){var b=a.attr,c=m({x:b.x-(b.width/2>>0),y:b.y-(b.height/2>>0),width:b.width,height:b.height,"xlink:href":b.src,transform:a.matrix.toSvg()});return"<image "+c+" />"}},k=function(){var a='<?xml version="1.0" standalone="yes"?>';return a+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'},l=function(){var b,e,f,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z='<svg width="'+c+'px" height="'+d+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',A="";if(f=a.items.items,e=f.length,k=function(a){for(var b,c,d,e,f,g,h=a.childNodes,i=h.length,j=0,l="";i>j;j++){for(d=h[j],e=d.attributes,f=d.tagName,l+="<"+f,c=0,b=e.length;b>c;c++)g=e.item(c),l+=" "+g.name+'="'+g.value+'"';l+=">",d.childNodes.length>0&&(l+=k(d)),l+="</"+f+">"}return l},a.getDefs)A=k(a.getDefs());else for(n=a.gradientsColl,n&&(o=n.keys,p=n.items,q=0,r=o.length);r>q;q++){s=o[q],t=p[q],i=a.gradientsColl.getByKey(s),A+='<linearGradient id="'+s+'" x1="0" y1="0" x2="1" y2="1">';var B=i.colors.replace(g,"rgb($1|$2|$3)");for(B=B.replace(h,"rgba($1|$2|$3|$4)"),l=B.split(","),u=0,v=l.length;v>u;u++)m=l[u].split(" "),B=Ext.draw.Color.fromString(m[1].replace(/\|/g,",")),A+='<stop offset="'+m[0]+'" stop-color="'+B.toString()+'" stop-opacity="1"></stop>';A+="</linearGradient>"}for(z+="<defs>"+A+"</defs>",z+=j.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),w=new Array(e),u=0;e>u;u++)w[u]=u;for(w.sort(function(a,b){return x=f[a].attr.zIndex||0,y=f[b].attr.zIndex||0,x==y?a-b:x-y}),u=0;e>u;u++)b=f[w[u]],b.attr.hidden||(z+=j[b.type](b));return z+="</svg>"},m=function(a){var b,c="";for(b in a)a.hasOwnProperty(b)&&null!=a[b]&&(c+=b+'="'+a[b]+'" ');return c};return{singleton:!0,generate:function(a,b){return b=b||{},i(a),k()+l()}}}),Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.NonVmlPathRe,l=j.map,m=j.valRe,n=j.zoom,o=j.bitesRe,p=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw);
if(String(a).match(k))p=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(a).match(j.partialPathRe))return b=String(a).replace(o,function(a,b,c){var d=[],e="m"==b.toLowerCase(),f=l[b];return c.replace(m,function(a){e&&2===d.length&&(f+=d+l["m"==b?"l":"L"],d=[]),d.push(Math.round(a*n))}),f+d});for(c=p(a),b=[],f=0,g=c.length;g>f;f++){for(d=c[f],e=c[f][0].toLowerCase(),"z"==e&&(e="x"),h=1,i=d.length;i>h;h++)e+=Math.round(d[h]*j.zoom)+(h!=i-1?",":"");b.push(e)}return b.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(a,b){{var c,d=b.getTarget();this.surface}this.fireEvent(a,b),c=this.items.get(d.id),c&&c.fireEvent(a,c,b)},createSpriteElement:function(a){var b,c,d,e=this,f=a.attr,g=a.type,h=e.zoom,i=a.vml||(a.vml={}),j=(Math.round,e.createNode("image"===g?"image":"shape"));return j.coordsize=h+" "+h,j.coordorigin=f.coordorigin||"0 0",Ext.get(j).addCls(e.spriteCls),"text"==g&&(i.path=b=e.createNode("path"),b.textpathok=!0,i.textpath=d=e.createNode("textpath"),d.on=!0,j.appendChild(d),j.appendChild(b)),j.id=a.id,a.el=Ext.get(j),a.el.setStyle("zIndex",-e.zIndexShift),e.el.appendChild(j),"image"!==g&&(c=e.createNode("skew"),c.on=!0,j.appendChild(c),a.skew=c),a.matrix=new Ext.draw.Matrix,a.bbox={plain:null,transform:null},this.applyAttrs(a),this.applyTransformations(a),a.fireEvent("render",a),a.el},getBBoxText:function(a){var b=a.vml;return{x:b.X+(b.bbx||0)-b.W/2,y:b.Y-b.H/2,width:b.W,height:b.H}},applyAttrs:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=(a.vml,a.group),m=a.attr,n=a.el,o=n.dom;if(l){for(c=[].concat(l),e=c.length,d=0;e>d;d++)l=c[d],k.getGroup(l).add(a);delete a.group}f=k.scrubAttrs(a)||{},a.zIndexDirty&&k.setZIndex(a),Ext.applyIf(f,k.minDefaults[a.type]),"image"==a.type&&(Ext.apply(a.attr,{x:f.x,y:f.y,width:f.width,height:f.height}),n.setStyle({width:f.width+"px",height:f.height+"px"}),o.src=f.src),o.href&&(o.href=f.href),o.title&&(o.title=f.title),o.target&&(o.target=f.target),o.cursor&&(o.cursor=f.cursor),a.dirtyHidden&&(f.hidden?k.hidePrim(a):k.showPrim(a),a.dirtyHidden=!1),a.dirtyPath&&("circle"==a.type||"ellipse"==a.type?(g=f.x,h=f.y,i=f.rx||f.r||0,j=f.ry||f.r||0,o.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((g-i)*k.zoom),Math.round((h-j)*k.zoom),Math.round((g+i)*k.zoom),Math.round((h+j)*k.zoom),Math.round(g*k.zoom)),a.dirtyPath=!1):"text"!==a.type&&"image"!==a.type&&(a.attr.path=f.path=k.setPaths(a,f)||f.path,o.path=k.path2vml(f.path),a.dirtyPath=!1)),"clip-rect"in f&&k.setClip(a,f),"text"==a.type&&k.setTextAttributes(a,f),(f.opacity||f["stroke-opacity"]||f.fill)&&k.setFill(a,f),(f.stroke||f["stroke-opacity"]||f.fill)&&k.setStroke(a,f),b=m.style,b&&n.setStyle(b),a.dirty=!1},setZIndex:function(a){var b,c,d,e,f=this,g=a.attr.zIndex,h=f.zIndexShift;if(h>g){for(b=f.items.items,c=b.length,e=0;c>e;e++)(g=b[e].attr.zIndex)&&h>g&&(h=g);for(f.zIndexShift=h,e=0;c>e;e++)d=b[e],d.el&&d.el.setStyle("zIndex",d.attr.zIndex-h),d.zIndexDirty=!1}else a.el&&(a.el.setStyle("zIndex",g-h),a.zIndexDirty=!1)},setPaths:function(a,b){{var c=a.attr;a.attr["stroke-width"]||1}return a.bbox.plain=null,a.bbox.transform=null,"circle"==a.type?(c.rx=c.ry=b.r,Ext.draw.Draw.ellipsePath(a)):"ellipse"==a.type?(c.rx=b.rx,c.ry=b.ry,Ext.draw.Draw.ellipsePath(a)):"rect"==a.type?(c.rx=c.ry=b.r,Ext.draw.Draw.rectPath(a)):"path"==a.type&&c.path?Ext.draw.Draw.pathToAbsolute(c.path):!1},setFill:function(a,b){var c,d,e,f,g=this,h=a.el.dom,i=h.fill,j=!1;i||(i=h.fill=g.createNode("fill"),j=!0),Ext.isArray(b.fill)&&(b.fill=b.fill[0]),"none"==b.fill?i.on=!1:("number"==typeof b.opacity&&(i.opacity=b.opacity),"number"==typeof b["fill-opacity"]&&(i.opacity=b["fill-opacity"]),i.on=!0,"string"==typeof b.fill&&(d=b.fill.match(g.fillUrlRe),d?(d=d[1],"#"==d.charAt(0)&&(c=g.gradientsColl.getByKey(d.substring(1))),c?(e=b.rotation,f=-(c.angle+270+(e?e.degrees:0))%360,0===f&&(f=180),i.angle=f,i.type="gradient",i.method="sigma",i.colors?i.colors.value=c.colors:i.colors=c.colors):(i.src=d,i.type="tile")):(i.color=Ext.draw.Color.toHex(b.fill),i.src="",i.type="solid"))),j&&h.appendChild(i)},setStroke:function(a,b){var c,d,e=this,f=a.el.dom,g=a.strokeEl,h=!1;g||(g=a.strokeEl=e.createNode("stroke"),h=!0),Ext.isArray(b.stroke)&&(b.stroke=b.stroke[0]),b.stroke&&"none"!=b.stroke&&0!=b.stroke&&0!=b["stroke-width"]?(g.on=!0,b.stroke&&!b.stroke.match(e.fillUrlRe)&&(g.color=Ext.draw.Color.toHex(b.stroke)),g.dashstyle=b["stroke-dasharray"]?"dash":"solid",g.joinstyle=b["stroke-linejoin"],g.endcap=b["stroke-linecap"]||"round",g.miterlimit=b["stroke-miterlimit"]||8,c=.75*parseFloat(b["stroke-width"]||1),d=b["stroke-opacity"]||1,Ext.isNumber(c)&&1>c?(g.weight=1,g.opacity=d*c):(g.weight=c,g.opacity=d)):g.on=!1,h&&f.appendChild(g)},setClip:function(a,b){var c=this,d=(a.el,a.clipEl),e=String(b["clip-rect"]).split(c.separatorRe);d||(d=a.clipEl=c.el.insertFirst(Ext.getDoc().dom.createElement("div")),d.addCls(Ext.baseCSSPrefix+"vml-sprite")),4==e.length?(e[2]=+e[2]+ +e[0],e[3]=+e[3]+ +e[1],d.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",e[0],e[1],e[2],e[3])),d.setSize(c.el.width,c.el.height)):d.setStyle("clip","")},setTextAttributes:function(a,b){var c,d,e=this,f=a.vml,g=f.textpath.style,h=e.span.style,i=e.zoom,j=(Math.round,{fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"});if(a.dirtyFont){b.font&&(g.font=h.font=b.font),b["font-family"]&&(g.fontFamily='"'+b["font-family"].split(",")[0].replace(e.fontFamilyRe,"")+'"',h.fontFamily=b["font-family"]);for(c in j)d=b[j[c]],d&&(g[c]=h[c]=d);e.setText(a,b.text),f.textpath.string&&(e.span.innerHTML=String(f.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),f.W=e.span.offsetWidth,f.H=e.span.offsetHeight+2,"middle"==b["text-anchor"]?g["v-text-align"]="center":"end"==b["text-anchor"]?(g["v-text-align"]="right",f.bbx=-Math.round(f.W/2)):(g["v-text-align"]="left",f.bbx=Math.round(f.W/2))}f.X=b.x,f.Y=b.y,f.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(f.X*i),Math.round(f.Y*i),Math.round(f.X*i)+1),a.bbox.plain=null,a.bbox.transform=null,a.dirtyFont=!1},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,b){var c=this;a=a||c.width,b=b||c.height,c.width=a,c.height=b,c.el&&(void 0!=a&&c.el.setWidth(a),void 0!=b&&c.el.setHeight(b)),c.callParent(arguments)},applyViewBox:function(){var a,b,c,d=this,e=d.viewBox,f=d.width,g=d.height;if(d.callParent(),e&&(f||g))for(a=d.items.items,b=a.length,c=0;b>c;c++)d.applyTransformations(a[c])},onAdd:function(a){this.callParent(arguments),this.el&&this.renderItem(a)},onRemove:function(a){a.el&&(a.el.remove(),delete a.el),this.callParent(arguments)},render:function(a){var b,c=this,d=Ext.getDoc().dom;if(!c.createNode)try{d.namespaces.rvml||d.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),c.createNode=function(a){return d.createElement("<rvml:"+a+' class="rvml">')}}catch(e){c.createNode=function(a){return d.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}c.el||(b=d.createElement("div"),c.el=Ext.get(b),c.el.addCls(c.baseVmlCls),c.span=d.createElement("span"),Ext.get(c.span).addCls(c.measureSpanCls),b.appendChild(c.span),c.el.setSize(c.width||0,c.height||0),a.appendChild(b),c.el.on({scope:c,mouseup:c.onMouseUp,mousedown:c.onMouseDown,mouseover:c.onMouseOver,mouseout:c.onMouseOut,mousemove:c.onMouseMove,mouseenter:c.onMouseEnter,mouseleave:c.onMouseLeave,click:c.onClick,dblclick:c.onDblClick})),c.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=!0,this.renderItem(a)},renderItem:function(a){this.el&&(a.el||this.createSpriteElement(a),a.dirty&&(this.applyAttrs(a),a.dirtyTransform&&this.applyTransformations(a)))},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix;return d.rotate(-a,.5,.5),{x:d.x(b,c),y:d.y(b,c)}},transform:function(a,b){for(var c,d,e,f=this,g=f.getBBox(a,!0),h=(g.x+.5*g.width,g.y+.5*g.height,new Ext.draw.Matrix),i=a.transformations,j=i.length,k=0,l=0,m=1,n=1,o=a.el,p=o.dom,q=p.style,r=(f.zoom,a.skew),s=f.viewBoxShift;j>k;k++)c=i[k],d=c.type,"translate"==d?h.translate(c.x,c.y):"rotate"==d?(h.rotate(c.degrees,c.x,c.y),l+=c.degrees):"scale"==d&&(h.scale(c.x,c.y,c.centerX,c.centerY),m*=c.x,n*=c.y);a.matrix=h.clone(),b||(s&&h.prepend(s.scale,0,0,s.scale,s.dx*s.scale,s.dy*s.scale),"image"!=a.type&&r?(r.origin="0,0",r.matrix=h.toString(),e=h.offset(),e[0]>32767?e[0]=32767:e[0]<-32768&&(e[0]=-32768),e[1]>32767?e[1]=32767:e[1]<-32768&&(e[1]=-32768),r.offset=e):(q.filter=h.toFilter(),q.left=Math.min(h.x(g.x,g.y),h.x(g.x+g.width,g.y),h.x(g.x,g.y+g.height),h.x(g.x+g.width,g.y+g.height))+"px",q.top=Math.min(h.y(g.x,g.y),h.y(g.x+g.width,g.y),h.y(g.x,g.y+g.height),h.y(g.x+g.width,g.y+g.height))+"px"))},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){a&&a.el&&a.el.addCls(b)},removeCls:function(a,b){a&&a.el&&a.el.removeCls(b)},addGradient:function(a){var b,c,d,e,f,g,h=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),i=[],j=Ext.create("Ext.util.MixedCollection");for(j.addAll(a.stops),j.sortByKey("ASC",function(a,b){return a=parseInt(a,10),b=parseInt(b,10),a>b?1:b>a?-1:0}),b=j.keys,c=j.items,d=b.length,g=0;d>g;g++)e=b[g],f=c[g],i.push(e+"% "+f.color);h.add(a.id,{colors:i.join(","),angle:a.angle})},destroy:function(){var a=this;a.callParent(arguments),a.el&&a.el.remove(),delete a.el}}),Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent(),this.addEvents("success","failure")},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var a=this,b=Ext.apply({},a.flashParams),c=Ext.apply({},a.flashVars);a.callParent(),b=Ext.apply({allowScriptAccess:"always",bgcolor:a.backgroundColor,wmode:a.wmode},b),c=Ext.apply({allowedDomain:document.location.hostname},c),new swfobject.embedSWF(a.url,a.getSwfId(),a.swfWidth,a.swfHeight,a.flashVersion,a.expressInstall?a.statics.EXPRESS_INSTALL_URL:void 0,c,b,a.flashAttributes,Ext.bind(a.swfCallback,a))},swfCallback:function(a){var b=this;a.success?(b.swf=Ext.get(a.ref),b.onSuccess(),b.fireEvent("success",b)):(b.onFailure(),b.fireEvent("failure",b))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var a=this,b=a.swf;b&&(swfobject.removeSWF(a.getSwfId()),Ext.destroy(b),delete a.swf),a.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(a){a&&Ext.apply(this,a);var b=a.params;Ext.isString(b)&&(this.params=Ext.Object.fromQueryString(b))},run:Ext.emptyFn,onFailure:function(a){this.response=a,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(a){return this.response=a,a.responseText||a.responseXML?this.result=this.handleResponse(a):!0},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a,b=this,c=b.form;return{success:b.onSuccess,failure:b.onFailure,scope:b,timeout:1e3*this.timeout||1e3*c.timeout,upload:c.fileUpload?b.onSuccess:a}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(a){var b=this.processResponse(a),c=this.form;return b!==!0&&b.success&&b.data?(c.clearInvalid(),c.setValues(b.data),void c.afterAction(this,!0)):(this.failureType=Ext.form.action.Action.LOAD_FAILURE,void c.afterAction(this,!1))},handleResponse:function(a){var b,c,d=this.form.reader;return d?(b=d.read(a),c=b.records&&b.records[0]?b.records[0].data:null,{success:b.success,data:c}):Ext.decode(a.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var a=this,b=a.form;a.clientValidation===!1||b.isValid()?a.doSubmit():(a.failureType=Ext.form.action.Action.CLIENT_INVALID,b.afterAction(a,!1))},doSubmit:function(){var a,b=this,c=Ext.apply(b.createCallback(),{url:b.getUrl(),method:b.getMethod(),headers:b.headers}),d=b.form,e=b.jsonSubmit||d.jsonSubmit,f=e?"jsonData":"params";d.hasUpload()?(a=b.buildForm(),c.form=a.formEl,c.isUpload=!0):c[f]=b.getParams(e),Ext.Ajax.request(c),a&&b.cleanup(a)},cleanup:function(a){var b,c,d=a.formEl,e=a.uploadEls,f=a.uploadFields,g=f.length;for(b=0;g>b;++b)c=f[b],c.clearOnSubmit||c.restoreInput(e[b]);d&&Ext.removeNode(d)},getParams:function(a){var b=!1,c=this.callParent(),d=this.form.getValues(b,b,this.submitEmptyText!==b,a);return Ext.apply({},d,c)},buildForm:function(){var a,b,c,d,e,f,g,h,i,j=this,k=[],l=j.form,m=j.getParams(),n=[],o=[],p=l.getFields().items,q=p.length;for(c=0;q>c;++c)d=p[c],d.rendered&&d.isFileUpload()&&n.push(d);for(e in m)if(m.hasOwnProperty(e))if(f=m[e],Ext.isArray(f))for(h=f.length,g=0;h>g;g++)k.push(j.getFieldConfig(e,f[g]));else k.push(j.getFieldConfig(e,f));for(a={tag:"form",action:j.getUrl(),method:j.getMethod(),target:j.target||"_self",style:"display:none",cn:k},n.length&&(a.encoding=a.enctype="multipart/form-data"),b=Ext.DomHelper.append(Ext.getBody(),a),q=n.length,c=0;q>c;++c)i=n[c].extractFileInput(),b.appendChild(i),o.push(i);return{formEl:b,uploadFields:n,uploadEls:o}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(a){var b=this.form,c=!0,d=this.processResponse(a);d===!0||d.success||(d.errors&&b.markInvalid(d.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,c=!1),b.afterAction(this,c)},handleResponse:function(a){var b,c,d,e,f,g,h=this.form,i=h.errorReader;if(i){if(b=i.read(a),f=b.records,c=[],f)for(d=0,e=f.length;e>d;d++)c[d]=f[d].data;c.length<1&&(c=null),g={success:b.success,errors:c}}else try{g=Ext.decode(a.responseText)}catch(j){g={success:!1,errors:[]}}return g}}),Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(a,b){this.comp=a,this.initialConstrainTo=b.constrainTo,this.callParent([b])},onStart:function(){var a=this,b=a.comp;a.startPosition=b.getXY(),b.ghost&&!b.liveDrag&&(a.proxy=b.ghost(),a.dragTarget=a.proxy.header.el),(a.constrain||a.constrainDelegate)&&(a.constrainTo=a.calculateConstrainRegion()),b.beginDrag&&b.beginDrag()},calculateConstrainRegion:function(){var a,b,c,d=this,e=d.comp,f=d.initialConstrainTo,g=e.constraintInsets,h=d.proxy?d.proxy.el:e.el,i=!d.constrainDelegate&&h.shadow&&e.constrainShadow&&!h.shadowDisabled?h.shadow.getShadowSize():0;return f instanceof Ext.util.Region?f=f.copy():(a=Ext.fly(f),f=a.getViewRegion(),f.right=f.left+a.dom.clientWidth),g&&(g=Ext.isObject(g)?g:Ext.Element.parseBox(g),f.adjust(g.top,g.right,g.bottom,g.length)),i&&f.adjust(i[0],-i[1],-i[2],i[3]),d.constrainDelegate||(b=Ext.fly(d.dragTarget).getRegion(),c=h.getRegion(),f.adjust(b.top-c.top,b.right-c.right,b.bottom-c.bottom,b.left-c.left)),f},onDrag:function(){var a=this,b=a.proxy&&!a.comp.liveDrag?a.proxy:a.comp,c=a.getOffset(a.constrain||a.constrainDelegate?"dragTarget":null);b.setPagePosition(a.startPosition[0]+c[0],a.startPosition[1]+c[1])},onEnd:function(){var a=this.comp;a.isDestroyed||a.destroying||(this.proxy&&!a.liveDrag&&a.unghost(),a.endDrag&&a.endDrag())}}),Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,initComponent:function(){var a=this;a.frame=!1,a.callParent(),a.addEvents("resize","maximize","minimize","restore"),a.plain&&a.addClsWithUI("plain"),a.modal&&(a.ariaRole="dialog"),a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a,b=this;return a=b.callParent(),a.tabIndex=-1,a},getState:function(){var a,b=this,c=b.callParent()||{},d=!!b.maximized,e=b.ghostBox;return c.maximized=d,a=d?b.restorePos:e?[e.x,e.y]:b.getPosition(),Ext.apply(c,{size:d?b.restoreSize:b.getSize(),pos:a}),c},applyState:function(a){var b=this;a&&(b.maximized=a.maximized,b.maximized?(b.hasSavedRestore=!0,b.restoreSize=a.size,b.restorePos=a.pos):Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]}))},onRender:function(){var a=this;a.callParent(arguments),a.focusEl=a.el,a.maximizable&&a.header.on({scope:a,dblclick:a.toggleMaximize})},afterRender:function(){var a,b=this,c=b.header;b.callParent(),b.maximized&&(b.maximized=!1,b.maximize(),c&&c.removeCls(c.indicateDragCls)),b.closable?(a=b.getKeyMap(),a.on(27,b.onEsc,b)):a=b.keyMap,a&&b.hidden&&a.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()},onEsc:function(a,b){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(b.stopEvent(),this.close())},beforeDestroy:function(){var a=this;a.rendered&&(delete this.animateTarget,a.hide(),Ext.destroy(a.keyMap)),a.callParent()},addTools:function(){var a=this;a.callParent(),a.minimizable&&a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])}),a.maximizable&&(a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])}),a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var a,b,c=this,d=c.defaultButton||c.defaultFocus;return void 0!==d&&(Ext.isNumber(d)?a=c.query("button")[d]:Ext.isString(d)?(b=d,b.match(c.initialAlphaNum)&&(a=c.down("#"+b)),a||(a=c.down(b))):d.focus&&(a=d)),a||c.el},onFocus:function(){var a,b=this;Ext.FocusManager&&Ext.FocusManager.enabled||(a=b.getDefaultFocus())===b?b.callParent(arguments):a.focus()},onShow:function(){var a=this;a.callParent(arguments),a.expandOnShow&&a.expand(!1),a.syncMonitorWindowResize(),a.keyMap&&a.keyMap.enable()},doClose:function(){var a=this;a.hidden?(a.fireEvent("close",a),"destroy"==a.closeAction&&this.destroy()):a.hide(a.animateTarget,a.doClose,a)},afterHide:function(){var a=this;a.syncMonitorWindowResize(),a.keyMap&&a.keyMap.disable(),a.callParent(arguments)},onWindowResize:function(){var a,b=this;b.maximized?b.fitContainer():(a=b.getSizeModel(),(a.width.natural||a.height.natural)&&b.updateLayout(),b.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,b=a.header,c=a.tools;b&&a.maximizable&&(b.suspendLayouts(),c.maximize.hide(),c.restore.hide(),this.resumeHeaderLayout(!0)),a.resizer&&a.resizer.disable(),a.callParent(arguments)},afterExpand:function(){var a,b=this,c=b.header,d=b.tools;c&&(c.suspendLayouts(),b.maximized?(d.restore.show(),a=!0):b.maximizable&&(d.maximize.show(),a=!0),this.resumeHeaderLayout(a)),b.resizer&&b.resizer.enable(),b.callParent(arguments)},maximize:function(a){var b,c=this,d=c.header,e=c.tools;return c.maximized||(c.expand(!1),c.hasSavedRestore||(c.restoreSize=c.getSize(),c.restorePos=c.getPosition(!0)),d&&(d.suspendLayouts(),e.maximize&&(e.maximize.hide(),b=!0),e.restore&&(e.restore.show(),b=!0),c.collapseTool&&(c.collapseTool.hide(),b=!0),c.resumeHeaderLayout(b)),c.maximized=!0,c.el.disableShadow(),c.dd&&(c.dd.disable(),d&&d.removeCls(d.indicateDragCls)),c.resizer&&c.resizer.disable(),c.el.addCls(Ext.baseCSSPrefix+"window-maximized"),c.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),c.syncMonitorWindowResize(),c.fitContainer(a=a||c.animateTarget?{callback:function(){c.fireEvent("maximize",c)}}:null),a||c.fireEvent("maximize",c)),c},restore:function(a){var b,c=this,d=c.tools,e=c.header,f=c.restoreSize;return c.maximized&&(c.hasSavedRestore=null,c.removeCls(Ext.baseCSSPrefix+"window-maximized"),e&&(e.suspendLayouts(),d.restore&&(d.restore.hide(),b=!0),d.maximize&&(d.maximize.show(),b=!0),c.collapseTool&&(c.collapseTool.show(),b=!0),c.resumeHeaderLayout(b)),c.maximized=!1,f.x=c.restorePos[0],f.y=c.restorePos[1],c.setBox(f,a=a||c.animateTarget?{callback:function(){c.el.enableShadow(!0),c.fireEvent("restore",c)}}:null),c.restorePos=c.restoreSize=null,c.dd&&(c.dd.enable(),e&&e.addCls(e.indicateDragCls)),c.resizer&&c.resizer.enable(),c.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),c.syncMonitorWindowResize(),a||(c.el.enableShadow(!0),c.fireEvent("restore",c))),c},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,c=a.monitorResize||a.constrain||a.constrainHeader||a.maximized,d=a.hidden||a.destroying||a.isDestroyed;c&&!d?b||(Ext.EventManager.onWindowResize(a.onWindowResize,a,{delay:1}),a._monitoringResize=!0):b&&(Ext.EventManager.removeResizeListener(a.onWindowResize,a),a._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}}),Ext.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var a=this,b=a.padding;b&&(a.padding=void 0,a.extraMargins=Ext.Element.parseBox(b)),a.activeErrorsTpl||(a.activeErrorsTpl="title"==a.msgTarget?a.plaintextActiveErrorsTpl:a.htmlActiveErrorsTpl),a.addCls(Ext.plainTableCls),a.addCls(a.formItemCls),a.lastActiveError="",a.addEvents("errorchange"),a.enableBubble("errorchange")},trimLabelSeparator:function(){var a=this,b=a.labelSeparator,c=a.fieldLabel||"",d=c.substr(c.length-1);return d===b?c.slice(0,-1):c},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){a=a||"";var b=this,c=b.labelSeparator,d=b.labelEl;b.fieldLabel=a,b.rendered&&(Ext.isEmpty(a)&&b.hideEmptyLabel?d.parent().setDisplayed("none"):(c&&(a=b.trimLabelSeparator()+c),d.update(a),d.parent().setDisplayed("")),b.updateLayout())},getInsertionRenderData:function(a,b){for(var c,d,e=b.length;e--;)c=b[e],d=this[c],d&&"string"!=typeof d&&(d.isTemplate||(d=Ext.XTemplate.getTpl(this,c)),d=d.apply(a)),a[c]=d||"";return a},getLabelableRenderData:function(){var a,b,c=this,d="top"===c.labelAlign;return Ext.form.Labelable.errorIconWidth||(b=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"}),Ext.form.Labelable.errorIconWidth=b.getWidth()+b.getMargin("l"),b.remove()),a=Ext.copyTo({inFormLayout:c.ownerLayout&&"form"===c.ownerLayout.type,inputId:c.getInputId(),labelOnLeft:!d,hideLabel:!c.hasVisibleLabel(),fieldLabel:c.getFieldLabel(),labelCellStyle:c.getLabelCellStyle(),labelCellAttrs:c.getLabelCellAttrs(),labelCls:c.getLabelCls(),labelStyle:c.getLabelStyle(),bodyColspan:c.getBodyColspan(),externalError:!c.autoFitErrors,errorMsgCls:c.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},c,c.labelableRenderProps,!0),c.getInsertionRenderData(a,c.labelableInsertions),a},xhooks:{beforeRender:function(){var a=this;a.setFieldDefaults(a.getHierarchyState().fieldDefaults),a.ownerLayout&&a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")},onRender:function(){var a,b,c=this,d={};if(c.extraMargins){a=c.el.getMargin();for(b in a)a.hasOwnProperty(b)&&(d["margin-"+b]=a[b]+c.extraMargins[b]+"px");c.el.setStyle(d)}}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var a=this;return a.hasVisibleLabel()?a.labelWidth+a.labelPad:0},getBodyColspan:function(){var a,b=this;return a="side"!==b.msgTarget||b.autoFitErrors&&!b.hasActiveError()?2:1,"top"===b.labelAlign||b.hasVisibleLabel()||a++,a},getLabelCls:function(){var a=this.labelCls+" "+Ext.dom.Element.unselectableCls,b=this.labelClsExtra;return b?a+" "+b:a},getLabelCellStyle:function(){var a=this,b=a.hideLabel||!a.getFieldLabel()&&a.hideEmptyLabel;return b?"display:none;":""},getErrorMsgCls:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return a.errorMsgCls+(b||"top"!==a.labelAlign?"":" "+Ext.baseCSSPrefix+"lbl-top-err-icon")},getLabelCellAttrs:function(){var a=this,b=a.labelAlign,c="";return"top"!==b&&(c='valign="top" halign="'+b+'" width="'+(a.labelWidth+a.labelPad)+'"'),c+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var a=this,b=a.labelPad,c="";return"top"!==a.labelAlign&&(a.labelWidth&&(c="width:"+a.labelWidth+"px;"),b&&(c+="margin-right:"+b+"px;")),c+(a.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a),this.activeError=a[0],this.activeErrors=a,this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a,listCls:Ext.plainListCls}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;b!==a.lastActiveError&&(a.fireEvent("errorchange",a,b),a.lastActiveError=b),!a.rendered||a.isDestroyed||a.preventMark||(a.el[c?"addCls":"removeCls"](a.invalidCls),a.getActionEl().dom.setAttribute("aria-invalid",c),a.errorEl&&(a.errorEl.dom.innerHTML=b))},setFieldDefaults:function(a){var b;for(b in a)this.hasOwnProperty(b)||(this[b]=a[b])}}),Ext.define("Ext.form.field.Field",{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value),a.originalValue=a.lastValue=a.value,a.suspendCheckChange++,a.setValue(a.value),a.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){var b=this;return b.value=a,b.checkChange(),b},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.value(a,""))===String(Ext.value(b,""))},getSubmitData:function(){var a=this,b=null;return a.disabled||!a.submitValue||a.isFileUpload()||(b={},b[a.getName()]=""+a.getValue()),b},getModelData:function(){var a=this,b=null;return a.disabled||a.isFileUpload()||(b={},b[a.getName()]=a.getValue()),b},reset:function(){var a=this;a.beforeReset(),a.setValue(a.originalValue),a.clearInvalid(),delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;
a.isEqual(b,c)||a.isDestroyed||(a.lastValue=b,a.fireEvent("change",a,b,c),a.onChange(b,c))}},onChange:function(){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){var a=this;return!a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();b!==a.wasDirty&&(a.fireEvent("dirtychange",a,b),a.onDirtyChange(b),a.wasDirty=b)},onDirtyChange:Ext.emptyFn,getErrors:function(){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();return b!==a.wasValid&&(a.wasValid=b,a.fireEvent("validitychange",a,b)),b},batchChanges:function(a){try{this.suspendCheckChange++,a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.layout.component.field.Field",{extend:"Ext.layout.component.Auto",alias:"layout.field",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics","Ext.util.CSS"],type:"field",naturalSizingProp:"size",beginLayout:function(a){var b=this,c=b.owner;b.callParent(arguments),a.labelStrategy=b.getLabelStrategy(),a.errorStrategy=b.getErrorStrategy(),a.labelContext=a.getEl("labelEl"),a.bodyCellContext=a.getEl("bodyEl"),a.inputContext=a.getEl("inputEl"),a.errorContext=a.getEl("errorEl"),Ext.isIE7m&&Ext.isStrict&&a.inputContext&&(b.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+a.inputContext.getBorderInfo().width),a.labelStrategy.prepare(a,c),a.errorStrategy.prepare(a,c)},beginLayoutCycle:function(a){var b,c=this,d=c.owner,e=a.widthModel,f=d[c.naturalSizingProp];c.callParent(arguments),e.shrinkWrap?c.beginLayoutShrinkWrap(a):e.natural?("number"!=typeof f||d.inputWidth?c.beginLayoutShrinkWrap(a):c.beginLayoutFixed(a,b=6.5*f+20,"px"),a.setWidth(b,!1)):c.beginLayoutFixed(a,"100","%")},beginLayoutFixed:function(a,b,c){var d=a.target,e=d.inputEl,f=d.inputWidth;d.el.setStyle("table-layout","fixed"),d.bodyEl.setStyle("width",b+c),e&&(f?e.setStyle("width",f+"px"):e.setStyle("width",d.stretchInputElFixed?"100%":"")),a.isFixed=!0},beginLayoutShrinkWrap:function(a){var b=a.target,c=b.inputEl,d=b.inputWidth;c&&c.dom&&(c.dom.removeAttribute("size"),d?c.setStyle("width",d+"px"):c.setStyle("width","")),b.el.setStyle("table-layout","auto"),b.bodyEl.setStyle("width","")},finishedLayout:function(a){var b=this.owner;this.callParent(arguments),a.labelStrategy.finishedLayout(a,b),a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(a,b){return b},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var a=this,b=a.labelStrategies,c=a.owner.labelAlign;return b[c]||b.base},getErrorStrategy:function(){var a=this,b=a.owner,c=a.errorStrategies,d=b.msgTarget;return!b.preventMark&&Ext.isString(d)?c[d]||c.elementId:c.none},labelStrategies:function(){var a={prepare:function(a,b){var c=b.labelCls+"-"+b.labelAlign,d=b.labelEl;d&&d.addCls(c)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(a){var b=a.labelContext,c=b.props,d=c.height;return void 0===d&&(c.height=d=b.el.getHeight()),d}},a),left:a,right:a}}(),errorStrategies:function(){function a(a){var b,c=Ext.layout.component.field.Field.tip;c&&c.isVisible()&&(b=c.activeTarget,b&&b.el===a.getActionEl().dom&&c.toFront(!0))}var b,c=Ext.applyIf,d=Ext.emptyFn,e=Ext.baseCSSPrefix+"form-invalid-icon",f={prepare:function(a,b){var c=b.errorEl;c&&c.setDisplayed(!1)},getHeight:function(){return 0},onFocus:d,finishedLayout:d};return{none:f,side:c({prepare:function(a,c){var d,f=c.errorEl,g=c.sideErrorCell,h=c.hasActiveError();b||(b=(d=Ext.getBody().createChild({style:"position:absolute",cls:e})).getWidth(),d.remove()),f.addCls(e),f.set({"data-errorqtip":c.getActiveError()||""}),c.autoFitErrors?f.setDisplayed(h):f.setVisible(h),g&&c.autoFitErrors&&g.setDisplayed(h),c.bodyEl.dom.colSpan=c.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:a},f),under:c({prepare:function(a,b){var c=b.errorEl,d=Ext.baseCSSPrefix+"form-invalid-under";c.addCls(d),c.setDisplayed(b.hasActiveError())},getHeight:function(a){var b,c,d=0;return a.target.hasActiveError()&&(b=a.errorContext,c=b.props,d=c.height,void 0===d&&(c.height=d=b.el.getHeight())),d}},f),qtip:c({prepare:function(a,b){Ext.layout.component.field.Field.initTip(),b.getActionEl().dom.setAttribute("data-errorqtip",b.getActiveError()||"")},onFocus:a},f),title:c({prepare:function(a,b){b.getActionEl().dom.setAttribute("title",b.getActiveError()||"")}},f),elementId:c({prepare:function(a,b){var c=Ext.fly(b.msgTarget);c&&(c.dom.innerHTML=b.getActiveError()||"",c.setDisplayed(b.hasActiveError()))}},f)}}(),statics:{initTip:function(){var a=this.tip;a||(a=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"}),a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig))},destroyTip:function(){var a=this.tip;a&&(a.destroy(),delete this.tip)}}}),Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){var a=this;a.callParent(),a.subTplData=a.subTplData||{},a.addEvents("specialkey","writeablechange"),a.initLabelable(),a.initField(),a.name||(a.name=a.getInputId()),a.readOnly&&a.addCls(a.readOnlyCls),a.addCls(Ext.baseCSSPrefix+"form-type-"+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var a,b=this,c=b.inputType,d=b.getInputId();return a=Ext.apply({id:d,cmpId:b.id,name:b.name||d,disabled:b.disabled,readOnly:b.readOnly,value:b.getRawValue(),type:c,fieldCls:b.fieldCls,fieldStyle:b.getFieldStyle(),tabIdx:b.tabIndex,inputCls:b.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+("password"===c?"text":c)},b.subTplData),b.getInsertionRenderData(a,b.subTplInsertions),a},applyRenderSelectors:function(){var a=this;a.callParent(),a.addChildEls("inputEl"),a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;return a.hasOwnProperty("renderTpl")||(a.renderTpl=a.getTpl("labelableRenderTpl")),a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;c&&c.applyStyles(a),b.fieldStyle=a},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments),this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var a,b=this,c=null;return b.disabled||!b.submitValue||b.isFileUpload()||(a=b.getSubmitValue(),null!==a&&(c={},c[b.getName()]=a)),c},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,"");return a.rawValue=b,b},setRawValue:function(a){var b=this;return a=Ext.value(b.transformRawValue(a),""),b.rawValue=a,b.inputEl&&(b.inputEl.dom.value=a),a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));return a.value=b,b},setValue:function(a){var b=this;return b.setRawValue(b.valueToRaw(a)),b.mixins.field.setValue.call(b,a)},onBoxReady:function(){var a=this;a.callParent(),a.setReadOnlyOnBoxReady&&a.setReadOnly(a.readOnly)},onDisable:function(){var a=this,b=a.inputEl;a.callParent(),b&&(b.dom.disabled=!0,a.hasActiveError()&&(a.clearInvalid(),a.needsValidateOnEnable=!0))},onEnable:function(){var a=this,b=a.inputEl;a.callParent(),b&&(b.dom.disabled=!1,a.needsValidateOnEnable&&(delete a.needsValidateOnEnable,a.forceValidation=!0,a.isValid(),delete a.forceValidation))},setReadOnly:function(a){var b=this,c=b.inputEl;a=!!a,b[a?"addCls":"removeCls"](b.readOnlyCls),b.readOnly=a,c?c.dom.readOnly=a:b.rendering&&(b.setReadOnlyOnBoxReady=!0),b.fireEvent("writeablechange",b,a)},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))},initEvents:function(){var a,b,c,d,e=this,f=e.inputEl,g=e.checkChangeEvents,h=g.length;if(f)for(e.mon(f,Ext.EventManager.getKeyEvent(),e.fireKey,e),a=new Ext.util.DelayedTask(e.checkChange,e),e.onChangeEvent=b=function(){a.delay(e.checkChangeBuffer)},c=0;h>c;c++)d=g[c],"propertychange"===d&&(e.usesPropertychange=!0),e.mon(f,d,b);e.callParent()},doComponentLayout:function(){var a=this,b=a.inputEl,c=a.usesPropertychange,d="propertychange",e=a.onChangeEvent;c&&a.mun(b,d,e),a.callParent(arguments),c&&a.mon(b,d,e)},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(a){var b=this,c=b.getErrors(a),d=Ext.isEmpty(c);return b.preventMark||(d?b.clearInvalid():b.markInvalid(c)),d},markInvalid:function(a){var b,c=this,d=c.getActiveError();c.setActiveErrors(Ext.Array.from(a)),b=c.getActiveError(),d!==b&&c.setError(b)},clearInvalid:function(){var a=this,b=a.hasActiveError();delete a.needsValidateOnEnable,a.unsetActiveError(),b&&a.setError("")},setError:function(a){var b,c=this,d=c.msgTarget;c.rendered&&("title"==d||"qtip"==d?(c.rendered&&(b="qtip"==d?"data-errorqtip":"title"),c.getActionEl().dom.setAttribute(b,a||"")):c.updateLayout())},renderActiveError:function(){var a=this,b=a.hasActiveError();a.inputEl&&a.inputEl[b?"addCls":"removeCls"](a.invalidCls+"-field"),a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el}}),Ext.define("Ext.form.field.VTypes",function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(a){this.callParent(arguments),a.heightModel.shrinkWrap&&a.inputContext.el.setStyle("height","")},measureContentWidth:function(a){var b,c,d,e,f,g=this,h=g.owner,i=g.callParent(arguments),j=a.inputContext;return h.grow&&g.canGrowWidth&&!a.state.growHandled&&(b=h.inputEl,c=Ext.util.Format.htmlEncode(b.dom.value||(h.hasFocus?"":h.emptyText)||""),c+=h.growAppend,d=b.getTextWidth(c)+j.getFrameInfo().width,e=h.growMax,f=Math.min(e,i),e=Math.max(h.growMin,e,f),d=Ext.Number.constrain(d,h.growMin,e),j.setWidth(d),a.state.growHandled=!0,j.domBlock(g,"width"),i=0/0),i},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(a,b,c){var d=this,e=d.ieInputWidthAdjustment;e&&(d.adjustIEInputPadding(a),"px"===c&&(b-=e)),d.callParent(arguments)},adjustIEInputPadding:function(){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}}),Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){var a=this;a.allowOnlyWhitespace===!1&&(a.allowBlank=!1),a.callParent(),a.addEvents("autosize","keydown","keyup","keypress"),a.addStateEvents("change"),a.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var a=this,b=a.inputEl;a.callParent(),(a.selectOnFocus||a.emptyText)&&a.mon(b,"mousedown",a.onMouseDown,a),(a.maskRe||a.vtype&&a.disableKeyFilter!==!0&&(a.maskRe=Ext.form.field.VTypes[a.vtype+"Mask"]))&&a.mon(b,"keypress",a.filterKeys,a),a.enableKeyEvents&&a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(){this.callParent(arguments),this.autoSize()},getSubTplData:function(){var a,b=this,c=b.getRawValue(),d=b.emptyText&&c.length<1,e=b.maxLength;return b.enforceMaxLength?e===Number.MAX_VALUE&&(e=void 0):e=void 0,d&&(Ext.supports.Placeholder?a=b.emptyText:(c=b.emptyText,b.valueContainsPlaceholder=!0)),Ext.apply(b.callParent(),{maxLength:e,readOnly:b.readOnly,placeholder:a,value:c,fieldCls:b.fieldCls+(d&&(a||c)?" "+b.emptyCls:"")+(b.allowBlank?"":" "+b.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(){var a=this;a.hasFocus||a.mon(a.inputEl,"mouseup",Ext.emptyFn,a,{single:!0,preventDefault:!0})},processRawValue:function(a){var b,c=this,d=c.stripCharsRe;return d&&(b=a.replace(d,""),b!==a&&(c.setRawValue(b),a=b)),a},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var a,b=this,c=b.emptyText;b.rendered&&c&&(a=b.getRawValue().length<1&&!b.hasFocus,Ext.supports.Placeholder?b.inputEl.dom.placeholder=c:a&&(b.setRawValue(c),b.valueContainsPlaceholder=!0),a&&b.inputEl.addCls(b.emptyCls),b.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var a=this.inputEl;a&&(a.dom.unselectable="on")}},beforeFocus:function(){var a,b=this,c=b.inputEl,d=b.emptyText;b.callParent(arguments),d&&!Ext.supports.Placeholder&&c.dom.value===b.emptyText&&b.valueContainsPlaceholder?(b.setRawValue(""),a=!0,c.removeCls(b.emptyCls),b.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&b.inputEl.removeCls(b.emptyCls),(b.selectOnFocus||a)&&(Ext.isWebKit?(b.inputFocusTask||(b.inputFocusTask=new Ext.util.DelayedTask(b.focusInput,b)),b.inputFocusTask.delay(1)):c.dom.select())},focusInput:function(){var a=this.inputEl;a&&(a=a.dom,a&&a.select())},onFocus:function(){var a=this;a.callParent(arguments),a.emptyText&&a.autoSize()},postBlur:function(){this.callParent(arguments),this.applyEmptyText()},filterKeys:function(a){if(!a.ctrlKey||a.altKey){var b=a.getKey(),c=String.fromCharCode(a.getCharCode());(Ext.isGecko||Ext.isOpera)&&(a.isNavKeyPress()||b===a.BACKSPACE||b===a.DELETE&&-1===a.button)||(Ext.isGecko||Ext.isOpera||!a.isSpecialKey()||c)&&(this.maskRe.test(c)||a.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments),a.hasOwnProperty("value")&&this.setValue(a.value)},getRawValue:function(){var a=this,b=a.callParent();return b===a.emptyText&&a.valueContainsPlaceholder&&(b=""),b},setValue:function(a){var b=this,c=b.inputEl;return c&&b.emptyText&&!Ext.isEmpty(a)&&(c.removeCls(b.emptyCls),b.valueContainsPlaceholder=!1),b.callParent(arguments),b.applyEmptyText(),b},getErrors:function(a){var b,c,d,e=this,f=e.callParent(arguments),g=e.validator,h=e.vtype,i=Ext.form.field.VTypes,j=e.regex,k=Ext.String.format;if(a=a||e.processRawValue(e.getRawValue()),Ext.isFunction(g)&&(b=g.call(e,a),b!==!0&&f.push(b)),c=e.allowOnlyWhitespace?a:Ext.String.trim(a),c.length<1||a===e.emptyText&&e.valueContainsPlaceholder){if(e.allowBlank||f.push(e.blankText),!e.validateBlank)return f;d=!0}return!d&&a.length<e.minLength&&f.push(k(e.minLengthText,e.minLength)),a.length>e.maxLength&&f.push(k(e.maxLengthText,e.maxLength)),h&&(i[h](a,e)||f.push(e.vtypeText||i[h+"Text"])),j&&!j.test(a)&&f.push(e.regexText||e.invalidText),f},selectText:function(a,b){var c,d,e=this,f=e.getRawValue(),g=!0,h=e.inputEl.dom;f.length>0&&(a=a===c?0:a,b=b===c?f.length:b,h.setSelectionRange?h.setSelectionRange(a,b):h.createTextRange&&(d=h.createTextRange(),d.moveStart("character",a),d.moveEnd("character",b-f.length),d.select()),g=Ext.isGecko||Ext.isOpera),g&&e.focus()},autoSize:function(){var a=this;a.grow&&a.rendered&&(a.autoSizing=!0,a.updateLayout())},afterComponentLayout:function(){var a,b=this;b.callParent(arguments),b.autoSizing&&(a=b.inputEl.getWidth(),a!==b.lastInputWidth&&(b.fireEvent("autosize",b,a),b.lastInputWidth=a,delete b.autoSizing))},onDestroy:function(){var a=this;a.callParent(),a.inputFocusTask&&(a.inputFocusTask.cancel(),a.inputFocusTask=null)}}),Ext.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments),a.target.inputEl.setStyle("height","")},measureContentHeight:function(a){var b,c,d,e,f,g=this,h=g.owner,i=g.callParent(arguments);return h.grow&&!a.state.growHandled&&(b=a.inputContext,c=h.inputEl,e=c.getWidth(!0),d=Ext.util.Format.htmlEncode(c.dom.value)||"&#160;",d+=h.growAppend,d=d.replace(/\n/g,"<br/>"),f=Ext.util.TextMetrics.measure(c,d,e).height+b.getBorderInfo().height+b.getPaddingInfo().height,f=Ext.Number.constrain(f,h.growMin,h.growMax),b.setHeight(f),a.state.growHandled=!0,b.domBlock(g,"height"),i=0/0),i}}),Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var a=this,b=a.getFieldStyle(),c=a.callParent();return a.grow&&a.preventScrollbars&&(c.fieldStyle=(b||"")+";overflow:hidden;height:"+a.growMin+"px"),Ext.applyIf(c,{cols:a.cols,rows:a.rows}),c},afterRender:function(){var a=this;a.callParent(arguments),a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,a.needsMaxCheck&&a.inputEl.on("paste",a.onPaste,a)},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){return a=this.stripReturns(a),this.callParent([a])},stripReturns:function(a){return a&&"string"==typeof a&&(a=a.replace(this.returnRe,"")),a},onPaste:function(){var a=this;a.pasteTask||(a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)),a.pasteTask.delay(1)},pasteCheck:function(){var a=this,b=a.getValue(),c=a.maxLength;b.length>c&&(b=b.substr(0,c),a.setValue(b))},fireKey:function(a){var b,c=this,d=a.getKey();a.isSpecialKey()&&(c.enterIsSpecial||d!==a.ENTER||a.hasModifier())&&c.fireEvent("specialkey",c,a),!c.needsMaxCheck||d===a.BACKSPACE||d===a.DELETE||a.isNavKeyPress()||c.isCutCopyPasteSelectAll(a,d)||(b=c.getValue(),b.length>=c.maxLength&&a.stopEvent())},isCutCopyPasteSelectAll:function(a,b){return a.ctrlKey?b===a.A||b===a.C||b===a.V||b===a.X:!1},autoSize:function(){var a,b=this;b.grow&&b.rendered&&(b.updateLayout(),a=b.inputEl.getHeight(),a!==b.lastInputHeight&&(b.fireEvent("autosize",b,a),b.lastInputHeight=a))},initAria:function(){this.callParent(arguments),this.getActionEl().dom.setAttribute("aria-multiline",!0)},beforeDestroy:function(){var a=this.pasteTask;a&&(a.cancel(),this.pasteTask=null),this.callParent()}}),Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(a){var b=this;return a=Ext.value(a,""),b.rawValue=a,b.rendered&&(b.inputEl.dom.innerHTML=b.getDisplayValue(),b.updateLayout()),a},getDisplayValue:function(){var a,b=this,c=this.getRawValue();return a=b.renderer?b.renderer.call(b.scope||b,c,b):b.htmlEncode?Ext.util.Format.htmlEncode(c):c},getSubTplData:function(){var a=this.callParent(arguments);return a.value=this.getDisplayValue(),a}}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(a){var b,c,d,e,f,g=this,h=0;for(g.callParent(arguments),d=a.childItems,f=d.length,e=0;f>e&&(c=d[e],b=c.target.anchorSpec,!b||(c.widthModel.calculated&&b.right&&(h|=1),c.heightModel.calculated&&b.bottom&&(h|=2),3!=h));++e);a.anchorDimensions=h},calculateItems:function(a,b){var c,d,e,f,g,h,i=this,j=a.childItems,k=j.length,l=b.gotHeight,m=b.gotWidth,n=b.height,o=b.width,p=(m?1:0)|(l?2:0),q=a.anchorDimensions;if(!q)return!0;for(g=0;k>g;g++)d=j[g],e=d.getMarginInfo(),c=d.target.anchorSpec,m&&d.widthModel.calculated&&(h=c.right(o)-e.width,h=i.adjustWidthAnchor(h,d),d.setWidth(h)),l&&d.heightModel.calculated&&(f=c.bottom(n)-e.height,f=i.adjustHeightAnchor(f,d),d.setHeight(f));return(p&q)===q},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&"none"!=a){var d,e=this.anchorFactory;if(this.parseAnchorRE.test(a))return e.standard(c-b);if(-1!=a.indexOf("%"))return e.ratio(.01*parseFloat(a.replace("%","")));if(d=parseInt(a,10),!isNaN(d))return e.offset(d)}return null},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a},configureItem:function(a){var b,c,d,e=this,f=e.owner,g=a.anchor;e.callParent(arguments),a.anchor||!a.items||Ext.isNumber(a.width)||Ext.isIE6&&Ext.isStrict||(a.anchor=g=e.defaultAnchor),f.anchorSize?"number"==typeof f.anchorSize?c=f.anchorSize:(c=f.anchorSize.width,d=f.anchorSize.height):(c=f.initialConfig.width,d=f.initialConfig.height),g&&(b=g.split(" "),a.anchorSpec={right:e.parseAnchor(b[0],a.initialConfig.width,c),bottom:e.parseAnchor(b[1],a.initialConfig.height,d)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){var b,c=a.anchorSpec,d="$",e=this.sizePolicy;return c&&(b=this.owner.getSizeModel(),c.right&&!b.width.shrinkWrap&&(e=e.r),c.bottom&&!b.height.shrinkWrap&&(d="b")),e[d]}}),Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a){var b,c,d=this;(d.cfg.prompt||d.cfg.multiline)&&(c=d.cfg.multiline?d.textArea:d.textField,b=c.getValue(),c.reset()),d.hide(),d.userCallback(a.itemId,b,d.cfg)},hide:function(){var a=this,b=a.cfg.cls;a.dd.endDrag(),a.progressBar.reset(),b&&a.removeCls(b),a.callParent(arguments)},constructor:function(){var a=this;a.callParent(arguments),a.minWidth=a.defaultMinWidth=a.minWidth||a.defaultMinWidth,a.maxWidth=a.defaultMaxWidth=a.maxWidth||a.defaultMaxWidth,a.minHeight=a.defaultMinHeight=a.minHeight||a.defaultMinHeight,a.maxHeight=a.defaultMaxHeight=a.maxHeight||a.defaultMaxHeight},initComponent:function(){var a,b,c=this,d=c.id;for(c.title="&#160;",c.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[c.iconComponent=new Ext.Component({width:c.iconWidth,height:c.iconHeight}),c.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[c.msg=new Ext.form.field.Display({id:d+"-displayfield",cls:c.baseCls+"-text"}),c.textField=new Ext.form.field.Text({id:d+"-textfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:c.onPromptKey,scope:c}}),c.textArea=new Ext.form.field.TextArea({id:d+"-textarea",anchor:"100%",height:75})]})]}),c.progressBar=new Ext.ProgressBar({id:d+"-progressbar",margins:"0 10 10 10"}),c.items=[c.topContainer,c.progressBar],c.msgButtons=[],a=0;4>a;a++)b=c.makeButton(a),c.msgButtons[b.itemId]=b,c.msgButtons.push(b);c.bottomTb=new Ext.toolbar.Toolbar({id:d+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[c.msgButtons[0],c.msgButtons[1],c.msgButtons[2],c.msgButtons[3]]}),c.dockedItems=[c.bottomTb],c.on("close",c.onClose,c),c.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel",this.btnCallback(a),delete a.itemId},onPromptKey:function(a,b){var c=this;(b.keyCode===b.RETURN||10===b.keyCode)&&(c.msgButtons.ok.isVisible()?c.msgButtons.ok.handler.call(c,c.msgButtons.ok):c.msgButtons.yes.isVisible()&&c.msgButtons.yes.handler.call(c,c.msgButtons.yes))},reconfigure:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=0,m=!0,n=k.buttonText,o=k.resizer;for(k.updateButtonText(),a=a||{},k.cfg=a,a.width&&(c=a.width),a.height&&(d=a.height),k.minWidth=a.minWidth||k.defaultMinWidth,k.maxWidth=a.maxWidth||k.defaultMaxWidth,k.minHeight=a.minHeight||k.defaultMinHeight,k.maxHeight=a.maxHeight||k.defaultMaxHeight,o&&(b=o.resizeTracker,o.minWidth=b.minWidth=k.minWidth,o.maxWidth=b.maxWidth=k.maxWidth,o.minHeight=b.minHeight=k.minHeight,o.maxHeight=b.maxHeight=k.maxHeight),delete k.defaultFocus,a.defaultFocus&&(k.defaultFocus=a.defaultFocus),k.animateTarget=a.animateTarget||void 0,k.modal=a.modal!==!1,k.setTitle(a.title||""),k.setIconCls(a.iconCls||""),Ext.isObject(a.buttons)?(k.buttonText=a.buttons,l=0):(k.buttonText=a.buttonText||k.buttonText,l=Ext.isNumber(a.buttons)?a.buttons:0),l|=k.updateButtonText(),k.buttonText=n,Ext.suspendLayouts(),delete k.width,delete k.height,(c||d)&&(c&&k.setWidth(c),d&&k.setHeight(d)),k.hidden=!1,k.rendered||k.render(Ext.getBody()),k.closable=a.closable!==!1&&!a.wait,k.header.child("[type=close]").setVisible(k.closable),a.title||k.closable||a.iconCls?k.header.show():k.header.hide(),k.liveDrag=!a.proxyDrag,k.userCallback=Ext.Function.bind(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global),k.setIcon(a.icon,a.iconWidth,a.iconHeight),h=k.msg,a.msg?(h.setValue(a.msg),h.show()):h.hide(),f=k.textArea,g=k.textField,a.prompt||a.multiline?(k.multiline=a.multiline,a.multiline?(f.setValue(a.value),f.setHeight(a.defaultTextHeight||k.defaultTextHeight),f.show(),g.hide(),k.defaultFocus=f):(g.setValue(a.value),f.hide(),g.show(),k.defaultFocus=g)):(f.hide(),g.hide()),i=k.progressBar,a.progress||a.wait?(i.show(),k.updateProgress(0,a.progressText),a.wait===!0&&i.wait(a.waitConfig)):i.hide(),j=k.msgButtons,e=0;4>e;e++)l&Math.pow(2,e)?(k.defaultFocus||(k.defaultFocus=j[e]),j[e].show(),m=!1):j[e].hide();m?k.bottomTb.hide():k.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var a,b,c=this,d=c.buttonText,e=0;for(a in d)d.hasOwnProperty(a)&&(b=c.msgButtons[a],b&&(c.cfg&&c.cfg.buttonText&&(e|=Math.pow(2,Ext.Array.indexOf(c.buttonIds,a))),b.text!=d[a]&&b.setText(d[a])));return e},show:function(a){var b,c=this;return Ext.AbstractComponent.layoutSuspendCount?(Ext.on({resumelayouts:function(){c.show(a)},single:!0}),c):(c.reconfigure(a),a.cls&&c.addCls(a.cls),b=c.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),c.preventFocusOnActivate=!b.length,c.hidden=!0,c.callParent(),c)
},onShow:function(){this.callParent(arguments),this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(a,b,c){var d=this,e=d.iconComponent,f=d.messageIconCls;return f&&e.removeCls(f),a?(e.show(),e.setSize(b||d.iconWidth,c||d.iconHeight),e.addCls(Ext.baseCSSPrefix+"dlg-icon"),e.addCls(d.messageIconCls=a)):(e.removeCls(Ext.baseCSSPrefix+"dlg-icon"),e.hide()),d},updateProgress:function(a,b,c){return this.progressBar.updateProgress(a,b),c&&this.updateText(c),this},onEsc:function(){this.closable!==!1&&this.callParent(arguments)},confirm:function(a,b,c,d){return Ext.isString(a)&&(a={title:a,icon:this.QUESTION,msg:b,buttons:this.YESNO,callback:c,scope:d}),this.show(a)},prompt:function(a,b,c,d,e,f){return Ext.isString(a)&&(a={prompt:!0,title:a,minWidth:this.minPromptWidth,msg:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:f}),this.show(a)},wait:function(a,b,c){return Ext.isString(a)&&(a={title:b,msg:a,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:c}),this.show(a)},alert:function(a,b,c,d){return Ext.isString(a)&&(a={title:a,msg:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth}),this.show(a)},progress:function(a,b,c){return Ext.isString(a)&&(a={title:a,msg:b,progress:!0,progressText:c}),this.show(a)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.Errors","Ext.util.DelayedTask"],constructor:function(a,b){var c,d=this;d.owner=a,d.checkValidityTask=new Ext.util.DelayedTask(d.checkValidity,d),d.checkDirtyTask=new Ext.util.DelayedTask(d.checkDirty,d),d.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:d,addHandler:d.onFieldAdd,removeHandler:d.onFieldRemove}),d.monitor.bind(a),Ext.apply(d,b),Ext.isString(d.paramOrder)&&(d.paramOrder=d.paramOrder.split(/[\s,|]/)),c=d.reader,c&&!c.isReader&&("string"==typeof c&&(c={type:c}),d.reader=Ext.createByAlias("reader."+c.type,c)),c=d.errorReader,c&&!c.isReader&&("string"==typeof c&&(c={type:c}),d.errorReader=Ext.createByAlias("reader."+c.type,c)),d.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),d.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var a=this,b=a.monitor;b&&(b.unbind(),a.monitor=null),a.clearListeners(),a.checkValidityTask.cancel(),a.checkDirtyTask.cancel()},onFieldAdd:function(a){var b=this;b.mon(a,"validitychange",b.checkValidityDelay,b),b.mon(a,"dirtychange",b.checkDirtyDelay,b),b.initialized&&b.checkValidityDelay()},onFieldRemove:function(a){var b=this;b.mun(a,"validitychange",b.checkValidityDelay,b),b.mun(a,"dirtychange",b.checkDirtyDelay,b),b.initialized&&b.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;return a&&0!==a.getCount()||(a=this._boundItems=new Ext.util.MixedCollection,a.addAll(this.owner.query("[formBind]"))),a},hasInvalidField:function(){return!!this.getFields().findBy(function(a){var b,c=a.preventMark;return a.preventMark=!0,b=a.isValid(),a.preventMark=c,!b})},isValid:function(){var a,b=this;return Ext.suspendLayouts(),a=b.getFields().filterBy(function(a){return!a.validate()}),Ext.resumeLayouts(!0),a.length<1},checkValidity:function(){var a=this,b=!a.hasInvalidField();b!==a.wasValid&&(a.onValidityChange(b),a.fireEvent("validitychange",a,b),a.wasValid=b)},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(a){var b,c,d,e,f=this.getBoundItems();if(f)for(b=f.items,d=b.length,c=0;d>c;c++)e=b[c],e.disabled===a&&e.setDisabled(!a)},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();a!==this.wasDirty&&(this.fireEvent("dirtychange",this,a),this.wasDirty=a)},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){return Ext.isString(a)&&(a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this}))),this.fireEvent("beforeaction",this,a)!==!1&&(this.beforeAction(a),Ext.defer(a.run,100,a)),this},submit:function(a){a=a||{};var b,c=this;return b=a.standardSubmit||c.standardSubmit?"standardsubmit":c.api?"directsubmit":"submit",c.doAction(b,a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(a){if(a=a||this._record,!a)return this;for(var b,c=a.fields.items,d=this.getFieldValues(),e={},f=0,g=c.length;g>f;++f)b=c[f].name,d.hasOwnProperty(b)&&(e[b]=d[b]);return a.beginEdit(),a.set(e),a.endEdit(),this},loadRecord:function(a){return this._record=a,this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(a){var b,c,d,e=this,f=a.waitMsg,g=Ext.baseCSSPrefix+"mask-loading",h=e.getFields().items,i=h.length;for(b=0;i>b;b++)c=h[b],c.isFormField&&c.syncValue&&c.syncValue();f&&(d=e.waitMsgTarget,d===!0?e.owner.el.mask(f,g):d?(d=e.waitMsgTarget=Ext.get(d),d.mask(f,g)):(e.floatingAncestor=e.owner.up("[floating]"),e.floatingAncestor&&(e.savePreventFocusOnActivate=e.floatingAncestor.preventFocusOnActivate,e.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(f,a.waitTitle||e.waitTitle)))},afterAction:function(a,b){var c=this;if(a.waitMsg){var d=Ext.MessageBox,e=c.waitMsgTarget;e===!0?c.owner.el.unmask():e?e.unmask():d.hide()}c.floatingAncestor&&(c.floatingAncestor.preventFocusOnActivate=c.savePreventFocusOnActivate),b?(a.reset&&c.reset(),Ext.callback(a.success,a.scope||a,[c,a]),c.fireEvent("actioncomplete",c,a)):(Ext.callback(a.failure,a.scope||a,[c,a]),c.fireEvent("actionfailed",c,a))},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(a){function b(a,b){var c=h.findField(a);c&&c.markInvalid(b)}var c,d,e,f,g,h=this;if(Ext.isArray(a))for(d=a.length,c=0;d>c;c++)e=a[c],b(e.id,e.msg);else if(a instanceof Ext.data.Errors)for(d=a.items.length,c=0;d>c;c++)e=a.items[c],b(e.field,e.message);else for(g in a)a.hasOwnProperty(g)&&(f=a[g],b(g,f,a));return this},setValues:function(a){function b(a,b){var c=f.findField(a);c&&(c.setValue(b),f.trackResetOnLoad&&c.resetOriginalValue())}var c,d,e,f=this;if(Ext.suspendLayouts(),Ext.isArray(a))for(d=a.length,c=0;d>c;c++)e=a[c],b(e.id,e.value);else Ext.iterate(a,b);return Ext.resumeLayouts(!0),this},getValues:function(a,b,c,d){var e,f,g,h,i,j,k={},l=this.getFields().items,m=l.length,n=Ext.isArray;for(e=0;m>e;e++)if(f=l[e],(!b||f.isDirty())&&(g=f[d?"getModelData":"getSubmitData"](c),Ext.isObject(g)))for(j in g)g.hasOwnProperty(j)&&(h=g[j],c&&""===h&&(h=f.emptyText||""),k.hasOwnProperty(j)?(i=k[j],n(i)||(i=k[j]=[i]),n(h)?k[j]=i.concat(h):i.push(h)):k[j]=h);return a&&(k=Ext.Object.toQueryString(k)),k},getFieldValues:function(a){return this.getValues(!1,a,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var a,b=this,c=b.getFields().items,d=c.length;for(a=0;d>a;a++)c[a].clearInvalid();return Ext.resumeLayouts(!0),b},reset:function(a){Ext.suspendLayouts();var b,c=this,d=c.getFields().items,e=d.length;for(b=0;e>b;b++)d[b].reset();return Ext.resumeLayouts(!0),a===!0&&delete c._record,c},applyToFields:function(a){var b,c=this.getFields().items,d=c.length;for(b=0;d>b;b++)Ext.apply(c[b],a);return this},applyIfToFields:function(a){var b,c=this.getFields().items,d=c.length;for(b=0;d>b;b++)Ext.applyIf(c[b],a);return this}}),Ext.define("Ext.form.FieldAncestor",{requires:["Ext.container.Monitor"],xhooks:{initHierarchyState:function(a){this.fieldDefaults&&(a.fieldDefaults=a.fieldDefaults?Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults):this.fieldDefaults)}},initFieldAncestor:function(){var a=this;a.addEvents("fieldvaliditychange","fielderrorchange"),a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove}),a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(a){var b=this;b.mon(a,"errorchange",b.handleFieldErrorChange,b),b.mon(a,"validitychange",b.handleFieldValidityChange,b)},onChildFieldRemove:function(a){var b=this;b.mun(a,"errorchange",b.handleFieldErrorChange,b),b.mun(a,"validitychange",b.handleFieldValidityChange,b)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(a,b){var c=this;a!==c&&(c.fireEvent("fieldvaliditychange",c,a,b),c.onFieldValidityChange(a,b))},handleFieldErrorChange:function(a,b){var c=this;a!==c&&(c.fireEvent("fielderrorchange",c,a,b),c.onFieldErrorChange(a,b))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind(),this.callParent()}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.field.Field",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(a){var b=this.owner;this.callParent(arguments),a.hasRawContent=!0,b.bodyEl.setStyle("height",""),b.containerEl.setStyle("height",""),a.containerElContext=a.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):0/0},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):0/0},publishInnerWidth:function(a){var b=a.bodyCellContext,c=b.el.getWidth();b.setWidth(c,!1),a.containerElContext.setWidth(c,!1)},publishInnerHeight:function(a,b){var c=a.bodyCellContext,d=a.containerElContext;b-=this.measureLabelErrorHeight(a),c.setHeight(b),d.setHeight(b)}}),Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){var a=this;a.initLabelable(),a.initFieldAncestor(),a.callParent(),a.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(a){var b=this;Ext.isGecko&&"absolute"===b.layout.type&&!b.hideLabel&&"top"!==b.labelAlign&&(a.x+=b.labelWidth+b.labelPad),b.callParent(arguments),b.combineLabels&&(a.oldHideLabel=a.hideLabel,a.hideLabel=!0),b.updateLabel()},onRemove:function(a,b){var c=this;c.callParent(arguments),b||(c.combineLabels&&(a.hideLabel=a.oldHideLabel),c.updateLabel())},initRenderTpl:function(){var a=this;return a.hasOwnProperty("renderTpl")||(a.renderTpl=a.getTpl("labelableRenderTpl")),a.callParent()},initRenderData:function(){var a=this,b=a.callParent();return b.containerElCls=a.containerElCls,Ext.applyIf(b,a.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";return!a&&this.combineLabels&&(a=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector)),a},getSubTplData:function(){var a=this.initRenderData();return Ext.apply(a,this.subTplData),a},getSubTplMarkup:function(){var a,b=this,c=b.getTpl("fieldSubTpl");return c.renderContent||b.setupRenderTpl(c),a=c.apply(b.getSubTplData())},updateLabel:function(){var a=this,b=a.labelEl;b&&a.setFieldLabel(a.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var a=this,b=a.getActiveError(),c=Ext.Array.filter(a.query("[isFormField]"),function(a){return a.hasActiveError()}),d=a.getCombinedErrors(c);d?a.setActiveErrors(d):a.unsetActiveError(),b!==a.getActiveError()&&a.doComponentLayout()}},getCombinedErrors:function(a){var b,c,d,e,f,g,h,i=[],j=a.length;for(b=0;j>b;b++)for(c=a[b],d=c.getActiveErrors(),f=d.length,e=0;f>e;e++)g=d[e],h=c.getFieldLabel(),i.push((h?h+": ":"")+g);return i},getTargetEl:function(){return this.containerEl},applyTargetCls:function(a){var b=this.containerElCls;this.containerElCls=b?b+" "+a:a}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(a){var b,c,d,e,f,g=this,h=0,i=0,j=g.autoFlex,k=g.innerCt.dom.style;if(g.callParent(arguments),b=g.columnNodes,a.innerCtContext=a.getEl("innerCt",g),a.widthModel.shrinkWrap)k.tableLayout="auto",k.width="";else{if(c=b.length,g.columnsArray){for(d=0;c>d;d++)e=g.owner.columns[d],1>e&&(h+=e,i++);for(d=0;c>d;d++)e=g.owner.columns[d],f=1>e?e/h*100+"%":e+"px",b[d].style.width=f}else for(d=0;c>d;d++)f=j?1/c*100+"%":"",b[d].style.width=f,i++;i?c>i?(k.tableLayout="fixed",k.width="100%"):(k.tableLayout="auto",k.width=j?"100%":""):(k.tableLayout="fixed",k.width="")}},cacheElements:function(){var a=this;a.callParent(),a.rowEl=a.innerCt.down("tr"),a.columnNodes=a.rowEl.dom.childNodes},calculate:function(a){var b,c,d,e,f,g,h=this;a.getDomProp("containerChildrenSizeDone")?(b=a.innerCtContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,e=d||c,f=b.el.dom,g=e&&b.getPaddingInfo(),c&&a.setContentWidth(f.offsetWidth+g.width,!0),d&&a.setContentHeight(f.offsetHeight+g.height,!0)):h.done=!1},doRenderColumn:function(a,b,c){var d,e,f,g,h,i=b.$layout,j=i.owner,k=b.columnCount,l=j.items.items,m=l.length;for(j.vertical?(f=Math.ceil(m/k),e=c*f,m=Math.min(m,e+f),g=1):(e=c,g=k);m>e;e+=g)d=l[e],i.configureItem(d),h=d.getRenderTree(),Ext.DomHelper.generateMarkup(h,a)},getColumnCount:function(){var a=this,b=a.owner,c=b.columns;return a.columnsArray?c.length:Ext.isNumber(c)?c:b.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var a,b,c,d,e=this,f=e.callParent(),g=e.owner,h=e.getColumnCount(),i=e.autoFlex,j=0,k=0;if(e.columnsArray)for(a=0;h>a;a++)b=e.owner.columns[a],1>b&&(j+=b,k++);for(f.colCls=g.groupCls,f.columnCount=h,f.columns=[],a=0;h>a;a++)c=f.columns[a]={},e.columnsArray?(b=e.owner.columns[a],d=1>b?b/j*100+"%":b+"px",c.style="width:"+d):(c.style="width:"+1/h*100+"%",k++);return f.tableStyle=k?h>k?"table-layout:fixed;width:100%":i?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",f},initLayout:function(){var a=this,b=a.owner;a.columnsArray=Ext.isArray(b.columns),a.autoColumns=!b.columns||"auto"===b.columns,a.vertical=b.vertical,a.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(a){this.callParent(arguments),a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this,b=a.owner.items.generation;a.lastOwnerItemsGeneration!==b&&(a.lastOwnerItemsGeneration=b,a.renderItems(a.getLayoutItems()))},renderItems:function(a){var b,c,d,e,f,g,h=this,i=a.length;if(i){for(Ext.suspendLayouts(),h.autoColumns&&h.addMissingColumns(i),e=h.columnNodes.length,d=Math.ceil(i/e),b=0;i>b;b++)c=a[b],f=h.getRenderRowIndex(b,d,e),g=h.getRenderColumnIndex(b,d,e),c.rendered?h.isItemAtPosition(c,f,g)||h.moveItem(c,f,g):h.renderItem(c,f,g);h.autoColumns&&h.removeExceedingColumns(i),Ext.resumeLayouts(!0)}},isItemAtPosition:function(a,b,c){return a.el.dom===this.getNodeAt(b,c)},getRenderColumnIndex:function(a,b,c){return this.vertical?Math.floor(a/b):a%c},getRenderRowIndex:function(a,b,c){var d=this;return d.vertical?a%b:Math.floor(a/c)},getNodeAt:function(a,b){return this.columnNodes[b].childNodes[a]},addMissingColumns:function(a){var b,c,d,e,f=this,g=f.columnNodes.length;if(a>g)for(b=a-g,c=f.rowEl,d=f.owner.groupCls,e=0;b>e;e++)c.createChild({cls:d,tag:"td",vAlign:"top"})},removeExceedingColumns:function(a){var b,c,d,e=this,f=e.columnNodes.length;if(f>a)for(b=f-a,c=e.rowEl,d=0;b>d;d++)c.last().remove()},renderItem:function(a,b,c){var d=this;d.configureItem(a),a.render(Ext.get(d.columnNodes[c]),b),d.afterRenderItem(a)},moveItem:function(a,b,c){var d=this,e=d.columnNodes[c],f=e.childNodes[b];e.insertBefore(a.el.dom,f||null)}}),Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})}}),Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],componentLayout:"field",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments),this.getManager().add(this)},initValue:function(){var a=this,b=!!a.checked;a.originalValue=a.lastValue=b,a.setValue(b)},getElConfig:function(){var a=this;return a.isChecked(a.rawValue,a.inputValue)&&a.addCls(a.checkedCls),a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign,inputTypeAttr:a.inputTypeAttr})},initEvents:function(){var a=this;a.callParent(),a.mon(a.inputEl,"click",a.onBoxClick,a)},setBoxLabel:function(a){var b=this;b.boxLabel=a,b.rendered&&b.boxLabelEl.update(a)},onBoxClick:function(){var a=this;a.disabled||a.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(a,b){return a===!0||"true"===a||"1"===a||1===a||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(a){var b=this,c=b.inputEl,d=b.isChecked(a,b.inputValue);return c&&b[d?"addCls":"removeCls"](b.checkedCls),b.checked=b.rawValue=d,d},setValue:function(a){var b,c,d,e,f=this;if(Ext.isArray(a))for(b=f.getManager().getByName(f.name,f.getFormId()).items,d=b.length,c=0;d>c;++c)e=b[c],e.setValue(Ext.Array.contains(a,e.inputValue));else f.callParent(arguments);return f},valueToRaw:function(a){return a},onChange:function(a){var b=this,c=b.handler;c&&c.call(b.scope||b,b,a),b.callParent(arguments)},resetOriginalValue:function(a){var b,c,d,e,f=this;if(!a)for(b=f.getManager().getByName(f.name,f.getFormId()).items,d=b.length,e=0;d>e;++e)c=b[e],c!==f&&b[e].resetOriginalValue(!0);f.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent(),b&&(b.dom.disabled=a.readOnly)},setReadOnly:function(a){var b=this,c=b.inputEl;c&&(c.dom.disabled=!!a||b.disabled),b.callParent(arguments)},getFormId:function(){var a,b=this;return b.formId||(a=b.up("form"),a&&(b.formId=a.id)),b.formId}}),Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Checkbox","Ext.form.field.Base"],columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){var a=this;a.callParent(),a.initField()},initValue:function(){var a=this,b=a.value;a.originalValue=a.lastValue=b||a.getValue(),b&&a.setValue(b)},onAdd:function(a){var b,c,d,e=this;if(a.isCheckbox)e.mon(a,"change",e.checkChange,e);else if(a.isContainer)for(b=a.items.items,d=0,c=b.length;c>d;d++)e.onAdd(b[d]);e.callParent(arguments)},onRemove:function(a){var b,c,d,e=this;if(a.isCheckbox)e.mun(a,"change",e.checkChange,e);else if(a.isContainer)for(b=a.items.items,d=0,c=b.length;c>d;d++)e.onRemove(b[d]);e.callParent(arguments)},isEqual:function(a,b){var c=Ext.Object.toQueryString;return c(a)===c(b)},getErrors:function(){var a=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&a.push(this.blankText),a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(a,b){Ext.Array.forEach(this.getBoxes(),a,b||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var a,b=this.getBoxes(),c=b.length;for(a=0;c>a;a++)if(b[a].isDirty())return!0},setReadOnly:function(a){var b,c=this.getBoxes(),d=c.length;for(b=0;d>b;b++)c[b].setReadOnly(a);this.readOnly=a},reset:function(){var a=this,b=a.hasActiveError(),c=a.preventMark;a.preventMark=!0,a.batchChanges(function(){var b,c=a.getBoxes(),d=c.length;for(b=0;d>b;b++)c[b].reset()}),a.preventMark=c,a.unsetActiveError(),b&&a.updateLayout()},resetOriginalValue:function(){var a,b=this,c=b.getBoxes(),d=c.length;for(a=0;d>a;a++)c[a].resetOriginalValue();b.originalValue=b.getValue(),b.checkDirty()},setValue:function(a){var b,c,d,e,f=this,g=f.getBoxes(),h=g.length;return f.batchChanges(function(){for(b=0;h>b;b++)c=g[b],d=c.getName(),e=!1,a&&a.hasOwnProperty(d)&&(e=Ext.isArray(a[d])?Ext.Array.contains(a[d],c.inputValue):a[d]),c.setValue(e)}),f},getValue:function(){var a,b,c,d,e,f={},g=this.getBoxes(),h=g.length;for(a=0;h>a;a++)b=g[a],c=b.getName(),d=b.inputValue,b.getValue()&&(f.hasOwnProperty(c)?(e=f[c],Ext.isArray(e)||(e=f[c]=[e]),e.push(d)):f[c]=d);return f},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var a,b,c,d=this;return d.disabled?b=!0:(a=d.getErrors(),b=Ext.isEmpty(a),c=d.wasValid,b?d.unsetActiveError():d.setActiveError(a)),b!==c&&(d.wasValid=b,d.fireEvent("validitychange",d,b),d.updateLayout()),b}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var a=this,b=a.legend;b&&(delete b.ownerCt,b.destroy(),a.legend=null),a.callParent()},initComponent:function(){var a=this,b=a.baseCls;a.initFieldAncestor(),a.callParent(),a.layout.managePadding=a.layout.manageOverflow=!1,a.addEvents("beforeexpand","beforecollapse","expand","collapse"),a.collapsed&&(a.addCls(b+"-collapsed"),a.collapse()),(a.title||a.checkboxToggle||a.collapsible)&&(a.addTitleClasses(),a.legend=Ext.widget(a.createLegendCt())),a.initMonitor()},initPadding:function(a){var b,c=this,d=c.getProtoBody(),e=c.padding;void 0!==e&&((Ext.isIEQuirks||Ext.isIE8m)&&(e=c.parseBox(e),b=Ext.Element.parseBox(0),b.top=e.top,e.top=0,d.setStyle("padding",c.unitizeBox(b))),a.setStyle("padding",c.unitizeBox(e)))},getProtoBody:function(){var a=this,b=a.protoBody;return b||(a.protoBody=b=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),b},initRenderData:function(){var a=this,b=a.callParent();return b.bodyTargetCls=a.bodyTargetCls,a.protoBody.writeTo(b),delete a.protoBody,b},getState:function(){var a=this.callParent();return a=this.addPropertyToState(a,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var a=this,b=[],c={xtype:"container",baseCls:a.baseCls+"-header",id:a.id+"-legend",autoEl:"legend",items:b,ownerCt:a,shrinkWrap:!0,ownerLayout:a.componentLayout};return a.checkboxToggle?b.push(a.createCheckboxCmp()):a.collapsible&&b.push(a.createToggleCmp()),b.push(a.createTitleCmp()),c},createTitleCmp:function(){var a=this,b={xtype:"component",html:a.title,cls:a.baseCls+"-header-text",id:a.id+"-legendTitle"};return a.collapsible&&a.toggleOnTitleClick&&(b.listeners={click:{element:"el",scope:a,fn:a.toggle}},b.cls+=" "+a.baseCls+"-header-text-collapsible"),a.titleCmp=Ext.widget(b)},createCheckboxCmp:function(){var a=this,b="-checkbox";return a.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:a.checkboxName||a.id+b,cls:a.baseCls+"-header"+b,id:a.id+"-legendChk",checked:!a.collapsed,listeners:{change:a.onCheckChange,scope:a}}),a.checkboxCmp},createToggleCmp:function(){var a=this;return a.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a}),a.toggleCmp},doRenderLegend:function(a,b){var c,d=b.$comp,e=d.legend;e&&(e.ownerLayout.configureItem(e),c=e.getRenderTree(),Ext.DomHelper.generateMarkup(c,a))},finishRender:function(){var a=this.legend;this.callParent(),a&&a.finishRender()},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(a){{var b=this,c=b.legend;b.baseCls}return b.title=a,b.rendered?(c||(b.legend=c=Ext.widget(b.createLegendCt()),b.addTitleClasses(),c.ownerLayout.configureItem(c),c.render(b.el,0)),b.titleCmp.update(a)):c?b.titleCmp.update(a):(b.addTitleClasses(),b.legend=Ext.widget(b.createLegendCt())),b},addTitleClasses:function(){var a=this,b=a.title,c=a.baseCls;b&&a.addCls(c+"-with-title"),(b||a.checkboxToggle||a.collapsible)&&a.addCls(c+"-with-header")},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(a){var b=this,c=b.checkboxCmp,d=a?"expand":"collapse";return b.rendered&&b.fireEvent("before"+d,b)===!1||(a=!!a,c&&c.setValue(a),a?b.removeCls(b.baseCls+"-collapsed"):b.addCls(b.baseCls+"-collapsed"),b.collapsed=!a,a?delete b.getHierarchyState().collapsed:b.getHierarchyState().collapsed=!0,b.rendered&&(b.updateLayout({isRoot:!1}),b.fireEvent(d,b))),b},getRefItems:function(a){var b=this.callParent(arguments),c=this.legend;return c&&(b.unshift(c),a&&b.unshift.apply(b,c.getRefItems(!0))),b},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(a,b){this.setExpanded(b)},setupRenderTpl:function(a){this.callParent(arguments),a.renderLegend=this.doRenderLegend}}),Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:!1,getElConfig:function(){var a=this;return a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||"",Ext.apply(a.callParent(),{htmlFor:a.forId||""})},setText:function(a,b){var c=this;return b=b!==!1,b?(c.text=a,delete c.html):(c.html=a,delete c.text),c.rendered&&(c.el.dom.innerHTML=b!==!1?Ext.util.Format.htmlEncode(a):a,c.updateLayout()),c}}),Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var a=this;a.frame&&(a.border=!1),a.initFieldAncestor(),a.callParent(),a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),a.pollForChanges&&a.startPolling(a.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var a,b={},c=this.basicFormConfigs,d=c.length,e=0;d>e;++e)a=c[e],b[a]=this[a];return new Ext.form.Basic(this,b)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(a,b,c,d){return this.getForm().getValues(a,b,c,d)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(a){this.stopPolling();var b=new Ext.util.TaskRunner(a);b.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=b},stopPolling:function(){var a=this.pollTask;a&&(a.stopAll(),delete this.pollTask)},checkChange:function(){var a,b=this.form.getFields().items,c=b.length;for(a=0;c>a;a++)b[a].checkChange()}}),Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})},getWithValue:function(a,b,c){return this.filterBy(function(d){return d.name==a&&d.inputValue==b&&d.getFormId()==c})},getChecked:function(a,b){return this.findBy(function(c){return c.name==a&&c.checked&&c.getFormId()==b})}}),Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:!0,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(){var a=this;a.disabled||a.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(a){var b,c=this;return Ext.isBoolean(a)?c.callParent(arguments):(b=c.getManager().getWithValue(c.name,a,c.getFormId()).getAt(0),b&&b.setValue(!0)),c
},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(a){var b,c,d,e,f=this;if(f.callParent(arguments),a)for(e=f.getManager().getByName(f.name,f.getFormId()).items,c=e.length,b=0;c>b;b++)d=e[b],d!==f&&d.setValue(!1)},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",requires:["Ext.form.field.Radio"],allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(a){return this.query("[isRadio]"+(a||""))},checkChange:function(){var a=this.getValue(),b=Ext.Object.getKeys(a)[0];Ext.isArray(a[b])||this.callParent(arguments)},setValue:function(a){var b,c,d,e,f,g,h;if(Ext.isObject(a))for(h in a)if(a.hasOwnProperty(h))for(b=a[h],c=this.items.first(),d=c?c.getFormId():null,e=Ext.form.RadioManager.getWithValue(h,b,d).items,g=e.length,f=0;g>f;++f)e[f].setValue(!0);return this}}),Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var a,b,c=this,d=c.form,e=d.api,f=e.load;"function"!=typeof f&&(e.load=f=Ext.direct.Manager.parseMethod(f)),a=f.directCfg.method,b=a.getArgs(c.getParams(),d.paramOrder,d.paramsAsHash),b.push(c.onComplete,c),f.apply(window,b)},processResponse:function(a){return this.result=a},onComplete:function(a){a?this.onSuccess(a):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var a,b=this,c=b.form,d=c.api,e=d.submit,f=Ext.Function.bind(b.onComplete,b),g=b.buildForm();"function"!=typeof e&&(d.submit=e=Ext.direct.Manager.parseMethod(e)),(b.timeout||c.timeout)&&(a={timeout:1e3*b.timeout||1e3*c.timeout}),e.call(window,g.formEl,f,b,a),b.cleanup(g)},processResponse:function(a){return this.result=a},onComplete:function(a){a?this.onSuccess(a):this.onFailure(null)}}),Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var a=this.buildForm();a.formEl.submit(),this.cleanup(a)}}),Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:"Ext.layout.component.field.Field",type:"triggerfield",borderWidths:{},beginLayout:function(a){var b,c=this,d=c.owner;a.triggerWrap=a.getEl("triggerWrap"),c.callParent(arguments),b=d.getTriggerStateFlags(),b!=d.lastTriggerStateFlags&&(d.lastTriggerStateFlags=b,c.updateEditState())},beginLayoutCycle:function(a){this.callParent(arguments),a.widthModel.shrinkWrap&&!this.owner.inputWidth&&a.inputContext.el.setStyle("width","")},beginLayoutFixed:function(a,b,c){var d=this,e=a.target,f=d.ieInputWidthAdjustment||0,g="100%",h=e.triggerWrap;d.callParent(arguments),e.inputCell.setStyle("width","100%"),f&&(d.adjustIEInputPadding(a),"px"===c&&(g=e.inputWidth?e.inputWidth-d.getExtraWidth(a):b-f-d.getExtraWidth(a),g+="px")),e.inputEl.setStyle("width",g),g=e.inputWidth,g?h.setStyle("width",g+f+"px"):h.setStyle("width",b+c),h.setStyle("table-layout","fixed")},adjustIEInputPadding:function(){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(a){var b=this,c=b.owner,d=b.borderWidths,e=c.ui+c.triggerEl.getCount();return e in d||(d[e]=a.triggerWrap.getBorderInfo().width),d[e]+c.getTriggerWidth()},beginLayoutShrinkWrap:function(a){var b=a.target,c="",d=b.inputWidth,e=b.triggerWrap;this.callParent(arguments),d?(e.setStyle("width",d+"px"),d=d-this.getExtraWidth(a)+"px",b.inputEl.setStyle("width",d),b.inputCell.setStyle("width",d)):(b.inputCell.setStyle("width",c),b.inputEl.setStyle("width",c),e.setStyle("width",c),e.setStyle("table-layout","auto"))},getTextWidth:function(){var a,b=this,c=b.owner,d=c.inputEl;return a=(d.dom.value||(c.hasFocus?"":c.emptyText)||"")+c.growAppend,d.getTextWidth(a)},publishOwnerWidth:function(a,b){var c=this.owner;this.callParent(arguments),c.grow||c.inputWidth||(b-=this.getExtraWidth(a),"top"!=c.labelAlign&&(b-=c.getLabelWidth()),a.inputContext.setWidth(b))},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},measureContentWidth:function(a){var b,c,d,e=this,f=e.owner,g=e.callParent(arguments),h=a.inputContext;return f.grow&&!a.state.growHandled?(b=e.getTextWidth()+a.inputContext.getFrameInfo().width,c=f.growMax,d=Math.min(c,g),c=Math.max(f.growMin,c,d),b=Ext.Number.constrain(b,f.growMin,c),h.setWidth(b),a.state.growHandled=!0,h.domBlock(e,"width"),g=0/0):f.inputWidth||(g-=e.getExtraWidth(a)),g},updateEditState:function(){var a,b,c=this,d=c.owner,e=d.inputEl,f=Ext.baseCSSPrefix+"trigger-noedit";c.owner.readOnly?(e.addCls(f),b=!0,a=!1):(c.owner.editable?(e.removeCls(f),b=!1):(e.addCls(f),b=!0),a=!c.owner.hideTrigger),d.triggerCell.setDisplayed(a),e.dom.readOnly=b}}),Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.dom.Helper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(a){var b=this,c=a.childElCls,d=b.callParent(arguments);return'<table id="'+b.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+c+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+b.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+c+'">'+d+"</td>"+b.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var a=this,b=a.callParent(),c=a.readOnly===!0,d=a.editable!==!1;return Ext.apply(b,{editableCls:c||!d?" "+a.triggerNoEditCls:"",readOnly:!d||c})},getLabelableRenderData:function(){var a=this,b=a.triggerWrapCls,c=a.callParent(arguments);return Ext.applyIf(c,{triggerWrapCls:b,triggerMarkup:a.getTriggerMarkup()})},getTriggerMarkup:function(){var a,b=this,c=0,d=b.readOnly||b.hideTrigger,e=b.triggerBaseCls,f=[],g=Ext.dom.Element.unselectableCls,h="width:"+b.triggerWidth+"px;"+(d?"display:none;":""),i=b.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+g;for(b.trigger1Cls||(b.trigger1Cls=b.triggerCls),c=0;(a=b["trigger"+(c+1)+"Cls"])||1>c;c++)f.push({tag:"td",valign:"top",cls:i,style:h,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+c,e,a].join(" "),role:"button"}});return f[0].cn.cls+=" "+e+"-first",Ext.DomHelper.markup(f)},disableCheck:function(){return!this.disabled},beforeRender:function(){var a,b=this,c=b.triggerBaseCls;b.triggerWidth||(a=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=a.getWidth(),a.remove()),b.callParent(),c!=Ext.baseCSSPrefix+"form-trigger"&&b.addChildEls({name:"triggerEl",select:"."+c}),b.lastTriggerStateFlags=b.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments),a.doc=Ext.getDoc(),a.initTrigger()},getTriggerWidth:function(){var a=this,b=0;return!a.triggerWrap||a.hideTrigger||a.readOnly||(b=a.triggerEl.getCount()*a.triggerWidth),b},setHideTrigger:function(a){a!=this.hideTrigger&&(this.hideTrigger=a,this.updateLayout())},setEditable:function(a){a!=this.editable&&(this.editable=a,this.updateLayout())},setReadOnly:function(a){var b=this,c=b.readOnly;b.callParent(arguments),a!=c&&b.updateLayout()},initTrigger:function(){var a,b,c,d,e,f=this,g=f.triggerWrap,h=f.triggerEl,i=f.disableCheck;for(f.repeatTriggerClick?f.triggerRepeater=new Ext.util.ClickRepeater(g,{preventDefault:!0,handler:f.onTriggerWrapClick,listeners:{mouseup:f.onTriggerWrapMouseup,scope:f},scope:f}):f.mon(g,{click:f.onTriggerWrapClick,mouseup:f.onTriggerWrapMouseup,scope:f}),h.setVisibilityMode(Ext.Element.DISPLAY),h.addClsOnOver(f.triggerBaseCls+"-over",i,f),a=h.elements,b=a.length,d=0;b>d;d++)c=a[d],e=d+1,c.addClsOnOver(f["trigger"+e+"Cls"]+"-over",i,f),c.addClsOnClick(f["trigger"+e+"Cls"]+"-click",i,f);h.addClsOnClick(f.triggerBaseCls+"-click",i,f)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl"),delete a.doc,a.callParent()},onFocus:function(){var a=this;a.callParent(arguments),a.mimicing||(a.bodyEl.addCls(a.wrapFocusCls),a.mimicing=!0,a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10}),a.monitorTab&&a.on("specialkey",a.checkTab,a))},checkTab:function(a,b){this.ignoreMonitorTab||b.getKey()!=b.TAB||this.triggerBlur()},getTriggerStateFlags:function(){var a=this,b=0;return a.readOnly&&(b+=1),a.editable&&(b+=2),a.hideTrigger&&(b+=4),b},onBlur:Ext.emptyFn,mimicBlur:function(a){this.isDestroyed||this.bodyEl.contains(a.target)||!this.validateBlur(a)||this.triggerBlur(a)},triggerBlur:function(a){var b=this;b.mimicing=!1,b.mun(b.doc,"mousedown",b.mimicBlur,b),b.monitorTab&&b.inputEl&&b.un("specialkey",b.checkTab,b),Ext.form.field.Trigger.superclass.onBlur.call(b,a),b.bodyEl&&b.bodyEl.removeCls(b.wrapFocusCls)},validateBlur:function(){return!0},onTriggerWrapClick:function(){var a,b,c,d,e=this;d=arguments[e.triggerRepeater?1:0],!d||e.readOnly||e.disabled||(a=d.getTarget("."+e.triggerBaseCls,null),b=a&&a.className.match(e.triggerIndexRe),b&&(c=e["onTrigger"+(parseInt(b[1],10)+1)+"Click"]||e.onTriggerClick,c&&c.call(e,d)))},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn}),Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent(),a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:!1},scope:a,forceKeyDown:!0}),a.editable||a.mon(a.inputEl,"click",a.onTriggerClick,a),Ext.isGecko&&a.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(a){Ext.isIE&&a.preventDefault(),this.isExpanded&&(this.collapse(),a.stopEvent())},onDownArrow:function(){this.isExpanded||this.onTriggerClick()},expand:function(){var a,b,c,d=this;!d.rendered||d.isExpanded||d.isDestroyed||(d.expanding=!0,a=d.bodyEl,b=d.getPicker(),c=d.collapseIf,b.show(),d.isExpanded=!0,d.alignPicker(),a.addCls(d.openCls),d.mon(Ext.getDoc(),{mousewheel:c,mousedown:c,scope:d}),Ext.EventManager.onWindowResize(d.alignPicker,d),d.fireEvent("expand",d),d.onExpand(),delete d.expanding)},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b=a.getPicker();a.isExpanded&&(a.matchFieldWidth&&b.setWidth(a.bodyEl.getWidth()),b.isFloating()&&a.doAlign())},doAlign:function(){var a,b=this,c=b.picker,d="-above";b.picker.alignTo(b.triggerWrap,b.pickerAlign,b.pickerOffset),a=c.el.getY()<b.inputEl.getY(),b.bodyEl[a?"addCls":"removeCls"](b.openCls+d),c[a?"addCls":"removeCls"](c.baseCls+d)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var a=this,b=a.openCls,c=a.picker,d=Ext.getDoc(),e=a.collapseIf,f="-above";c.hide(),a.isExpanded=!1,a.bodyEl.removeCls([b,b+f]),c.el.removeCls(c.baseCls+f),d.un("mousewheel",e,a),d.un("mousedown",e,a),Ext.EventManager.removeResizeListener(a.alignPicker,a),a.fireEvent("collapse",a),a.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(a){var b=this;b.isDestroyed||a.within(b.bodyEl,!1,!0)||a.within(b.picker.el,!1,!0)||b.isEventWithinPickerLoadMask(a)||b.collapse()},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;a.readOnly||a.disabled||(a.isExpanded?a.collapse():a.expand(),a.inputEl.focus())},triggerBlur:function(){var a=this.picker;this.callParent(arguments),a&&a.isVisible()&&a.hide()},mimicBlur:function(a){var b=this,c=b.picker;c&&(a.within(c.el,!1,!0)||b.isEventWithinPickerLoadMask(a))||b.callParent(arguments)},onDestroy:function(){var a=this,b=a.picker;Ext.EventManager.removeResizeListener(a.alignPicker,a),Ext.destroy(a.keyNav),b&&(delete b.pickerField,b.destroy()),a.callParent()},isEventWithinPickerLoadMask:function(a){var b=this.picker.loadMask;return b?a.within(b.maskEl,!1,!0)||a.within(b.el,!1,!0):!1}}),Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:{bindable:"Ext.util.Bindable"},allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(a){var b=this;a=a||{},Ext.apply(b,a),b.addEvents("selectionchange","focuschange"),b.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},b.setSelectionMode(a.mode||b.mode),b.selected=new Ext.util.MixedCollection(null,b.getSelectionId),b.callParent(arguments)},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments),c.store&&!b&&c.refresh()},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,bulkremove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,idchanged:a.onModelIdChanged,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(a){var b=this,c=b.store.getRange(),d=0,e=c.length,f=b.getSelection().length;for(b.suspendChanges();e>d;d++)b.doSelect(c[d],!0,a);b.resumeChanges(),a||b.maybeFireSelectionChange(b.getSelection().length!==f)},deselectAll:function(a){var b,c,d,e=this,f=e.getSelection(),g={},h=e.store,i=f.length;for(b=0,c=f.length;c>b;b++)d=f[b],g[d.internalId]=h.indexOf(d);f=Ext.Array.sort(f,function(a,b){var c=g[a.internalId],d=g[b.internalId];return d>c?-1:1}),e.suspendChanges(),e.doDeselect(f,a),e.resumeChanges(),a||e.maybeFireSelectionChange(e.getSelection().length!==i)},selectWithEvent:function(a,b){var c,d,e,f=this,g=f.isSelected(a),h=b.shiftKey,i=b.ctrlKey,j=f.selectionStart,k=f.getSelection(),l=k.length,m=f.allowDeselect;switch(f.selectionMode){case"MULTI":if(h&&j)f.selectRange(j,a,i);else if(i&&g)f.doDeselect(a,!1);else if(i)f.doSelect(a,!0,!1);else if(g&&!h&&!i&&l>1){for(c=[],d=0;l>d;++d)e=k[d],e!==a&&c.push(e);f.doDeselect(c)}else g||f.doSelect(a,!1);break;case"SIMPLE":g?f.doDeselect(a):f.doSelect(a,!0);break;case"SINGLE":m&&!i&&(m=f.toggleOnClick),m&&g?f.doDeselect(a):f.doSelect(a,!1)}h||(f.selectionStart=f.isSelected(a)?a:null)},afterKeyNavigate:function(a,b){var c,d,e=this,f=e.isSelected(b),g=e.selectionStart&&e.isSelected(e.lastFocused)?e.selectionStart:e.selectionStart=e.lastFocused,h=a.getCharCode(),i=h===a.SPACE,j=h===a.UP||h===a.PAGE_UP?"up":h===a.DOWN||h===a.DOWN?"down":null;switch(e.selectionMode){case"MULTI":i?a.shiftKey?e.selectRange(g,b,a.ctrlKey):f?(e.doDeselect(b,a.ctrlKey),e.setLastFocused(null),e.setLastFocused(b)):e.doSelect(b,a.ctrlKey):a.shiftKey&&g?(d=e.store.indexOf(g),c=e.store.indexOf(b),"up"===j&&c>=d?e.deselectRange(e.lastFocused,c+1):"down"===j&&d>=c?e.deselectRange(e.lastFocused,c-1):g!==b&&e.selectRange(g,b,a.ctrlKey),e.lastSelected=b,e.setLastFocused(b)):a.ctrlKey&&f?e.setLastFocused(b):a.ctrlKey?e.setLastFocused(b):e.doSelect(b,!1);break;case"SIMPLE":f?e.doDeselect(b):e.doSelect(b,!0);break;case"SINGLE":i?f?(e.doDeselect(b),e.setLastFocused(b)):e.doSelect(b):a.ctrlKey?e.setLastFocused(b):e.allowDeselect&&f?e.doDeselect(b):e.doSelect(b,!1)}a.shiftKey||e.isSelected(b)&&(e.selectionStart=b)},selectRange:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=k.store,m=k.selected.items;if(!k.isLocked()){for(d=k.normalizeRowRange(a,b),a=d[0],b=d[1],g=[],e=a;b>=e;e++)k.isSelected(l.getAt(e))||g.push(l.getAt(e));if(!c){for(h=[],k.suspendChanges(),e=0,f=m.length;f>e;++e)j=m[e],i=l.indexOf(j),(a>i||i>b)&&h.push(j);for(e=0,f=h.length;f>e;++e)k.doDeselect(h[e]);k.resumeChanges()}k.doMultiSelect(g,!0)}},deselectRange:function(a,b){var c,d,e,f,g=this,h=g.store;if(!g.isLocked()){for(c=g.normalizeRowRange(a,b),a=c[0],b=c[1],e=[],d=a;b>=d;d++)f=h.getAt(d),g.isSelected(f)&&e.push(f);g.doDeselect(e)}},normalizeRowRange:function(a,b){var c,d=this.store;return Ext.isNumber(a)||(a=d.indexOf(a)),a=Math.max(0,a),Ext.isNumber(b)||(b=d.indexOf(b)),b=Math.min(b,d.getCount()-1),a>b&&(c=b,b=a,a=c),[a,b]},onModelIdChanged:function(a,b,c,d,e){this.selected.updateKey(e,d)},select:function(a,b,c){Ext.isDefined(a)&&this.doSelect(a,b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){var d,e=this;if(!e.locked&&e.store){if("number"==typeof a){if(d=e.store.getAt(a),!d)return;a=[d]}"SINGLE"==e.selectionMode&&a?(d=a.length?a[0]:a,e.doSingleSelect(d,c)):e.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){var d,e,f,g,h,i=this,j=i.selected,k=!1;if(!i.locked){if(a=Ext.isArray(a)?a:[a],f=a.length,!b&&j.getCount()>0&&(d=i.deselectDuringSelect(a,j.getRange(),c),d[0]))return void i.maybeFireSelectionChange(d[1]>0&&!c);for(h=function(){j.add(g),k=!0},e=0;f>e;e++)g=a[e],i.isSelected(g)||(i.lastSelected=g,i.onSelectChange(g,!0,c,h));i.preventFocus||i.setLastFocused(g,c),i.maybeFireSelectionChange(k&&!c)}},deselectDuringSelect:function(a,b,c){var d,e,f=this,g=b.length,h=0,i=!1;for(f.suspendChanges(),e=0;g>e;++e)d=b[e],Ext.Array.contains(a,d)||(f.doDeselect(d,c)?++h:i=!0);return f.resumeChanges(),[i,h]},doDeselect:function(a,b){var c,d,e,f=this,g=f.selected,h=0,i=0,j=0;if(f.locked||!f.store)return!1;if("number"==typeof a){if(d=f.store.getAt(a),!d)return!1;a=[d]}else Ext.isArray(a)||(a=[a]);for(e=function(){++j,g.remove(d)},c=a.length,f.suspendChanges();c>h;h++)d=a[h],f.isSelected(d)&&(f.lastSelected===d&&(f.lastSelected=g.last(),f.lastFocused===d&&f.setLastFocused(null)),++i,f.onSelectChange(d,!1,b,e));return f.resumeChanges(),f.maybeFireSelectionChange(j>0&&!b),j===i},doSingleSelect:function(a,b){var c,d=this,e=!1,f=d.selected;if(!d.locked&&!d.isSelected(a)){if(f.getCount()){if(d.suspendChanges(),!d.doDeselect(d.lastSelected,b))return void d.resumeChanges();d.resumeChanges()}c=function(){f.add(a),d.lastSelected=a,e=!0},d.onSelectChange(a,!0,b,c),e&&(b||d.preventFocus||d.setLastFocused(a),d.maybeFireSelectionChange(!b))}},setLastFocused:function(a,b){var c=this,d=c.lastFocused;a!==d&&(c.lastFocused=a,c.onLastFocusChanged(d,a,b))},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;a&&!b.suspendChange&&b.fireEvent("selectionchange",b,b.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE",this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(a,b){var c,d,e=this,f=e.store;for(d=e.normalizeRowRange(a,b),a=d[0],b=d[1],c=a;b>=c;c++)if(!e.isSelected(f.getAt(c)))return!1;return!0},isSelected:function(a){return a=Ext.isNumber(a)?this.store.getAt(a):a,this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var a,b,c=this,d=c.selected,e=[],f=d.length;if(c.pruneRemoved){for(a=0;f>a;a++)b=d.getAt(a),this.storeHasSelected(b)||e.push(b);if(e.length){for(a=0,f=e.length;f>a;a++)d.remove(e[a]);c.maybeFireSelectionChange(!0)}}},storeHasSelected:function(a){var b,c,d,e,f=this.store;if(a.hasId()&&f.getById(a))return!0;for(b=f.data.items,c=b.length,d=a.internalId,e=0;c>e;++e)if(d===b[e].internalId)return!0;return!1},refresh:function(){var a,b,c,d=this,e=d.store,f=[],g=[],h=d.getSelection(),i=h.length,j=0,k=d.getLastFocused();if(e){for(;i>j&&(b=h[j],-1!==e.indexOf(b)?f.push(b):d.pruneRemoved||(a=e.getById(b.getId()),a?f.push(a):g.push(b)),"SINGLE"!==d.mode||!g.length);j++);d.selected.getCount()!=f.length+g.length&&(c=!0),d.clearSelections(),-1!==e.indexOf(k)&&d.setLastFocused(k,!0),f.length&&d.doSelect(f,!1,!0),g.length&&(d.selected.addAll(g),d.lastSelected||(d.lastSelected=g[g.length-1])),d.maybeFireSelectionChange(c)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount()>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(a,b,c,d){var e=this;e.selectionStart&&Ext.Array.contains(b,e.selectionStart)&&(e.selectionStart=null),d||e.locked||!e.pruneRemoved||e.deselectDeletedRecords(b)},deselectDeletedRecords:function(a){var b,c,d=this,e=d.selected,f=a.length,g=0;for(b=0;f>b;b++)c=a[b],e.remove(c)&&(d.lastSelected==c&&(d.lastSelected=null),d.getLastFocused()==c&&d.setLastFocused(null),++g);g&&d.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(a,b,c,d){var e=this,f=b?"select":"deselect";(c||e.fireEvent("before"+f,e,a))!==!1&&d()!==!1&&(c||e.fireEvent(f,e,a))},onLastFocusChanged:function(a,b){this.fireEvent("focuschange",this,a,b)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[],this.views.push(a),this.bindStore(a.getStore(),!0)},bindComponent:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(a){var b=this,c={refresh:b.refresh,scope:b};b.view=a,b.bindStore(a.getStore()),c[a.triggerEvent]=b.onItemClick,c[a.triggerCtEvent]=b.onContainerClick,a.on(c),b.enableKeyNav&&b.initKeyNav(a)},onUpdate:function(a){var b=this.view;b&&this.isSelected(a)&&b.onItemSelect(a)},onItemClick:function(a,b,c,d,e){this.selectWithEvent(b,e)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(a){var b=this;return a.rendered?(a.el.set({tabIndex:-1}),void(b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:!0,down:Ext.pass(b.onNavKey,[1],b),right:Ext.pass(b.onNavKey,[1],b),left:Ext.pass(b.onNavKey,[-1],b),up:Ext.pass(b.onNavKey,[-1],b),scope:b}))):void a.on({render:Ext.Function.bind(b.initKeyNav,b,[a]),single:!0})},onNavKey:function(a){a=a||1;var b,c=this,d=c.view,e=c.getSelection()[0],f=c.view.store.getCount();b=e?d.indexOf(d.getNode(e))+a:0,0>b?b=f-1:b>=f&&(b=0),c.select(b)},onSelectChange:function(a,b,c,d){var e=this,f=e.view,g=b?"select":"deselect";(c||e.fireEvent("before"+g,e,a))!==!1&&d()!==!1&&(f&&(b?f.onItemSelect(a):f.onItemDeselect(a)),c||e.fireEvent(g,e,a))},onLastFocusChanged:function(a,b,c){var d=this.view;d&&!c&&b&&(d.focusNode(b),this.fireEvent("focuschange",this,a,b))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],mixins:{bindable:"Ext.util.Bindable"},inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=this,b=(Ext.isDefined,a.itemTpl),c={};b&&(Ext.isArray(b)?b=b.join(""):Ext.isObject(b)&&(c=Ext.apply(c,b.initialConfig),b=b.html),a.itemSelector||(a.itemSelector="."+a.itemCls),b=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',a.itemCls,b),a.tpl=new Ext.XTemplate(b,c)),a.callParent(),a.tpl=a.getTpl("tpl"),a.overItemCls&&(a.trackOver=!0),a.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),a.addCmpEvents(),a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store"),a.dataSource||(a.dataSource=a.store),a.bindStore(a.dataSource,!0,"dataSource"),a.all||(a.all=new Ext.CompositeElementLite),a.scrollState={top:0,left:0},a.on({scroll:a.onViewScroll,element:"el",scope:a})},onRender:function(){var a=this,b=a.loadMask,c=a.getMaskStore(),d={target:a,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:c};a.callParent(arguments),b&&!c.proxy.isSynchronous&&(Ext.isObject(b)&&(d=Ext.apply(d,b)),a.loadMask=new Ext.LoadMask(d),a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide}))},finishRender:function(){var a=this;a.callParent(arguments),a.up("[collapsed],[hidden]")||a.doFirstRefresh(a.dataSource)},onBoxReady:function(){var a=this;a.callParent(arguments),a.firstRefreshDone||a.doFirstRefresh(a.dataSource)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;b&&b>a.getHeight()&&(a.hasLoadingHeight=!0,a.oldMinHeight=a.minHeight,a.minHeight=b,a.updateLayout())},onMaskHide:function(){var a=this;!a.destroying&&a.hasLoadingHeight&&(a.minHeight=a.oldMinHeight,a.updateLayout(),delete a.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";return a.simpleSelect?b="SIMPLE":a.multiSelect&&(b="MULTI"),a.selModel&&a.selModel.events||(a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))),a.selModel.hasRelaySetup||(a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),a.selModel.hasRelaySetup=!0),a.disableSelection&&(a.selModel.locked=!0),a.selModel},refresh:function(){var a,b,c,d,e,f,g=this;g.rendered&&!g.isDestroyed&&(g.hasListeners.beforerefresh&&g.fireEvent("beforerefresh",g)===!1||(a=g.getTargetEl(),f=g.getViewRange(),e=a.dom,g.preserveScrollOnRefresh||(b=e.parentNode,c=e.style.display,e.style.display="none",d=e.nextSibling,b.removeChild(e)),g.refreshCounter?g.clearViewEl():(g.fixedNodes=a.dom.childNodes.length,g.refreshCounter=1),g.tpl.append(a,g.collectData(f,g.all.startIndex)),f.length<1?(this.store.loading||g.deferEmptyText&&!g.hasFirstRefresh||Ext.core.DomHelper.insertHtml("beforeEnd",a.dom,g.emptyText),g.all.clear()):(g.collectNodes(a.dom),g.updateIndexes(0)),g.hasFirstRefresh&&(g.refreshSelmodelOnRefresh!==!1?g.selModel.refresh():g.selModel.pruneIf()),g.hasFirstRefresh=!0,g.preserveScrollOnRefresh||(b.insertBefore(e,d),e.style.display=c),this.refreshSize(),g.fireEvent("refresh",g),g.viewReady||(g.viewReady=!0,g.fireEvent("viewready",g))))},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();(a.height.shrinkWrap||a.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var a=this,b=a.getTargetEl();if(a.fixedNodes)for(;b.dom.childNodes[a.fixedNodes];)b.dom.removeChild(b.dom.childNodes[a.fixedNodes]);else b.update("");a.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft,b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left,a.scrollTop=b.top}},prepareData:function(a,b,c){var d,e,f;if(c){d=c.getAssociatedData();for(e in d)d.hasOwnProperty(e)&&(f||(a=Ext.Object.chain(a),f=!0),a[e]=d[e])}return a},collectData:function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],d[e]=this.prepareData(c.data,b+e,c);return d},bufferRender:function(a,b){var c=this,d=c.renderBuffer||(c.renderBuffer=document.createElement("div"));return c.tpl.overwrite(d,c.collectData(a,b)),Ext.DomQuery.select(c.getItemSelector(),d)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(a,b){var c,d,e=this;return e.viewReady&&(c=e.dataSource.indexOf(b),c>-1&&(d=e.bufferRender([b],c)[0],e.getNode(b)))?(e.all.replaceElement(c,d,!0),e.updateIndexes(c,c),e.selModel.onUpdate(b),e.hasListeners.itemupdate&&e.fireEvent("itemupdate",b,c,d),d):void 0},onAdd:function(a,b,c){var d,e=this;e.rendered&&(0===e.all.getCount()?(e.refresh(),d=e.all.slice()):(d=e.doAdd(b,c),e.refreshSelmodelOnRefresh!==!1&&e.selModel.refresh(),e.updateIndexes(c),e.refreshSize()),e.hasListeners.itemadd&&e.fireEvent("itemadd",b,c,d))},doAdd:function(a,b){var c,d,e=this,f=e.bufferRender(a,b,!0),g=e.all,h=g.getCount();if(0===h)for(c=0,d=f.length;d>c;c++)this.getNodeContainer().appendChild(f[c]);else h>b?0===b?g.item(b).insertSibling(f,"before",!0):g.item(b-1).insertSibling(f,"after",!0):g.last().insertSibling(f,"after",!0);return g.insert(b,f),f},onRemove:function(a,b,c){var d,e,f,g=this,h=g.hasListeners.itemremove;if(g.all.getCount()){if(0===g.dataSource.getCount()){if(h)for(d=c.length-1;d>=0;--d)g.fireEvent("itemremove",b[d],c[d]);g.refresh()}else{for(d=c.length-1;d>=0;--d)e=b[d],f=c[d],g.doRemove(e,f),h&&g.fireEvent("itemremove",e,f);g.updateIndexes(c[0])}this.refreshSize()}},doRemove:function(a,b){this.all.removeElement(b,!0)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(a,b){var c,d=this.all.elements,e=this.getViewRange();for(a=a||0,b=b||(0===b?0:d.length-1),c=a;b>=c;c++)d[c].viewIndex=c,d[c].viewRecordId=e[c].internalId,d[c].boundView||(d[c].boundView=this.id)},getStore:function(){return this.store},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments),b||c.getSelectionModel().bindStore(a),c.componentLayoutCounter&&c.doFirstRefresh(a)},doFirstRefresh:function(a){var b=this;b.firstRefreshDone=!0,a&&!a.loading&&(b.deferInitialRefresh?b.applyFirstRefresh():b.refresh())},applyFirstRefresh:function(){var a=this;a.isDestroyed||(a.up("[isCollapsingOrExpanding]")?Ext.Function.defer(a.applyFirstRefresh,100,a):Ext.Function.defer(function(){a.isDestroyed||a.refresh()},1))},onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(a,b,c){this.setMaskBind(a),b||"store"!==c||this.bindStore(a,!1,"dataSource")},setMaskBind:function(a){var b=this.loadMask;b&&b.bindStore&&b.bindStore(a)},getStoreListeners:function(){var a=this;return{idchanged:a.onIdChanged,refresh:a.onDataRefresh,add:a.onAdd,bulkremove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var a=this,b=!a.firstRefreshDone&&(!a.rendered||a.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));b?a.deferInitialRefresh=!1:a.blockRefresh!==!0&&(a.firstRefreshDone=!0,a.refresh())},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var a=[],b=this.selModel.getSelection(),c=b.length,d=0;c>d;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){for(var b=[],c=0,d=a.length,e=this.dataSource.data;d>c;c++)b[b.length]=e.getByKey(a[c].viewRecordId);return b},getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)
},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){return!a&&0!==a||!this.rendered?null:Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a.isModel?this.getNodeByRecord(a):a},getNodeByRecord:function(a){for(var b=this.all.elements,c=b.length,d=0;c>d;d++)if(b[d].viewRecordId===a.internalId)return b[d];return null},getNodes:function(a,b){var c=this.all;return void 0===b?b=c.getCount():b++,c.slice(a||0,b)},indexOf:function(a){return a=this.getNode(a),a||0===a?Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a):-1},onDestroy:function(){var a=this;a.all.clear(),a.callParent(),a.bindStore(null),a.selModel.destroy()},onItemSelect:function(a){var b=this.getNode(a);b&&Ext.fly(b).addCls(this.selectedItemCls)},onItemDeselect:function(a){var b=this.getNode(a);b&&Ext.fly(b).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var a=this.getSelectionModel();return a.select.apply(a,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var a=this.getSelectionModel();return a.deselectAll()}})})}),Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var a=this;a.callParent(),a.mouseOverOutBuffer?(a.handleMouseOverOrOut=Ext.Function.createBuffered(a.handleMouseOverOrOut,a.mouseOverOutBuffer,a),a.lastMouseOverOutEvent=new Ext.EventObjectImpl):a.deferHighlight&&(a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer?a.onMouseOverOut:a.handleMouseOverOrOut;a.callParent(),a.mon(a.getTargetEl(),{scope:a,freezeEvent:!0,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:b,mouseout:b})},onMouseOverOut:function(a){var b=this;b.lastMouseOverOutEvent.setEvent(a.browserEvent,!0),b.handleMouseOverOrOut(b.lastMouseOverOutEvent)},handleMouseOverOrOut:function(a){var b=this,c="mouseout"===a.type,d=c?a.getRelatedTarget:a.getTarget,e=d.call(a,b.itemSelector)||d.call(a,b.dataRowSelector);b.mouseOverItem&&e===b.mouseOverItem||(b.mouseOverItem&&(a.item=b.mouseOverItem,a.newType="mouseleave",b.handleEvent(a)),b.mouseOverItem=e,b.mouseOverItem&&(a.item=b.mouseOverItem,a.newType="mouseenter",b.handleEvent(a)))},handleEvent:function(a){var b=this,c="keydown"==a.type&&a.getKey();b.processUIEvent(a)!==!1&&b.processSpecialEvent(a),c===a.SPACE&&(b.inputTagRe.test(a.getTarget().tagName)||a.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(Ext.getBody().isAncestor(a.target)){var b,c,d,e=this,f=a.getTarget(e.getItemSelector(),e.getTargetEl()),g=this.statics().EventMap,h=a.type,i=a.type;if(a.newType&&(i=a.newType,f=a.item),f||"keydown"!=h||(d=e.getSelectionModel(),c=d.lastFocused||d.getLastSelected(),c&&(f=e.getNode(c,!0))),f){if(c||(c=e.getRecord(f)),b=e.indexInStore?e.indexInStore(c):e.indexOf(f),!c||e.processItemEvent(c,f,b,a)===!1)return!1;if(e["onBeforeItem"+g[i]](c,f,b,a)===!1||e.fireEvent("beforeitem"+i,e,c,f,b,a)===!1||e["onItem"+g[i]](c,f,b,a)===!1)return!1;e.fireEvent("item"+i,e,c,f,b,a)}else{if(e.processContainerEvent(a)===!1||e["onBeforeContainer"+g[h]](a)===!1||e.fireEvent("beforecontainer"+h,e,a)===!1||e["onContainer"+g[h]](a)===!1)return!1;e.fireEvent("container"+h,e,a)}return!0}},onItemMouseEnter:function(a,b){this.trackOver&&this.highlightItem(b)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(a){var b,c=this,d=c.highlightedItem,e=c.overItemCls,f=c.beforeOverItemCls;d!=a&&(d&&(Ext.fly(d).removeCls(e),b=d.previousSibling,f&&b&&Ext.fly(b).removeCls(f),c.fireEvent("unhighlightitem",c,d)),c.highlightedItem=a,a&&(Ext.fly(a).addCls(c.overItemCls),b=a.previousSibling,f&&b&&Ext.fly(b).addCls(f),c.fireEvent("highlightitem",c,a)))},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(a,b){var c,d,e,f=this;f.viewReady&&(c=f.getNode(b),d=f.callParent(arguments),e=f.highlightedItem,e&&e===c&&(delete f.highlightedItem,d&&f.highlightItem(d)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(a){var b,c=this,d=c.getNode(a,!0),e=c.el,f=0,g=0,h=e.getRegion();h.bottom=h.top+e.dom.clientHeight,h.right=h.left+e.dom.clientWidth,d&&(b=Ext.fly(d).getRegion(),b.top<h.top?f=b.top-h.top:b.bottom>h.bottom&&(f=b.bottom-h.bottom),b.left<h.left?g=b.left-h.left:b.right>h.right&&(g=b.right-h.right),(g||f)&&c.scrollBy(g,f,!1),e.focus())}}),Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(a){var b=this,c=b.owner,d=c.pagingToolbar;b.callParent(arguments),c.floating&&(a.savedXY=c.getXY(),c.setXY([0,-9999])),d&&(a.toolbarContext=a.context.getCmp(d)),a.listContext=a.getEl("listEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments),a.heightModel.auto&&(b.el.setHeight("auto"),b.listEl.setHeight("auto"))},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return!0},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments),b&&this.owner.setXY(b)},measureContentWidth:function(){return this.owner.listEl.getWidth()},measureContentHeight:function(){return this.owner.listEl.getHeight()},publishInnerHeight:function(a,b){var c=a.toolbarContext,d=0;c&&(d=c.getProp("height")),void 0===d?this.done=!1:a.listContext.setHeight(b-a.getFrameInfo().height-d)},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments),c=a.toolbarContext;return c&&(b+=c.getProp("height")),b}}),Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent(),Ext.apply(a.renderData,{text:a.text})},setText:function(a){var b=this;b.text=a,b.rendered&&(b.el.update(a),b.updateLayout())}}),Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div></td></tr>',initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var a,b=this;b.callParent(arguments),a=b.triggerEl,b.spinUpEl=a.item(0),b.spinDownEl=a.item(1),b.triggerCell=b.spinUpEl.parent(),b.keyNavEnabled&&(b.spinnerKeyNav=new Ext.util.KeyNav(b.inputEl,{scope:b,up:b.spinUp,down:b.spinDown})),b.mouseWheelEnabled&&b.mon(b.bodyEl,"mousewheel",b.onMouseWheel,b)},getSubTplMarkup:function(a){var b=this,c=a.childElCls,d=Ext.form.field.Base.prototype.getSubTplMarkup.apply(b,arguments);return'<table id="'+b.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+c+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+b.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+c+'">'+d+"</td>"+b.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var a=this,b=a.readOnly||a.hideTrigger;return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:b?"display:none":"",spinnerUpCls:a.spinUpEnabled?"":a.trigger1Cls+"-disabled",spinnerDownCls:a.spinDownEnabled?"":a.trigger2Cls+"-disabled"}},getTriggerWidth:function(){var a=this,b=0;return!a.triggerWrap||a.hideTrigger||a.readOnly||(b=a.triggerWidth),b},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var a=this;a.spinUpEnabled&&!a.disabled&&(a.fireEvent("spin",a,"up"),a.fireEvent("spinup",a),a.onSpinUp())},spinDown:function(){var a=this;a.spinDownEnabled&&!a.disabled&&(a.fireEvent("spin",a,"down"),a.fireEvent("spindown",a),a.onSpinDown())},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a,c!==a&&b.rendered&&b.spinUpEl[a?"removeCls":"addCls"](b.trigger1Cls+"-disabled")},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a,c!==a&&b.rendered&&b.spinDownEl[a?"removeCls":"addCls"](b.trigger2Cls+"-disabled")},onMouseWheel:function(a){var b,c=this;c.hasFocus&&(b=a.getWheelDelta(),b>0?c.spinUp():0>b&&c.spinDown(),a.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var a=this;a.callParent(),a.setMinValue(a.minValue),a.setMaxValue(a.maxValue)},getErrors:function(a){var b,c=this,d=c.callParent(arguments),e=Ext.String.format;return a=Ext.isDefined(a)?a:this.processRawValue(this.getRawValue()),a.length<1?d:(a=String(a).replace(c.decimalSeparator,"."),isNaN(a)&&d.push(e(c.nanText,a)),b=c.parseValue(a),0===c.minValue&&0>b?d.push(this.negativeText):b<c.minValue&&d.push(e(c.minText,c.minValue)),b>c.maxValue&&d.push(e(c.maxText,c.maxValue)),d)},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));return null===b&&(b=a||null),b},valueToRaw:function(a){var b=this,c=b.decimalSeparator;return a=b.parseValue(a),a=b.fixPrecision(a),a=Ext.isNumber(a)?a:parseFloat(String(a).replace(c,".")),a=isNaN(a)?"":String(a).replace(".",c)},getSubmitValue:function(){var a=this,b=a.callParent();return a.submitLocaleSeparator||(b=b.replace(a.decimalSeparator,".")),b},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var a,b=this,c=b.getValue(),d=null===c;(b.spinUpEnabled||b.spinUpDisabledByToggle)&&(a=d||c<b.maxValue,b.setSpinUpEnabled(a,!0)),(b.spinDownEnabled||b.spinDownDisabledByToggle)&&(a=d||c>b.minValue,b.setSpinDownEnabled(a,!0))},setMinValue:function(a){var b,c=this;c.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY),c.toggleSpinners(),c.disableKeyFilter!==!0&&(b=c.baseChars+"",c.allowExponential?b+=c.decimalSeparator+"e+-":(c.allowDecimals&&(b+=c.decimalSeparator),c.minValue<0&&(b+="-")),b=Ext.String.escapeRegex(b),c.maskRe=new RegExp("["+b+"]"),c.autoStripChars&&(c.stripCharsRe=new RegExp("[^"+b+"]","gi")))},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(a){return a=parseFloat(String(a).replace(this.decimalSeparator,".")),isNaN(a)?null:a},fixPrecision:function(a){var b=this,c=isNaN(a),d=b.decimalPrecision;return c||!a?c?"":a:((!b.allowDecimals||0>=d)&&(d=0),parseFloat(Ext.Number.toFixed(parseFloat(a),d)))},beforeBlur:function(){var a=this,b=a.parseValue(a.getRawValue());Ext.isEmpty(b)||a.setValue(b)},setSpinUpEnabled:function(a,b){this.callParent(arguments),b?this.spinUpDisabledByToggle=!a:delete this.spinUpDisabledByToggle},onSpinUp:function(){var a=this;a.readOnly||a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))},setSpinDownEnabled:function(a,b){this.callParent(arguments),b?this.spinDownDisabledByToggle=!a:delete this.spinDownDisabledByToggle},onSpinDown:function(){var a=this;a.readOnly||a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))},setSpinValue:function(a){var b=this;b.enforceMaxLength&&b.fixPrecision(a).toString().length>b.maxLength||b.setValue(a)}}),Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:{bindable:"Ext.util.Bindable"},displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,b=a.getPagingItems(),c=a.items||a.buttons||[];a.items=a.prependButtons?c.concat(b):b.concat(c),delete a.buttons,a.displayInfo&&(a.items.push("->"),a.items.push({xtype:"tbtext",itemId:"displayItem"})),a.callParent(),a.addEvents("change","beforechange"),a.on("beforerender",a.onLoad,a,{single:!0}),a.bindStore(a.store||"ext-empty-store",!0)},updateInfo:function(){var a,b,c=this,d=c.child("#displayItem"),e=c.store,f=c.getPageData();d&&(a=e.getCount(),b=0===a?c.emptyMsg:Ext.String.format(c.displayMsg,f.fromRecord,f.toRecord,f.total),d.setText(b))},onLoad:function(){var a,b,c,d,e,f,g,h=this;e=h.store.getCount(),f=0===e,f?(b=0,c=0,d=Ext.String.format(h.afterPageText,0)):(a=h.getPageData(),b=a.currentPage,c=a.pageCount,d=Ext.String.format(h.afterPageText,isNaN(c)?1:c)),Ext.suspendLayouts(),g=h.child("#afterTextItem"),g&&g.setText(d),g=h.getInputItem(),g&&g.setDisabled(f).setValue(b),h.setChildDisabled("#first",1===b||f),h.setChildDisabled("#prev",1===b||f),h.setChildDisabled("#next",b===c||f),h.setChildDisabled("#last",b===c||f),h.setChildDisabled("#refresh",!1),h.updateInfo(),Ext.resumeLayouts(!0),h.rendered&&h.fireEvent("change",h,a)},setChildDisabled:function(a,b){var c=this.child(a);c&&c.setDisabled(b)},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){this.rendered&&this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(a){var b,c=this.getInputItem(),d=!1;return c&&(b=c.getValue(),d=parseInt(b,10),!b||isNaN(d))?(c.setValue(a.currentPage),!1):d},onPagingFocus:function(){var a=this.getInputItem();a&&a.select()},onPagingBlur:function(){var a,b=this.getInputItem();b&&(a=this.getPageData().currentPage,b.setValue(a))},onPagingKeyDown:function(a,b){var c,d=this,e=b.getKey(),f=d.getPageData(),g=b.shiftKey?10:1;e==b.RETURN?(b.stopEvent(),c=d.readPageFromInput(f),c!==!1&&(c=Math.min(Math.max(1,c),f.pageCount),d.fireEvent("beforechange",d,c)!==!1&&d.store.loadPage(c))):e==b.HOME||e==b.END?(b.stopEvent(),c=e==b.HOME?1:f.pageCount,a.setValue(c)):(e==b.UP||e==b.PAGE_UP||e==b.DOWN||e==b.PAGE_DOWN)&&(b.stopEvent(),c=d.readPageFromInput(f),c&&((e==b.DOWN||e==b.PAGE_DOWN)&&(g*=-1),c+=g,c>=1&&c<=f.pageCount&&a.setValue(c)))},beforeLoad:function(){this.rendered&&this.setChildDisabled("#refresh",!0)},moveFirst:function(){this.fireEvent("beforechange",this,1)!==!1&&this.store.loadPage(1)},movePrevious:function(){var a=this,b=a.store.currentPage-1;b>0&&a.fireEvent("beforechange",a,b)!==!1&&a.store.previousPage()},moveNext:function(){var a=this,b=a.getPageData().pageCount,c=a.store.currentPage+1;b>=c&&a.fireEvent("beforechange",a,c)!==!1&&a.store.nextPage()},moveLast:function(){var a=this,b=a.getPageData().pageCount;a.fireEvent("beforechange",a,b)!==!1&&a.store.loadPage(b)},doRefresh:function(){var a=this,b=a.store.currentPage;a.fireEvent("beforechange",a,b)!==!1&&a.store.loadPage(b)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind(),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],mixins:{queryable:"Ext.Queryable"},pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var a=this,b=a.baseCls,c=a.itemCls;a.selectedItemCls=b+"-selected",a.trackOver&&(a.overItemCls=b+"-item-over"),a.itemSelector="."+c,a.floating&&a.addCls(b+"-floating"),a.tpl?a.tpl.isTemplate||(a.tpl=new Ext.XTemplate(a.tpl)):a.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+c+'">'+a.getInnerTpl(a.displayField)+"</li>","</tpl></ul>"),a.pageSize&&(a.pagingToolbar=a.createPagingToolbar()),a.callParent()},beforeRender:function(){var a=this;a.callParent(arguments),a.up("menu")&&a.addCls(Ext.baseCSSPrefix+"menu")},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments),a&&a.finishRender()},refresh:function(){var a=this,b=a.tpl,c=a.pagingToolbar,d=a.rendered;b.field=a.pickerField,b.store=a.store,a.callParent(),b.field=b.store=null,d&&c&&c.rendered&&!a.preserveScrollOnRefresh&&a.el.appendChild(c.el),d&&Ext.isIE6&&Ext.isStrict&&a.listEl.repaint()},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments),c&&c.bindStore(a,b)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}}),Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(a,b){var c=this;c.boundList=b.boundList,c.callParent([a,Ext.apply({},b,c.defaultHandlers)])},defaultHandlers:{up:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e>0?e-1:c.getCount()-1;a.highlightAt(f)},down:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e<c.getCount()-1?e+1:0;a.highlightAt(f)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(a){var b=this.boundList,c=b.all.item(a);c&&(c=c.dom,b.highlightItem(c),b.getTargetEl().scrollChildIntoView(c,!1))},selectHighlighted:function(a){var b=this,c=b.boundList,d=c.highlightedItem,e=c.getSelectionModel();d&&e.selectWithEvent(c.getRecord(d),a)}}),Ext.define("Ext.layout.component.field.ComboBox",{extend:"Ext.layout.component.field.Trigger",alias:"layout.combobox",requires:["Ext.util.TextMetrics"],type:"combobox",startingWidth:null,getTextWidth:function(){for(var a,b,c,d=this,e=d.owner,f=e.store,g=e.displayField,h=f.data.length,i="",j=0,k=0;h>j;j++)b=f.getAt(j).data[g],a=b.length,a>k&&(k=a,i=b);return c=Math.max(d.callParent(arguments),e.inputEl.getTextWidth(i+e.growAppend)),(!d.startingWidth||e.removingRecords)&&(d.startingWidth=c,c<e.growMin&&(e.defaultListConfig.minWidth=e.growMin),e.removingRecords=!1),c<d.startingWidth?d.startingWidth:c}}),Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager","Ext.layout.component.field.ComboBox"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:"Ext.util.Bindable"},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){var a=this;return Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls}),a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments),a.setHiddenValue(a.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var a,b,c=this,d=Ext.isDefined,e=c.store,f=c.transform;Ext.applyIf(c.renderSelectors,{hiddenDataEl:"."+c.hiddenDataCls.split(" ").join(".")}),this.addEvents("beforequery","select","beforeselect","beforedeselect"),f&&(a=Ext.getDom(f),a&&(c.store||(e=Ext.Array.map(Ext.Array.from(a.options),function(a){return[a.value,a.text]})),c.name||(c.name=a.name),"value"in c||(c.value=a.value))),c.bindStore(e||"ext-empty-store",!0),e=c.store,e.autoCreated&&(c.queryMode="local",c.valueField=c.displayField="field1",e.expanded||(c.displayField="field2")),d(c.valueField)||(c.valueField=c.displayField),b="local"===c.queryMode,d(c.queryDelay)||(c.queryDelay=b?10:500),d(c.minChars)||(c.minChars=b?0:4),c.displayTpl?Ext.isString(c.displayTpl)&&(c.displayTpl=new Ext.XTemplate(c.displayTpl)):c.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+c.displayField+'"]]}<tpl if="xindex < xcount">'+c.delimiter+"</tpl></tpl>"),c.callParent(),c.doQueryTask=new Ext.util.DelayedTask(c.doRawQuery,c),c.store.getCount()>0&&c.setValue(c.value),a&&(c.render(a.parentNode,a),Ext.removeNode(a),delete c.renderTo)},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel(),this.assertValue()},assertValue:function(){var a,b,c=this,d=c.getRawValue();c.forceSelection&&(c.multiSelect?d!==c.getDisplayValue()&&c.setValue(c.lastSelection):(a=c.findRecordByDisplay(d),a?(b=c.value,c.findRecordByValue(b)||c.select(a,!0)):c.setValue(c.lastSelection))),c.collapse()},onTypeAhead:function(){var a,b,c,d=this,e=d.displayField,f=d.store.findRecord(e,d.getRawValue()),g=d.getPicker();f&&(a=f.get(e),b=a.length,c=d.getRawValue().length,g.highlightItem(g.getNode(f)),0!==c&&c!==b&&(d.setRawValue(a),d.selectText(c,a.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.queryFilter&&!this.queryFilter.disabled&&(this.queryFilter.disabled=!0,this.store.filter())},onUnbindStore:function(a){var b=this,c=b.picker;b.queryFilter&&b.store.removeFilter(b.queryFilter),!a&&c&&c.bindStore(null)},onBindStore:function(a,b){var c=this.picker;b||this.resetToDefault(),c&&c.bindStore(a)},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;a.resizeComboToGrow()&&a.updateLayout()},onClear:function(){var a=this;a.resizeComboToGrow()&&(a.removingRecords=!0,a.onDataChanged())},onRemove:function(){var a=this;a.resizeComboToGrow()&&(a.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(a,b,c){var d=this;d.ignoreSelection>0&&--d.ignoreSelection,c&&!a.lastOptions.rawQuery&&(null==d.value&&d.store.getCount()?d.doAutoSelect():d.setValue(d.value))},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(a,b,c){var d=this,e=d.beforeQuery({query:a||"",rawQuery:c,forceAll:b,combo:d,cancel:!1});return e===!1||e.cancel?!1:(d.queryCaching&&e.query===d.lastQuery?d.expand():(d.lastQuery=e.query,"local"===d.queryMode?d.doLocalQuery(e):d.doRemoteQuery(e)),!0)},beforeQuery:function(a){var b=this;return b.fireEvent("beforequery",a)===!1?a.cancel=!0:a.cancel||a.query.length<b.minChars&&!a.forceAll&&(a.cancel=!0),a},doLocalQuery:function(a){var b=this,c=a.query;b.queryFilter||(b.queryFilter=new Ext.util.Filter({id:b.id+"-query-filter",anyMatch:b.anyMatch,caseSensitive:b.caseSensitive,root:"data",property:b.displayField}),b.store.addFilter(b.queryFilter,!1)),c||!a.forceAll?(b.queryFilter.disabled=!1,b.queryFilter.setValue(b.enableRegEx?new RegExp(c):c)):b.queryFilter.disabled=!0,b.store.filter(),b.store.getCount()?b.expand():b.collapse(),b.afterQuery(a)},doRemoteQuery:function(a){var b=this,c=function(){b.afterQuery(a)};b.expand(),b.pageSize?b.loadPage(1,{rawQuery:a.rawQuery,callback:c}):b.store.load({params:b.getParams(a.query),rawQuery:a.rawQuery,callback:c})},afterQuery:function(a){var b=this;b.store.getCount()&&(b.typeAhead&&b.doTypeAhead(),b.getRawValue()!==b.getDisplayValue()&&(b.ignoreSelection++,b.picker.getSelectionModel().deselectAll(),b.ignoreSelection--),a.rawQuery?(b.syncSelection(),b.picker&&!b.picker.getSelectionModel().hasSelection()&&b.doAutoSelect()):b.doAutoSelect())},loadPage:function(a,b){this.store.loadPage(a,Ext.apply({params:this.getParams(this.lastQuery)},b))},onPageChange:function(a,b){return this.loadPage(b),!1},getParams:function(a){var b={},c=this.queryParam;return c&&(b[c]=a),b},doAutoSelect:function(){var a,b,c=this,d=c.picker;d&&c.autoSelect&&c.store.getCount()>0&&(a=d.getSelectionModel().lastSelected,b=d.getNode(a||0),b&&(d.highlightItem(b),d.listEl.scrollChildIntoView(b,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var a=this;a.readOnly||a.disabled||(a.isExpanded?a.collapse():(a.onFocus({}),"all"===a.triggerAction?a.doQuery(a.allQuery,!0):"last"===a.triggerAction?a.doQuery(a.lastQuery,!0):a.doQuery(a.getRawValue(),!1,!0)),a.inputEl.focus())},onPaste:function(){var a=this;
a.readOnly||a.disabled||!a.editable||a.doQueryTask.delay(a.queryDelay)},onKeyUp:function(a){var b=this,c=a.getKey();b.readOnly||b.disabled||!b.editable||(b.lastKey=c,a.isSpecialKey()&&c!=a.BACKSPACE&&c!=a.DELETE||b.doQueryTask.delay(b.queryDelay)),b.enableKeyEvents&&b.callParent(arguments)},initEvents:function(){var a=this;a.callParent(),a.enableKeyEvents||a.mon(a.inputEl,"keyup",a.onKeyUp,a),a.mon(a.inputEl,"paste",a.onPaste,a)},onDestroy:function(){Ext.destroy(this.listKeyNav),this.bindStore(null),this.callParent()},onAdded:function(){var a=this;a.callParent(arguments),a.picker&&(a.picker.ownerCt=a.up("[floating]"),a.picker.registerWithOwnerCt())},createPicker:function(){var a,b=this,c=Ext.apply({xtype:"boundlist",pickerField:b,selModel:{mode:b.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:b.store,displayField:b.displayField,focusOnToFront:!1,pageSize:b.pageSize,tpl:b.tpl},b.listConfig,b.defaultListConfig);return a=b.picker=Ext.widget(c),b.pageSize&&a.pagingToolbar.on("beforechange",b.onPageChange,b),b.mon(a,{itemclick:b.onItemClick,refresh:b.onListRefresh,scope:b}),b.mon(a.getSelectionModel(),{beforeselect:b.onBeforeSelect,beforedeselect:b.onBeforeDeselect,selectionchange:b.onListSelectionChange,scope:b}),a},alignPicker:function(){var a=this,b=a.getPicker(),c=a.getPosition()[1]-Ext.getBody().getScroll().top,d=Ext.Element.getViewHeight()-c-a.getHeight(),e=Math.max(c,d);b.height&&(delete b.height,b.updateLayout()),b.getHeight()>e-5&&b.setHeight(e-5),a.callParent()},onListRefresh:function(){this.expanding||this.alignPicker(),this.syncSelection()},onItemClick:function(a,b){var c=this,d=c.picker.getSelectionModel().getSelection(),e=c.valueField;!c.multiSelect&&d.length&&b.get(e)===d[0].get(e)&&(c.displayTplData=[b.data],c.setRawValue(c.getDisplayValue()),c.collapse())},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,b.index)},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,b.index)},onListSelectionChange:function(a,b){var c=this,d=c.multiSelect,e=b.length>0;!c.ignoreSelection&&c.isExpanded&&(d||Ext.defer(c.collapse,1,c),(d||e)&&c.setValue(b,!1),e&&c.fireEvent("select",c,b),c.inputEl.focus())},onExpand:function(){var a=this,b=a.listKeyNav,c=a.selectOnTab,d=a.getPicker();b?b.enable():b=a.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:d,forceKeyDown:!0,tab:function(b){return c&&(this.selectHighlighted(b),a.triggerBlur()),!0},enter:function(b){var c=d.getSelectionModel(),e=c.getCount();this.selectHighlighted(b),a.multiSelect||e!==c.getCount()||a.collapse()}}),c&&(a.ignoreMonitorTab=!0),Ext.defer(b.enable,1,b),a.inputEl.focus()},onCollapse:function(){var a=this,b=a.listKeyNav;b&&(b.disable(),a.ignoreMonitorTab=!1)},select:function(a,b){var c,d=this,e=d.picker;a&&a.isModel&&b===!0&&e&&(c=!e.getSelectionModel().isSelected(a)),d.setValue(a,!0),c&&d.fireEvent("select",d,a)},findRecord:function(a,b){var c=this.store,d=c.findExact(a,b);return-1!==d?c.getAt(d):!1},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(a,b){var c,d,e,f,g=this,h=g.valueNotFoundText,i=g.inputEl,j=[],k=[],l=[];if(g.store.loading)return g.value=a,g.setHiddenValue(g.value),g;for(a=Ext.Array.from(a),c=0,d=a.length;d>c;c++)e=a[c],e&&e.isModel||(e=g.findRecordByValue(e)),e?(j.push(e),k.push(e.data),l.push(e.get(g.valueField))):g.forceSelection?Ext.isDefined(h)&&k.push(h):(l.push(a[c]),f={},f[g.displayField]=a[c],k.push(f));return g.setHiddenValue(l),g.value=g.multiSelect?l:l[0],Ext.isDefined(g.value)||(g.value=null),g.displayTplData=k,g.lastSelection=g.valueModels=j,i&&g.emptyText&&!Ext.isEmpty(a)&&i.removeCls(g.emptyCls),g.setRawValue(g.getDisplayValue()),g.checkChange(),b!==!1&&g.syncSelection(),g.applyEmptyText(),g},setHiddenValue:function(a){var b,c,d,e,f,g,h=this,i=h.hiddenName;if(h.hiddenDataEl&&i){for(a=Ext.Array.from(a),c=h.hiddenDataEl.dom,d=c.childNodes,e=d[0],f=a.length,g=d.length,!e&&f>0&&(h.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:i})),g=1,e=c.firstChild);g>f;)c.removeChild(d[0]),--g;for(;f>g;)c.appendChild(e.cloneNode(!0)),++g;for(b=0;f>b;b++)d[b].value=a[b]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,b=a.picker,c=a.getRawValue(),d=a.value;return a.getDisplayValue()!==c&&(d=c,a.value=a.displayTplData=a.valueModels=null,b&&(a.ignoreSelection++,b.getSelectionModel().deselectAll(),a.ignoreSelection--)),d},getSubmitValue:function(){var a=this.getValue();return Ext.isEmpty(a)&&(a=""),a},isEqual:function(a,b){var c,d,e=Ext.Array.from;if(a=e(a),b=e(b),d=a.length,d!==b.length)return!1;for(c=0;d>c;c++)if(b[c]!==a[c])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var a,b,c,d,e=this,f=e.picker,g=e.valueModels||[],h=g.length;if(f){for(a=[],c=0;h>c;c++)d=g[c],d&&d.isModel&&e.store.indexOf(d)>=0&&a.push(d);e.ignoreSelection++,b=f.getSelectionModel(),b.deselectAll(),a.length&&b.select(a,void 0,!0),e.ignoreSelection--}},onEditorTab:function(a){var b=this.listKeyNav;this.selectOnTab&&b&&b.selectHighlighted(a)}}),Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected",a.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),a.small&&a.addCls(a.smallCls),a.setValue(a.value),a.activeYear=a.getYear((new Date).getFullYear()-4,-4),a.showButtons&&(a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a}),a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})),this.callParent()},beforeRender:function(){var a=this,b=0,c=[],d=Ext.Date.getShortMonthName,e=a.monthOffset,f=a.monthMargin,g="";for(a.callParent();e>b;++b)c.push(d(b),d(b+e));Ext.isDefined(f)&&(g="margin: 0 "+f+"px;"),Ext.apply(a.renderData,{months:c,years:a.getYears(),showButtons:a.showButtons,monthStyle:g})},afterRender:function(){{var a=this,b=a.bodyEl;a.buttonsEl}a.callParent(),a.mon(b,"click",a.onBodyClick,a),a.mon(b,"dblclick",a.onBodyClick,a),a.years=b.select("."+a.baseCls+"-year a"),a.months=b.select("."+a.baseCls+"-month a"),a.backRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:Ext.Function.bind(a.adjustYear,a,[-a.totalYears])}),a.prevEl.addClsOnOver(a.baseCls+"-yearnav-prev-over"),a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:Ext.Function.bind(a.adjustYear,a,[a.totalYears])}),a.nextEl.addClsOnOver(a.baseCls+"-yearnav-next-over"),a.updateBody(),Ext.isDefined(a.monthMargin)||(Ext.picker.Month.prototype.monthMargin=a.calculateMonthMargin())},calculateMonthMargin:function(){for(var a=this,b=(a.monthEl,a.months),c=b.first(),d=c.getMargin("l");d&&a.getLargest()>a.measureMaxHeight;)--d,b.setStyle("margin","0 "+d+"px");return d},getLargest:function(){var a=0;return this.months.each(function(b){var c=b.getHeight();c>a&&(a=c)}),a},setValue:function(a){{var b,c=this,d=c.activeYear;c.monthOffset}return c.value=a?Ext.isDate(a)?[a.getMonth(),a.getFullYear()]:[a[0],a[1]]:[null,null],c.rendered&&(b=c.value[1],null!==b&&(d>b||b>d+c.yearOffset)&&(c.activeYear=b-c.yearOffset+1),c.updateBody()),c},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return null!==a[0]&&null!==a[1]},getYears:function(){for(var a=this,b=a.yearOffset,c=a.activeYear,d=c+b,e=c,f=[];d>e;++e)f.push(e,e+b);return f},updateBody:function(){var a,b,c,d,e,f=this,g=f.years,h=f.months,i=f.getYears(),j=f.selectedCls,k=f.getYear(null),l=f.value[0],m=f.monthOffset;if(f.rendered){for(g.removeCls(j),h.removeCls(j),b=g.elements,d=b.length,c=0;d>c;c++)e=Ext.fly(b[c]),a=i[c],e.dom.innerHTML=a,a==k&&e.addCls(j);null!==l&&(l=m>l?2*l:2*(l-m)+1,h.item(l).addCls(j))}},getYear:function(a,b){var c=this.value[1];return b=b||0,null===c?a:c+b},onBodyClick:function(a,b){var c=this,d="dblclick"==a.type;a.getTarget("."+c.baseCls+"-month")?(a.stopEvent(),c.onMonthClick(b,d)):a.getTarget("."+c.baseCls+"-year")&&(a.stopEvent(),c.onYearClick(b,d))},adjustYear:function(a){"number"!=typeof a&&(a=this.totalYears),this.activeYear+=a,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(a,b){var c=this;c.value[0]=c.resolveOffset(c.months.indexOf(a),c.monthOffset),c.updateBody(),c.fireEvent("month"+(b?"dbl":"")+"click",c,c.value),c.fireEvent("select",c,c.value)},onYearClick:function(a,b){var c=this;c.value[1]=c.activeYear+c.resolveOffset(c.years.indexOf(a),c.yearOffset),c.updateBody(),c.fireEvent("year"+(b?"dbl":"")+"click",c,c.value),c.fireEvent("select",c,c.value)},resolveOffset:function(a,b){return a%2===0?a/2:b+Math.floor(a/2)},beforeDestroy:function(){var a=this;a.years=a.months=null,Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn"),a.callParent()},finishRenderChildren:function(){var a=this;this.callParent(arguments),this.showButtons&&(a.okBtn.finishRender(),a.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}}),Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.EventObject","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;var b=a%7===0&&0!==a;return b?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var a=this,b=Ext.Date.clearTime;a.selectedCls=a.baseCls+"-selected",a.disabledCellCls=a.baseCls+"-disabled",a.prevCls=a.baseCls+"-prevday",a.activeCls=a.baseCls+"-active",a.cellCls=a.baseCls+"-cell",a.nextCls=a.baseCls+"-prevday",a.todayCls=a.baseCls+"-today",a.format||(a.format=Ext.Date.defaultFormat),a.dayNames||(a.dayNames=Ext.Date.dayNames),a.dayNames=a.dayNames.slice(a.startDay).concat(a.dayNames.slice(0,a.startDay)),a.callParent(),a.value=a.value?b(a.value,!0):b(new Date),a.addEvents("select"),a.initDisabledDays()},beforeRender:function(){var a=this,b=new Array(a.numDays),c=Ext.Date.format(new Date,a.format);a.up("menu")&&a.addCls(Ext.baseCSSPrefix+"menu"),a.monthBtn=new Ext.button.Split({ownerCt:a,ownerLayout:a.getComponentLayout(),text:"",tooltip:a.monthYearText,listeners:{click:a.showMonthPicker,arrowclick:a.showMonthPicker,scope:a}}),a.showToday&&(a.todayBtn=new Ext.button.Button({ownerCt:a,ownerLayout:a.getComponentLayout(),text:Ext.String.format(a.todayText,c),tooltip:Ext.String.format(a.todayTip,c),tooltipType:"title",handler:a.selectToday,scope:a})),a.callParent(),Ext.applyIf(a,{renderData:{}}),Ext.apply(a.renderData,{dayNames:a.dayNames,showToday:a.showToday,prevText:a.prevText,nextText:a.nextText,days:b}),a.protoEl.unselectable()},finishRenderChildren:function(){var a=this;a.callParent(),a.monthBtn.finishRender(),a.showToday&&a.todayBtn.finishRender()},onRender:function(){var a=this;a.callParent(arguments),a.cells=a.eventEl.select("tbody td"),a.textNodes=a.eventEl.query("tbody td a"),a.mon(a.eventEl,{scope:a,mousewheel:a.handleMouseWheel,click:{fn:a.handleDateClick,delegate:"a."+a.baseCls+"-date"}})},initEvents:function(){var a=this,b=Ext.Date,c=b.DAY;a.callParent(),a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:!0,stopDefault:!0}),a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:!0,stopDefault:!0}),a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(d){d.ctrlKey?a.showPrevMonth():a.update(b.add(a.activeDate,c,-1))},right:function(d){d.ctrlKey?a.showNextMonth():a.update(b.add(a.activeDate,c,1))},up:function(d){d.ctrlKey?a.showNextYear():a.update(b.add(a.activeDate,c,-7))},down:function(d){d.ctrlKey?a.showPrevYear():a.update(b.add(a.activeDate,c,7))},pageUp:function(b){b.altKey?a.showPrevYear():a.showPrevMonth()},pageDown:function(b){b.altKey?a.showNextYear():a.showNextMonth()},tab:function(b){return a.doCancelFieldFocus=!0,a.handleTabClick(b),delete a.doCancelFieldFocus,!0},enter:function(a){return a.stopPropagation(),!0},home:function(){a.update(b.getFirstDateOfMonth(a.activeDate))},end:function(){a.update(b.getLastDateOfMonth(a.activeDate))}},a.keyNavConfig)),a.showToday&&(a.todayKeyListener=a.eventEl.addKeyListener(Ext.EventObject.SPACE,a.selectToday,a)),a.update(a.value)},handleTabClick:function(){var a=this,b=a.getSelectedDate(a.activeDate),c=a.handler;a.disabled||!b.dateValue||Ext.fly(b.parentNode).hasCls(a.disabledCellCls)||(a.doCancelFocus=a.focusOnSelect===!1,a.setValue(new Date(b.dateValue)),delete a.doCancelFocus,a.fireEvent("select",a,a.value),c&&c.call(a.scope||a,a,a.value),a.onSelect())},getSelectedDate:function(a){var b,c,d=this,e=a.getTime(),f=d.cells,g=d.selectedCls,h=f.elements,i=h.length;for(f.removeCls(g),b=0;i>b;b++)if(c=Ext.fly(h[b]),c.dom.firstChild.dateValue==e)return c.dom.firstChild;return null},initDisabledDays:function(){var a,b,c,d,e=this,f=e.disabledDates,g="(?:";if(!e.disabledDatesRE&&f){for(a=f.length-1,c=f.length,b=0;c>b;b++)d=f[b],g+=Ext.isDate(d)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(d,e.format))+"$":d,b!=a&&(g+="|");e.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(a){var b=this;return Ext.isArray(a)?(b.disabledDates=a,b.disabledDatesRE=null):b.disabledDatesRE=a,b.initDisabledDays(),b.update(b.value,!0),b},setDisabledDays:function(a){return this.disabledDays=a,this.update(this.value,!0)},setMinDate:function(a){return this.minDate=a,this.update(this.value,!0)},setMaxDate:function(a){return this.maxDate=a,this.update(this.value,!0)},setValue:function(a){return this.value=Ext.Date.clearTime(a,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(a){var b=this;b.keyNav.setDisabled(a),b.prevRepeater.setDisabled(a),b.nextRepeater.setDisabled(a),b.showToday&&(b.todayKeyListener.setDisabled(a),b.todayBtn.setDisabled(a))},getActive:function(){return this.activeDate||this.value},runAnimation:function(a){var b=this.monthPicker,c={duration:200,callback:function(){a?b.hide():b.show()}};a?b.el.slideOut("t",c):b.el.slideIn("t",c)},hideMonthPicker:function(a){var b=this,c=b.monthPicker;return c&&(b.shouldAnimate(a)?b.runAnimation(!0):c.hide()),b},showMonthPicker:function(a){var b,c=this;return c.rendered&&!c.disabled&&(b=c.createMonthPicker(),b.setValue(c.getActive()),b.setSize(c.getSize()),b.setPosition(-1,-1),c.shouldAnimate(a)?c.runAnimation(!1):b.show()),c},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=this,b=a.monthPicker;return b||(a.monthPicker=b=new Ext.picker.Month({renderTo:a.el,floating:!0,shadow:!1,small:a.showToday===!1,listeners:{scope:a,cancelclick:a.onCancelClick,okclick:a.onOkClick,yeardblclick:a.onOkClick,monthdblclick:a.onOkClick}}),a.disableAnim||b.el.setStyle("display","none"),a.on("beforehide",Ext.Function.bind(a.hideMonthPicker,a,[!1]))),b},onOkClick:function(a,b){var c=this,d=b[0],e=b[1],f=new Date(e,d,c.getActive().getDate());f.getMonth()!==d&&(f=Ext.Date.getLastDateOfMonth(new Date(e,d,1))),c.setValue(f),c.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){if(a.stopEvent(),!this.disabled){var b=a.getWheelDelta();b>0?this.showPrevMonth():0>b&&this.showNextMonth()}},handleDateClick:function(a,b){var c=this,d=c.handler;a.stopEvent(),c.disabled||!b.dateValue||Ext.fly(b.parentNode).hasCls(c.disabledCellCls)||(c.doCancelFocus=c.focusOnSelect===!1,c.setValue(new Date(b.dateValue)),delete c.doCancelFocus,c.fireEvent("select",c,c.value),d&&d.call(c.scope||c,c,c.value),c.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var a=this,b=a.todayBtn,c=a.handler;return b&&!b.disabled&&(a.setValue(Ext.Date.clearTime(new Date)),a.fireEvent("select",a,a.value),c&&c.call(a.scope||a,a,a.value),a.onSelect()),a},selectedUpdate:function(a){var b,c,d=this,e=a.getTime(),f=d.cells,g=d.selectedCls,h=f.elements,i=h.length;for(f.removeCls(g),b=0;i>b;b++)if(c=Ext.fly(h[b]),c.dom.firstChild.dateValue==e){d.fireEvent("highlightitem",d,c),c.addCls(g),d.isVisible()&&!d.doCancelFocus&&Ext.fly(c.dom.firstChild).focus(50);break}},fullUpdate:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.cells.elements,m=k.textNodes,n=k.disabledCellCls,o=Ext.Date,p=0,q=0,r=k.isVisible(),s=+o.clearTime(a,!0),t=+o.clearTime(new Date),u=k.minDate?o.clearTime(k.minDate,!0):Number.NEGATIVE_INFINITY,v=k.maxDate?o.clearTime(k.maxDate,!0):Number.POSITIVE_INFINITY,w=k.disabledDatesRE,x=k.disabledDatesText,y=k.disabledDays?k.disabledDays.join(""):!1,z=k.disabledDaysText,A=k.format,B=o.getDaysInMonth(a),C=o.getFirstDateOfMonth(a),D=C.getDay()-k.startDay,E=o.add(a,o.MONTH,-1),F=k.longDayFormat;for(0>D&&(D+=7),B+=D,b=o.getDaysInMonth(E)-D,c=new Date(E.getFullYear(),E.getMonth(),b,k.initHour),k.showToday&&(e=o.clearTime(new Date),d=u>e||e>v||w&&A&&w.test(o.dateFormat(e,A))||y&&-1!=y.indexOf(e.getDay()),k.disabled||(k.todayBtn.setDisabled(d),k.todayKeyListener.setDisabled(d))),f=function(a,b){j=+o.clearTime(c,!0),a.title=o.format(c,F),a.firstChild.dateValue=j,j==t&&(b+=" "+k.todayCls,a.title=k.todayText,k.todayElSpan=Ext.DomHelper.append(a.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:k.todayText},!0)),j==s&&(b+=" "+k.selectedCls,k.fireEvent("highlightitem",k,a),r&&k.floating&&Ext.fly(a.firstChild).focus(50)),u>j?(b+=" "+n,a.title=k.minText):j>v?(b+=" "+n,a.title=k.maxText):y&&-1!==y.indexOf(c.getDay())?(a.title=z,b+=" "+n):w&&A&&(i=o.dateFormat(c,A),w.test(i)&&(a.title=x.replace("%0",i),b+=" "+n)),a.className=b+" "+k.cellCls};p<k.numDays;++p)D>p?(g=++b,h=k.prevCls):p>=B?(g=++q,h=k.nextCls):(g=p-D+1,h=k.activeCls),m[p].innerHTML=g,c.setDate(c.getDate()+1),f(l[p],h);k.monthBtn.setText(Ext.Date.format(a,k.monthYearFormat))},update:function(a,b){var c=this,d=c.activeDate;return c.rendered&&(c.activeDate=a,!b&&d&&c.el&&d.getMonth()==a.getMonth()&&d.getFullYear()==a.getFullYear()?c.selectedUpdate(a,d):c.fullUpdate(a,d)),c},beforeDestroy:function(){var a=this;a.rendered&&(Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn),delete a.textNodes,delete a.cells.elements),a.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}}),Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var a,b,c=this,d=Ext.isString;a=c.minValue,b=c.maxValue,d(a)&&(c.minValue=c.parseDate(a)),d(b)&&(c.maxValue=c.parseDate(b)),c.disabledDatesRE=null,c.initDisabledDays(),c.callParent()},initValue:function(){var a=this,b=a.value;Ext.isString(b)&&(a.value=a.rawToValue(b)),a.callParent()},initDisabledDays:function(){if(this.disabledDates){var a,b,c=this.disabledDates,d=c.length-1,e="(?:",f=c.length;for(a=0;f>a;a++)b=c[a],e+=Ext.isDate(b)?"^"+Ext.String.escapeRegex(b.dateFormat(this.format))+"$":b,a!==d&&(e+="|");this.disabledDatesRE=new RegExp(e+")")}},setDisabledDates:function(a){var b=this,c=b.picker;b.disabledDates=a,b.initDisabledDays(),c&&c.setDisabledDates(b.disabledDatesRE)},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a,b&&b.setDisabledDays(a)},setMinValue:function(a){var b=this,c=b.picker,d=Ext.isString(a)?b.parseDate(a):a;b.minValue=d,c&&(c.minText=Ext.String.format(b.minText,b.formatDate(b.minValue)),c.setMinDate(d))},setMaxValue:function(a){var b=this,c=b.picker,d=Ext.isString(a)?b.parseDate(a):a;b.maxValue=d,c&&(c.maxText=Ext.String.format(b.maxText,b.formatDate(b.maxValue)),c.setMaxDate(d))},getErrors:function(a){var b,c,d,e,f=this,g=Ext.String.format,h=Ext.Date.clearTime,i=f.callParent(arguments),j=f.disabledDays,k=f.disabledDatesRE,l=f.minValue,m=f.maxValue,n=j?j.length:0,o=0;if(a=f.formatDate(a||f.processRawValue(f.getRawValue())),null===a||a.length<1)return i;if(b=a,a=f.parseDate(a),!a)return i.push(g(f.invalidText,b,Ext.Date.unescapeFormat(f.format))),i;if(e=a.getTime(),l&&e<h(l).getTime()&&i.push(g(f.minText,f.formatDate(l))),m&&e>h(m).getTime()&&i.push(g(f.maxText,f.formatDate(m))),j)for(d=a.getDay();n>o;o++)if(d===j[o]){i.push(f.disabledDaysText);break}return c=f.formatDate(a),k&&k.test(c)&&i.push(g(f.disabledDatesText,c)),i},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(a,b){var c,d=this,e=Ext.Date,f=null,g=d.useStrict;return e.formatContainsHourInfo(b)?f=e.parse(a,b,g):(c=e.parse(a+" "+d.initTime,b+" "+d.initTimeFormat,g),c&&(f=e.clearTime(c))),f},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):""},parseDate:function(a){if(!a||Ext.isDate(a))return a;var b,c=this,d=c.safeParse(a,c.format),e=c.altFormats,f=c.altFormatsArray,g=0;if(!d&&e)for(f=f||e.split("|"),b=f.length;b>g&&!d;++g)d=c.safeParse(a,f[g]);return d},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onDownArrow:function(){this.callParent(arguments),this.isExpanded&&this.getPicker().focus()},onSelect:function(a,b){var c=this;c.setValue(b),c.fireEvent("select",c,b),c.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var a=this,b=a.parseDate(a.getRawValue()),c=a.focusTask;c&&c.cancel(),b&&a.setValue(b)}}),Ext.define("Ext.form.field.FileButton",{extend:"Ext.button.Button",alias:"widget.filebutton",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var a=this.callParent();return a.inputCls=this.inputCls,a.inputName=this.inputName,a},afterRender:function(){var a=this;a.callParent(arguments),a.fileInputEl.on("change",a.fireChange,a)},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(a){var b=this;b.fileInputEl=b.el.createChild({name:b.inputName,id:a?void 0:b.id+"-fileInputEl",cls:b.inputCls,tag:"input",type:"file",size:1}),b.fileInputEl.on("change",b.fireChange,b)},reset:function(a){a&&this.fileInputEl.remove(),this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.remove(),a=Ext.get(a),this.el.appendChild(a),this.fileInputEl=a},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1}}),Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Trigger",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],requires:["Ext.form.field.FileButton"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var a,b=this,c=b.id;b.callParent(arguments),a=b.inputEl,a.dom.name="",b.button=new Ext.form.field.FileButton(Ext.apply({renderTo:c+"-browseButtonWrap",ownerCt:b,ownerLayout:b.componentLayout,id:c+"-button",ui:b.ui,disabled:b.disabled,text:b.buttonText,style:b.buttonOnly?"":b.getButtonMarginProp()+b.buttonMargin+"px",inputName:b.getName(),listeners:{scope:b,change:b.onFileChange}},b.buttonConfig)),b.fileInputEl=b.button.fileInputEl,b.buttonOnly&&b.inputCell.setDisplayed(!1),b.browseButtonWrap.dom.style.width=b.browseButtonWrap.dom.lastChild.offsetWidth+b.button.getEl().getMargin("lr")+"px",Ext.isIE&&b.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(a,b,c){this.lastValue=null,Ext.form.field.File.superclass.setValue.call(this,c)},setValue:Ext.emptyFn,reset:function(){var a=this,b=a.clearOnSubmit;a.rendered&&(a.button.reset(b),a.fileInputEl=a.button.fileInputEl,b&&(a.inputEl.dom.value="")),a.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:function(){return!0},extractFileInput:function(){var a=this.button.fileInputEl.dom;return this.reset(),a},restoreInput:function(a){var b=this.button;b.restoreInput(a),this.fileInputEl=b.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button"),delete this.fileInputEl,this.callParent()},getButtonMarginProp:function(){return"margin-left:"}}),Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,hidden:!0,initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(a,b){return this.isEqualAsString(a,b)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;
a.callParent(arguments),a.addEvents("select"),a.handler&&a.on("select",a.handler,a.scope,!0)},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var a=this,b=a.clickEvent;a.callParent(arguments),a.mon(a.el,b,a.handleClick,a,{delegate:"a"}),"click"!=b&&a.mon(a.el,"click",Ext.emptyFn,a,{delegate:"a",stopEvent:!0})},afterRender:function(){var a,b=this;b.callParent(arguments),b.value&&(a=b.value,b.value=null,b.select(a,!0))},handleClick:function(a,b){var c,d=this;a.stopEvent(),d.disabled||(c=b.className.match(d.colorRe)[1],d.select(c.toUpperCase()))},select:function(a,b){var c,d=this,e=d.selectedCls,f=d.value;return a=a.replace("#",""),d.rendered?void((a!=f||d.allowReselect)&&(c=d.el,d.value&&c.down("a.color-"+f).removeCls(e),c.down("a.color-"+a).addCls(e),d.value=a,b!==!0&&d.fireEvent("select",d,a))):void(d.value=a)},clear:function(){var a,b=this,c=b.value;c&&b.rendered&&(a=b.el.down("a.color-"+c),a.removeCls(b.selectedCls)),b.value=null},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.FieldContainer",alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(a){var b,c=this.owner;Ext.isGecko&&(b=c.textareaEl.dom,this.lastValue=b.value,b.value=""),this.callParent(arguments),a.toolbarContext=a.context.getCmp(c.toolbar),a.inputCmpContext=a.context.getCmp(c.inputCmp),a.textAreaContext=a.getEl("textareaEl"),a.iframeContext=a.getEl("iframeEl")},beginLayoutCycle:function(a){var b=this,c=a.widthModel,d=a.heightModel,e=b.owner,f=e.iframeEl,g=e.textareaEl;b.callParent(arguments),c.shrinkWrap?(f.setStyle("width",""),g.setStyle("width","")):c.natural&&a.bodyCellContext.setWidth(b.naturalWidth),(d.natural||d.shrinkWrap)&&(f.setHeight(b.naturalHeight),g.setHeight(b.naturalHeight))},finishedLayout:function(){var a=this.owner;this.callParent(arguments),Ext.isIE9m&&Ext.isIEQuirks&&a.el.repaint(),Ext.isGecko&&(a.textareaEl.dom.value=this.lastValue)},publishOwnerWidth:function(a,b){this.callParent(arguments),b-=a.inputCmpContext.getBorderInfo().width,a.textAreaContext.setWidth(b),a.iframeContext.setWidth(b)},publishInnerWidth:function(a,b){var c=a.inputCmpContext.getBorderInfo().width,d=Ext.isStrict&&Ext.isIE8m,e=a.widthModel.natural;this.callParent(arguments),b=a.bodyCellContext.props.width-c,e?(d&&(b-=2),a.textAreaContext.setWidth(b),a.iframeContext.setWidth(b)):d&&a.textAreaContext.setWidth(b)},publishInnerHeight:function(a,b){{var c=a.toolbarContext.getProp("height");this.owner.sourceEditMode}this.callParent(arguments),b=a.bodyCellContext.props.height,void 0!==c?(b-=c+a.inputCmpContext.getFrameInfo().height,Ext.isIE8&&Ext.isStrict?b-=2:Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)&&(b-=4),a.iframeContext.setHeight(b),a.textAreaContext.setHeight(b)):this.done=!1}}),Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.layout.container.VBox","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){var a=this;a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),a.items=[a.createToolbar(),a.createInputCmp()],a.layout={type:"vbox",align:"stretch"},a.callParent(arguments),a.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var a=this,b=a.id+"-inputCmp",c={id:b,name:a.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return a.getInsertionRenderData(c,a.subTplInsertions),{flex:1,xtype:"component",tpl:a.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:b,cls:Ext.baseCSSPrefix+"html-editor-input",data:c}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){function a(a,b,c){return{itemId:a,cls:h+"btn-icon",iconCls:h+"edit-"+a,enableToggle:b!==!1,scope:e,handler:c||e.relayBtnCmd,clickEvent:"mousedown",tooltip:g?e.buttonTips[a]||d:d,overflowText:e.buttonTips[a].title||d,tabIndex:-1}}var b,c,d,e=this,f=[],g=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),h=Ext.baseCSSPrefix;for(e.enableFont&&!Ext.isSafari2&&(c=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+h+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){e.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var a=this.selectEl;a&&(a.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;a&&(a.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){e.win.focus(),e.relayCmd("fontName",e.fontSelect.dom.value),e.deferFocus()},element:"selectEl"}}),f.push(c,"-")),e.enableFormat&&f.push(a("bold"),a("italic"),a("underline")),e.enableFontSize&&f.push("-",a("increasefontsize",!1,e.adjustFont),a("decreasefontsize",!1,e.adjustFont)),e.enableColors&&f.push("-",{itemId:"forecolor",cls:h+"btn-icon",iconCls:h+"edit-forecolor",overflowText:e.buttonTips.forecolor.title,tooltip:g?e.buttonTips.forecolor||d:d,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(a,b){e.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:h+"btn-icon",iconCls:h+"edit-backcolor",overflowText:e.buttonTips.backcolor.title,tooltip:g?e.buttonTips.backcolor||d:d,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(a,b){Ext.isGecko?(e.execCmd("useCSS",!1),e.execCmd("hilitecolor","#"+b),e.execCmd("useCSS",!0),e.deferFocus()):e.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+b:b),this.up("menu").hide()}}]})}),e.enableAlignments&&f.push("-",a("justifyleft"),a("justifycenter"),a("justifyright")),Ext.isSafari2||(e.enableLinks&&f.push("-",a("createlink",!1,e.createLink)),e.enableLists&&f.push("-",a("insertorderedlist"),a("insertunorderedlist")),e.enableSourceEdit&&f.push("-",a("sourceedit",!0,function(){e.toggleSourceEdit(!e.sourceEditMode)}))),b=0;b<f.length;b++)"sourceedit"!==f[b].itemId&&(f[b].disabled=!0);return{xtype:"toolbar",defaultButtonUI:e.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:f,listeners:{click:function(a){a.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(a){var b,c=this,d=c.textareaEl,e=c.iframeEl;c.readOnly=a,d&&(d.dom.readOnly=a),c.initialized&&(b=c.getEditorBody(),Ext.isIE?(e.setDisplayed(!1),b.contentEditable=!a,e.setDisplayed(!0)):c.setDesignMode(!a),b&&(b.style.cursor=a?"default":"text"),c.disableItems(a))},getDocMarkup:function(){var a=this,b=a.iframeEl.getHeight()-2*a.iframePad,c=Ext.isIE8m;return Ext.String.format((c?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(a.rtl?"rtl;":"ltr;")+(c?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",a.iframePad,b,a.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var a,b,c,d,e,f,g,h=this,i=0;if(!h.defaultFont){for(b=h.textareaEl.getStyle("font-family"),b=Ext.String.capitalize(b.split(",")[0]),a=Ext.Array.clone(h.fontFamilies),Ext.Array.include(a,b),a.sort(),h.defaultFont=b,c=h.down("#fontSelect").selectEl.dom,e=0,f=a.length;f>e;++e)b=a[e],g=b.toLowerCase(),d=new Option(b,g),b==h.defaultFont&&(i=e),d.style.fontFamily=g,Ext.isIE?c.add(d):c.options.add(d);c.options[i].selected=!0}},isEqual:function(a,b){return this.isEqualAsString(a,b)},afterRender:function(){var a=this,b=a.inputCmp;a.callParent(arguments),a.iframeEl=b.iframeEl,a.textareaEl=b.textareaEl,a.inputEl=a.iframeEl,a.enableFont&&a.initDefaultFont(),a.monitorTask=Ext.TaskManager.start({run:a.checkDesignMode,scope:a,interval:100}),a.relayCmd("fontName",a.defaultFont)},initFrameDoc:function(){var a,b,c=this;Ext.TaskManager.stop(c.monitorTask),a=c.getDoc(),c.win=c.getWin(),a.open(),a.write(c.getDocMarkup()),a.close(),b={run:function(){var a=c.getDoc();(a.body||"complete"===a.readyState)&&(Ext.TaskManager.stop(b),c.setDesignMode(!0),Ext.defer(c.initEditor,10,c))},interval:10,duration:1e4,scope:c},Ext.TaskManager.start(b)},checkDesignMode:function(){var a=this,b=a.getDoc();!b||b.editorInitialized&&"on"===a.getDesignMode()||a.initFrameDoc()},setDesignMode:function(a){var b=this,c=b.getDoc();c&&(b.readOnly&&(a=!1),c.designMode=/on|true/i.test(String(a).toLowerCase())?"on":"off")},getDesignMode:function(){var a=this.getDoc();return a?String(a.designMode).toLowerCase():""},disableItems:function(a){var b,c,d=this.getToolbar().items.items,e=d.length;for(b=0;e>b;b++)c=d[b],"sourceedit"!==c.getItemId()&&c.setDisabled(a)},toggleSourceEdit:function(a){var b=this,c=b.iframeEl,d=b.textareaEl,e=Ext.baseCSSPrefix+"hidden",f=b.getToolbar().getComponent("sourceedit");Ext.isBoolean(a)||(a=!b.sourceEditMode),b.sourceEditMode=a,f.pressed!==a&&f.toggle(a),a?(b.disableItems(!0),b.syncValue(),c.addCls(e),d.removeCls(e),d.dom.removeAttribute("tabIndex"),d.focus(),b.inputEl=d):(b.initialized&&b.disableItems(b.readOnly),b.pushValue(),c.removeCls(e),d.addCls(e),d.dom.setAttribute("tabIndex",-1),b.deferFocus(),b.inputEl=c),b.fireEvent("editmodechange",b,a),b.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!==a&&this.relayCmd("createlink",a)},clearInvalid:Ext.emptyFn,setValue:function(a){{var b=this,c=b.textareaEl;b.inputCmp}return b.mixins.field.setValue.call(b,a),(null===a||void 0===a)&&(a=""),c&&(c.dom.value=a),b.pushValue(),!b.rendered&&b.inputCmp&&(b.inputCmp.data.value=a),b},cleanHtml:function(a){return a=String(a),Ext.isWebKit&&(a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")),a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(a=a.substring(1)),a},syncValue:function(){var a,b,c,d,e,f,g=this;g.initialized&&(a=g.getEditorBody(),c=a.innerHTML,f=g.textareaEl.dom,Ext.isWebKit&&(d=a.getAttribute("style"),e=d.match(/text-align:(.*?);/i),e&&e[1]&&(c='<div style="'+e[0]+'">'+c+"</div>")),c=g.cleanHtml(c),g.fireEvent("beforesync",g,c)!==!1&&(Ext.isGecko&&""===f.value&&"<br>"===c&&(c=""),f.value!==c&&(f.value=c,b=!0),g.fireEvent("sync",g,c),b&&g.checkChange()))},getValue:function(){var a,b=this;return b.sourceEditMode||b.syncValue(),a=b.rendered?b.textareaEl.dom.value:b.value,b.value=a,a},pushValue:function(){var a,b=this;b.initialized&&(a=b.textareaEl.dom.value||"",!b.activated&&a.length<1&&(a=b.defaultValue),b.fireEvent("beforepush",b,a)!==!1&&(b.getEditorBody().innerHTML=a,Ext.isGecko&&(b.setDesignMode(!1),b.setDesignMode(!0)),b.fireEvent("push",b,a)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},focus:function(a,b){var c,d,e=this;return b?(e.focusTask||(e.focusTask=new Ext.util.DelayedTask(e.focus)),e.focusTask.delay(Ext.isNumber(b)?b:10,null,e,[a,!1])):(a&&(e.textareaEl&&e.textareaEl.dom&&(c=e.textareaEl.dom.value),c&&c.length&&e.execCmd("selectall",!0)),d=e.getFocusEl(),d&&d.focus&&d.focus()),e},initEditor:function(){try{var a,b,c=this,d=c.getEditorBody(),e=c.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color");if(e["background-attachment"]="fixed",d.bgProperties="fixed",Ext.DomHelper.applyStyles(d,e),a=c.getDoc())try{Ext.EventManager.removeAll(a)}catch(f){}b=Ext.Function.bind(c.onEditorEvent,c),Ext.EventManager.on(a,{mousedown:b,dblclick:b,click:b,keyup:b,buffer:100}),b=c.onRelayedEvent,Ext.EventManager.on(a,{mousedown:b,mousemove:b,mouseup:b,click:b,dblclick:b,scope:c}),Ext.isGecko&&Ext.EventManager.on(a,"keypress",c.applyCommand,c),c.fixKeys&&Ext.EventManager.on(a,"keydown",c.fixKeys,c),c.fixKeysAfter&&Ext.EventManager.on(a,"keyup",c.fixKeysAfter,c),Ext.isIE9&&Ext.isStrict&&Ext.EventManager.on(a.documentElement,"focus",c.focus,c),(Ext.isIE8m||Ext.isIE9&&!Ext.isStrict)&&(Ext.EventManager.on(a,"focusout",function(){c.savedSelection="None"!==a.selection.type?a.selection.createRange():null},c),Ext.EventManager.on(a,"focusin",function(){c.savedSelection&&c.savedSelection.select()},c)),Ext.EventManager.onWindowUnload(c.beforeDestroy,c),a.editorInitialized=!0,c.initialized=!0,c.pushValue(),c.setReadOnly(c.readOnly),c.fireEvent("initialize",c)}catch(g){}},beforeDestroy:function(){var a,b,c=this,d=c.monitorTask;if(d&&Ext.TaskManager.stop(d),c.rendered){Ext.EventManager.removeUnloadListener(c.beforeDestroy,c);try{if(a=c.getDoc()){Ext.EventManager.removeAll(Ext.fly(a));for(b in a)a.hasOwnProperty&&a.hasOwnProperty(b)&&delete a[b]}}catch(e){}delete c.iframeEl,delete c.textareaEl,delete c.toolbar,delete c.inputCmp}c.callParent()},onRelayedEvent:function(a){var b=this.iframeEl,c=Ext.Element.getTrueXY(b),d=a.getXY(),e=Ext.EventManager.getPageXY(a.browserEvent);a.xy=[c[0]+e[0],c[1]+e[1]],a.injectEvent(b),a.xy=d},onFirstFocus:function(){var a,b,c=this;if(c.activated=!0,c.disableItems(c.readOnly),Ext.isGecko){c.win.focus(),a=c.win.getSelection(),a.focusNode&&3===a.focusNode.nodeType||(b=a.getRangeAt(0),b.selectNodeContents(c.getEditorBody()),b.collapse(!0),c.deferFocus());try{c.execCmd("useCSS",!0),c.execCmd("styleWithCSS",!1)}catch(d){}}c.fireEvent("activate",c)},adjustFont:function(a){var b,c="increasefontsize"===a.getItemId()?1:-1,d=this.getDoc().queryCommandValue("FontSize")||"2",e=Ext.isString(d)&&-1!==d.indexOf("px");d=parseInt(d,10),e?(d=10>=d?1+c:13>=d?2+c:16>=d?3+c:18>=d?4+c:24>=d?5+c:6+c,d=Ext.Number.constrain(d,1,6)):(b=Ext.isSafari,b&&(c*=2),d=Math.max(1,d+c)+(b?"px":0)),this.relayCmd("FontSize",d)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function a(){var a;for(b=0,c=arguments.length,f;c>b;b++){f=arguments[b];try{a=e.queryCommandState(f)}catch(g){a=!1}d[f].toggle(a)}}var b,c,d,e,f,g,h,i,j=this;if(!j.readOnly){if(!j.activated)return void j.onFirstFocus();for(d=j.getToolbar().items.map,e=j.getDoc(),j.enableFont&&!Ext.isSafari2&&(g=e.queryCommandValue("fontName"),f=(g?g.split(",")[0].replace(/^'/,"").replace(/'$/,""):j.defaultFont).toLowerCase(),h=j.fontSelect.dom,(f!==h.value||f!=g)&&(h.value=f)),j.enableFormat&&a("bold","italic","underline"),j.enableAlignments&&a("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&j.enableLists&&a("insertorderedlist","insertunorderedlist"),i=j.toolbar.query("menu"),b=0;b<i.length;b++)i[b].hide();j.syncValue()}},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){Ext.defer(function(){var c=this;this.isDestroyed||(c.win.focus(),c.execCmd(a,b),c.updateToolbar())},10,this)},execCmd:function(a,b){var c=this,d=c.getDoc();d.execCommand(a,!1,void 0==b?null:b),c.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b,c=this,d=a.getCharCode();if(d>0){switch(d=String.fromCharCode(d)){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline"}b&&(c.win.focus(),c.execCmd(b),c.deferFocus(),a.preventDefault())}}},insertAtCursor:function(a){var b,c=this;c.activated&&(c.win.focus(),Ext.isIE?(b=c.getDoc().selection.createRange(),b&&(b.pasteHTML(a),c.syncValue(),c.deferFocus())):(c.execCmd("InsertHTML",a),c.deferFocus()))},fixKeys:function(){return Ext.isIE?function(a){var b,c,d=this,e=a.getKey(),f=d.getDoc(),g=d.readOnly;e===a.TAB?(a.stopEvent(),g||(b=f.selection.createRange(),b&&(b.collapse&&(b.collapse(!0),b.pasteHTML("&#160;&#160;&#160;&#160;")),d.deferFocus()))):e===a.ENTER&&(g||(b=f.selection.createRange(),b&&(c=b.parentElement(),c&&"li"===c.tagName.toLowerCase()||(a.stopEvent(),b.pasteHTML("<br />"),b.collapse(!1),b.select()))))}:Ext.isOpera?function(a){var b=this,c=a.getKey(),d=b.readOnly;c===a.TAB&&(a.stopEvent(),d||(b.win.focus(),b.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),b.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(a){var b,c=this,d=a.getKey(),e=c.getDoc(),f=c.readOnly;f||d!==a.BACKSPACE&&d!==a.DELETE||(b=e.body.innerHTML,("<p>&nbsp;</p>"===b||"<P>&nbsp;</P>"===b)&&(e.body.innerHTML=""))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}}),Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var a=this,b=Ext.Date,c=b.clearTime,d=a.initDate;a.absMin=c(new Date(d[0],d[1],d[2])),a.absMax=b.add(c(new Date(d[0],d[1],d[2])),"mi",1439),a.store=a.createStore(),a.store.addFilter(a.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),!1),a.updateList(),a.callParent()},setMinValue:function(a){this.minValue=a,this.updateList()},setMaxValue:function(a){this.maxValue=a,this.updateList()},normalizeDate:function(a){var b=this.initDate;return a.setFullYear(b[0],b[1],b[2]),a},updateList:function(){var a=this,b=a.normalizeDate(a.minValue||a.absMin),c=a.normalizeDate(a.maxValue||a.absMax);a.rangeFilter.setFilterFn(function(a){var d=a.get("date");return d>=b&&c>=d}),a.store.filter()},createStore:function(){for(var a=this,b=Ext.Date,c=[],d=a.absMin,e=a.absMax;e>=d;)c.push({disp:b.dateFormat(d,a.format),date:d}),d=b.add(d,"mi",a.increment);return new Ext.data.Store({fields:["disp","date"],data:c})},focusNode:function(){return!1}}),Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var a=this,b=a.minValue,c=a.maxValue;b&&a.setMinValue(b),c&&a.setMaxValue(c),a.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+a.displayField+'"])]}<tpl if="xindex < xcount">'+a.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(a.formatDate,a)}),this.callParent()},transformOriginalValue:function(a){return Ext.isString(a)?this.rawToValue(a):a},isEqual:function(a,b){return Ext.Date.isEqual(a,b)},setMinValue:function(a){var b=this,c=b.picker;b.setLimit(a,!0),c&&c.setMinValue(b.minValue)},setMaxValue:function(a){var b=this,c=b.picker;b.setLimit(a,!1),c&&c.setMaxValue(b.maxValue)},setLimit:function(a,b){var c,d,e=this;Ext.isString(a)?c=e.parseDate(a):Ext.isDate(a)&&(c=a),c?(d=Ext.Date.clearTime(new Date(e.initDate)),d.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())):d=null,e[b?"minValue":"maxValue"]=d},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(a){var b,c=this,d=Ext.String.format,e=c.callParent(arguments),f=c.minValue,g=c.maxValue;return a=c.formatDate(a||c.processRawValue(c.getRawValue())),null===a||a.length<1?e:(b=c.parseDate(a))?(f&&f>b&&e.push(d(c.minText,c.formatDate(f))),g&&b>g&&e.push(d(c.maxText,c.formatDate(g))),e):(e.push(d(c.invalidText,a,Ext.Date.unescapeFormat(c.format))),e)},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(a){var b,c=this,d=a,e=c.altFormats,f=c.altFormatsArray,g=0;if(a&&!Ext.isDate(a)&&(d=c.safeParse(a,c.format),!d&&e))for(f=f||e.split("|"),b=f.length;b>g&&!d;++g)d=c.safeParse(a,f[g]);return d&&c.snapToIncrement&&(d=new Date(Ext.Number.snap(d.getTime(),60*c.increment*1e3))),d},safeParse:function(a,b){var c,d=this,e=Ext.Date,f=null;return e.formatContainsDateInfo(b)?f=e.parse(a,b):(c=e.parse(d.initDate+" "+a,d.initDateFormat+" "+b),c&&(f=c)),f},getSubmitValue:function(){var a=this,b=a.submitFormat||a.format,c=a.getValue();return c?Ext.Date.format(c,b):null},createPicker:function(){var a,b=this;return b.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:void 0,minValue:b.minValue,maxValue:b.maxValue,increment:b.increment,format:b.format,maxHeight:b.pickerMaxHeight},b.listConfig),a=b.callParent(),b.bindStore(a.store),a},onItemClick:function(a,b){var c=this,d=a.getSelectionModel().getSelection();d.length>0&&(d=d[0],d&&Ext.Date.isEqual(b.get("date"),d.get("date"))&&c.collapse())},onListSelectionChange:function(a,b){if(b.length){var c=this,d=b[0].get("date");c.ignoreSelection||(c.skipSync=!0,c.setValue(d),c.skipSync=!1,c.fireEvent("select",c,d),c.picker.clearHighlight(),c.collapse(),c.inputEl.focus())}},syncSelection:function(){var a,b,c,d,e,f,g,h=this,i=h.picker;if(i&&!h.skipSync){if(i.clearHighlight(),c=h.getValue(),b=i.getSelectionModel(),h.ignoreSelection++,null===c)b.deselectAll();else if(Ext.isDate(c)){for(d=i.store.data.items,f=d.length,e=0;f>e;e++)if(g=d[e],Ext.Date.isEqual(g.get("date"),c)){a=g;break}b.select(a)}h.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();a.callParent(arguments),a.wasValid&&b&&a.setRawValue(a.formatDate(b))},setValue:function(){return this.getPicker(),this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}}),Ext.define("Ext.grid.CellContext",{isCellContext:!0,constructor:function(a){this.view=a},setPosition:function(a,b){var c=this;return 1===arguments.length&&(a.view&&(c.view=a.view),b=a.column,a=a.row),c.setRow(a),c.setColumn(b),c},setRow:function(a){var b=this;void 0!==a&&("number"==typeof a?(b.row=Math.max(Math.min(a,b.view.dataSource.getCount()-1),0),b.record=b.view.dataSource.getAt(a)):a.isModel?(b.record=a,b.row=b.view.indexOf(a)):a.tagName&&(b.record=b.view.getRecord(a),b.row=b.view.indexOf(b.record)))},setColumn:function(a){var b=this,c=b.view.ownerCt.columnManager;void 0!==a&&("number"==typeof a?(b.column=a,b.columnHeader=c.getHeaderAtIndex(a)):a.isHeader&&(b.columnHeader=a,b.column=c.getHeaderIndex(a)))}}),Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(a){a=Ext.apply({},a),a.field&&(a.field.monitorTab=!1),this.callParent([a])},onShow:function(){var a=this,b=a.boundEl.first();b&&(a.isForTree&&(b=b.child(a.treeNodeSelector)),b.hide()),a.callParent(arguments)},onHide:function(){var a=this,b=a.boundEl.first();b&&(a.isForTree&&(b=b.child(a.treeNodeSelector)),b.show()),a.callParent(arguments)},afterRender:function(){var a=this,b=a.field;a.callParent(arguments),b.isCheckbox&&b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(a){var b,c=this,d=c.boundEl,e=d.first(),f=d.getWidth(),g=Ext.Array.clone(c.offsets),h=c.grid;c.isForTree&&(b=c.getTreeNodeOffset(e),f-=Math.abs(b),g[0]+=b),h.columnLines&&(f-=d.getBorderWidth("rl")),a===!0&&c.field.setWidth(f),c.alignTo(e,c.alignment,g)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(a){var b=this.field;b.onEditorTab&&b.onEditorTab(a)},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,beginLayout:function(a){var b=this;b.callParent(arguments),a.titleContext=a.getEl("titleEl"),a.triggerContext=a.getEl("triggerEl")},beginLayoutCycle:function(a){var b=this,c=b.owner;b.callParent(arguments),a.widthModel.shrinkWrap&&c.el.setWidth("");var d=c.isLast&&c.isSubHeader?"0":"";d!==b.lastBorderRightWidth&&(c.el.dom.style.borderRightWidth=b.lasBorderRightWidth=d),c.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(a,b){if(b){var c,d,e,f,g=this,h=g.owner,i=b-a.getBorderInfo().height,j=i;if(!h.noWrap&&!a.hasDomProp("width"))return void(g.done=!1);a.hasRawContent?(d=j,c=h.textEl.getHeight(),c&&(j-=c,j>0&&(e=Math.floor(j/2),f=j-e,a.titleContext.setProp("padding-top",e),a.titleContext.setProp("padding-bottom",f)))):(d=h.titleEl.getHeight(),a.setProp("innerHeight",i-d,!1)),(Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext&&a.triggerContext.setHeight(d)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishOwnerHeight:function(a,b){this.callParent(arguments),(Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext&&a.triggerContext.setHeight(b)},publishInnerWidth:function(a,b){a.hasRawContent||a.setProp("innerWidth",b-a.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);return a.hasRawContent?c:this.owner.noWrap||a.hasDomProp("width")?b+this.owner.titleEl.getHeight()+a.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.owner,d=Math.max(b,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width),e=a.getPaddingInfo().width,f=this.getTriggerOffset(c,a);return d+e+f},getTriggerOffset:function(a,b){var c=0;return b.widthModel.shrinkWrap&&!a.menuDisabled&&0===a.query(">:not([hidden])").length&&(c=a.self.triggerElWidth),c}}),Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.scrollbarWidth||(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width),this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(a){var b,c,d=this,e=d.owner,f=d.grid,g=f.view,h=d.getVisibleItems(),i=h.length,j=d.firstHeaderCls,k=d.lastHeaderCls;for(f.lockable&&(g=e.up("tablepanel")===g.normalGrid?g.normalGrid.getView():null),b=0;i>b;b++)c=h[b],c.isLast=!1,c.removeCls([j,k]),0===b&&c.addCls(j),b===i-1&&(c.addCls(k),c.isLast=!0);d.callParent(arguments),!e.isColumn&&Ext.getScrollbarSize().width&&!f.collapsed&&g&&g.rendered&&(a.viewTable=g.body.dom)&&(a.viewContext=a.context.getCmp(g))},roundFlex:function(a){return Math.floor(a)},calculate:function(a){this.callParent(arguments),!a.state.parallelDone||this.owner.forceFit&&!a.flexedItems.length||a.setProp("columnWidthsDone",!0),a.viewContext&&(a.state.tableHeight=a.viewTable.offsetHeight)},completeLayout:function(a){var b=this,c=b.owner,d=a.state;b.callParent(arguments),!a.flexedItems.length&&!d.flexesCalculated&&c.forceFit&&b.convertWidthsToFlexes(a)?(b.cacheFlexes(a),a.invalidate({state:{flexesCalculated:!0}})):a.setProp("columnWidthsDone",!0)},convertWidthsToFlexes:function(a){var b,c,d,e,f,g=this,h=0,i=g.sizeModels.calculated;for(b=a.childItems,c=b.length,d=0;c>d;d++)e=b[d],f=e.target,h+=e.props.width,f.fixed||f.resizable===!1||(f.flex=a.childItems[d].flex=e.props.width,f.width=null,e.widthModel=i);return h!==a.props.width},getContainerSize:function(a){var b,c,d=this,e=a.viewContext;return d.owner.isColumn?b=d.getColumnContainerSize(a):(b=d.callParent(arguments),e&&!e.heightModel.shrinkWrap&&e.target.componentLayout.ownerContext&&(c=e.getProp("height"),isNaN(c)?d.done=!1:a.state.tableHeight>c&&(b.width-=Ext.getScrollbarSize().width,a.state.parallelDone=!1,e.invalidate()))),b},getColumnContainerSize:function(a){var b,c,d,e,f=a.paddingContext.getPaddingInfo(),g=0,h=0;return a.widthModel.shrinkWrap||(++h,d=a.getProp("innerWidth"),b="number"==typeof d,b&&(++g,d-=f.width,0>d&&(d=0))),a.heightModel.shrinkWrap||(++h,e=a.getProp("innerHeight"),c="number"==typeof e,c&&(++g,e-=f.height,0>e&&(e=0))),{width:d,height:e,needed:h,got:g,gotAll:g==h,gotWidth:b,gotHeight:c}},publishInnerCtSize:function(a){var b,c=this,d=a.state.boxPlan.targetSize,e=a.peek("contentWidth");return c.owner.tooNarrow=a.state.boxPlan.tooNarrow,null==e||c.owner.isColumn||(d.width=e,b=c.owner.ownerCt.view,b.scrollFlags.y&&(d.width+=Ext.getScrollbarSize().width)),c.callParent(arguments)}}),Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b){this.headerCt=a,b&&(this.secondHeaderCt=b)
},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},getHeaderIndex:function(a){return a.isGroupHeader&&(a=a.down(":not([isGroupHeader])")),Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){var b=this.getColumns();return b.length?b[a]:null},getHeaderById:function(a){var b,c,d=this.getColumns(),e=d.length;for(b=0;e>b;++b)if(c=d[b],c.getItemId()===a)return c;return null},getVisibleHeaderClosestToIndex:function(a){var b=this.getHeaderAtIndex(a);return b&&b.hidden&&(b=b.next(":not([hidden])")||b.prev(":not([hidden])")),b},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns(),this.secondHeaderCt&&Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())},invalidate:function(){this.columns=null,this.rootColumns&&this.rootColumns.invalidate()}},function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel(),d=(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2);return this.sizePolicies[d]},beginLayoutCycle:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m.lastHeightModel&&m.lastHeightModel.calculated,o=m.lastWidthModel&&m.lastWidthModel.calculated,p=o||n,q=0,r=0;for(m.callParent(arguments),p&&"TD"!=a.targetContext.el.dom.tagName.toUpperCase()&&(p=o=n=!1),d=a.childItems,g=d.length,e=0;g>e;++e)f=d[e],b&&(c=f.target,i=c.minHeight,j=c.minWidth,(j||i)&&(h=f.marginInfo||f.getMarginInfo(),i+=h.height,j+=h.height,i>q&&(q=i),j>r&&(r=j))),p&&(k=f.el.dom.style,n&&(k.height=""),o&&(k.width=""));b&&(a.maxChildMinHeight=q,a.maxChildMinWidth=r),c=a.target,a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&c.scrollFlags.x||l,a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&c.scrollFlags.y||l},calculate:function(a){var b,c,d,e,f,g,h=this,i=a.childItems,j=i.length,k=h.getContainerSize(a),l={length:j,ownerContext:a,targetSize:k},m=a.widthModel.shrinkWrap,n=a.heightModel.shrinkWrap,o=a.overflowX,p=a.overflowY;for((o||p)&&(b=h.getScrollbarsNeeded(o&&k.width,p&&k.height,a.maxChildMinWidth,a.maxChildMinHeight),b&&(c=Ext.getScrollbarSize(),1&b&&(k.height-=c.height),2&b&&(k.width-=c.width))),e=0;j>e;++e)l.index=e,h.fitItem(i[e],l);(n||m)&&(d=a.targetContext.getPaddingInfo(),m&&(p&&!k.gotHeight?h.done=!1:(f=l.contentWidth+d.width,2&b&&(f+=c.width),a.setContentWidth(f)||(h.done=!1))),n&&(o&&!k.gotWidth?h.done=!1:(g=l.contentHeight+d.height,1&b&&(g+=c.height),a.setContentHeight(g)||(h.done=!1))))},fitItem:function(a,b){var c=this;return a.invalid?void(c.done=!1):(b.margins=a.getMarginInfo(),b.needed=b.got=0,c.fitItemWidth(a,b),c.fitItemHeight(a,b),void(b.got!=b.needed&&(c.done=!1)))},fitItemWidth:function(a,b){var c,d;b.ownerContext.widthModel.shrinkWrap?(d=a.getProp("width")+b.margins.width,c=b.contentWidth,b.contentWidth=void 0===c?d:Math.max(c,d)):a.widthModel.calculated&&(++b.needed,b.targetSize.gotWidth&&(++b.got,this.setItemWidth(a,b))),this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;b.ownerContext.heightModel.shrinkWrap?(d=a.getProp("height")+b.margins.height,c=b.contentHeight,b.contentHeight=void 0===c?d:Math.max(c,d)):a.heightModel.calculated&&(++b.needed,b.targetSize.gotHeight&&(++b.got,this.setItemHeight(a,b))),this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;(b.index||c.left)&&a.setProp("x",c.left),c.width&&a.setProp("margin-right",c.width)},positionItemY:function(a,b){var c=b.margins;(b.index||c.top)&&a.setProp("y",c.top),c.height&&a.setProp("margin-bottom",c.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}}),Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.plugin.BufferedRenderer","Ext.grid.header.Container","Ext.grid.locking.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var a,b,c,d,e=this,f=e.columns||e.colModel,g=e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store");if(e.columnLines&&e.addCls(e.colLinesCls),e.addCls(e.rowLines?e.rowLinesCls:e.noRowLinesCls),f instanceof Ext.grid.header.Container?(f.isRootHeader=!0,e.headerCt=f):e.enableLocking||e.hasLockedColumns(f)?(e.self.mixin("lockable",Ext.grid.locking.Lockable),e.injectLockable()):(Ext.isArray(f)&&(f={items:f}),Ext.apply(f,{grid:e,forceFit:e.forceFit,sortable:e.sortableColumns,enableColumnMove:e.enableColumnMove,enableColumnResize:e.enableColumnResize,sealed:e.sealedColumns,isRootHeader:!0}),Ext.isDefined(e.enableColumnHide)&&(f.enableColumnHide=e.enableColumnHide),e.headerCt||(e.headerCt=new Ext.grid.header.Container(f))),e.columns=e.headerCt.getGridColumns(),e.scrollTask=new Ext.util.DelayedTask(e.syncHorizontalScroll,e),e.addEvents("reconfigure","viewready"),e.bodyCls=e.bodyCls||"",e.bodyCls+=" "+e.extraBodyCls,e.cls=e.cls||"",e.cls+=" "+e.extraBaseCls,delete e.autoScroll,!e.hasView){if(d=e.headerCt.getGridColumns(),g.buffered&&!g.remoteSort)for(b=0,c=d.length;c>b;b++)d[b].sortable=!1;e.hideHeaders&&(e.headerCt.height=0,e.headerCt.hiddenHeaders=!0,e.headerCt.addCls(e.hiddenHeaderCtCls),e.addCls(e.hiddenHeaderCls),Ext.isIEQuirks&&(e.headerCt.style={display:"none"})),e.relayHeaderCtEvents(e.headerCt),e.features=e.features||[],Ext.isArray(e.features)||(e.features=[e.features]),e.dockedItems=[].concat(e.dockedItems||[]),e.dockedItems.unshift(e.headerCt),e.viewConfig=e.viewConfig||{},a=e.getView(),e.items=[a],e.hasView=!0,e.hideHeaders||a.on({scroll:{fn:e.onHorizontalScroll,element:"el",scope:e}}),e.bindStore(g,!0),e.mon(a,{viewready:e.onViewReady,refresh:e.onRestoreHorzScroll,scope:e})}e.relayEvents(e.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]),e.callParent(arguments),e.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]),!e.lockable&&e.headerCt&&e.headerCt.on("afterlayout",e.onRestoreHorzScroll,e)},hasLockedColumns:function(a){var b,c,d;for(Ext.isObject(a)&&(a=a.items),b=0,c=a.length;c>b;b++)if(d=a[b],!d.processed&&d.locked)return!0},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var a=this,b=a.callParent(),c=a.store.getState();return b=a.addPropertyToState(b,"columns",a.headerCt.getColumnsState()),c&&(b.storeState=c),b},applyState:function(a){var b=this,c=a.sort,d=a.storeState,e=b.store,f=a.columns;delete a.columns,b.callParent(arguments),f&&b.headerCt.applyColumnsState(f),c?e.remoteSort?e.sort({property:c.property,direction:c.direction,root:c.root},null,!1):e.sort(c.property,c.direction):d&&e.applyState(d)},getStore:function(){return this.store},getView:function(){var a,b=this;return b.view||(a=b.getSelectionModel(),Ext.widget(Ext.apply({grid:b,deferInitialRefresh:b.deferRowRender!==!1,trackOver:b.trackMouseOver!==!1,scroll:b.scroll,xtype:b.viewType,store:b.store,headerCt:b.headerCt,columnLines:b.columnLines,rowLines:b.rowLines,selModel:a,features:b.features,panel:b,emptyText:b.emptyText||""},b.viewConfig)),b.view.emptyText&&(b.view.emptyText='<div class="'+b.emptyCls+'">'+b.view.emptyText+"</div>"),b.view.getComponentLayout().headerCt=b.headerCt,b.mon(b.view,{uievent:b.processEvent,scope:b}),a.view=b.view,b.headerCt.view=b.view),b.view},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e){var f,g=this;return-1!==e?(f=g.columnManager.getColumns()[e],f.processEvent.apply(f,arguments)):void 0},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){var a=this;a.saveScrollPos(),a.saveScrollPos(),a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments),a.restoreScrollPos(),a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(a,b,c,d,e){var f=this;f.optimizedColumnMove===!1?f.view.refresh():f.view.moveColumn(d,e,c),f.delayScroll()},onHeaderHide:function(){this.view.refresh(),this.delayScroll()},onHeaderShow:function(){this.view.refresh(),this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;a&&this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;a&&this.syncHorizontalScroll(a,!0)},getScrollerOwner:function(){var a=this;return this.scrollerOwner||(a=this.up("[scrollerOwner]")),a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},!0))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},!0))},getSelectionModel:function(){var a,b,c,d=this,e=d.selModel;return e||(e={},a=!0),e.events||(c=e.selType||d.selType,a=!e.mode,e=d.selModel=Ext.create("selection."+c,e)),d.simpleSelect?b="SIMPLE":d.multiSelect&&(b="MULTI"),Ext.applyIf(e,{allowDeselect:d.allowDeselect}),b&&a&&e.setSelectionMode(b),e.hasRelaySetup||(d.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect"]),e.hasRelaySetup=!0),d.disableSelection&&(e.locked=!0),e},getScrollTarget:function(){var a=this.getScrollerOwner(),b=a.query("tableview");return b[1]||b[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,b){var c,d=this;b=b===!0,d.rendered&&(b||a!==d.scrollLeftPos)&&(b&&(c=d.getScrollTarget(),c.el.dom.scrollLeft=a),d.headerCt.el.dom.scrollLeft=a,d.scrollLeftPos=a)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a,b){var c,d=this,e=d.getView(),f=a&&a.buffered;d.store=a,c=d.findPlugin("bufferedrenderer"),c?(d.verticalScroller=c,c.store&&c.bindStore(a)):f&&(d.verticalScroller=c=d.addPlugin(Ext.apply({ptype:"bufferedrenderer"},d.initialConfig.verticalScroller))),e.store!==a&&(b?e.bindStore(a,!1,"dataSource"):e.bindStore(a,!1)),d.mon(a,{load:d.onStoreLoad,scope:d}),d.storeRelayers=d.relayEvents(a,["filterchange"]),c&&(d.invalidateScrollerOnRefresh=!1),void 0!==d.invalidateScrollerOnRefresh&&(e.preserveScrollOnRefresh=!d.invalidateScrollerOnRefresh)},unbindStore:function(){var a=this,b=a.store;b&&(a.store=null,a.mun(b,{load:a.onStoreLoad,scope:a}),Ext.destroy(a.storeRelayers))},reconfigure:function(a,b){var c,d=this,e=d.getView(),f=d.store,g=d.headerCt,h=g?g.items.getRange():d.columns;b&&(b=Ext.Array.slice(b)),d.fireEvent("beforereconfigure",d,a,b,f,h),d.lockable?d.reconfigureLockable(a,b):(Ext.suspendLayouts(),b&&(delete d.scrollLeftPos,g.removeAll(),g.add(b)),a&&(a=Ext.StoreManager.lookup(a))!==f?(d.store&&d.unbindStore(),c=e.deferInitialRefresh,e.deferInitialRefresh=!1,d.bindStore(a),e.deferInitialRefresh=c):d.getView().refresh(),g.setSortState(),Ext.resumeLayouts(!0)),d.fireEvent("reconfigure",d,a,b,f,h)},beforeDestroy:function(){var a=this.scrollTask;a&&(a.cancel(),this.scrollTask=null),this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable(),this.callParent()}}),Ext.define("Ext.util.CSS",function(){var a,b=null,c=document,d=/(-[a-z])/gi,e=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:!0,rules:b,initialized:!1,constructor:function(){a=this},createStyleSheet:function(b,d){var e,f=c.getElementsByTagName("head")[0],g=c.createElement("style");if(g.setAttribute("type","text/css"),d&&g.setAttribute("id",d),Ext.isIE)f.appendChild(g),e=g.styleSheet,e.cssText=b;else{try{g.appendChild(c.createTextNode(b))}catch(h){g.cssText=b}f.appendChild(g),e=g.styleSheet?g.styleSheet:g.sheet||c.styleSheets[c.styleSheets.length-1]}return a.cacheStyleSheet(e),e},removeStyleSheet:function(a){var b=c.getElementById(a);b&&b.parentNode.removeChild(b)},swapStyleSheet:function(b,d){var e;a.removeStyleSheet(b),e=c.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("id",b),e.setAttribute("href",d),c.getElementsByTagName("head")[0].appendChild(e)},refreshCache:function(){return a.getRules(!0)},cacheStyleSheet:function(c){b||(b=a.rules={});try{var d,e,f=c.cssRules||c.rules,g=f.length-1,h=c.imports,i=h?h.length:0;for(e=0;i>e;++e)a.cacheStyleSheet(h[e]);for(;g>=0;--g)d=f[g],d.styleSheet&&a.cacheStyleSheet(d.styleSheet),a.cacheRule(d,c)}catch(j){}},cacheRule:function(c,d){if(c.styleSheet)return a.cacheStyleSheet(c.styleSheet);var e,f,g=c.selectorText;if(g)for(g=g.split(","),e=g.length,f=0;e>f;f++)b[Ext.String.trim(g[f]).toLowerCase()]={parentStyleSheet:d,cssRule:c}},getRules:function(c){var d,e={};(null===b||c)&&a.refreshCache();for(d in b)e[d]=b[d].cssRule;return e},refreshCache:function(){var d=c.styleSheets,e=0,f=d.length;for(b=a.rules={};f>e;e++)try{d[e].disabled||a.cacheStyleSheet(d[e])}catch(g){}},getRule:function(c,d,e){var f,g;if((!b||d)&&a.refreshCache(),!Ext.isArray(c))return g=b[c.toLowerCase()],g&&!e&&(g=g.cssRule),g||null;for(f=0;f<c.length;f++)if(b[c[f]])return e?b[c[f].toLowerCase()]:b[c[f].toLowerCase()].cssRule;return null},createRule:function(b,c,d){var e,f=b.cssRules||b.rules,g=f.length;return b.insertRule?b.insertRule(c+"{"+d+"}",g):b.addRule(c,d||" "),a.cacheRule(e=f[g],b),e},updateRule:function(b,c,f){var g,h,i;if(Ext.isArray(b)){for(h=0;h<b.length;h++)if(a.updateRule(b[h],c,f))return!0}else if(g=a.getRule(b)){if(2==arguments.length){i=Ext.Element.parseStyles(c);for(c in i)g.style[c.replace(d,e)]=i[c]}else g.style[c.replace(d,e)]=f;return!0}return!1},deleteRule:function(c){var d,e,f=a.getRule(c,!1,!0);f&&(d=f.parentStyleSheet,e=Ext.Array.indexOf(d.cssRules||d.rules,f.cssRule),d.deleteRule?d.deleteRule(e):d.removeRule(e),delete b[c])}}}),Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",requires:["Ext.util.CSS"],alias:["layout.tableview"],type:"tableview",beginLayout:function(a){var b=this,c=b.owner.lockingPartner,d=b.owner;b.callParent(arguments),c&&(b.lockedGrid=b.owner.up("[lockable]"),b.lockedGrid.needsRowHeightSync=!0,a.lockingPartner||(a.lockingPartner=a.context.getItem(c,c.el),a.lockingPartner&&!a.lockingPartner.lockingPartner&&(a.lockingPartner.lockingPartner=a))),a.headerContext=a.context.getCmp(b.headerCt),b.owner.body.dom&&(a.bodyContext=a.getEl(b.owner.body)),Ext.isWebKit&&d.el.select(d.getBodySelector()).setStyle("table-layout","auto")},calculate:function(a){var b,c=this,d=c.lockingPartner,e=c.owner,f=0;if(a.headerContext.hasProp("columnWidthsDone")){if(!c.setColumnWidths(a))return void(c.done=!1);a.state.columnWidthsSynced=!0,a.bodyContext&&(b=c.owner.el.down("."+e.ownerCt.emptyCls,!0),b?f=b.offsetHeight:(f=a.bodyContext.el.dom.offsetHeight,a.bodyContext.setHeight(f,!1)),a.setProp("contentHeight",f)),d&&!d.state.columnWidthsSynced?c.done=!1:c.callParent(arguments)}else c.done=!1},measureContentHeight:function(a){var b=a.lockingPartner;return!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced)?this.callParent(arguments):void 0},setColumnWidths:function(a){var b,c,d,e=this,f=e.owner,g=a.context,h=e.headerCt.getVisibleGridColumns(),i=0,j=h.length,k=0,l=0,m=!Ext.isBorderBox;for(g&&(g.currentLayout=e),i=0;j>i;i++){if(b=h[i],c=g.getCmp(b),d=c.props.width,isNaN(d))return c.getProp("width"),!1;k+=d,m&&f.columnLines&&(l||(l=g.getCmp(b).borderInfo.width||1),d-=l),f.body.select(f.getColumnSizerSelector(b)).setWidth(d)}return f.el.select(f.getBodySelector()).setWidth(k),!0},finishedLayout:function(){var a=this,b=a.owner;a.callParent(arguments),Ext.isWebKit&&b.el.select(b.getBodySelector()).setStyle("table-layout",""),b.refreshCounter&&a.lockedGrid&&a.lockedGrid.syncRowHeight&&a.lockedGrid.needsRowHeightSync&&(a.lockedGrid.syncRowHeights(),a.lockedGrid.needsRowHeightSync=!1)}}),Ext.define("Ext.view.NodeCache",{constructor:function(a){this.view=a,this.clear(),this.el=new Ext.dom.AbstractElement.Fly},clear:function(a){var b,c,d=this,e=this.elements;if(a)for(b in e)c=e[b],c.parentNode.removeChild(c);d.elements={},d.count=d.startIndex=0,d.endIndex=-1},fill:function(a,b){var c,d=this,e=d.elements={},f=a.length;for(b||(b=0),c=0;f>c;c++)e[b+c]=a[c];return d.startIndex=b,d.endIndex=b+f-1,d.count=f,this},insert:function(a,b){var c,d=this,e=d.elements,f=b.length;if(d.count){if(a<d.count)for(c=d.endIndex+f;c>=a+f;c--)e[c]=e[c-f],e[c].setAttribute("data-recordIndex",c);d.endIndex=d.endIndex+f}else d.startIndex=a,d.endIndex=a+f-1;for(c=0;f>c;c++,a++)e[a]=b[c],e[a].setAttribute("data-recordIndex",a);d.count+=f},item:function(a,b){var c=this.elements[a],d=null;return c&&(d=b?this.elements[a]:this.el.attach(this.elements[a])),d},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(a,b){var c,d=this.elements,e=[];for(b=arguments.length<2?this.endIndex:Math.min(this.endIndex,b-1),c=a||this.startIndex;b>=c;c++)e.push(d[c]);return e},replaceElement:function(a,b,c){var d=this.elements,e="number"==typeof a?a:this.indexOf(a);return e>-1&&(b=Ext.getDom(b),c&&(a=d[e],a.parentNode.insertBefore(b,a),Ext.removeNode(a),b.setAttribute("data-recordIndex",e)),this.elements[e]=b),this},indexOf:function(a){var b,c=this.elements;for(a=Ext.getDom(a),b=this.startIndex;b<=this.endIndex;b++)if(c[b]===a)return b;return-1},removeRange:function(a,b,c){var d,e,f,g,h=this,i=h.elements;for(b=void 0===b?h.count:Math.min(h.endIndex+1,b+1),a||(a=0),f=b-a,e=a,g=b;e<h.endIndex;e++,g++)c&&b>e&&Ext.removeNode(i[e]),g<=h.endIndex?(d=i[e]=i[g],d.setAttribute("data-recordIndex",e)):delete i[e];h.count-=f,h.endIndex-=f},removeElement:function(a,b){var c,d,e,f,g,h,i=this,j=i.elements,k=0;if(Ext.isArray(a)){for(c=a,a=[],f=c.length,k=0;f>k;k++)d=c[k],"number"!=typeof d&&(d=i.indexOf(d)),d>=i.startIndex&&d<=i.endIndex&&(a[a.length]=d);Ext.Array.sort(a),f=a.length}else{if(a<i.startIndex||a>i.endIndex)return;f=1,a=[a]}for(g=h=a[0],k=0;g<=i.endIndex;g++,h++)f>k&&g===a[k]&&(h++,k++,b&&Ext.removeNode(j[g])),h<=i.endIndex&&h>=i.startIndex?(e=j[g]=j[h],e.setAttribute("data-recordIndex",g)):delete j[g];i.endIndex-=f,i.count-=f},scroll:function(a,b,c){var d,e,f,g,h=this,i=h.elements,j=a.length,k=h.view.getNodeContainer(),l=document.createDocumentFragment();if(-1==b){for(d=h.endIndex-c+1;d<=h.endIndex;d++)e=i[d],delete i[d],e.parentNode.removeChild(e);for(h.endIndex-=c,g=h.view.bufferRender(a,h.startIndex-=j),d=0;j>d;d++)i[h.startIndex+d]=g[d],l.appendChild(g[d]);k.insertBefore(l,k.firstChild)}else{for(f=h.startIndex+c,d=h.startIndex;f>d;d++)e=i[d],delete i[d],e.parentNode.removeChild(e);for(h.startIndex=d,g=h.view.bufferRender(a,h.endIndex+1),d=0;j>d;d++)i[h.endIndex+=1]=g[d],l.appendChild(g[d]);k.appendChild(l)}h.count=h.endIndex-h.startIndex+1}}),Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",requires:["Ext.grid.CellContext","Ext.view.TableLayout","Ext.view.NodeCache","Ext.util.DelayedTask","Ext.util.MixedCollection"],componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){a.grid.isTree&&(a.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([a])},initComponent:function(){var a=this,b=a.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown"),a.body=new Ext.dom.Element.Fly,a.body.id=a.id+"gridBody",a.autoScroll=void 0,a.trackOver||(a.overItemCls=null,a.beforeOverItemCls=null),b===!0||"both"===b?a.autoScroll=!0:"horizontal"===b?a.overflowX="auto":"vertical"===b&&(a.overflowY="auto"),a.selModel.view=a,a.headerCt.view=a,a.grid.view=a,a.initFeatures(a.grid),delete a.grid,a.tpl=a.getTpl("tpl"),a.itemSelector=a.getItemSelector(),a.all=new Ext.view.NodeCache(a),a.callParent()},moveColumn:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=c>1?document.createDocumentFragment():void 0,m=b,n=k.getGridColumns().length,o=n-1,p=(k.firstCls||k.lastCls)&&(0===b||b==n||0===a||a==o);if(k.rendered&&b!==a){for(f=k.el.query(k.getDataRowSelector()),b>a&&l&&(m-=c),d=0,g=f.length;g>d;d++){if(h=f[d],i=h.childNodes,p){if(1===i.length){Ext.fly(i[0]).addCls(k.firstCls),Ext.fly(i[0]).addCls(k.lastCls);continue}0===a?(Ext.fly(i[0]).removeCls(k.firstCls),Ext.fly(i[1]).addCls(k.firstCls)):a===o&&(Ext.fly(i[o]).removeCls(k.lastCls),Ext.fly(i[o-1]).addCls(k.lastCls)),0===b?(Ext.fly(i[0]).removeCls(k.firstCls),Ext.fly(i[a]).addCls(k.firstCls)):b===n&&(Ext.fly(i[o]).removeCls(k.lastCls),Ext.fly(i[a]).addCls(k.lastCls))}if(l){for(e=0;c>e;e++)l.appendChild(i[a]);h.insertBefore(l,i[m]||null)}else h.insertBefore(i[a],i[m]||null)}for(j=k.el.query(k.getBodySelector()),d=0,g=j.length;g>d;d++)if(h=j[d],l){for(e=0;c>e;e++)l.appendChild(h.childNodes[a]);h.insertBefore(l,h.childNodes[m]||null)}else h.insertBefore(h.childNodes[a],h.childNodes[m]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a,!0);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;return b?b.get(a):void 0},findFeature:function(a){return this.features?Ext.Array.findBy(this.features,function(b){return b.ftype===a?!0:void 0}):void 0},initFeatures:function(a){var b,c,d,e,f=this;for(f.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),f.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),f.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),f.featuresMC=new Ext.util.MixedCollection,c=f.features=f.constructFeatures(),e=c?c.length:0,b=0;e>b;b++)d=c[b],d.view=f,d.grid=a,f.featuresMC.add(d),d.init(a)},renderTHead:function(a,b){var c,d,e=a.view.headerFns;if(e)for(d=0,c=e.length;c>d;++d)e[d].call(this,a,b)},addHeaderFn:function(){var a=this.headerFns;a||(a=this.headerFns=[]),a.push(fn)},renderTFoot:function(a,b){var c,d,e=a.view.footerFns;if(e)for(d=0,c=e.length;c>d;++d)e[d].call(this,a,b)},addFooterFn:function(a){var b=this.footerFns;b||(b=this.footerFns=[]),b.push(a)},addTableTpl:function(a){return this.addTpl("tableTpl",a)},addRowTpl:function(a){return this.addTpl("rowTpl",a)},addCellTpl:function(a){return this.addTpl("cellTpl",a)},addTpl:function(a,b){var c,d,e=this;for(b=Ext.Object.chain(b),b.isTemplate||(b.applyOut=e.tplApplyOut),c=e[a];b.priority<c.priority;c=c.nextTpl)d=c;return d?d.nextTpl=b:e[a]=b,b.nextTpl=c,b},tplApplyOut:function(a,b){this.before&&this.before(a,b)===!1||(this.nextTpl.applyOut(a,b),this.after&&this.after(a,b))},constructFeatures:function(){var a,b,c,d=this,e=d.features,f=0;if(e)for(b=[],c=e.length;c>f;f++)a=e[f],a.isFeature||(a=Ext.create("feature."+a.ftype,a)),b[f]=a;return b},beforeRender:function(){var a=this;a.callParent(),a.enableTextSelection||a.protoEl.unselectable()},onViewScroll:function(a,b){this.callParent(arguments),this.fireEvent("bodyscroll",a,b)},createRowElement:function(a,b){var c=this,d=c.renderBuffer;return c.tpl.overwrite(d,c.collectData([a],b)),Ext.fly(d).down(c.getNodeContainerSelector(),!0).firstChild},bufferRender:function(a,b){var c=this,d=c.renderBuffer;return c.tpl.overwrite(d,c.collectData(a,b)),Ext.Array.toArray(Ext.fly(d).down(c.getNodeContainerSelector(),!0).childNodes)},collectData:function(a,b){return this.rowValues.view=this,{view:this,rows:a,viewStartIndex:b,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var a,b=this,c=b.getBodySelector();c&&b.body.attach(b.el.child(c,!0)),b.hasLoadingHeight||(a=b.up("tablepanel"),Ext.suspendLayouts(),b.callParent(),a.updateLayout(),Ext.resumeLayouts(!0))},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){if(a=this.getNode(a)){var b=a.getAttribute("data-recordIndex");return b&&(b=parseInt(b,10),b>-1)?this.store.data.getAt(b):this.dataSource.data.get(a.getAttribute("data-recordId"))}},indexOf:function(a){return a=this.getNode(a,!1),a||0===a?this.all.indexOf(a):-1},indexInStore:function(a){if(a=this.getNode(a,!0),!a&&0!==a)return-1;var b=a.getAttribute("data-recordIndex");return b?parseInt(b,10):this.dataSource.indexOf(this.getRecord(a))},renderRows:function(a,b,c){var d,e=this.rowValues,f=a.length;for(e.view=this,e.columns=this.ownerCt.columnManager.getColumns(),d=0;f>d;d++,b++)e.itemClasses.length=e.rowClasses.length=0,this.renderRow(a[d],b,c);e.view=e.columns=e.record=null},renderColumnSizer:function(a){var b,c,d,e=this.getGridColumns(),f=e.length;for(b=0;f>b;b++)c=e[b],d=c.hidden?0:c.lastBox?c.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth,a.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",e[b].getItemId(),'" style="width:'+d+'px"></colgroup>')},renderRow:function(a,b,c){var d,e=this,f=-1===b,g=e.selModel,h=e.rowValues,i=h.itemClasses,j=h.rowClasses,k=e.rowTpl;return h.record=a,h.recordId=a.internalId,h.recordIndex=b,h.rowId=e.getRowId(a),h.itemCls=h.rowCls="",h.columns||(h.columns=e.ownerCt.columnManager.getColumns()),i.length=j.length=0,f||(i[0]=Ext.baseCSSPrefix+"grid-row",g&&g.isRowSelected&&(g.isRowSelected(b+1)&&i.push(e.beforeSelectedItemCls),g.isRowSelected(a)&&i.push(e.selectedItemCls)),e.stripeRows&&b%2!==0&&j.push(e.altRowCls),e.getRowClass&&(d=e.getRowClass(a,b,null,e.dataSource),d&&j.push(d))),c?void k.applyOut(h,c):k.apply(h)},renderCell:function(a,b,c,d,e){var f,g,h=this,i=h.selModel,j=h.cellValues,k=j.classes,l=b.data[a.dataIndex],m=h.cellTpl;j.record=b,j.column=a,j.recordIndex=c,j.columnIndex=d,j.cellIndex=d,j.align=a.align,j.tdCls=a.tdCls,j.innerCls=a.innerCls,j.style=j.tdAttr="",j.unselectableAttr=h.enableTextSelection?"":'unselectable="on"',a.renderer&&a.renderer.call?(f=a.renderer.call(a.scope||h.ownerCt,l,j,b,c,d,h.dataSource,h),j.css&&(b.cssWarning=!0,j.tdCls+=" "+j.css,delete j.css)):f=l,j.value=null==f||""===f?"&#160;":f,k[1]=Ext.baseCSSPrefix+"grid-cell-"+a.getItemId(),g=2,a.tdCls&&(k[g++]=a.tdCls),h.markDirty&&b.isModified(a.dataIndex)&&(k[g++]=h.dirtyCls),a.isFirstVisible&&(k[g++]=h.firstCls),a.isLastVisible&&(k[g++]=h.lastCls),h.enableTextSelection||(k[g++]=Ext.baseCSSPrefix+"unselectable"),k[g++]=j.tdCls,i&&i.isCellSelected&&i.isCellSelected(h,c,d)&&(k[g++]=h.selectedCellCls),k.length=g,j.tdCls=k.join(" "),m.applyOut(j,e),j.column=null},getNode:function(a,b){var c,d=this.callParent(arguments);if(d&&d.tagName)if(b){if(!(c=Ext.fly(d)).is(this.dataRowSelector))return c.down(this.dataRowSelector,!0)}else if(b===!1&&!(c=Ext.fly(d)).is(this.itemSelector))return c.up(this.itemSelector,null,!0);return d},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a,b){return a=this.constructRowId(a),this.retrieveNode(a,b)},getNodeByRecord:function(a,b){var c=this.getRowId(a);return this.retrieveNode(c,b)},retrieveNode:function(a,b){var c,d=this.el.getById(a,!0),e=this.itemSelector;return b===!1&&d&&!(c=Ext.fly(d)).is(e)?c.up(e,null,!0):d},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,!0)
},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+"-"+a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(a){var b=this.cellSelector;return a&&(b+="-"+a.getItemId()),b},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(a,b){var c=this.getNode(a,!1);c&&Ext.fly(c).addCls(b)},removeRowCls:function(a,b){var c=this.getNode(a,!1);c&&Ext.fly(c).removeCls(b)},setHighlightedItem:function(a){var b=this,c=b.highlightedItem;c&&b.el.isAncestor(c)&&b.isRowStyleFirst(c)&&b.getRowStyleTableEl(c).removeCls(b.tableOverFirstCls),a&&b.isRowStyleFirst(a)&&b.getRowStyleTableEl(a).addCls(b.tableOverFirstCls),b.callParent(arguments)},onRowSelect:function(a){var b=this;b.addRowCls(a,b.selectedItemCls),b.isRowStyleFirst(a)?b.getRowStyleTableEl(a).addCls(b.tableSelectedFirstCls):b.addRowCls(a-1,b.beforeSelectedItemCls)},onRowDeselect:function(a){var b=this;b.removeRowCls(a,[b.selectedItemCls,b.focusedItemCls]),b.isRowStyleFirst(a)?b.getRowStyleTableEl(a).removeCls([b.tableFocusedFirstCls,b.tableSelectedFirstCls]):b.removeRowCls(a-1,[b.beforeFocusedItemCls,b.beforeSelectedItemCls])},onCellSelect:function(a){var b=this.getCellByPosition(a);b&&(b.addCls(this.selectedCellCls),this.scrollCellIntoView(b))},onCellDeselect:function(a){var b=this.getCellByPosition(a,!0);b&&Ext.fly(b).removeCls(this.selectedCellCls)},getCellByPosition:function(a,b){if(a){var c=this.getNode(a.row,!0),d=this.ownerCt.columnManager.getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(this.getCellSelector(d),b)}return!1},getFocusEl:function(){var a,b=this;return b.refreshCounter?(a=b.focusedRow,a&&b.el.contains(a)||(b.all.getCount()&&(a=b.getNode(b.all.item(0).dom,!0))?b.focusRow(a):a=b.body),Ext.get(a)):b.el},onRowFocus:function(a,b,c){var d=this;b?(d.addRowCls(a,d.focusedItemCls),d.isRowStyleFirst(a)?d.getRowStyleTableEl(a).addCls(d.tableFocusedFirstCls):d.addRowCls(a-1,d.beforeFocusedItemCls),c||d.focusRow(a)):(d.removeRowCls(a,d.focusedItemCls),d.isRowStyleFirst(a)?d.getRowStyleTableEl(a).removeCls(d.tableFocusedFirstCls):d.removeRowCls(a-1,d.beforeFocusedItemCls)),!Ext.isIE6&&!Ext.isIE7||d.ownerCt.rowLines||d.repaintRow(a)},focus:function(a,b){var c,d=this,e=Ext.isIE&&!b;e&&(c=d.el.dom.scrollLeft),this.callParent(arguments),e&&(d.el.dom.scrollLeft=c)},focusRow:function(a,b){var c,d,e=this,f=e.ownerCt&&e.ownerCt.collapsed;e.isVisible(!0)&&!f&&(a=e.getNode(a,!0))&&(e.scrollRowIntoView(a),d=e.getRecord(a),c=e.indexInStore(a),e.selModel.setLastFocused(d),e.focusedRow=a,e.focus(!1,b,function(){e.fireEvent("rowfocus",d,a,c)}))},scrollRowIntoView:function(a){a=this.getNode(a,!0),a&&Ext.fly(a).scrollIntoView(this.el,!1)},focusCell:function(a){var b=this,c=b.getCellByPosition(a),d=b.getRecord(a.row);b.focusRow(d),c&&(b.scrollCellIntoView(c),b.fireEvent("cellfocus",d,c,a))},scrollCellIntoView:function(a){null!=a.row&&null!=a.column&&(a=this.getCellByPosition(a)),a&&Ext.fly(a).scrollIntoView(this.el,!0)},scrollByDelta:function(a,b){b=b||"scrollTop";var c=this.el.dom;c[b]=c[b]+=a},isDataRow:function(a){return Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(a,b){a=Ext.get(a),b=Ext.get(b),a.dom.style.height=b.dom.style.height="";var c=this,d=c.rowTpl,e=a.dom.offsetHeight,f=b.dom.offsetHeight;if(e!==f){for(;d&&(!d.syncRowHeights||d.syncRowHeights(a,b)!==!1);)d=d.nextTpl;e=a.dom.offsetHeight,f=b.dom.offsetHeight,e!==f&&(a=a.down("[data-recordId]")||a,b=b.down("[data-recordId]")||b,a&&b&&(a.dom.style.height=b.dom.style.height="",e=a.dom.offsetHeight,f=b.dom.offsetHeight,e>f?(a.setHeight(e),b.setHeight(e)):f>e&&(a.setHeight(f),b.setHeight(f))))}},onIdChanged:function(a,b,c,d,e){var f,g=this;g.viewReady&&(f=g.getNodeById(e),f&&(f.setAttribute("data-recordId",b.internalId),f.id=g.getRowId(b)))},onUpdate:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this,u=t.rowTpl;if(t.viewReady&&(g=t.getNodeByRecord(b,!1))){if(m=t.overItemCls,n=t.overItemCls,o=t.focusedItemCls,p=t.beforeFocusedItemCls,q=t.selectedItemCls,r=t.beforeSelectedItemCls,e=t.indexInStore(b),f=Ext.fly(g,"_internal"),h=t.createRowElement(b,e),f.hasCls(m)&&Ext.fly(h).addCls(m),f.hasCls(n)&&Ext.fly(h).addCls(n),f.hasCls(o)&&Ext.fly(h).addCls(o),f.hasCls(p)&&Ext.fly(h).addCls(p),f.hasCls(q)&&Ext.fly(h).addCls(q),f.hasCls(r)&&Ext.fly(h).addCls(r),s=t.ownerCt.columnManager.getColumns(),Ext.isIE9m&&g.mergeAttributes)g.mergeAttributes(h,!0);else for(i=h.attributes,j=i.length,l=0;j>l;l++)k=i[l].name,"id"!==k&&g.setAttribute(k,i[l].value);for(s.length&&t.updateColumns(b,t.getNode(g,!0),t.getNode(h,!0),s,d);u&&(!u.syncContent||u.syncContent(g,h)!==!1);)u=u.nextTpl;t.fireEvent("itemupdate",b,e,g),t.refreshSize()}},updateColumns:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o=this,p=d.length,q=o.editingPlugin||o.lockingPartner&&o.ownerCt.ownerLockable.view.editingPlugin,r=q&&q.editing,s=o.getCellSelector();if(b.mergeAttributes)b.mergeAttributes(c,!0);else for(f=c.attributes,g=f.length,i=0;g>i;i++)h=f[i].name,"id"!==h&&b.setAttribute(h,f[i].value);for(j=0;p>j;j++)k=d[j],o.shouldUpdateCell(a,k,e)&&(s=o.getCellSelector(k),l=Ext.DomQuery.selectNode(s,b),m=Ext.DomQuery.selectNode(s,c),r?Ext.fly(l).syncContent(m):(n=l.parentNode,n.insertBefore(m,l),n.removeChild(l)))},shouldUpdateCell:function(a,b,c){if(b.hasCustomRenderer||!c)return!0;if(c){var d,e,f=c.length;for(d=0;f>d;++d)if(e=c[d],e===b.dataIndex||e===a.idProperty)return!0}return!1},refresh:function(){var a=this,b=a.el&&a.el.isAncestor(Ext.Element.getActiveElement());a.callParent(arguments),a.headerCt.setSortState(),a.el&&!a.all.getCount()&&a.headerCt&&a.headerCt.tooNarrow&&a.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(a.headerCt.getFullWidth()-1)+"px"}),b&&a.selModel.onLastFocusChanged(null,a.selModel.lastFocused)},processItemEvent:function(a,b,c,d){if(-1!==this.indexInStore(b)){var e,f,g,h,i,j=this,k=d.getTarget(j.getCellSelector(),b),l=j.statics().EventMap,m=j.getSelectionModel(),n=d.type,o=j.features,p=o.length;if("keydown"==n&&!k&&m.getCurrentPosition&&(k=j.getCellByPosition(m.getCurrentPosition(),!0)),k){if(!k.parentNode)return!1;i=j.getHeaderByCell(k),e=Ext.Array.indexOf(j.getGridColumns(),i)}else e=-1;if(g=j.fireEvent("uievent",n,j,k,c,e,d,a,b),g===!1||j.callParent(arguments)===!1)return j.selModel.onVetoUIEvent(n,j,k,c,e,d,a,b),!1;for(f=0;p>f;++f)if(h=o[f],h.wrapsItem&&h.vetoEvent(a,b,c,d)===!1)return j.processSpecialEvent(d),!1;return"mouseover"==n||"mouseout"==n?!0:k?!(j["onBeforeCell"+l[n]](k,e,a,b,c,d)===!1||j.fireEvent("beforecell"+n,j,k,e,a,b,c,d)===!1||j["onCell"+l[n]](k,e,a,b,c,d)===!1||j.fireEvent("cell"+n,j,k,e,a,b,c,d)===!1):!0}return this.processSpecialEvent(d),!1},processSpecialEvent:function(a){var b,c,d,e,f,g,h=this,i=h.features,j=i.length,k=a.type,l=h.ownerCt;if(h.callParent(arguments),"mouseover"!=k&&"mouseout"!=k){for(b=0;j>b;b++)if(c=i[b],c.hasFeatureEvent&&(e=a.getTarget(c.eventSelector,h.getTargetEl()),e&&(d=c.eventPrefix,f=c.getFireEventArgs("before"+d+k,h,e,a),g=c.getFireEventArgs(d+k,h,e,a),h.fireEvent.apply(h,f)===!1||l.fireEvent.apply(l,f)===!1||h.fireEvent.apply(h,g)===!1||l.fireEvent.apply(l,g)===!1)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)&&(a=this.getGridColumns[a]),a){if(a.isGroupHeader)return void a.autoSize();delete a.flex,a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(a){var b,c,d=this,e=d.el.query(a.getCellInnerSelector()),f=a.getWidth(),g=0,h=e.length,i=Ext.supports.ScrollWidthInlinePaddingBug,j=d.body.select(d.getColumnSizerSelector(a)),k=Math.max;for(i&&h>0&&(b=d.getCellPaddingAfter(e[0])),j.setWidth(1),c=a.textEl.dom.offsetWidth+a.titleEl.getPadding("lr");h>g;g++)c=k(c,e[g].scrollWidth);return i&&(c+=b),c=k(c,40),j.setWidth(f),c},getPositionByEvent:function(a){var b=this,c=a.getTarget(b.cellSelector),d=a.getTarget(b.itemSelector),e=b.getRecord(d),f=b.getHeaderByCell(c);return b.getPosition(e,f)},getHeaderByCell:function(a){if(a){var b=a.className.match(this.cellRe);if(b&&b[1])return this.ownerCt.columnManager.getHeaderById(b[1])}return!1},walkCells:function(a,b,c,d,e,f){if(!a)return!1;var g=this,h=a.row,i=a.column,j=g.dataSource.getCount(),k=g.ownerCt.columnManager.getColumns().length-1,l=h,m=i,n=g.ownerCt.columnManager.getHeaderAtIndex(i);if(!n||n.hidden||!j)return!1;switch(c=c||{},b=b.toLowerCase()){case"right":if(i===k){if(d||h===j-1)return!1;c.ctrlKey||(l=g.walkRows(h,1),l!==h&&(m=0))}else m=c.ctrlKey?k:i+1;break;case"left":if(0===i){if(d||0===h)return!1;c.ctrlKey||(l=g.walkRows(h,-1),l!==h&&(m=k))}else m=c.ctrlKey?0:i-1;break;case"up":if(0===h)return!1;l=c.ctrlKey?g.walkRows(-1,1):g.walkRows(h,-1);break;case"down":if(h===j-1)return!1;l=c.ctrlKey?g.walkRows(j,-1):g.walkRows(h,1)}return e&&e.call(f||g,{row:l,column:m})!==!0?!1:new Ext.grid.CellContext(g).setPosition(l,m)},walkRows:function(a,b){var c,d=this,e=0,f=a,g=(d.dataSource.buffered?d.dataSource.getTotalCount():d.dataSource.getCount())-1,h=0>b?0:g,i=h?1:-1,j=a;do{if(h?j>=h:0>=j)return f||h;j+=i,(c=Ext.fly(d.getNode(j,!0)))&&c.isVisible(!0)&&(e+=i,f=j)}while(e!==b);return j},walkRecs:function(a,b){var c,d,e=this,f=0,g=a,h=(e.store.buffered?e.store.getTotalCount():e.store.getCount())-1,i=0>b?0:h,j=i?1:-1,k=e.store.indexOf(a);do{if(i?k>=i:0>=k)return g;k+=j,d=e.store.getAt(k),(c=Ext.fly(e.getNodeByRecord(d,!0)))&&c.isVisible(!0)&&(f+=j,g=d)}while(f!==b);return g},getFirstVisibleRowIndex:function(){var a=this,b=a.dataSource.buffered?a.dataSource.getTotalCount():a.dataSource.getCount(),c=a.indexOf(a.all.first())-1;do if(c+=1,c===b)return;while(!Ext.fly(a.getNode(c,!0)).isVisible(!0));return c},getLastVisibleRowIndex:function(){var a=this,b=a.indexOf(a.all.last());do if(b-=1,-1===b)return;while(!Ext.fly(a.getNode(b,!0)).isVisible(!0));return b},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return new Ext.grid.CellContext(this).setPosition(a,b)},beforeDestroy:function(){var a=this;a.rendered&&a.el.removeAllListeners(),a.callParent(arguments)},onDestroy:function(){var a,b,c=this,d=c.featuresMC;if(d)for(b=0,a=d.getCount();a>b;++b)d.getAt(b).destroy();c.featuresMC=null,this.callParent(arguments)},onAdd:function(a,b,c){this.callParent(arguments),this.doStripeRows(c)},onRemove:function(a,b,c){this.callParent(arguments),this.doStripeRows(c[0])},doStripeRows:function(a,b){var c,d,e,f,g=this;if(g.rendered&&g.stripeRows)for(c=g.getNodes(a,b),e=0,d=c.length;d>e;e++)f=c[e],f.className=f.className.replace(g.rowClsRe," "),a++,a%2===0&&(f.className+=" "+g.altRowCls)},repaintRow:function(a){for(var b=this.getNode(a),c=b.childNodes,d=c.length;d--;)c[d].className=c[d].className},getRowStyleTableEl:function(a){var b=this;return a.tagName||(a=this.getNode(a)),(b.isGrouping?Ext.fly(a):this.el).down("table.x-grid-table")},isRowStyleFirst:function(a){var b,c=this;return-1===a?!1:(a.tagName?b=c.indexOf(a):(b=a,a=this.getNode(a)),!b||c.isGrouping&&Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-group-row"))},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")}}),Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",stripeRows:!0,autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0}),Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(a,b,c){var d=this,e=d.bufferedRenderer,f=d.all;d.rendered&&e&&f.getCount()+b.length>e.viewSize?c<f.startIndex+e.viewSize&&c+b.length>f.startIndex?d.refreshView():e.stretchView(d,e.getScrollHeight()):d.callParent([a,b,c])},onRemove:function(a,b,c){var d=this,e=d.bufferedRenderer;d.callParent([a,b,c]),d.rendered&&e&&(d.dataSource.getCount()>e.viewSize?d.refreshView():e.stretchView(d,e.getScrollHeight()))},onDataRefresh:function(){var a=this;a.bufferedRenderer&&(a.all.clear(),a.bufferedRenderer.onStoreClear()),a.callParent()}}),Ext.define("Ext.grid.RowEditorButtons",{extend:"Ext.container.Container",alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(a){var b=this,c=a.rowEditor,d=Ext.baseCSSPrefix,e=c.editingPlugin;a=Ext.apply({baseCls:d+"grid-row-editor-buttons",defaults:{xtype:"button",ui:c.buttonUI,scope:e,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:d+"row-editor-update-button",itemId:"update",handler:e.completeEdit,text:c.saveBtnText,disabled:c.updateButtonDisabled},{cls:d+"row-editor-cancel-button",handler:e.cancelEdit,text:c.cancelBtnText}]},a),b.callParent([a]),b.addClsWithUI(b.position)},setButtonPosition:function(a){var b=this;b.removeClsWithUI(b.position),b.position=a,b.addClsWithUI(a)},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=this.callParent();return a.top=!0,a}}),Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",alias:"widget.roweditor",requires:["Ext.tip.ToolTip","Ext.util.HashMap","Ext.util.KeyNav","Ext.grid.RowEditorButtons"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,buttonUI:"default",hideMode:"offsets",initComponent:function(){var a=this,b=a.editingPlugin.grid,c=Ext.container.Container;a.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",a.layout={type:"hbox",align:"middle"},a.lockable=b.lockable,a.lockable?a.items=[a.lockedColumnContainer=new c({id:b.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),a.normalColumnContainer=new c({flex:1,id:b.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:a.lockedColumnContainer=a.normalColumnContainer=a,a.callParent(arguments),a.fields&&(a.addFieldsForColumn(a.fields,!0),a.insertColumnEditor(a.fields),delete a.fields),a.mon(a.hierarchyEventSource,{scope:a,show:a.repositionIfVisible}),a.getForm().trackResetOnLoad=!0},onGridResize:function(){var a=this,b=a.getClientWidth(),c=a.editingPlugin.grid,d=c.body,e=a.getFloatingButtons();a.setLocalX(d.getOffsetsTo(c)[0]+d.getBorderWidth("l")-c.el.getBorderWidth("l")),a.setWidth(b),e.setLocalX((b-e.getWidth())/2)},onFieldRender:function(a){var b=this,c=a.column;c.isVisible()?b.syncFieldWidth(c):c.rendered||b.view.headerCt.on({afterlayout:Ext.Function.bind(b.syncFieldWidth,b,[c]),single:!0})},syncFieldWidth:function(a){var b,c=a.getEditor();c._marginWidth=c._marginWidth||c.el.getMargin("lr"),b=a.getWidth()-c._marginWidth,c.setWidth(b),"displayfield"===c.xtype&&(c.inputWidth=b)},onFieldChange:function(){var a=this,b=a.getForm(),c=b.isValid();a.errorSummary&&a.isVisible()&&a[c?"hideToolTip":"showToolTip"](),a.updateButton(c),a.isValid=c},updateButton:function(a){var b=this.floatingButtons;b?b.child("#update").setDisabled(!a):this.updateButtonDisabled=!a},afterRender:function(){var a=this,b=a.editingPlugin,c=b.grid,d=c.lockable?c.normalGrid.view:c.view;a.callParent(arguments),a.scrollingView=d,a.scrollingViewEl=d.el,d.mon(a.scrollingViewEl,"scroll",a.onViewScroll,a),a.mon(a.el,{click:Ext.emptyFn,stopPropagation:!0}),a.mon(c,{resize:a.onGridResize,scope:a}),a.el.swallowEvent(["keypress","keydown"]),a.fieldScroller=a.normalColumnContainer.layout.innerCt,a.fieldScroller.dom.style.overflow="hidden",a.fieldScroller.on({scroll:a.onFieldContainerScroll,scope:a}),a.keyNav=new Ext.util.KeyNav(a.el,{enter:b.completeEdit,esc:b.onEscKey,scope:b}),a.mon(b.view,{beforerefresh:a.onBeforeViewRefresh,refresh:a.onViewRefresh,itemremove:a.onViewItemRemove,scope:a}),a.preventReposition=!0,Ext.Array.each(a.query("[isFormField]"),function(b){b.column.isVisible()&&a.onColumnShow(b.column)},a),delete a.preventReposition},onBeforeViewRefresh:function(a){var b=this,c=a.el.dom;b.el.dom.parentNode===c&&c.removeChild(b.el.dom)},onViewRefresh:function(a){var b,c=this,d=c.context;d&&(b=a.getNode(d.record,!0))?(d.row=b,c.reposition(),c.tooltip&&c.tooltip.isVisible()&&c.tooltip.setTarget(d.row)):c.editingPlugin.cancelEdit()},onViewItemRemove:function(a){var b=this.context;b&&a===b.record&&this.editingPlugin.cancelEdit()},onViewScroll:function(){var a,b=this,c=b.editingPlugin.view.el,d=b.scrollingViewEl,e=d.dom.scrollTop,f=d.getScrollLeft(),g=f!==b.lastScrollLeft,h=e!==b.lastScrollTop;b.lastScrollTop=e,b.lastScrollLeft=f,b.isVisible()&&(a=Ext.getDom(b.context.row.id),a&&c.contains(a)?h&&(b.context.row=a,b.reposition(null,!0),(b.tooltip&&b.tooltip.isVisible()||b.hiddenTip)&&b.repositionTip(),b.syncEditorClip()):b.setLocalY(-400)),b.rendered&&g&&b.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(a){var b=this;b.rendered&&(b.onGridResize(),b.onViewScroll(),a.isGroupHeader||(b.syncFieldWidth(a),b.repositionIfVisible()))},onColumnHide:function(a){a.isGroupHeader||(a.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(a){var b=this;b.rendered&&!a.isGroupHeader&&(a.getEditor().show(),b.syncFieldWidth(a),b.preventReposition||this.repositionIfVisible())},onColumnMove:function(a,b,c){var d,e,f,g,h=this,i=1,j=a.isLocked()?h.lockedColumnContainer:h.normalColumnContainer;if(a.isGroupHeader){for(Ext.suspendLayouts(),a=a.getGridColumns(),c>b&&(c--,i=0),this.addFieldsForColumn(a),d=0,e=a.length;e>d;d++,b+=i,c+=i)f=a[d].getEditor(),g=j.items.indexOf(f),-1===g?j.insert(c,f):g!=c&&j.move(b,c);Ext.resumeLayouts(!0)}else c>b&&c--,this.addFieldsForColumn(a),f=a.getEditor(),g=j.items.indexOf(f),-1===g?j.insert(c,f):g!=c&&j.move(b,c)},onColumnAdd:function(a){a.isGroupHeader&&(a=a.getGridColumns()),this.addFieldsForColumn(a),this.insertColumnEditor(a),this.preventReposition=!1},insertColumnEditor:function(a){var b,c,d,e=this;if(Ext.isArray(a))for(d=0,c=a.length;c>d;d++)e.insertColumnEditor(a[d]);else a.getEditor&&(b=a.isLocked()?e.lockedColumnContainer:e.normalColumnContainer,b.insert(a.getVisibleIndex(),a.getEditor()))},onColumnRemove:function(a,b){b=b.isGroupHeader?b.getGridColumns():b,this.removeColumnEditor(b)},removeColumnEditor:function(a){var b,c,d,e=this;if(Ext.isArray(a))for(d=0,c=a.length;c>d;d++)e.removeColumnEditor(a[d]);else a.hasEditor()&&(b=a.getEditor(),b&&b.ownerCt&&b.ownerCt.remove(b,!1))},onColumnReplace:function(a,b,c,d){this.onColumnRemove(d.ownerCt,d)},getFloatingButtons:function(){var a=this,b=a.floatingButtons;return b||(a.floatingButtons=b=new Ext.grid.RowEditorButtons({rowEditor:a})),b},repositionIfVisible:function(a){var b=this,c=b.view;(!a||a!=b&&a.el.isAncestor(c.el))&&b.isVisible()&&c.isVisible(!0)&&b.reposition()},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(){var a,b=this;return b.lockable?(a=b.lockedColumnContainer.getRefItems(),a.push.apply(a,b.normalColumnContainer.getRefItems())):a=b.callParent(),a.push.apply(a,b.getFloatingButtons().getRefItems()),a},reposition:function(a,b){var c,d,e,f,g=this,h=g.context,i=h&&Ext.get(h.row),j=0;i&&Ext.isElement(i.dom)&&(e=g.syncButtonPosition(g.getScrollDelta()),g.editingPlugin.grid.rowLines||(j=-parseInt(i.first().getStyle("border-bottom-width"))),c=g.calculateLocalRowTop(i),d=g.calculateEditorTop(c)+j,b||(f=function(){e&&g.scrollingViewEl.scrollBy(0,e,!0),g.focusContextCell()}),g.syncEditorClip(),a?g.animate(Ext.applyIf({to:{top:d},duration:a.duration||125,callback:f},a)):(g.setLocalY(d),f&&f()))},getScrollDelta:function(){var a=this,b=a.scrollingViewEl.dom,c=a.context,d=a.body,e=0;return c&&(e=Ext.fly(c.row).getOffsetsTo(b)[1]-d.getBorderPadding().beforeY,e>0&&(e=Math.max(e+a.getHeight()+a.floatingButtons.getHeight()-b.clientHeight-d.getBorderWidth("b"),0))),e},calculateLocalRowTop:function(a){var b=this.editingPlugin.grid;return Ext.fly(a).getOffsetsTo(b)[1]-b.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var a,b=this,c=b.editingPlugin.grid;return a=b.lockable?c.lockedGrid.getWidth()+c.normalGrid.view.el.dom.clientWidth-1:c.view.el.dom.clientWidth},getEditor:function(a){var b=this;return Ext.isNumber(a)?b.query("[isFormField]")[a]:a.isHeader&&!a.isGroupHeader?a.getEditor():void 0},addFieldsForColumn:function(a,b){var c,d,e,f=this;if(Ext.isArray(a))for(c=0,d=a.length;d>c;c++)f.addFieldsForColumn(a[c],b);else a.getEditor&&(e=a.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}}),"right"===a.align&&(e.fieldStyle="text-align:right"),"actioncolumn"===a.xtype&&(e.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),f.isVisible()&&f.context&&(e.is("displayfield")?f.renderColumnData(e,f.context.record,a):(e.suspendEvents(),e.setValue(f.context.record.get(a.dataIndex)),e.resumeEvents())),a.hidden?f.onColumnHide(a):a.rendered&&!b&&f.onColumnShow(a))},loadRecord:function(a){var b,c,d,e=this,f=e.getForm(),g=f.getFields(),h=g.items,i=h.length;for(b=0;i>b;b++)h[b].suspendEvents();for(f.loadRecord(a),b=0;i>b;b++)h[b].resumeEvents();for(d=f.isValid(),e.errorSummary&&(d?e.hideToolTip():e.showToolTip()),e.updateButton(d),c=e.query(">displayfield"),i=c.length,b=0;i>b;b++)e.renderColumnData(c[b],a)},renderColumnData:function(a,b,c){var d,e,f,g=this,h=g.editingPlugin.grid,i=h.headerCt,j=g.scrollingView,k=j.dataSource,l=c||a.column,m=b.get(l.dataIndex),n=l.editRenderer||l.renderer;n&&(d={tdCls:"",style:""},e=k.indexOf(b),f=i.getHeaderIndex(l),m=n.call(l.scope||i.ownerCt,m,d,b,e,f,k,j)),a.setRawValue(m),a.resetOriginalValue()},beforeEdit:function(){var a,b=this;return b.isVisible()&&b.errorSummary&&!b.autoCancel&&b.isDirty()?(a=b.getScrollDelta(),a&&b.scrollingViewEl.scrollBy(0,a,!0),b.showToolTip(),!1):void 0},startEdit:function(a){var b=this,c=b.editingPlugin,d=c.grid,e=b.context=c.context;b.rendered?b.syncFieldsHorizontalScroll():(b.width=b.getClientWidth(),b.render(d.el,d.el.dom.firstChild),b.getFloatingButtons().render(b.el),b.onViewScroll()),b.isVisible()?b.reposition(!0):b.show(),b.onGridResize(),e.grid.getSelectionModel().select(a),b.loadRecord(a)},syncButtonPosition:function(a){var b=this,c=b.getFloatingButtons(),d=b.scrollingViewEl.dom,e=this.getScrollDelta()-(d.scrollHeight-d.scrollTop-d.clientHeight);return e>0?(b._buttonsOnTop||(c.setButtonPosition("top"),b._buttonsOnTop=!0),a=0):b._buttonsOnTop&&(c.setButtonPosition("bottom"),b._buttonsOnTop=!1),a},syncEditorClip:function(){var a,b=this,c=b.getScrollDelta();c?(b.isOverflowing=!0,a=b.floatingButtons.getHeight(),c>0?b.clipBottom(Math.max(b.getHeight()-c+a,-a)):0>c&&(c=Math.abs(c),b.clipTop(Math.max(c,0)))):b.isOverflowing&&(b.clearClip(),b.isOverflowing=!1)},focusContextCell:function(){var a=this.getEditor(this.context.column);a&&a.focus&&a.focus()},cancelEdit:function(){var a,b=this,c=b.getForm(),d=c.getFields(),e=d.items,f=e.length;for(b.hide(),c.clearInvalid(),a=0;f>a;a++)e[a].suspendEvents();for(c.reset(),a=0;f>a;a++)e[a].resumeEvents()},completeEdit:function(){var a=this,b=a.getForm();return b.isValid()?(b.updateRecord(a.context.record),a.hide(),!0):!1},onShow:function(){var a=this;a.callParent(arguments),a.reposition()},onHide:function(){var a=this;a.callParent(arguments),a.tooltip&&a.hideToolTip(),a.context&&(a.context.view.focusRow(a.context.record),a.context=null)},isDirty:function(){var a=this,b=a.getForm();return b.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var a=this,b=a.getToolTip();b.rendered&&b.disable(),a.hiddenTip=!1},showToolTip:function(){var a=this,b=a.getToolTip();b.showAt([0,0]),b.update(a.getErrors()),a.repositionTip(),b.enable()},repositionTip:function(){var a=this,b=a.getToolTip(),c=a.context,d=Ext.get(c.row),e=a.scrollingViewEl,f=e.dom.clientHeight,g=a.lastScrollTop,h=g+f,i=d.getHeight(),j=d.getOffsetsTo(a.context.view.body)[1],k=j+i;k>g&&h>j?(b.showAt(b.getAlignToXY(e,"tl-tr",[15,d.getOffsetsTo(e)[1]])),a.hiddenTip=!1):(b.hide(),a.hiddenTip=!0)},getErrors:function(){var a,b=this,c=[],d=b.query(">[isFormField]"),e=d.length;for(a=0;e>a;a++)c=c.concat(Ext.Array.map(d[a].getErrors(),b.createErrorListItem));return c.length||b.autoCancel||!b.isDirty()||(c[0]=b.createErrorListItem(b.dirtyText)),'<ul class="'+Ext.plainListCls+'">'+c.join("")+"</ul>"},createErrorListItem:function(a){return'<li class="'+Ext.baseCSSPrefix+'grid-row-editor-errors-item">'+a+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()},clipBottom:function(a){this.el.setStyle("clip","rect(-1000px auto "+a+"px auto)")},clipTop:function(a){this.el.setStyle("clip","rect("+a+"px auto 1000px auto)")},clearClip:function(){this.el.setStyle("clip",Ext.isIE8m||Ext.isIEQuirks?"rect(-1000px auto 1000px auto)":"auto")}}),Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(a){var b=this;Ext.apply(b,a),b.ddGroup||(b.ddGroup="view-dd-zone-"+b.view.id),b.callParent([b.view.el])},fireViewEvent:function(){var a,b=this;return b.lock(),a=b.view.fireEvent.apply(b.view,arguments),b.unlock(),a},getTargetFromEvent:function(a){var b,c,d,e,f,g,h=a.getTarget(this.view.getItemSelector());if(!h)for(b=a.getPageY(),e=0,c=this.view.getNodes(),f=c.length;f>e;e++)if(d=c[e],g=Ext.fly(d).getBox(),b<=g.bottom)return d;return h},getIndicator:function(){var a=this;return a.indicator||(a.indicator=new Ext.Component({html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:!0,shadow:!1})),a.indicator},getPosition:function(a,b){var c,d=a.getXY()[1],e=Ext.fly(b).getRegion();return c=e.bottom-d>=(e.bottom-e.top)/2?"before":"after"},containsRecordAtOffset:function(a,b,c){if(!b)return!1;var d=this.view,e=d.indexOf(b),f=d.getNode(e+c,!0),g=f?d.getRecord(f):null;return g&&Ext.Array.contains(a,g)},positionIndicator:function(a,b,c){var d,e=this,f=e.view,g=e.getPosition(c,a),h=f.getRecord(a),i=b.records;Ext.Array.contains(i,h)||("before"!=g||e.containsRecordAtOffset(i,h,-1))&&("after"!=g||e.containsRecordAtOffset(i,h,1))?e.invalidateDrop():(e.valid=!0,(e.overRecord!=h||e.currentPosition!=g)&&(d=Ext.fly(a).getY()-f.el.getY()-1,"after"==g&&(d+=Ext.fly(a).getHeight()),e.getIndicator().setWidth(Ext.fly(f.el).getWidth()).showAt(0,d),e.overRecord=h,e.currentPosition=g))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(a,b,c,d){var e=this;return Ext.Array.contains(d.records,e.view.getRecord(a))||e.positionIndicator(a,d,c),e.valid?e.dropAllowed:e.dropNotAllowed},notifyOut:function(){var a=this;a.callParent(arguments),a.overRecord=a.currentPosition=null,a.valid=!1,a.indicator&&a.indicator.hide()},onContainerOver:function(a,b,c){var d=this,e=d.view,f=e.dataSource.getCount();return f?d.positionIndicator(e.all.last(),c,b):(d.overRecord=d.currentPosition=null,d.getIndicator().setWidth(Ext.fly(e.el).getWidth()).showAt(0,0),d.valid=!0),d.dropAllowed},onContainerDrop:function(a,b,c){return this.onNodeDrop(a,null,b,c)},onNodeDrop:function(a,b,c,d){var e=this,f=!1,g={wait:!1,processDrop:function(){e.invalidateDrop(),e.handleNodeDrop(d,e.overRecord,e.currentPosition),f=!0,e.fireViewEvent("drop",a,d,e.overRecord,e.currentPosition)},cancelDrop:function(){e.invalidateDrop(),f=!0}},h=!1;if(e.valid){if(h=e.fireViewEvent("beforedrop",a,d,e.overRecord,e.currentPosition,g),g.wait)return;h!==!1&&(f||g.processDrop())}return h},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,b,c){var d,e,f,g,h=this.view,i=h.getStore();if(a.copy)for(e=a.records,a.records=[],f=0,g=e.length;g>f;f++)a.records.push(e[f].copy());else a.view.store.remove(a.records,a.view===h);b&&c?(d=i.indexOf(b),"before"!==c&&d++,i.insert(d,a.records)):i.add(a.records),h.getSelectionModel().select(a.records)}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.AbstractPlugin",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a,a.on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a){var b,c,d,e,f,g,h=this;h.headerCt.dragging?h.activeHd&&(h.activeHd.el.dom.style.cursor="",delete h.activeHd):(c=a.getTarget("."+h.colHeaderCls,3,!0),c&&(d=Ext.getCmp(c.id),d.isOnLeftEdge(a)?(e=d.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&(g=h.headerCt.up("tablepanel"),f=e.up("tablepanel"),f===g||g.ownerCt.isXType("tablepanel")&&g.ownerCt.view.lockedGrid===f||(e=null))):e=d.isOnRightEdge(a)?d:null,e?(e.isGroupHeader&&(b=e.getGridColumns(),e=b[b.length-1]),!e||e.fixed||e.resizable===!1||h.disabled||(h.activeHd=e,d.el.dom.style.cursor=h.eResizeCursor,d.triggerEl&&(d.triggerEl.dom.style.cursor=h.eResizeCursor))):(d.el.dom.style.cursor="",d.triggerEl&&(d.triggerEl.dom.style.cursor=""),h.activeHd=null)))},onBeforeStart:function(){return this.dragHd=this.activeHd,this.dragHd&&!this.headerCt.dragging?(this.tracker.constrainTo=this.getConstrainRegion(),!0):(this.headerCt.dragging=!1,!1)},getConstrainRegion:function(){var a,b,c=this,d=c.dragHd.el,e=0;return c.headerCt.forceFit?(a=c.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),a&&(c.headerInSameGrid(a)||(a=null),e=a.getWidth()-c.minColWidth)):e=(b=c.dragHd.up("tablepanel")).isLocked?c.dragHd.up("[scrollerOwner]").getWidth()-b.getWidth()-30:c.maxColWidth-d.getWidth(),c.adjustConstrainRegion(d.getRegion(),0,e,0,c.minColWidth)},onStart:function(){var a,b,c,d,e,f,g,h=this,i=h.dragHd,j=i.el.getWidth(),k=i.getOwnerHeaderCt();h.headerCt.dragging=!0,h.origWidth=j,h.dynamic||(c=d=k.up("tablepanel"),c.ownerLockable&&(d=c.ownerLockable),a=h.getLeftMarkerX(d),e=d.getLhsMarker(),f=d.getRhsMarker(),g=c.body.getHeight()+k.getHeight(),b=k.getOffsetsTo(d)[1],e.setLocalY(b),f.setLocalY(b),e.setHeight(g),f.setHeight(g),h.setMarkerX(e,a),h.setMarkerX(f,a+j))},onDrag:function(){var a,b=this;b.dynamic?b.doResize():(a=this.headerCt.up("tablepanel"),a.ownerLockable&&(a=a.ownerLockable),this.setMarkerX(this.getMovingMarker(a),this.calculateDragX(a)))},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(){if(this.headerCt.dragging=!1,this.dragHd){if(!this.dynamic){var a=this.headerCt.up("tablepanel");
a.ownerLockable&&(a=a.ownerLockable),this.setMarkerX(a.getLhsMarker(),-9999),this.setMarkerX(a.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var a,b,c=this,d=c.dragHd;d&&(b=c.tracker.getOffset("point"),d.flex&&delete d.flex,Ext.suspendLayouts(),c.adjustColumnWidth(b[0]),c.headerCt.forceFit&&(a=d.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),a&&!c.headerInSameGrid(a)&&(a=null),a&&(delete a.flex,a.setWidth(a.getWidth()-b[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(a){var b=this.dragHd.up("tablepanel");return!!a.up(b)},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()},calculateDragX:function(a){return this.tracker.getXY("point")[0]-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,b,c,d,e){return a.adjust(b,c,d,e)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}}),Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a,this.ddGroup=this.getDDGroup(),this.callParent([a.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){if(a.getTarget(this.colInnerSelector)){var b,c,d=a.getTarget(this.colHeaderSelector);if(d&&(b=Ext.getCmp(d.id),!this.headerCt.dragging&&b.draggable&&!b.isOnLeftEdge(a)&&!b.isOnRightEdge(a)))return c=document.createElement("div"),c.innerHTML=Ext.getCmp(d.id).text,{ddel:c,header:b}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a,this.ddGroup=this.getDDGroup(),this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},!0),this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(a,b){var c,d=a.getXY()[0],e=Ext.fly(b).getRegion();return c=e.right-d<=(e.right-e.left)/2?"after":"before",{pos:c,header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=a.header,u=s.getLocation(c,b),v=u.header,w=u.pos;if(v!==s.lastTargetHeader||w!==s.lastDropPos){if(d=t.nextSibling("gridcolumn:not([hidden])"),e=t.previousSibling("gridcolumn:not([hidden])"),s.lastTargetHeader=v,s.lastDropPos=w,!v.draggable&&"before"===w&&0===v.getIndex())return!1;if(a.dropLocation=u,t!==v&&("before"===w&&d!==v||"after"===w&&e!==v)&&!v.isDescendantOf(t)){for(o=Ext.dd.DragDropManager.getRelated(s),p=o.length,q=0;p>q;q++)r=o[q],r!==s&&r.invalidateDrop&&r.invalidateDrop();s.valid=!0,f=s.getTopIndicator(),g=s.getBottomIndicator(),"before"===w?(h="bc-tl",i="tc-bl"):(h="bc-tr",i="tc-br"),j=f.getAlignToXY(v.el,h),k=g.getAlignToXY(v.el,i),l=s.headerCt.el,m=l.getX()-s.indicatorXOffset,n=l.getX()+l.getWidth(),j[0]=Ext.Number.constrain(j[0],m,n),k[0]=Ext.Number.constrain(k[0],m,n),f.setXY(j),g.setXY(k),f.show(),g.show()}else s.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(a,b,c,d){var e,f,g,h,i=this,j=d.header;return d.header.el.dom===a?e=!1:(d.isLock=d.isUnlock=!1,f=i.getLocation(c,a).header,e=j.ownerCt===f.ownerCt,e||j.ownerCt.sealed||f.ownerCt.sealed||(e=!0,g=j.up("tablepanel"),h=f.up("tablepanel"),d.isLock=h.isLocked&&!g.isLocked,d.isUnlock=!h.isLocked&&g.isLocked,(d.isUnlock&&j.lockable===!1||d.isLock&&!j.isLockable())&&(e=!1))),e?i.positionIndicator(d,a,c):i.valid=!1,i.valid?i.dropAllowed:i.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide(),a.getBottomIndicator().hide(),a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){var e,f,g=d.header,h=d.dropLocation,i=h.header,j=g.ownerCt,k=j.items.indexOf(g),l=i.ownerCt,m=l.items.indexOf(i),n=this.headerCt,o=n.columnManager,p=o.getHeaderIndex(g),q=o.getHeaderIndex(i),r=g.isGroupHeader?g.query(":not([isGroupHeader])").length:1,s=j===l;if("after"===h.pos&&(m++,q+=i.isGroupHeader?i.query(":not([isGroupHeader])").length:1),d.isLock)e=j.up("[scrollerOwner]"),e.lock(g,m),d.isLock=!1,this.onNodeDrop(a,b,c,d);else if(d.isUnlock)e=j.up("[scrollerOwner]"),e.unlock(g,m),d.isUnlock=!1,this.onNodeDrop(a,b,c,d);else{if(this.invalidateDrop(),f=g.getWidth(),s){if(m===k)return void n.onHeaderMoved(g,r,p,q);m>k&&(m-=1)}Ext.suspendLayouts(),s?l.move(k,m):(j.remove(g,!1),l.insert(m,g)),l.isGroupHeader?s||(g.savedFlex=g.flex,delete g.flex,g.width=f):g.savedFlex&&(g.flex=g.savedFlex,delete g.width),n.purgeCache(),Ext.resumeLayouts(!0),n.onHeaderMoved(g,r,p,q)}}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.AbstractPlugin",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a,a.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt),a.dropZone=new Ext.grid.header.DropZone(a.headerCt),a.disabled&&a.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.grid.ColumnManager","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){var a=this;a.headerCounter=0,a.plugins=a.plugins||[],a.isColumn||(a.enableColumnResize&&(a.resizer=new Ext.grid.plugin.HeaderResizer,a.plugins.push(a.resizer)),a.enableColumnMove&&(a.reorderer=new Ext.grid.plugin.HeaderReorderer,a.plugins.push(a.reorderer))),!a.isColumn||a.items&&0!==a.items.length?(a.layout=Ext.apply({type:"gridcolumn",align:"stretch"},a.initialConfig.layout),a.isRootHeader&&(a.grid.columnManager=a.columnManager=new Ext.grid.ColumnManager(a))):(a.isContainer=!1,a.layout={type:"container",calculate:Ext.emptyFn}),a.defaults=a.defaults||{},Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable}),a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a),a.callParent(),a.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){return this.hiddenHeaders?!1:this.callParent()},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up("[isRootHeader]")},onDestroy:function(){var a=this;a.menu&&a.menu.un("hide",a.onMenuHide,a),a.menuTask.cancel(),Ext.destroy(a.resizer,a.reorderer),a.callParent()},applyColumnsState:function(a){if(a&&a.length){var b,c,d,e,f=this,g=f.items.items,h=g.length,i=0,j=a.length;for(b=0;j>b;b++)for(d=a[b],e=h;e--;)if(c=g[e],c.getStateId&&c.getStateId()==d.id){i!==e&&f.moveHeader(e,i),c.applyColumnState&&c.applyColumnState(d),++i;break}}},getColumnsState:function(){var a,b=this,c=[];return b.items.each(function(b){a=b.getColumnState&&b.getColumnState(),a&&c.push(a)}),c},onAdd:function(a){var b=this;a.headerId||(a.headerId=a.initialConfig.id||Ext.id(null,"header-")),a.getStateId()||(a.stateId=a.initialConfig.id||"h"+ ++b.headerCounter),Ext.global.console&&Ext.global.console.warn&&(b._usedIDs||(b._usedIDs={}),b._usedIDs[a.headerId]&&Ext.global.console.warn(this.$className,"attempted to reuse an existing id",a.headerId),b._usedIDs[a.headerId]=!0),b.callParent(arguments),b.onColumnsChanged()},onMove:function(){this.callParent(arguments),this.onColumnsChanged()},onShow:function(){this.callParent(arguments),this.onColumnsChanged()},onColumnsChanged:function(){for(var a=this;a&&(a.purgeCache(),!a.isRootHeader);)a=a.ownerCt;a&&a.rendered&&a.fireEvent("columnschanged",a)},onRemove:function(a){var b=this,c=b.ownerCt;b.callParent(arguments),b._usedIDs||(b._usedIDs={}),delete b._usedIDs[a.headerId],b.destroying||(b.onColumnsChanged(),b.isGroupHeader&&!b.items.getCount()&&c&&(b.detachComponent(a),Ext.suspendLayouts(),c.remove(b),Ext.resumeLayouts(!0)))},applyDefaults:function(a){var b;return a&&!a.isComponent&&"rownumberer"==a.xtype?b=a:(b=this.callParent(arguments),a.isGroupHeader||"width"in b||b.flex||(b.width=this.defaultWidth)),b},setSortState:function(){var a,b=this.up("[store]").store,c=b.getFirstSorter();c?(a=this.down("gridcolumn[dataIndex="+c.property+"]"),a&&a.setSortState(c.direction,!1,!0)):this.clearOtherSortStates(null)},getHeaderMenu:function(){var a,b=this.getMenu();return b&&(a=b.child("#columnItem"))?a.menu:null},onHeaderVisibilityChange:function(a,b){var c,d=this,e=d.getHeaderMenu();d.purgeCache(),e&&(c=d.getMenuItemForHeader(e,a),c&&c.setChecked(b,!0),e.isVisible()&&d.menuTask.delay(50))},updateMenuDisabledState:function(a){var b,c,d,e,f=this,g=f.query(":not([hidden])"),h=g.length;for(a||(a=f.getMenu()),b=0;h>b;++b)c=g[b],d=f.getMenuItemForHeader(a,c),d&&(e=c.isHideable()?"enable":"disable",d.menu&&(e+="CheckChange"),d[e]())},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=this,c=b.ownerCt;b.forceFit&&delete b.flex,b.onHeaderVisibilityChange(a,!0),a.isGroupHeader||c&&c.onHeaderShow(b,a),b.fireEvent("columnshow",b,a),b.fireEvent("columnschanged",this)},onHeaderHide:function(a){var b=this,c=b.ownerCt;b.onHeaderVisibilityChange(a,!1),a.isGroupHeader||c&&c.onHeaderHide(b,a),b.fireEvent("columnhide",b,a),b.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(a,b){var c=this,d=c.view,e=c.ownerCt;d&&d.body.dom&&(c.tempLock(),e&&e.onHeaderResize(c,a,b)),c.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",this,a,b,c),this.fireEvent("headerclick",this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent("headercontextmenu",this,a,b,c),this.fireEvent("headercontextmenu",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){var d=this;a.fireEvent("headertriggerclick",d,a,b,c)!==!1&&d.fireEvent("headertriggerclick",d,a,b,c)!==!1&&d.showMenuBy(c,a)},showMenuBy:function(a,b){var c,d=this.getMenu(),e=d.down("#ascItem"),f=d.down("#descItem");d.activeHeader=d.ownerButton=b,b.setMenuActive(!0),c=b.sortable?"enable":"disable",e&&e[c](),f&&f[c](),d.showBy(a)},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},moveHeader:function(a,b){this.tempLock(),this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this,b=a.menu;a.gridDataColumns=a.hideableColumns=null,a.columnManager&&a.columnManager.invalidate(),b&&b.hidden&&(b.hide(),b.destroy(),a.menu=null)},onHeaderMoved:function(a,b,c,d){var e=this,f=e.ownerCt;f&&f.onHeaderMove&&f.onHeaderMove(e,a,b,c,d),e.fireEvent("columnmove",e,a,c,d)},getMenu:function(){var a=this;return a.menu||(a.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:a.getMenuItems(),listeners:{hide:a.onMenuHide,scope:a}}),a.fireEvent("menucreate",a,a.menu)),a.updateMenuDisabledState(a.menu),a.menu},getMenuItems:function(){var a=this,b=[],c=a.enableColumnHide?a.getColumnMenu(a):null;return a.sortable&&(b=[{itemId:"ascItem",text:a.sortAscText,cls:a.menuSortAscCls,handler:a.onSortAscClick,scope:a},{itemId:"descItem",text:a.sortDescText,cls:a.menuSortDescCls,handler:a.onSortDescClick,scope:a}]),c&&c.length&&(a.sortable&&b.push("-"),b.push({itemId:"columnItem",text:a.columnsText,cls:a.menuColsIcon,menu:c,hideOnClick:!1})),b},onSortAscClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("ASC")},onSortDescClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("DESC")},getColumnMenu:function(a){for(var b,c,d=[],e=0,f=a.query(">gridcolumn[hideable]"),g=f.length;g>e;e++)b=f[e],c=new Ext.menu.CheckItem({text:b.menuText||b.text,checked:!b.hidden,hideOnClick:!1,headerId:b.id,menu:b.isGroupHeader?this.getColumnMenu(b):void 0,checkHandler:this.onColumnCheckChange,scope:this}),d.push(c),b.on({destroy:Ext.Function.bind(c.destroy,c)});return d},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c[b?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){for(var a,b=0,c=this.getVisibleGridColumns(),d=c.length,e=0;d>e;e++)a=c[e],b+=a.getDesiredWidth?a.getDesiredWidth()||0:a.getWidth();return b},clearOtherSortStates:function(a){for(var b=this.getGridColumns(),c=b.length,d=0;c>d;d++)b[d]!==a&&b[d].setSortState(null,!0)},getVisibleGridColumns:function(){var a,b=this.getGridColumns(),c=[],d=b.length;for(a=0;d>a;a++)b[a].hidden||(c[c.length]=b[a]);return c},getGridColumns:function(a,b){if(!a&&this.gridDataColumns)return this.gridDataColumns;var c,d,e,f,g,h=this,i=a||[];if(b=b||h.hidden,h.items)for(c=h.items.items,d=0,e=c.length;e>d;d++)f=c[d],f.isGroupHeader?f.getGridColumns(i,b):(f.hiddenAncestor=b,i.push(f));if(a||(h.gridDataColumns=i),!a&&e){for(d=0,e=i.length;e>d;d++)f=i[d],f.isFirstVisible=f.isLastVisible=!1,f.hidden||f.hiddenAncestor||(g||(f.isFirstVisible=!0),g=f);g&&(g.isLastVisible=!0)}return i},getHideableColumns:function(){var a=this,b=a.hideableColumns;return b||(b=a.hideableColumns=a.query("[hideable]")),b},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(a){var b=this.view;b&&b.autoSizeColumn(a)}}),Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:!0,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var a,b,c=this;null!=c.header&&(c.text=c.header,c.header=null),c.triStateSort||(c.possibleSortStates.length=2),null!=c.columns?(c.isGroupHeader=!0,c.items=c.columns,c.columns=c.flex=c.width=null,c.cls=(c.cls||"")+" "+c.groupHeaderCls,c.sortable=c.resizable=!1,c.align="center"):c.flex&&(c.minWidth=c.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),c.addCls(Ext.baseCSSPrefix+"column-header-align-"+c.align),a=c.renderer,a?("string"==typeof a&&(c.renderer=Ext.util.Format[a]),c.hasCustomRenderer=!0):c.defaultRenderer&&(c.scope=c,c.renderer=c.defaultRenderer),c.callParent(arguments),b={element:c.clickTargetName,click:c.onTitleElClick,contextmenu:c.onTitleElContextMenu,mouseenter:c.onTitleMouseOver,mouseleave:c.onTitleMouseOut,scope:c},c.resizable&&(b.dblclick=c.onTitleElDblClick),c.on(b)},onAdd:function(a){a.isColumn&&(a.isSubHeader=!0,a.addCls(this.groupSubHeaderCls)),this.hidden&&a.hide(),this.callParent(arguments)},onRemove:function(a){a.isSubHeader&&(a.isSubHeader=!1,a.removeCls(this.groupSubHeaderCls)),this.callParent(arguments)},initRenderData:function(){var a=this,b="",c=a.tooltip,d="qtip"==a.tooltipType?"data-qtip":"title";return Ext.isEmpty(c)||(b=d+'="'+c+'" '),Ext.applyIf(a.callParent(arguments),{text:a.text,menuDisabled:a.menuDisabled,tipMarkup:b})},applyColumnState:function(a){var b=this;b.applyColumnsState(a.columns),null!=a.hidden&&(b.hidden=a.hidden),null!=a.locked&&(b.locked=a.locked),null!=a.sortable&&(b.sortable=a.sortable),null!=a.width?(b.flex=null,b.width=a.width):null!=a.flex&&(b.width=null,b.flex=a.flex)},getColumnState:function(){var a,b=this,c=b.items.items,d=c?c.length:0,e=[],f={id:b.getStateId()};if(b.savePropsToState(["hidden","sortable","locked","flex","width"],f),b.isGroupHeader){for(a=0;d>a;a++)e.push(c[a].getColumnState());e.length&&(f.columns=e)}else b.isSubHeader&&b.ownerCt.hidden&&delete b.hidden;return"width"in f&&delete f.flex,f},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a,this.rendered&&this.textEl.update(a)},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,b=a.up("tablepanel");a.callParent(),!b||a.sortable&&b.sortableColumns!==!1||a.groupable||a.lockable||b.enableColumnHide!==!1&&a.getOwnerHeaderCt().getHideableColumns().length||(a.menuDisabled=!0),a.protoEl.unselectable()},afterRender:function(){var a=this,b=a.triggerEl;a.callParent(arguments),Ext.isIE8&&Ext.isStrict||a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a}),b&&void 0===a.self.triggerElWidth&&(b.setStyle("display","block"),a.self.triggerElWidth=b.getWidth(),b.setStyle("display","")),a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(a,b,c){var d=this,e=d.getOwnerHeaderCt();d.callParent(arguments),e&&(null!=c||d.flex)&&a!==c&&e.onHeaderResize(d,a,!0)},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field),a.keyNav=null,a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){this.triggerEl&&this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a){var b,c,d=this;if(d.isOnLeftEdge(a))b=d.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),b&&b.getOwnerHeaderCt()===d.getOwnerHeaderCt()&&b.autoSize();else if(d.isOnRightEdge(a)){if(d.isGroupHeader&&a.getPoint().isContainedBy(d.layout.innerCt))return c=d.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void this.getOwnerHeaderCt().autoSizeColumn(c[c.length-1]);d.autoSize()}},autoSize:function(){var a,b,c,d,e=this;if(e.isGroupHeader){for(a=e.query("gridcolumn:not([hidden]):not([isGroupHeader])"),b=a.length,d=this.getOwnerHeaderCt(),Ext.suspendLayouts(),c=0;b>c;c++)d.autoSizeColumn(a[c]);return void Ext.resumeLayouts(!0)}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,b){var c=this,d=c.getOwnerHeaderCt();d&&!d.ddLock&&(c.triggerEl&&(a.target===c.triggerEl.dom||b===c.triggerEl.dom||a.within(c.triggerEl))?d.onHeaderTriggerClick(c,a,b):(a.getKey()||!c.isOnLeftEdge(a)&&!c.isOnRightEdge(a))&&(c.toggleSortState(),d.onHeaderClick(c,a,b)))},onTitleElContextMenu:function(a,b){var c=this,d=c.getOwnerHeaderCt();d&&!d.ddLock&&d.onHeaderContextMenu(c,a,b)},processEvent:function(){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a,b,c=this;c.sortable&&(a=Ext.Array.indexOf(c.possibleSortStates,c.sortState),b=(a+1)%c.possibleSortStates.length,c.setSortState(c.possibleSortStates[b]))},doSort:function(a){var b=this.up("tablepanel"),c=b.store;b.ownerLockable&&c.isNodeStore&&(c=b.ownerLockable.lockedGrid.store),c.sort({property:this.getSortParam(),direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(a,b,c){var d=this,e=d.ascSortCls,f=d.descSortCls,g=d.getOwnerHeaderCt(),h=d.sortState;if(a=a||null,!d.sorting&&h!==a&&null!=d.getSortParam()){switch(a&&!c&&(d.sorting=!0,d.doSort(a),d.sorting=!1),a){case"DESC":d.addCls(f),d.removeCls(e);break;case"ASC":d.addCls(e),d.removeCls(f);break;default:d.removeCls([e,f])}!g||d.triStateSort||b||g.clearOtherSortStates(d),d.sortState=a,(d.triStateSort||null!=a)&&g.fireEvent("sortchange",g,d,a)}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};return a.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a]),a.result},hasOtherMenuEnabledChildren:function(a){var b,c;return this.isXType("headercontainer")?(b=this.query(">:not([hidden]):not([menuDisabled])"),c=b.length,Ext.Array.contains(b,a.hideCandidate)&&c--,c?!1:void(a.hideCandidate=this)):(a.result=!1,!1)},isLockable:function(){var a={result:this.lockable!==!1};return a.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a]),a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){return this.isXType("headercontainer")?this.query(">:not([hidden])").length>1?!1:void 0:(a.result=!1,!1)},hide:function(a){var b,c,d,e,f,g=this,h=g.getOwnerHeaderCt(),i=g.ownerCt;if(!g.isVisible())return g;if(!h)return g.callParent(),g;if(h.forceFit&&(g.visibleSiblingCount=h.getVisibleGridColumns().length-1,g.flex&&(g.savedWidth=g.getWidth(),g.flex=null)),b=i.isGroupHeader,b&&!a&&(d=i.query(">:not([hidden])"),1===d.length&&d[0]==g))return void g.ownerCt.hide();if(Ext.suspendLayouts(),g.isGroupHeader)for(d=g.items.items,f=0,e=d.length;e>f;f++)c=d[f],c.hidden||c.hide(!0);return g.callParent(),h.onHeaderHide(g),Ext.resumeLayouts(!0),g},show:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.getOwnerHeaderCt(),m=k.ownerCt,n=Ext.grid.header.Container.prototype.defaultWidth;if(k.isVisible())return k;if(!k.rendered)return void(k.hidden=!1);if(h=l.el.getViewSize().width-(l.view.el.dom.scrollHeight>l.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0),l.forceFit)if(c=Ext.ComponentQuery.query(":not([flex])",l.getVisibleGridColumns()),c.length)k.width=k.savedWidth||k.width||n;else{for(c=l.getVisibleGridColumns(),d=c.length,j=k.visibleSiblingCount,g=k.savedWidth||k.width||n,g=Math.min(g*(j/d),n,Math.max(h-d*n,n)),k.width=null,k.flex=g,h-=g,i=0,e=0;d>e;e++)f=c[e],f.flex=f.width||f.getWidth(),i+=f.flex,f.width=null;for(e=0;d>e;e++)f=c[e],f.flex=f.flex/i*h}if(Ext.suspendLayouts(),k.isSubHeader&&m.hidden&&m.show(!1,!0),k.callParent(arguments),k.isGroupHeader&&b!==!0&&!k.query(":not([hidden])").length)for(c=k.items.items,e=0,d=c.length;d>e;e++)f=c[e],f.hidden&&f.show(!0);Ext.resumeLayouts(!0),m=k.getOwnerHeaderCt(),m&&m.onHeaderShow(k)},getDesiredWidth:function(){var a=this;return a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize?a.componentLayout.lastComponentSize.width:a.flex?a.width:a.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(a){return this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)}}),Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(a){var b,c,d,e=this,f=Ext.apply({},a),g=f.items||e.items||[e];for(e.origRenderer=f.renderer||e.renderer,e.origScope=f.scope||e.scope,e.renderer=e.scope=f.renderer=f.scope=null,f.items=null,e.callParent([f]),e.items=g,c=0,d=g.length;d>c;++c)if(g[c].getClass){b=!0;break}(e.origRenderer||b)&&(e.hasCustomRenderer=!0)},defaultRenderer:function(a,b,c,d,e,f,g){var h,i,j,k,l=this,m=Ext.baseCSSPrefix,n=l.origScope||l,o=l.items,p=o.length,q=0;for(i=Ext.isFunction(l.origRenderer)?l.origRenderer.apply(n,arguments)||"":"",b.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";p>q;q++)h=o[q],j=h.disabled||(h.isDisabled?h.isDisabled.call(h.scope||n,g,d,e,h,c):!1),k=j?null:h.tooltip||(h.getTip?h.getTip.apply(h.scope||n,arguments):null),h.hasActionConfiguration||(h.stopSelection=l.stopSelection,h.disable=Ext.Function.bind(l.disableAction,l,[q],0),h.enable=Ext.Function.bind(l.enableAction,l,[q],0),h.hasActionConfiguration=!0),i+='<img role="button" alt="'+(h.altText||l.altText)+'" src="'+(h.icon||Ext.BLANK_IMAGE_URL)+'" class="'+m+"action-col-icon "+m+"action-col-"+String(q)+" "+(j?m+"item-disabled":" ")+" "+(Ext.isFunction(h.getClass)?h.getClass.apply(h.scope||n,arguments):h.iconCls||l.iconCls||"")+'"'+(k?' data-qtip="'+k+'"':"")+" />";return i},enableAction:function(a,b){var c=this;a?Ext.isNumber(a)||(a=Ext.Array.indexOf(c.items,a)):a=0,c.items[a].disabled=!1,c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(c.disabledCls),b||c.fireEvent("enable",c)},disableAction:function(a,b){var c=this;a?Ext.isNumber(a)||(a=Ext.Array.indexOf(c.items,a)):a=0,c.items[a].disabled=!0,c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).addCls(c.disabledCls),b||c.fireEvent("disable",c)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(a,b,c,d,e,f,g,h){var i,j,k,l,m=this,n=f.getTarget(),o="keydown"==a&&f.getKey();if(o&&!Ext.fly(n).findParent(b.getCellSelector())&&(n=Ext.fly(c).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),n&&(i=n.className.match(m.actionIdRe))&&(j=m.items[parseInt(i[1],10)],l=j.disabled||(j.isDisabled?j.isDisabled.call(j.scope||m.origScope||m,b,d,e,j,g):!1),j&&!l))if("click"==a||o==f.ENTER||o==f.SPACE)k=j.handler||m.handler,k&&k.call(j.scope||m.origScope||m,b,d,e,j,f,g,h);else if("mousedown"==a&&j.stopSelection!==!1)return!1;return m.callParent(arguments)},cascade:function(a,b){a.call(b||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(a){return void 0===a?this.undefinedText:a&&"false"!==a?this.trueText:this.falseText}}),Ext.define("Ext.grid.column.CheckColumn",{extend:"Ext.grid.column.Column",alternateClassName:"Ext.ux.CheckColumn",alias:"widget.checkcolumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange"),this.scope=this,this.callParent(arguments)},processEvent:function(a,b,c,d,e,f,g){var h=this,i="keydown"===a&&f.getKey(),j="mousedown"==a;if(h.disabled||!j&&i!=f.ENTER&&i!=f.SPACE)return h.callParent(arguments);var k=h.dataIndex,l=!g.get(k);return h.fireEvent("beforecheckchange",h,d,l)!==!1?(g.set(k,l),h.fireEvent("checkchange",h,d,l),j&&f.stopEvent(),h.stopSelection||b.selModel.selectByPosition({row:d,column:e}),!1):!h.stopSelection},onEnable:function(a){var b=this;b.callParent(arguments),b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).removeCls(b.disabledCls),a||b.fireEvent("enable",b)},onDisable:function(a){var b=this;b.callParent(arguments),b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).addCls(b.disabledCls),a||b.fireEvent("disable",b)},renderer:function(a,b){var c=Ext.baseCSSPrefix,d=[c+"grid-checkcolumn"];return this.disabled&&(b.tdCls+=" "+this.disabledCls),a&&d.push(c+"grid-checkcolumn-checked"),'<img class="'+d.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}}),Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)}}),Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)}}),Ext.define("Ext.grid.column.RowNumberer",{extend:"Ext.grid.column.Column",alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",constructor:function(){var a=this;a.width=a.width,a.callParent(arguments),a.scope=a},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,renderer:function(a,b,c,d,e,f){var g=this.rowspan,h=f.currentPage,i=c.index;return g&&(b.tdAttr='rowspan="'+g+'"'),null==i&&(i=d,h>1&&(i+=(h-1)*f.pageSize)),i+1}}),Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var a=this;a.tpl=!Ext.isPrimitive(a.tpl)&&a.tpl.compile?a.tpl:new Ext.XTemplate(a.tpl),a.hasCustomRenderer=!0,a.callParent(arguments)},defaultRenderer:function(a,b,c){var d=Ext.apply({},c.data,c.getAssociatedData());return this.tpl.apply(d)}}),Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(a,b,c,d){return[a,b,c,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(a,b){return a.record.isSummary?(this.summaryFeature.outputSummaryRecord(a.record,a,b),!1):void 0
},priority:1e3},showSummaryRow:!0,init:function(){var a=this;a.view.summaryFeature=a,a.rowTpl=a.view.self.prototype.rowTpl,a.view.addRowTpl(a.summaryRowTpl).summaryFeature=a},toggleSummaryRow:function(a){this.showSummaryRow=!!a},outputSummaryRecord:function(a,b,c){var d,e,f=b.view,g=f.rowValues,h=b.columns||f.headerCt.getVisibleGridColumns(),i=h.length,j={view:f,record:a,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:f.getRowId(a),columns:h};for(d=0;i>d;d++)e=h[d],e.savedRenderer=e.renderer,e.summaryRenderer?e.renderer=e.summaryRenderer:e.summaryType||(e.renderer=Ext.emptyFn),e.dataIndex||(e.dataIndex=e.id);for(f.rowValues=j,f.self.prototype.rowTpl.applyOut(j,c),f.rowValues=g,d=0;i>d;d++)e=h[d],e.renderer=e.savedRenderer,e.savedRenderer=null},getSummary:function(a,b,c,d){var e=d.records;if(b){if(Ext.isFunction(b))return a.getAggregate(b,null,e,[c]);switch(b){case"count":return e.length;case"min":return a.getMin(e,c);case"max":return a.getMax(e,c);case"sum":return a.getSum(e,c);case"average":return a.getAverage(e,c);default:return""}}},generateSummaryData:function(){var a,b,c,d,e,f,g,h,i=this,j=i.view.store,k=j.groups.items,l=j.proxy.reader,m=k.length,n=i.getGroupField(),o={},p=i.lockingPartner;if(i.remoteRoot&&l.rawData){for(f=!0,h={},d=l.root,l.root=i.remoteRoot,l.buildExtractors(!0),e=l.getRoot(l.rawData)||[],m=e.length,l.convertRecordData||l.buildExtractors(),a=0;m>a;++a)g={},l.convertRecordData(g,e[a]),h[g[n]]=g;l.root=d,l.buildExtractors(!0)}for(a=0;m>a;++a)b=k[a],f||b.isDirty()||!b.hasAggregate()?(c=f?i.populateRemoteRecord(b,h):i.populateRecord(b),p&&i.view.ownerCt!==i.view.ownerCt.ownerLockable.normalGrid||b.commit()):c=b.getAggregateRecord(),o[b.key]=c;return o},populateRemoteRecord:function(a,b){var c,d=a.getAggregateRecord(!0),e=b[a.key];d.beginEdit();for(c in e)e.hasOwnProperty(c)&&c!==d.idProperty&&d.set(c,e[c]);return d.endEdit(!0),d.commit(!0),d},populateRecord:function(a){var b,c,d,e=this,f=e.grid.ownerLockable?e.grid.ownerLockable.view:e.view,g=e.view.store,h=a.getAggregateRecord(),i=f.headerCt.getGridColumns(),j=i.length;for(h.beginEdit(),b=0;j>b;++b)c=i[b],d=c.dataIndex||c.id,h.set(d,e.getSummary(g,c.summaryType,d,a));return h.endEdit(!0),h.commit(),h}}),Ext.define("Ext.grid.feature.GroupStore",{extend:"Ext.util.Observable",isStore:!0,constructor:function(a,b){var c=this;c.superclass.constructor.apply(c,arguments),c.groupingFeature=a,c.bindStore(b),c.processStore(b),c.view.dataSource=c},bindStore:function(a){var b=this;b.store&&(Ext.destroy(b.storeListeners),b.store=null),a&&(b.storeListeners=a.on({bulkremove:b.onBulkRemove,add:b.onAdd,update:b.onUpdate,refresh:b.onRefresh,clear:b.onClear,scope:b,destroyable:!0}),b.store=a)},processStore:function(a){var b,c,d,e=this,f=a.getGroups(),g=f.length,h=e.data,i=e.groupingFeature.groupCache,j=e.groupingFeature.clearGroupCache(),k=e.groupingFeature.startCollapsed;if(h?h.clear():h=e.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),a.getCount())for(e.groupingFeature.startCollapsed=!1,b=0;g>b;b++)c=f[b],j[c.name]=c,c.isCollapsed=k||i[c.name]&&i[c.name].isCollapsed,c.isCollapsed?(c.placeholder=d=new a.model(null,"group-"+c.name+"-placeholder"),d.set(e.getGroupField(),c.name),d.rows=d.children=c.children,d.isCollapsedPlaceholder=!0,h.add(d)):h.insert(e.data.length,c.children)},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(a){var b;return this.store.isGrouped()&&(b=this.groupingFeature.groupCache[a.get(this.getGroupField())])?b.isCollapsed||!1:!1},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(a,b){return b<this.getCount()},getRange:function(a,b,c){var d=this.data.getRange(a,b);return c&&c.callback&&c.callback.call(c.scope||this,d,a,b,c),d},getAt:function(a){return this.getRange(a,a)[0]},getById:function(a){return this.store.getById(a)},expandGroup:function(a){var b,c=this;"string"==typeof a&&(a=c.groupingFeature.groupCache[a]),a&&a.children.length&&-1!==(b=c.indexOf(a.children[0],!0,!0))&&(a.isCollapsed=!1,c.isExpandingOrCollapsing=1,c.data.removeAt(b),c.fireEvent("bulkremove",c,[c.getGroupPlaceholder(a)],[b]),c.data.insert(b,a.children),c.fireEvent("add",c,a.children,b),c.fireEvent("groupexpand",c,a),c.isExpandingOrCollapsing=0)},collapseGroup:function(a){var b,c,d,e,f,g,h=this;if("string"==typeof a&&(a=h.groupingFeature.groupCache[a]),a&&(f=a.children.length)&&-1!==(b=h.indexOf(a.children[0],!0))){for(a.isCollapsed=!0,h.isExpandingOrCollapsing=2,h.data.removeRange(b,f),g=new Array(f),d=0,e=b;f>d;d++,e++)g[d]=e;h.fireEvent("bulkremove",h,a.children,g),h.data.insert(b,c=h.getGroupPlaceholder(a)),h.fireEvent("add",h,[c],b),h.fireEvent("groupcollapse",h,a),h.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(a){if(!a.placeholder){var b=a.placeholder=new this.store.model(null,"group-"+a.name+"-placeholder");b.set(this.getGroupField(),a.name),b.rows=b.children=a.children,b.isCollapsedPlaceholder=!0}return a.placeholder},indexOf:function(a,b,c){var d,e,f,g,h,i=this,j=0;if(a&&(c||!i.isInCollapsedGroup(a)))for(d=i.store.getGroups(),e=d.length,f=0;e>f;f++){if(g=d[f],g.name===this.store.getGroupString(a))return h=Ext.Array.indexOf(g.children,a),j+h;j+=b&&i.isCollapsed(g.name)?1:g.children.length}return-1},indexOfTotal:function(a){var b=a.index;return b||0===b?b:this.istore.ndexOf(a)},onRefresh:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onBulkRemove:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onClear:function(){this.processStore(this.store),this.fireEvent("clear",this)},onAdd:function(){this.processStore(this.store),this.fireEvent("refresh",this)},onUpdate:function(a,b,c,d){var e,f,g=this,h=g.groupingFeature.getRecordGroup(b);if(a.isGrouped()){if(d&&Ext.Array.contains(d,g.groupingFeature.getGroupField()))return g.onRefresh(g.store);h.isCollapsed?g.fireEvent("update",g,h.placeholder):(Ext.suspendLayouts(),g.fireEvent("update",g,b,c,d),e=h.children[0],f=h.children[h.children.length-1],e!==b&&g.fireEvent("update",g,e,"edit"),f!==b&&f!==e&&g.fireEvent("update",g,f,"edit"),Ext.resumeLayouts(!0))}else g.fireEvent("update",g,b,c,d)}}),Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",mixins:{summary:"Ext.grid.feature.AbstractSummary"},requires:["Ext.grid.feature.GroupStore"],alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,tableTpl:{before:function(a){this.groupingFeature.disabled||1===a.rows.length&&a.rows[0].isSummary||this.groupingFeature.setup(a.rows,a.view.rowValues)},after:function(a){this.groupingFeature.disabled||1===a.rows.length&&a.rows[0].isSummary||this.groupingFeature.cleanup(a.rows,a.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = !me.disabled && (values.isFirstRow || values.summaryRecord);","}","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}"','class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row<tpl if="!summaryRecord"> '+Ext.baseCSSPrefix+'grid-group-row</tpl>">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%">',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(a,b){a=Ext.fly(a,"syncDest"),b=Ext.fly(b,"sycSrc");var c,d,e,f,g=this.owner,h=a.down(g.eventSelector,!0),i=a.down(g.summaryRowSelector,!0);h&&(c=b.down(g.eventSelector,!0))&&(h.style.height=c.style.height="",(e=h.offsetHeight)>(f=c.offsetHeight)?Ext.fly(c).setHeight(e):f>e&&Ext.fly(h).setHeight(f)),i&&(d=b.down(g.summaryRowSelector,!0))&&(i.style.height=d.style.height="",(e=i.offsetHeight)>(f=d.offsetHeight)?Ext.fly(d).setHeight(e):f>e&&Ext.fly(i).setHeight(f))},syncContent:function(a,b){a=Ext.fly(a,"syncDest"),b=Ext.fly(b,"sycSrc");var c=this.owner,d=a.down(c.eventSelector,!0),e=b.down(c.eventSelector,!0),f=a.down(c.summaryRowSelector,!0),g=b.down(c.summaryRowSelector,!0);d&&e&&Ext.fly(d).syncContent(e),f&&g&&Ext.fly(f).syncContent(g)}}],constructor:function(){this.groupCache={},this.callParent(arguments)},init:function(){var a=this,b=a.view;b.isGrouping=!0,a.lockingPartner&&a.lockingPartner.groupCache&&(a.groupCache=a.lockingPartner.groupCache),a.mixins.summary.init.call(a),a.callParent(arguments),b.headerCt.on({columnhide:a.onColumnHideShow,columnshow:a.onColumnHideShow,columnmove:a.onColumnMove,scope:a}),b.addTableTpl(a.tableTpl).groupingFeature=a,b.addRowTpl(Ext.XTemplate.getTpl(a,"groupTpl")).groupingFeature=a,b.preserveScrollOnRefresh=!0,b.store.buffered?a.collapsible=!1:a.dataSource=b.dataSource=this.lockingPartner&&this.lockingPartner.dataSource?this.lockingPartner.dataSource:new Ext.grid.feature.GroupStore(a,b.store),a.grid.on({reconfigure:a.onReconfigure}),b.on({afterrender:a.afterViewRender,scope:a,single:!0})},clearGroupCache:function(){var a=this,b=a.groupCache={};return a.lockingPartner&&(a.lockingPartner.groupCache=b),b},vetoEvent:function(a,b,c,d){return"mouseover"!==d.type&&"mouseout"!==d.type&&"mouseenter"!==d.type&&"mouseleave"!==d.type&&d.getTarget(this.eventSelector)?!1:void 0},enable:function(){var a,b=this,c=b.view,d=c.store;b.lastGroupField=b.getGroupField(),c.isGrouping=!0,b.lastGroupIndex&&(b.block(),d.group(b.lastGroupIndex),b.unblock()),b.callParent(),a=b.view.headerCt.getMenu().down("#groupToggleMenuItem"),a&&a.setChecked(!0,!0),b.refreshIf()},disable:function(){var a,b,c=this,d=c.view,e=d.store;d.isGrouping=!1,b=e.groupers.first(),b&&(c.lastGroupIndex=b.property,c.block(),e.clearGrouping(),c.unblock()),c.callParent(),a=c.view.headerCt.getMenu().down("#groupToggleMenuItem"),a&&a.setChecked(!1,!0),c.refreshIf()},refreshIf:function(){var a=this.grid.ownerCt,b=this.view;b.store.remoteGroup||this.blockRefresh||(a&&a.lockable?a.view.refresh():b.refresh())},afterViewRender:function(){var a=this,b=a.view;b.on({scope:a,groupclick:a.onGroupClick}),a.enableGroupingMenu&&a.injectGroupingMenu(),a.pruneGroupedHeader(),a.lastGroupField=a.getGroupField(),a.block(),a.onGroupChange(),a.unblock()},injectGroupingMenu:function(){var a=this,b=a.view.headerCt;b.showMenuBy=a.showMenuBy,b.getMenuItems=a.getMenuItems()},onColumnHideShow:function(){var a,b,c,d=this.view,e=d.headerCt,f=e.getMenu(),g=f.down("#groupMenuItem"),h=e.getGridColumns().length;if(g&&(e.getVisibleGridColumns().length>1?g.enable():g.disable()),d.rendered)for(a=d.el.query("."+this.ctCls),c=0,b=a.length;b>c;++c)a[c].colSpan=h},onColumnMove:function(){var a,b,c,d,e,f,g=this,h=g.view.store;if(h.isGrouped())for(a=h.getGroups(),c=a.length,b=0;c>b;b++)d=a[b],e=d.children[0],f=d.children[d.children.length-1],h.fireEvent("update",h,e,"edit",null),f!==e&&h.fireEvent("update",h,f,"edit",null)},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#groupMenuItem"),e=b.groupable===!1||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",f=c.down("#groupToggleMenuItem"),g=this.view.store.isGrouped();d[e](),f&&(f.setChecked(g,!0),f[g?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,b=a.groupByText,c=a.disabled||!a.getGroupField(),d=a.showGroupsText,e=a.enableNoGroups,f=a.view.headerCt.getMenuItems;return function(){var g=f.call(this);return g.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:b,handler:a.onGroupMenuItemClick,scope:a}),e&&g.push({itemId:"groupToggleMenuItem",text:d,checked:!c,checkHandler:a.onGroupToggleMenuItemClick,scope:a}),g}},onGroupMenuItemClick:function(a){var b=this,c=a.parentMenu,d=c.activeHeader,e=b.view,f=e.store;b.lastGroupIndex=null,b.block(),b.enable(),f.group(d.dataIndex),b.pruneGroupedHeader(),b.unblock(),b.refreshIf()},block:function(a){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!a&&this.lockingPartner.block(!0)},unblock:function(a){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!a&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(a,b){this[b?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this,b=a.getGroupedHeader();a.hideGroupedHeader&&b&&(Ext.suspendLayouts(),a.prunedHeader&&a.prunedHeader!==b&&a.prunedHeader.show(),a.prunedHeader=b,b.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(a){return Ext.get(this.createGroupId(a))},getGroup:function(a){var b=this.groupCache,c=b[a];return c||(c=b[a]={isCollapsed:!1}),c},isExpanded:function(a){return!this.getGroup(a).isCollapsed},expand:function(a,b){this.doCollapseExpand(!1,a,b)},expandAll:function(){var a,b,c=this,d=c.view,e=c.groupCache,f=c.lockingPartner;for(a in e)e.hasOwnProperty(a)&&(e[a].isCollapsed=!1);Ext.suspendLayouts(),d.suspendEvent("beforerefresh","refresh"),f&&(b=f.view,b.suspendEvent("beforerefresh","refresh")),c.dataSource.onRefresh(),d.resumeEvent("beforerefresh","refresh"),f&&b.resumeEvent("beforerefresh","refresh"),Ext.resumeLayouts(!0);for(a in e)e.hasOwnProperty(a)&&(c.afterCollapseExpand(!1,a),f&&f.afterCollapseExpand(!1,a))},collapse:function(a,b){this.doCollapseExpand(!0,a,b)},isAllCollapsed:function(){var a,b=this,c=b.groupCache;for(a in c)if(c.hasOwnProperty(a)&&!c[a].isCollapsed)return!1;return!0},isAllExpanded:function(){var a,b=this,c=b.groupCache;for(a in c)if(c.hasOwnProperty(a)&&c[a].isCollapsed)return!1;return!0},collapseAll:function(){var a,b,c=this,d=c.view,e=c.groupCache,f=c.lockingPartner;for(a in e)e.hasOwnProperty(a)&&(e[a].isCollapsed=!0);Ext.suspendLayouts(),d.suspendEvent("beforerefresh","refresh"),f&&(b=f.view,b.suspendEvent("beforerefresh","refresh")),c.dataSource.onRefresh(),d.resumeEvent("beforerefresh","refresh"),f&&b.resumeEvent("beforerefresh","refresh"),f&&!f.isAllCollapsed()&&f.collapseAll(),Ext.resumeLayouts(!0);for(a in e)e.hasOwnProperty(a)&&(c.afterCollapseExpand(!0,a),f&&f.afterCollapseExpand(!0,a))},doCollapseExpand:function(a,b,c){var d=this,e=d.lockingPartner,f=d.groupCache[b];f.isCollapsed!=a&&(Ext.suspendLayouts(),a?d.dataSource.collapseGroup(f):d.dataSource.expandGroup(f),Ext.resumeLayouts(!0),d.afterCollapseExpand(a,b,c),e&&e.afterCollapseExpand(a,b,!1))},afterCollapseExpand:function(a,b,c){var d,e=this,f=e.view;d=Ext.get(this.getHeaderNode(b)),f.fireEvent(a?"groupcollapse":"groupexpand",f,d,b),c&&d.up(f.getItemSelector()).scrollIntoView(f.el,null,!0)},onGroupChange:function(){var a,b,c,d=this,e=d.getGroupField();d.hideGroupedHeader&&(d.lastGroupField&&(a=d.getMenuItem(d.lastGroupField),a&&a.setChecked(!0)),e&&(b=d.view.headerCt.getVisibleGridColumns(),c=1===b.length&&b[0].dataIndex==e,a=d.getMenuItem(e),a&&!c&&a.setChecked(!1))),d.refreshIf(),d.lastGroupField=e},getMenuItem:function(a){var b=this.view,c=b.headerCt.down("gridcolumn[dataIndex="+a+"]"),d=b.headerCt.getMenu();return c?d.down("menuitem[headerId="+c.id+"]"):null},onGroupKey:function(a,b){var c=this,d=c.getGroupName(b.target);d&&c.onGroupClick(c.view,b.target,d,b)},onGroupClick:function(a,b,c,d){var e,f=this,g=f.groupCache,h=!f.isExpanded(c);if(f.collapsible){if(d.ctrlKey){Ext.suspendLayouts();for(e in g)e===c?h&&f.expand(c):f.doCollapseExpand(!0,e,!1);return void Ext.resumeLayouts(!0)}h?f.expand(c):f.collapse(c)}},setupRowData:function(a,b,c){var d,e,f,g,h=this,i=h.refreshData,j=h.groupInfo,k=i.header,l=i.groupField,m=h.view.dataSource;if(c.isCollapsedGroup=!1,c.summaryRecord=null,i.doGrouping){if(d=h.view.store.groupers.first(),a.children)return e=d.getGroupString(a.children[0]),c.isFirstRow=c.isLastRow=!0,c.itemClasses.push(h.hdCollapsedCls),c.isCollapsedGroup=!0,c.groupInfo=j,j.groupField=l,j.name=e,j.groupValue=a.children[0].get(l),j.columnName=k?k.text:l,c.collapsibleCls=h.collapsible?h.collapsibleCls:h.hdNotCollapsibleCls,c.groupId=h.createGroupId(e),j.rows=j.children=a.children,void(h.showSummaryRow&&(c.summaryRecord=i.summaryData[e]));e=d.getGroupString(a),c.isFirstRow=0===b,c.isFirstRow||(f=m.getAt(b-1),f&&(c.isFirstRow=!f.isEqual(d.getGroupString(f),e))),c.isLastRow=b==m.getTotalCount()-1,c.isLastRow||(g=m.getAt(b+1),g&&(c.isLastRow=!g.isEqual(d.getGroupString(g),e))),c.isFirstRow&&(j.groupField=l,j.name=e,j.groupValue=a.get(l),j.columnName=k?k.text:l,c.collapsibleCls=h.collapsible?h.collapsibleCls:h.hdNotCollapsibleCls,c.groupId=h.createGroupId(e),h.isExpanded(e)||(c.itemClasses.push(h.hdCollapsedCls),c.isCollapsedGroup=!0),j.rows=j.children=m.buffered?[]:h.getRecordGroup(a).children,c.groupInfo=j),c.isLastRow&&h.showSummaryRow&&(c.summaryRecord=i.summaryData[e])}},setup:function(a,b){var c=this,d=c.refreshData,e=!c.disabled&&c.view.store.isGrouped();c.skippedRows=0,b.view.bufferedRenderer&&(b.view.bufferedRenderer.variableRowHeight=!0),d.groupField=c.getGroupField(),d.header=c.getGroupedHeader(d.groupField),d.doGrouping=e,b.groupHeaderTpl=Ext.XTemplate.getTpl(c,"groupHeaderTpl"),e&&c.showSummaryRow&&(d.summaryData=c.generateSummaryData())},cleanup:function(a,b){var c=this.refreshData;b.groupInfo=b.groupHeaderTpl=b.isFirstRow=null,c.groupField=c.header=null},getGroupName:function(a){var b,c,d,e=this,f=e.view,g=e.eventSelector;return c=Ext.fly(a).findParent(g),c||(d=Ext.fly(a).findParent(f.itemSelector),d&&(c=d.down(g,!0))),c&&(b=c.id.split(f.id+"-hd-"),2===b.length)?Ext.htmlDecode(b[1]):void 0},getRecordGroup:function(a){var b=this.view.store.groupers.first();return b?this.groupCache[b.getGroupString(a)]:void 0},createGroupId:function(a){return this.view.id+"-hd-"+Ext.htmlEncode(a)},createGroupCls:function(a){return this.view.id+"-"+Ext.htmlEncode(a)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var b,c,d=this,e=d.view.headerCt,f=d.lockingPartner;return a=a||this.getGroupField(),a&&(b="[dataIndex="+a+"]",c=e.down(b),!c&&f&&(c=f.view.headerCt.down(b))),c||null},getFireEventArgs:function(a,b,c,d){return[a,b,c,this.getGroupName(c),d]},destroy:function(){var a=this,b=a.dataSource;a.view=a.prunedHeader=a.grid=a.groupCache=a.dataSource=null,a.callParent(),b&&b.bindStore(null)},onReconfigure:function(a,b,c,d){var e=a;b&&b!==d&&(b.buffered!==d.buffered&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),b.buffered&&(e.bindStore(b),e.dataSource.processStore(b)))}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(a,b,c,d){var e=this.callParent(arguments);return e!==!1&&d.getTarget(this.summaryRowSelector)&&(e=!1),e}}),Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(a){var b=a.view,c=b.rowValues;this.rowBody.setup(a.rows,c)},after:function(a){var b=a.view,c=b.rowValues;this.rowBody.cleanup(a.rows,c)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(a,b){var c,d,e,f=this.owner,g=Ext.fly(a).down(f.eventSelector,!0);g&&(c=Ext.fly(b).down(f.eventSelector,!0))&&((d=g.offsetHeight)>(e=c.offsetHeight)?Ext.fly(c).setHeight(d):e>d&&Ext.fly(g).setHeight(e))},syncContent:function(a,b){var c,d=this.owner,e=Ext.fly(a).down(d.eventSelector,!0);e&&(c=Ext.fly(b).down(d.eventSelector,!0))&&Ext.fly(e).syncContent(c)}}],init:function(a){var b=this,c=b.view;c.rowBodyFeature=b,c.findFeature("rowwrap")||(a.mon(c,{element:"el",mousedown:b.onMouseDown,scope:b}),b.mon(a.getStore(),"remove",b.onStoreRemove,b)),c.headerCt.on({columnschanged:b.onColumnsChanged,scope:b}),c.addTableTpl(b.tableTpl).rowBody=b,c.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")),b.callParent(arguments)},onStoreRemove:function(a,b,c){var d,e=this.view;e.rendered&&(d=e.getNode(c),d&&(d=Ext.fly(d).next(this.eventSelector),d&&d.remove()))},onMouseDown:function(a){var b=this,c=a.getTarget(b.eventSelector);c&&Ext.fly(c=c.previousSibling).is(b.view.getItemSelector())&&(a.target=c,b.view.handleEvent(a))},getSelectedRow:function(a,b){var c=a.getNode(b,!1);return c?Ext.fly(c).down(this.eventSelector):null},onColumnsChanged:function(a){var b,c=this.view.el.query(this.rowBodyTdSelector),d=a.getVisibleGridColumns().length,e=c.length;for(b=0;e>b;++b)c[b].colSpan=d},setupRowData:function(a,b,c){this.getAdditionalData&&Ext.apply(c,this.getAdditionalData(a.data,b,a,c))},setup:function(a,b){b.rowBodyCls=this.rowBodyCls,b.rowBodyColspan=b.view.getGridColumns().length},cleanup:function(a,b){b.rowBodyCls=b.rowBodyColspan=b.rowBody=null}}),Ext.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:!1,tableTpl:{before:function(a){a.view.bufferedRenderer&&(a.view.bufferedRenderer.variableRowHeight=!0)},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(){var a=this;a.view.addTableTpl(a.tableTpl),a.view.addRowTpl(Ext.XTemplate.getTpl(a,"wrapTpl")),a.view.headerCt.on({columnhide:a.onColumnHideShow,columnshow:a.onColumnHideShow,scope:a})},onColumnHideShow:function(){var a,b=this.view,c=b.el.query(this.rowWrapTd),d=b.headerCt.getVisibleGridColumns().length,e=c.length;for(a=0;e>a;++a)c[a].colSpan=d}}),Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(a){var b=this,c=b.view;b.callParent(arguments),b.dock?(a.headerCt.on({afterlayout:b.onStoreUpdate,scope:b}),a.on({beforerender:function(){var d=[b.summaryTableCls];c.columnLines&&(d[d.length]=c.ownerCt.colLinesCls),b.summaryBar=a.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellPadding="0" cellSpacing="0" class="'+d.join(" ")+'">','<tr class="'+b.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[b.dockedSummaryCls,b.dockedSummaryCls+"-"+b.dock],xtype:"component",dock:b.dock,weight:1e7})[0]},afterrender:function(){a.body.addCls(b.panelBodyCls+b.dock),c.mon(c.el,{scroll:b.onViewScroll,scope:b}),b.onStoreUpdate()},single:!0}),a.headerCt.afterComponentLayout=Ext.Function.createSequence(a.headerCt.afterComponentLayout,function(){b.summaryBar.innerCt.setWidth(this.getFullWidth()+Ext.getScrollbarSize().width)})):b.view.addFooterFn(b.renderTFoot),a.on({columnmove:b.onStoreUpdate,scope:b}),c.mon(c.store,{update:b.onStoreUpdate,datachanged:b.onStoreUpdate,scope:b})},renderTFoot:function(a,b){var c=a.view,d=c.findFeature("summary");d.showSummaryRow&&(b.push("<tfoot>"),d.outputSummaryRecord(d.createSummaryRecord(c),a,b),b.push("</tfoot>"))},vetoEvent:function(a,b,c,d){return!d.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(a){var b,c,d=a.headerCt.getVisibleGridColumns(),e={records:a.store.getRange()},f=d.length,g=this.summaryRecord||(this.summaryRecord=new a.store.model(null,a.id+"-summary-record"));for(g.beginEdit(),b=0;f>b;b++)c=d[b],c.dataIndex||(c.dataIndex=c.id),g.set(c.dataIndex,this.getSummary(a.store,c.summaryType,c.dataIndex,e));return g.endEdit(!0),g.commit(!0),g.isSummary=!0,g},onStoreUpdate:function(){var a,b,c,d=this,e=d.view,f=d.createSummaryRecord(e),g=e.createRowElement(f,-1);e.rendered&&(a=d.dock?d.summaryBar.el.down("."+d.summaryRowCls,!0):d.view.getNode(f),a&&(c=a.parentNode,c.insertBefore(g,a),c.removeChild(a),b=d.lockingPartner,b&&b.grid.rendered&&!d.calledFromLockingPartner&&(b.calledFromLockingPartner=!0,b.onStoreUpdate(),b.calledFromLockingPartner=!1)),d.dock&&d.onColumnHeaderLayout())},onColumnHeaderLayout:function(){var a,b,c,d=this.view,e=d.headerCt.getVisibleGridColumns(),f=e.length,g=this.summaryBar.el;for(b=0;f>b;b++)a=e[b],c=g.down(d.getCellSelector(a)),c&&(a.hidden?c.setDisplayed(!1):(c.setDisplayed(!0),c.setWidth(a.width||(a.lastBox?a.lastBox.width:100))))}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:"Ext.grid.header.Container",requires:["Ext.grid.ColumnManager"],constructor:function(a){var b,c,d=this,e=[],f=a.lockedGrid,g=a.normalGrid;d.lockable=a,d.callParent(),f.columnManager.rootColumns=g.columnManager.rootColumns=a.columnManager=d.columnManager=new Ext.grid.ColumnManager(f.headerCt,g.headerCt),b=f.headerCt.events;for(c in b)b.hasOwnProperty(c)&&e.push(c);d.relayEvents(f.headerCt,e),d.relayEvents(g.headerCt,e)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this,b=a.lockable.lockedGrid.headerCt.getColumnsState(),c=a.lockable.normalGrid.headerCt.getColumnsState();return b.concat(c)},applyColumnsState:function(a){var b,c,d,e,f=this,g=f.lockable.lockedGrid,h=g.headerCt,i=f.lockable.normalGrid.headerCt,j=Ext.Array.toValueMap(h.items.items,"headerId"),k=Ext.Array.toValueMap(i.items.items,"headerId"),l=[],m=[],n=1,o=a.length;for(b=0;o>b;b++)e=a[b],d=j[e.id],c=d||k[e.id],c&&(c.applyColumnState&&c.applyColumnState(e),void 0===c.locked&&(c.locked=!!d),c.locked?(l.push(c),c.hidden||"number"!=typeof c.width||(n+=c.width)):m.push(c));l.length+m.length==h.items.getCount()+i.items.getCount()&&(h.removeAll(!1),i.removeAll(!1),h.add(l),i.add(m),g.setWidth(n))}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:{observable:"Ext.util.Observable"},isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var b,c,d=this,e=[],f=d.eventRelayRe,g=a.locked.getView(),h=a.normal.getView();Ext.apply(d,{lockedView:g,normalView:h,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel}),d.mixins.observable.constructor.call(d,a),b=g.events;for(c in b)b.hasOwnProperty(c)&&f.test(c)&&e.push(c);d.relayEvents(g,e),d.relayEvents(h,e),h.on({scope:d,itemmouseleave:d.onItemMouseLeave,itemmouseenter:d.onItemMouseEnter}),g.on({scope:d,itemmouseleave:d.onItemMouseLeave,itemmouseenter:d.onItemMouseEnter}),d.panel.on({render:d.onPanelRender,scope:d})},onPanelRender:function(){var a=this,b=a.loadMask,c={target:a.panel,msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:a.panel.store};a.el=a.panel.body,a.fireEvent("render",a),b&&(Ext.isObject(b)&&(c=Ext.apply(c,b)),a.loadMask=new Ext.LoadMask(c))},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var b,c=this.lockedView;return c.headerCt.cascade(function(c){return c===a?(b=!0,!1):void 0}),b?c:this.normalView},onItemMouseEnter:function(a,b){var c,d=this,e=d.lockedView,f=d.normalView;a.trackOver&&(a!==e&&(f=e),c=f.getNode(b,!1),f.highlightItem(c))},onItemMouseLeave:function(a){var b=this,c=b.lockedView,d=b.normalView;a.trackOver&&(a!==c&&(d=c),d.clearHighlight())},relayFn:function(a,b){b=b||[];var c=this.lockedView;c[a].apply(c,b),c=this.normalView,c[a].apply(c,b)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a,b){return this.normalView.getNode(a,b)},getCell:function(a,b){var c=this.getViewForColumn(b),d=c.getNode(a,!0);return Ext.fly(d).down(b.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);return b||(b=this.normalView.indexOf(a)),b},focus:function(){var a=this.getSelectionModel().getCurrentPosition(),b=a?a.view:this.normalView;b.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(a){var b=this.lockedView.getRecord(a);return b||(b=this.normalView.getRecord(a)),b},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var a=this,b=a.loadMask;a.clearListeners(),b&&b.bindStore&&b.bindStore(null)}}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",requires:["Ext.grid.locking.View","Ext.grid.header.Container","Ext.grid.locking.HeaderContainer","Ext.view.Table"],syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b,c,d,e,f,g=this;
if(g.subGridXType)b=g.subGridXType;else{if(!a)return"gridpanel";c=this.getXTypes().split("/"),d=c.length,e=c[d-1],f=c[d-2],b="tablepanel"!==f?f:e}return b},injectLockable:function(){this.lockable=!0,this.hasView=!0;var a,b,c,d,e,f,g,h,i,j,k,l=this,m=Ext.getScrollbarSize().height,n=l.store=Ext.StoreManager.lookup(l.store),o=l.getSelectionModel(),p=l.findPlugin("bufferedrenderer");for(a=l.constructLockableFeatures(),l.features&&(l.features=null),b=l.constructLockablePlugins(),l.plugins=b.topPlugins,c=Ext.apply({id:l.id+"-locked",isLocked:!0,ownerLockable:l,xtype:l.determineXTypeToCreate(!0),store:n,scrollerOwner:!1,animate:!1,scroll:m?!1:"vertical",selModel:o,border:!1,cls:l.lockedGridCls,isLayoutRoot:function(){return!1},features:a.lockedFeatures,plugins:b.lockedPlugins},l.lockedGridConfig),d=Ext.apply({id:l.id+"-normal",isLocked:!1,ownerLockable:l,xtype:l.determineXTypeToCreate(),store:n,scrollerOwner:!1,selModel:o,border:!1,isLayoutRoot:function(){return!1},features:a.normalFeatures,plugins:b.normalPlugins},l.normalGridConfig),l.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(d,l,l.bothCfgCopy,!0),Ext.copyTo(c,l,l.bothCfgCopy,!0),Ext.copyTo(d,l,l.normalCfgCopy,!0),Ext.copyTo(c,l,l.lockedCfgCopy,!0),e=0;e<l.normalCfgCopy.length;e++)delete l[l.normalCfgCopy[e]];for(e=0;e<l.lockedCfgCopy.length;e++)delete l[l.lockedCfgCopy[e]];l.addEvents("processcolumns","lockcolumn","unlockcolumn"),l.addStateEvents(["lockcolumn","unlockcolumn"]),f=l.processColumns(l.columns),c.width=f.lockedWidth+Ext.num(o.headerWidth,0)+(f.locked.items.length?1:0),c.columns=f.locked,d.columns=f.normal,d.flex=1,c.viewConfig=l.lockedViewConfig||{},c.viewConfig.loadingUseMsg=!1,c.viewConfig.loadMask=!1,m&&(c.viewConfig.style="border-bottom:"+m+"px solid #f6f6f6;"+(c.viewConfig.style||"")),d.viewConfig=l.normalViewConfig||{},d.viewConfig.loadMask=!1,Ext.applyIf(c.viewConfig,l.viewConfig),Ext.applyIf(d.viewConfig,l.viewConfig),l.lockedGrid=Ext.ComponentManager.create(c),l.isTree&&(l.lockedGrid.getView().animate=!1,d.store=l.lockedGrid.view.store,d.deferRowRender=!1,d.viewConfig.stripeRows=l.lockedGrid.view.stripeRows,d.rowLines=l.lockedGrid.rowLines),i=l.lockedGrid.getView(),d.viewConfig.lockingPartner=i,l.normalGrid=Ext.ComponentManager.create(d),i.lockingPartner=j=l.normalGrid.getView(),l.view=new Ext.grid.locking.View({loadingText:j.loadingText,loadingCls:j.loadingCls,loadingUseMsg:j.loadingUseMsg,loadMask:l.loadMask!==!1,locked:l.lockedGrid,normal:l.normalGrid,panel:l}),k=p?{}:{scroll:{fn:l.onLockedViewScroll,element:"el",scope:l}},m&&(l.lockedGrid.on({afterlayout:l.afterLockedViewLayout,scope:l}),i.getOverflowStyle(),i.scrollFlags.y?l.lockedGrid.headerCt.forceFit=!0:k.mousewheel={fn:l.onLockedViewMouseWheel,element:"el",scope:l}),i.on(k),k=p?{}:{scroll:{fn:l.onNormalViewScroll,element:"el",scope:l},scope:l},j.on(k),g=l.lockedGrid.headerCt,h=l.normalGrid.headerCt,l.headerCt=l.view.headerCt=new Ext.grid.locking.HeaderContainer(l),g.lockedCt=!0,g.lockableInjected=!0,h.lockableInjected=!0,g.on({add:{buffer:1,scope:l,fn:l.onLockedHeaderAdd},columnshow:l.onLockedHeaderShow,columnhide:l.onLockedHeaderHide,sortchange:l.onLockedHeaderSortChange,columnresize:l.onLockedHeaderResize,scope:l}),h.on({sortchange:l.onNormalHeaderSortChange,scope:l}),l.modifyHeaderCt(),l.items=[l.lockedGrid,l.normalGrid],l.relayHeaderCtEvents(g),l.relayHeaderCtEvents(h),l.storeRelayers=l.relayEvents(n,["filterchange"]),l.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(a){var b,c,d,e=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container),f=[],g=[],h={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:f},i={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:g},j={lockedWidth:0,locked:h,normal:i};for(Ext.isObject(a)&&(Ext.applyIf(h,a),Ext.applyIf(i,a),Ext.apply(e,a),a=a.items),b=0,c=a.length;c>b;++b)d=a[b],d.isComponent||(d=e.lookupComponent(e.applyDefaults(d))),d.processed=!0,d.locked||d.autoLock?(d.hidden||(j.lockedWidth+=this.getColumnWidth(d)||e.defaultWidth),f.push(d)):g.push(d),d.headerId||(d.headerId=(d.initialConfig||d).id||"h"+ ++this.headerCounter);return this.fireEvent("processcolumns",this,f,g),j},getColumnWidth:function(a){var b,c,d,e=a.width||0;if(!e&&a.isGroupHeader)for(b=a.items.items,c=b.length,d=0;c>d;d++)e+=this.getColumnWidth(b[d]);return e},afterLockedViewLayout:function(){var a=this,b=a.lockedGrid.getView(),c=b.el.dom,d=a.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;b.scrollFlags.x&&c.scrollWidth>c.clientWidth&&(d=0),b.el.dom.style.borderBottomWidth=d+"px",Ext.isBorderBox||b.el.setHeight(b.lastBox.height)},onLockedViewMouseWheel:function(a){var b,c,d=this,e=-d.scrollDelta,f=e*a.getWheelDeltas().y,g=d.lockedGrid.getView().el.dom;d.ignoreMousewheel||(g&&(b=g.scrollTop!==g.scrollHeight-g.clientHeight,c=0!==g.scrollTop),(0>f&&c||f>0&&b)&&(a.stopEvent(),g.scrollTop+=f,d.normalGrid.getView().el.dom.scrollTop=g.scrollTop,d.onNormalViewScroll()))},onLockedViewScroll:function(){var a,b,c=this,d=c.lockedGrid.getView(),e=c.normalGrid.getView(),f=e.el.dom,g=d.el.dom;f.scrollTop!==g.scrollTop&&(f.scrollTop=g.scrollTop,c.store.buffered&&(b=d.el.child("table",!0),a=e.el.child("table",!0),a.style.position="absolute",a.style.top=b.style.top))},onNormalViewScroll:function(){var a,b,c=this,d=c.lockedGrid.getView(),e=c.normalGrid.getView(),f=e.el.dom,g=d.el.dom;f.scrollTop!==g.scrollTop&&(g.scrollTop=f.scrollTop,c.store.buffered&&(b=d.el.child("table",!0),a=e.el.child("table",!0),b.style.position="absolute",b.style.top=a.style.top))},syncRowHeights:function(){var a,b,c=this,d=c.lockedGrid.getView(),e=c.normalGrid.getView(),f=d.all.slice(),g=e.all.slice(),h=f.length;if(g.length===h){for(a=0;h>a;a++)e.syncRowHeights(f[a],g[a]);b=e.el.dom.scrollTop,e.el.dom.scrollTop=b,d.el.dom.scrollTop=b}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,!0),a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,!1),a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy),a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#unlockItem"),e=c.down("#lockItem"),f=d.prev();b.lockable===!1?(f.hide(),d.hide(),e.hide()):(f.show(),d.show(),e.show(),d.initialConfig.disabled||d.setDisabled(b.lockable===!1),e.initialConfig.disabled||e.setDisabled(!b.isLockable()))},getMenuItems:function(a,b){var c=this,d=c.unlockText,e=c.lockText,f=Ext.baseCSSPrefix+"hmenu-unlock",g=Ext.baseCSSPrefix+"hmenu-lock",h=Ext.Function.bind(c.onUnlockMenuClick,c),i=Ext.Function.bind(c.onLockMenuClick,c);return function(){var c=a.call(this);return c.push("-",{itemId:"unlockItem",cls:f,text:d,handler:h,disabled:!b}),c.push({itemId:"lockItem",cls:g,text:e,handler:i,disabled:b}),c}},syncLockedWidth:function(){var a=this,b=a.lockedGrid,c=b.view,d=c.el.dom,e=a.normalGrid,f=b.headerCt.getVisibleGridColumns().length,g=e.headerCt.getVisibleGridColumns().length;return Ext.suspendLayouts(),g?(e.show(),f?(b.headerCt.forceFit||(delete b.flex,b.setWidth(b.headerCt.getFullWidth())),b.addCls(a.lockedGridCls),b.show()):(b.getView().refresh(),b.hide()),c.el.setStyle(c.getOverflowStyle()),a.ignoreMousewheel=c.scrollFlags.y):(e.hide(),d.style.borderBottomWidth="0",b.flex=1,delete b.width,b.removeCls(a.lockedGridCls),b.show(),c.el.setStyle(e.view.getOverflowStyle()),a.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[f,g]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(a,b,c){c&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(a,b,c){c&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},lock:function(a,b){var c,d,e=this,f=e.normalGrid,g=e.lockedGrid,h=f.headerCt,i=g.headerCt;a=a||h.getMenu().activeHeader,d=a.ownerCt,a.isLockable()&&(a.flex&&(a.width=a.getWidth(),a.flex=null),Ext.suspendLayouts(),d.remove(a,!1),a.locked=!0,e.ignoreAddLockedColumn=!0,Ext.isDefined(b)?i.insert(b,a):i.add(a),e.ignoreAddLockedColumn=!1,c=e.syncLockedWidth(),c[0]&&g.getView().refresh(),c[1]&&f.getView().refresh(),Ext.resumeLayouts(!0),e.fireEvent("lockcolumn",e,a))},unlock:function(a,b){var c,d=this,e=d.normalGrid,f=d.lockedGrid,g=e.headerCt,h=f.headerCt;Ext.isDefined(b)||(b=0),a=a||h.getMenu().activeHeader,Ext.suspendLayouts(),a.ownerCt.remove(a,!1),a.locked=!1,g.insert(b,a),c=d.syncLockedWidth(),c[0]&&f.getView().refresh(),c[1]&&e.getView().refresh(),Ext.resumeLayouts(!0),d.fireEvent("unlockcolumn",d,a)},reconfigureLockable:function(a,b){var c=this,d=c.store,e=c.lockedGrid,f=c.normalGrid;Ext.suspendLayouts(),b&&(e.headerCt.removeAll(),f.headerCt.removeAll(),b=c.processColumns(b),c.ignoreAddLockedColumn=!0,e.headerCt.add(b.locked.items),c.ignoreAddLockedColumn=!1,f.headerCt.add(b.normal.items),c.syncLockedWidth()),a&&a!==d?(a=Ext.data.StoreManager.lookup(a),c.store=a,e.bindStore(a),f.bindStore(a)):(e.getView().refresh(),f.getView().refresh()),Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var a,b,c,d,e,f=this.features,g=0;if(f)for(c=[],d=[],e=f.length;e>g;g++)switch(a=f[g],a.isFeature||(a=Ext.create("feature."+a.ftype,a)),a.lockableScope){case"locked":c.push(a);break;case"normal":d.push(a);break;default:a.lockableScope="both",c.push(a),d.push(b=a.clone()),b.lockingPartner=a,a.lockingPartner=b}return{normalFeatures:d,lockedFeatures:c}},constructLockablePlugins:function(){var a,b,c,d,e,f,g,h=this.plugins,i=0;if(h)for(d=[],e=[],f=[],g=h.length;g>i;i++)switch(a=h[i],a.lockableScope){case"both":e.push(c=a.clonePlugin()),f.push(b=a.clonePlugin()),c.lockingPartner=b,b.lockingPartner=c,Ext.destroy(a);break;case"locked":e.push(a);break;case"normal":f.push(a);break;default:d.push(a)}return{topPlugins:d,normalPlugins:f,lockedPlugins:e}},destroyLockable:function(){Ext.destroy(this.view)}},function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])}),Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);",'delete values.rowAttr["data-qtip"];','delete values.rowAttr["data-qtitle"];',"%}",{priority:10,processRowValues:function(a){var b=a.record,c=a.view,d=b.get("qtip"),e=b.get("qttle");a.rowAttr={},d&&(a.rowAttr["data-qtip"]=d),e&&(a.rowAttr["data-qtitle"]=e),b.isExpanded()&&a.rowClasses.push(c.expandedCls),b.isLeaf()&&a.rowClasses.push(c.leafCls),b.isLoading()&&a.rowClasses.push(c.loadingCls)}}],initComponent:function(){var a=this,b=a.panel.getStore(),c=a.store;void 0===a.initialConfig.animate&&(a.animate=Ext.enableFx),c&&c!==b||(a.store=c=new Ext.data.NodeStore({treeStore:b,recursive:!0,rootVisible:a.rootVisible})),a.node&&a.setRootNode(a.node),a.animQueue={},a.animWraps={},a.addEvents("afteritemexpand","afteritemcollapse","nodedragover"),a.callParent(arguments),a.addRowTpl(Ext.XTemplate.getTpl(a,"treeRowTpl"))},onBeforeFill:function(){this.store.suspendEvents()},onFillComplete:function(a,b,c){var d=this,e=d.store,f=e.indexOf(c[0]);e.resumeEvents(),b.triggerUIUpdate(),c.length&&-1!==f&&(d.onAdd(d.store,c,f),d.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){a.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var a=this.lockingPartner;a&&a.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var a=this;a.callParent(arguments),a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut,click:{delegate:a.checkboxSelector,fn:a.onCheckboxChange,scope:a}})},afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;a&&a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(a){return a.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){var b=this;b.store.setNode(a),b.node=a},onCheckboxChange:function(a){var b=this,c=a.getTarget(b.getItemSelector(),b.getTargetEl());c&&b.onCheckChange(b.getRecord(c))},onCheckChange:function(a){var b=a.get("checked");Ext.isBoolean(b)&&(b=!b,a.set("checked",b),this.fireEvent("checkchange",a,b))},getChecked:function(){var a=[];return this.node.cascadeBy(function(b){b.get("checked")&&a.push(b)}),a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a){var b,c,d=this,e=d.getNode(a),f=[];return d.renderColumnSizer(f),c=Ext.get(e),b=c.insertSibling({tag:"tr",html:['<td colspan="'+d.panel.headerCt.getColumnCount()+'">','<div class="'+d.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+d.id+"-table "+Ext.baseCSSPrefix+'grid-table" style="border:0" cellspacing="0" cellpadding="0">',f.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after"),{record:a,node:e,el:b,expanding:!1,collapsing:!1,animating:!1,animateEl:b.down("div"),targetEl:b.down("tbody")}},getAnimWrap:function(a,b){if(!this.animate)return null;var c=this.animWraps,d=c[a.internalId];if(b!==!1)for(;!d&&a;)a=a.parentNode,a&&(d=c[a.internalId]);return d},doAdd:function(a,b){var c,d,e,f,g=this,h=g.bufferRender(a,b,!0),i=a[0],j=i.parentNode,k=g.all,l=g.getAnimWrap(j);return l&&l.expanding?(j=l.record,d=l.targetEl,e=d.dom.childNodes,f=e.length,c=b-g.indexInStore(j)-1,!f||c>=f?d.appendChild(h):Ext.fly(e[c]).insertSibling(h,"before",!0),k.insert(b,h),void(l.isAnimating&&g.onExpand(j))):g.callParent(arguments)},onRemove:function(a,b,c){var d,e,f=this;if(f.viewReady){if(d=0===f.store.getCount())f.refresh();else for(e=c.length-1;e>=0;--e)f.doRemove(b[e],c[e]);if(f.hasListeners.itemremove)for(e=c.length-1;e>=0;--e)f.fireEvent("itemremove",b[e],c[e])}},doRemove:function(a,b){var c=this,d=c.all,e=c.getAnimWrap(a),f=d.item(b),g=f?f.dom:null;return g&&e&&e.collapsing?(e.targetEl.dom.insertBefore(g,e.targetEl.dom.firstChild),void d.removeElement(b)):c.callParent(arguments)},onBeforeExpand:function(a){var b,c=this;c.rendered&&c.all.getCount()&&c.animate&&c.getNode(a)&&(b=c.getAnimWrap(a,!1),b?b.collapsing&&b.targetEl.select(c.itemSelector).remove():(b=c.animWraps[a.internalId]=c.createAnimWrap(a),b.animateEl.setHeight(0)),b.expanding=!0,b.collapsing=!1)},onExpand:function(a){var b,c,d,e=this,f=e.animQueue,g=a.getId(),h=e.getNode(a),i=h?e.indexOf(h):-1,j=Ext.isIEQuirks?1:0;if(e.singleExpand&&e.ensureSingleExpand(a),-1!==i){if(b=e.getAnimWrap(a,!1),!b)return a.isExpandingOrCollapsing=!1,e.fireEvent("afteritemexpand",a,i,h),void e.refreshSize();c=b.animateEl,d=b.targetEl,c.stopAnimation(),f[g]=!0,c.dom.style.height=j+"px",c.animate({from:{height:j},to:{height:d.getHeight()},duration:e.expandDuration,listeners:{afteranimate:function(){var a=d.query(e.itemSelector);a.length&&b.el.insertSibling(a,"before",!0),b.el.remove(),e.refreshSize(),delete e.animWraps[b.record.internalId],delete f[g]}},callback:function(){a.isExpandingOrCollapsing=!1,e.fireEvent("afteritemexpand",a,i,h)}}),b.isAnimating=!0}},onBeforeCollapse:function(a,b,c,d,e){var f,g=this;g.rendered&&g.all.getCount()&&(g.animate?Ext.Array.contains(a.stores,g.store)&&(f=g.getAnimWrap(a),f?f.expanding&&f.targetEl.select(this.itemSelector).remove():f=g.animWraps[a.internalId]=g.createAnimWrap(a,c),f.expanding=!1,f.collapsing=!0,f.callback=d,f.scope=e):(g.onCollapseCallback=d,g.onCollapseScope=e))},onCollapse:function(a){var b,c=this,d=c.animQueue,e=a.getId(),f=c.getNode(a),g=f?c.indexOf(f):-1,h=c.getAnimWrap(a);if(c.all.getCount()&&Ext.Array.contains(a.stores,c.store)){if(!h)return a.isExpandingOrCollapsing=!1,c.fireEvent("afteritemcollapse",a,g,f),c.refreshSize(),Ext.callback(c.onCollapseCallback,c.onCollapseScope),void(c.onCollapseCallback=c.onCollapseScope=null);b=h.animateEl,d[e]=!0,b.stopAnimation(),b.animate({to:{height:Ext.isIEQuirks?1:0},duration:c.collapseDuration,listeners:{afteranimate:function(){h.el.remove(),c.refreshSize(),delete c.animWraps[h.record.internalId],delete d[e]}},callback:function(){a.isExpandingOrCollapsing=!1,c.fireEvent("afteritemcollapse",a,g,f),Ext.callback(h.callback,h.scope),h.callback=h.scope=null}}),h.isAnimating=!0}},isAnimating:function(a){return!!this.animQueue[a.getId()]},expand:function(a,b,c,d){var e,f=this,g=!!f.animate;return g&&a.isExpandingOrCollapsing?void 0:(a.isLeaf()||(a.isExpandingOrCollapsing=g),Ext.suspendLayouts(),e=a.expand(b,c,d),Ext.resumeLayouts(!0),e)},collapse:function(a,b,c,d){var e=this,f=!!e.animate;return f&&a.isExpandingOrCollapsing?void 0:(a.isLeaf()||(a.isExpandingOrCollapsing=f),a.collapse(b,c,d))},toggle:function(a,b,c,d){a.isExpanded()?this.collapse(a,b,c,d):this.expand(a,b,c,d)},onItemDblClick:function(a){var b=this,c=b.editingPlugin;b.callParent(arguments),!b.toggleOnDblClick||!a.isExpandable()||c&&2===c.clicksToEdit||b.toggle(a)},onBeforeItemMouseDown:function(a,b,c,d){return d.getTarget(this.expanderSelector,b)?!1:this.callParent(arguments)},onItemClick:function(a,b,c,d){return d.getTarget(this.expanderSelector,b)&&a.isExpandable()?(this.toggle(a,d.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(a){a.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a){a.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var a=this,b=a.callParent(arguments);return Ext.apply(b,{beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged})},onBindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments),a.mon(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete}),b.remoteSort||a.mon(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})},onUnbindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments),a.mun(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete}),b.remoteSort||a.mun(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(a){var b=a.parentNode;b&&b.eachChild(function(b){b!==a&&b.isExpanded()&&b.collapse()})},shouldUpdateCell:function(a,b,c){if(c)for(var d=0,e=c.length;e>d;++d)if(Ext.Array.contains(this.uiFields,c[d]))return!0;return this.callParent(arguments)},onStoreWrite:function(a,b){var c=this.panel.store;c.fireEvent("write",c,b)},onStoreDataChanged:function(){var a=this.panel.store;a.fireEvent("datachanged",a)}}),Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(a,b,c){var d=this;d.rendered&&d.bufferedRenderer?d.refreshView():d.callParent([a,b,c])}}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:"Ext.AbstractPlugin",requires:["Ext.grid.plugin.BufferedRendererTableView","Ext.grid.plugin.BufferedRendererTreeView"],alias:"plugin.bufferedrenderer",lockableScope:"both",percentageFromEdge:.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(a){var b=this,c=a.view,d={scroll:{fn:b.onViewScroll,element:"el",scope:b},boxready:b.onViewResize,resize:b.onViewResize,refresh:b.onViewRefresh,scope:b,destroyable:!0};!b.variableRowHeight&&a.ownerLockable&&(a.ownerLockable.syncRowHeight=!1),(a.isTree||a.ownerLockable&&a.ownerLockable.isTree)&&(c.blockRefresh=!1,c.loadMask=!0),c.positionBody&&(d.refresh=b.onViewRefresh),b.grid=a,b.view=c,c.bufferedRenderer=b,c.preserveScrollOnRefresh=!0,b.bindStore(c.dataSource),c.getViewRange=function(){return b.getViewRange()},b.position=0,b.gridListeners=a.on("reconfigure",b.onReconfigure,b),b.viewListeners=c.on(d)},bindStore:function(a){var b=this;b.store&&b.unbindStore(),b.storeListeners=a.on({scope:b,clear:b.onStoreClear,destroyable:!0}),b.store=a,b.view.componentLayout.layoutCount&&b.onViewResize(b.view,0,b.view.getHeight())},onReconfigure:function(a,b){b&&b!==this.store&&this.bindStore(b)},unbindStore:function(){this.storeListeners.destroy(),this.store=null},onStoreClear:function(){var a=this;a.view.rendered&&!a.store.isDestroyed&&(0!==a.scrollTop&&(a.ignoreNextScrollEvent=!0,a.view.el.dom.scrollTop=a.bodyTop=a.scrollTop=0),a.position=a.scrollHeight=0,a.lastScrollDirection=a.scrollOffset=null,delete a.rowHeight)},onViewRefresh:function(){var a,b=this,c=b.view,d=b.scrollHeight;c.all.getCount()&&delete b.rowHeight,a=b.getScrollHeight(),d&&a==d||b.stretchView(c,a),b.scrollTop!==c.el.dom.scrollTop?b.onViewScroll():(b.setBodyTop(b.bodyTop),c.all.getCount()&&(b.viewSize=0,b.onViewResize(c,null,c.getHeight())))},onViewResize:function(a,b,c,d,e){if(!e||c!==e){var f,g=this;f=Math.ceil(c/g.rowHeight)+g.trailingBufferZone+g.leadingBufferZone,g.viewSize=g.setViewSize(f)}},stretchView:function(a,b){var c=this,d=c.store.buffered?c.store.getTotalCount():c.store.getCount();if(c.stretcher)c.stretcher.dom.style.marginTop=b-1+"px";else{var e=a.el;a.refreshCounter&&a.fixedNodes++,d&&c.view.all.endIndex===d-1&&(b=c.bodyTop+a.body.dom.offsetHeight),this.stretcher=e.createChild({style:{width:"1px",height:"1px",marginTop:b-1+"px",left:0,position:"absolute"}},e.dom.firstChild)}},setViewSize:function(a){if(a!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var b,c,d=this,e=d.store,f=d.view.all.getCount(),g=d.lockingPartner;d.viewSize=e.viewSize=a,f&&(b=d.view.all.startIndex,c=Math.min(b+a-1,(e.buffered?e.getTotalCount():e.getCount())-1),g&&g.disable(),d.renderRange(b,c),g&&g.enable())}return a},getViewRange:function(){var a=this,b=a.view.all,c=a.store;return c.data.getCount()?c.getRange(b.startIndex,b.startIndex+(a.viewSize||a.store.defaultViewSize)-1):[]},scrollTo:function(a,b,c,d){var e,f,g,h,i,j=this,k=j.view,l=k.el.dom,m=j.store,n=m.buffered?m.getTotalCount():m.getCount();a=Math.min(Math.max(a,0),n-1),e=Math.max(Math.min(a-(j.leadingBufferZone+j.trailingBufferZone)/2,n-j.viewSize+1),0),i=e*j.rowHeight,f=Math.min(e+j.viewSize-1,n-1),m.getRange(e,f,{callback:function(e,f,n){j.renderRange(f,n,!0),g=m.data.getRange(a,a)[0],h=k.getNode(g,!1),k.body.dom.style.top=i+"px",j.position=j.scrollTop=l.scrollTop=i=Math.min(Math.max(0,i-k.body.getOffsetsTo(h)[1]),l.scrollHeight-l.clientHeight),Ext.isIE&&(l.scrollTop=i),b&&k.selModel.select(g),c&&c.call(d||j,a,g)}})},onViewScroll:function(){var a,b,c=this,d=c.store,e=d.buffered?d.getTotalCount():d.getCount(),f=c.scrollTop=c.view.el.dom.scrollTop,g=!1;return c.ignoreNextScrollEvent?void(c.ignoreNextScrollEvent=!1):(c.disabled||e<c.viewSize||(a=f-c.position,b=a>0?1:-1,(Math.abs(a)>=20||b!==c.lastScrollDirection)&&(c.lastScrollDirection=b,c.handleViewScroll(c.lastScrollDirection),g=!0)),void(g||c.lockingPartner&&c.lockingPartner.scrollTop!==f&&(c.lockingPartner.view.el.dom.scrollTop=f)))},handleViewScroll:function(a){var b,c,d=this,e=d.view.all,f=d.store,g=d.viewSize,h=f.buffered?f.getTotalCount():f.getCount();return-1==a?e.startIndex&&d.getFirstVisibleRowIndex()-e.startIndex<d.numFromEdge&&(b=Math.max(0,d.getLastVisibleRowIndex()+d.trailingBufferZone-g)):e.endIndex<h-1&&e.endIndex-d.getLastVisibleRowIndex()<d.numFromEdge&&(b=Math.max(0,d.getFirstVisibleRowIndex()-d.trailingBufferZone)),null!=b&&(c=Math.min(b+g-1,h-1),b!==e.startIndex||c!==e.endIndex)?void d.renderRange(b,c):void(d.lockingPartner&&d.lockingPartner.view.el&&d.lockingPartner.scrollTop!==d.scrollTop&&(d.lockingPartner.view.el.dom.scrollTop=d.scrollTop))},renderRange:function(a,b,c){var d=this,e=d.store;e.rangeCached(a,b)?(d.cancelLoad(),d.synchronousRender||c?d.onRangeFetched(null,a,b):(d.renderTask||(d.renderTask=new Ext.util.DelayedTask(d.onRangeFetched,d,null,!1)),d.renderTask.delay(1,null,null,[null,a,b]))):d.attemptLoad(a,b)},onRangeFetched:function(a,b,c,d){var e,f,g,h=this,i=h.view,j=i.all,k=0,l=b*h.rowHeight,m=h.lockingPartner;i.isDestroyed||(a||(a=h.store.getRange(b,c)))&&((b>j.endIndex||c<j.startIndex)&&(j.clear(!0),g=l),j.getCount()?c>j.endIndex?(f=Math.max(b-j.startIndex,0),h.variableRowHeight&&(k=j.item(j.startIndex+f,!0).offsetTop),j.scroll(Ext.Array.slice(a,j.endIndex+1-b),1,f,b,c),g=h.variableRowHeight?h.bodyTop+k:l):(f=Math.max(j.endIndex-c,0),e=j.startIndex,j.scroll(Ext.Array.slice(a,0,j.startIndex-b),-1,f,b,c),g=h.variableRowHeight?h.bodyTop-j.item(e,!0).offsetTop:l):i.doAdd(a,b),h.position=h.scrollTop,i.positionBody&&h.setBodyTop(g,l),!m||m.disabled||d||(m.onRangeFetched(a,b,c,!0),m.scrollTop!==h.scrollTop&&(m.view.el.dom.scrollTop=h.scrollTop)))},setBodyTop:function(a,b){var c,d=this,e=d.view,f=d.store,g=e.body.dom;a=Math.floor(a),void 0!==b&&(c=a-b,a=b),g.style.position="absolute",g.style.top=(d.bodyTop=a)+"px",c&&(d.scrollTop=d.position=e.el.dom.scrollTop-=c),e.all.endIndex===(f.buffered?f.getTotalCount():f.getCount())-1&&d.stretchView(e,d.bodyTop+g.offsetHeight)},getFirstVisibleRowIndex:function(a,b,c,d){var e,f,g=this,h=g.view,i=h.all,j=i.elements,k=h.el.dom.clientHeight;if(i.getCount()&&g.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{if(a=i.startIndex,b=i.endIndex,c=g.scrollTop,d=c+k,g.bodyTop>d||g.bodyTop+h.body.getHeight()<c)return Math.floor(g.scrollTop/g.rowHeight);e=a+Math.min(g.numFromEdge+(-1==g.lastScrollDirection?g.leadingBufferZone:g.trailingBufferZone),Math.floor((b-a)/2))}if(f=g.bodyTop+j[e].offsetTop,f+j[e].offsetHeight<c)return g.getFirstVisibleRowIndex(e+1,b,c,d);if(c>=f)return e;if(e!==a)return g.getFirstVisibleRowIndex(a,e-1,c,d)}return Math.floor(g.scrollTop/g.rowHeight)},getLastVisibleRowIndex:function(a,b,c,d){var e,f,g,h=this,i=h.view,j=i.all,k=j.elements,l=i.el.dom.clientHeight;if(j.getCount()&&h.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{if(a=j.startIndex,b=j.endIndex,c=h.scrollTop,d=c+l,h.bodyTop>d||h.bodyTop+i.body.getHeight()<c)return Math.floor(h.scrollTop/h.rowHeight)+Math.ceil(l/h.rowHeight);e=b-Math.min(h.numFromEdge+(1==h.lastScrollDirection?h.leadingBufferZone:h.trailingBufferZone),Math.floor((b-a)/2))}if(f=h.bodyTop+k[e].offsetTop,f>d)return h.getLastVisibleRowIndex(a,e-1,c,d);if(g=f+k[e].offsetHeight,g>=d)return e;if(e!==b)return h.getLastVisibleRowIndex(e+1,b,c,d)}return h.getFirstVisibleRowIndex()+Math.ceil(l/h.rowHeight)},getScrollHeight:function(){var a=this,b=a.view,c=a.store,d=!a.hasOwnProperty("rowHeight"),e=a.store.getCount();return e?(d&&b.all.getCount()&&(a.rowHeight=Math.floor(b.body.getHeight()/b.all.getCount())),this.scrollHeight=Math.floor((c.buffered?c.getTotalCount():c.getCount())*a.rowHeight)):0},attemptLoad:function(a,b){var c=this;c.scrollToLoadBuffer?(c.loadTask||(c.loadTask=new Ext.util.DelayedTask(c.doAttemptLoad,c,[])),c.loadTask.delay(c.scrollToLoadBuffer,c.doAttemptLoad,c,[a,b])):c.store.getRange(a,b,{callback:c.onRangeFetched,scope:c,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var a=this,b=a.view;b&&b.el&&b.el.un("scroll",a.onViewScroll,a),Ext.destroy(a.viewListeners,a.storeListeners,a.gridListeners)}}),Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:"Ext.AbstractPlugin",requires:["Ext.grid.column.Column","Ext.util.KeyNav"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(){var a=this;a.addEvents("beforeedit","edit","validateedit","canceledit"),a.callParent(arguments),a.mixins.observable.constructor.call(a),a.on("edit",function(b,c){a.fireEvent("afteredit",b,c)})},init:function(a){var b=this;b.grid=a,b.view=a.view,b.initEvents(),b.mon(a,{reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onReconfigure,single:!0,scope:b}}),a.relayEvents(b,b.relayedEvents),b.grid.ownerLockable&&b.grid.ownerLockable.relayEvents(b,b.relayedEvents),a.isEditable=!0,a.editingPlugin=a.view.editingPlugin=b},onReconfigure:function(){var a=this.grid;a=a.ownerLockable?a.ownerLockable:a,this.initFieldAccessors(a.getView().getGridColumns())},destroy:function(){var a=this,b=a.grid;Ext.destroy(a.keyNav),a.clearListeners(),b&&(a.removeFieldAccessors(b.columnManager.getColumns()),b.editingPlugin=b.view.editingPlugin=a.grid=a.view=a.editor=a.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b,c,d=this,e=a.length;for(b=0;e>b;b++)c=a[b],c.getEditor||(c.getEditor=function(a,b){return d.getColumnField(this,b)}),c.hasEditor||(c.hasEditor=function(){return d.hasColumnField(this)}),c.setEditor||(c.setEditor=function(a){d.setColumnField(this,a)})},removeFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b,c,d=a.length;for(b=0;d>b;b++)c=a[b],c.getEditor=c.hasEditor=c.setEditor=null},getColumnField:function(a,b){var c=a.field;return c&&c.isFormField||(c=a.field=this.createColumnField(a,b)),c},hasColumnField:function(a){return!!a.field},setColumnField:function(a,b){a.field=b,a.field=this.createColumnField(a)},createColumnField:function(a,b){var c=a.field;return!c&&a.editor&&(c=a.editor,a.editor=null),!c&&b&&(c=b),c&&(c.isFormField?c.column=a:(c=Ext.isString(c)?{name:a.dataIndex,xtype:c,column:a}:Ext.apply({name:a.dataIndex,column:a},c),c=Ext.ComponentManager.create(c,this.defaultFieldXType)),a.field=c),c},initEvents:function(){var a=this;a.initEditTriggers(),a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this,b=a.view;"cellfocus"==a.triggerEvent?a.mon(b,"cellfocus",a.onCellFocus,a):"rowfocus"==a.triggerEvent?a.mon(b,"rowfocus",a.onRowFocus,a):(b.getSelectionModel().isCellModel&&(b.onCellFocus=Ext.Function.bind(a.beforeViewCellFocus,a)),a.mon(b,a.triggerEvent||"cell"+(1===a.clicksToEdit?"click":"dblclick"),a.onCellClick,a)),a.initAddRemoveHeaderEvents(),b.on("render",a.initKeyNavHeaderEvents,a,{single:!0})},beforeViewCellFocus:function(a){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(a.row,a.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(a,b){this.startEdit(b,0)},onCellFocus:function(a,b,c){this.startEdit(c.row,c.column)},onCellClick:function(a,b,c,d,e,f,g){a.expanderSelector&&g.getTarget(a.expanderSelector)||this.startEdit(d,a.ownerCt.columnManager.getHeaderAtIndex(c))},initAddRemoveHeaderEvents:function(){var a=this;a.mon(a.grid.headerCt,{scope:a,add:a.onColumnAdd,remove:a.onColumnRemove,columnmove:a.onColumnMove})},initKeyNavHeaderEvents:function(){var a=this;a.keyNav=Ext.create("Ext.util.KeyNav",a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(a,b){this.initFieldAccessors(b)},onColumnRemove:function(a,b){this.removeFieldAccessors(b)},onColumnMove:function(a,b){this.initFieldAccessors(b)},onEnterKey:function(){var a,b,c,d=this,e=d.grid,f=e.getSelectionModel();
f.getCurrentPosition&&(b=f.getCurrentPosition())?(a=b.record,c=b.columnHeader):(a=f.getLastSelected(),c=e.columnManager.getHeaderAtIndex(0)),a&&c&&d.startEdit(a,c)},onEscKey:function(){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(a,b){var c,d=this,e=d.grid.lockable?d.grid:d.view;return e.componentLayoutCounter?d.grid.collapsed||!d.grid.view.isVisible(!0)?!1:(c=d.getEditingContext(a,b),null==c?!1:d.preventBeforeCheck||d.beforeEdit(c)!==!1&&d.fireEvent("beforeedit",d,c)!==!1&&!c.cancel?(d.editing=!0,c):!1):(e.on({boxready:Ext.Function.bind(d.startEdit,d,[a,b]),single:!0}),!1)},getEditingContext:function(a,b){var c,d,e=this,f=e.grid,g=e.view,h=g.getNode(a,!0);if(h&&(b=f.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(b)?b:b.getVisibleIndex()),b&&(d=b.getVisibleIndex(),Ext.isNumber(a)?(c=a,a=g.getRecord(h)):c=g.indexOf(h),a)))return{grid:f,view:g,store:g.dataSource,record:a,field:b.dataIndex,value:a.get(b.dataIndex),row:h,column:b,rowIdx:c,colIdx:d}},cancelEdit:function(){var a=this;a.editing=!1,a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;a.editing&&a.validateEdit()&&a.fireEvent("edit",a,a.context),a.context=null,a.editing=!1},validateEdit:function(){var a=this,b=a.context;return a.fireEvent("validateedit",a,b)!==!1&&!b.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],lockableScope:"both",init:function(){var a=this,b=a.lockingPartner;a.callParent(arguments),a.editors=b?b.editors?b.editors:b.editors=new Ext.util.MixedCollection(!1,function(a){return a.editorId}):new Ext.util.MixedCollection(!1,function(a){return a.editorId})},onReconfigure:function(a,b,c){c&&this.editors.clear(),this.callParent()},destroy:function(){var a=this;a.editors&&(a.editors.each(Ext.destroy,Ext),a.editors.clear()),a.callParent(arguments)},onBodyScroll:function(){var a=this,b=a.getActiveEditor(),c=a.view.el.getScroll();b&&b.editing&&b.editingPlugin===a&&(c.top!==a.scroll.top?b.field&&(b.field.triggerBlur?b.field.triggerBlur():b.field.blur()):b.realign()),a.scroll=c},initCancelTriggers:function(){var a=this,b=a.grid,c=b.view;a.mon(c,"bodyscroll",a.onBodyScroll,a),a.mon(b,{columnresize:a.cancelEdit,columnmove:a.cancelEdit,scope:a})},isCellEditable:function(a,b){var c=this,d=c.getEditingContext(a,b);return c.grid.view.isVisible(!0)&&d&&(b=d.column,a=d.record,b&&c.getEditor(a,b))?!0:void 0},startEdit:function(a,b,c){var d,e=this;return c||(e.preventBeforeCheck=!0,c=e.callParent(arguments),delete e.preventBeforeCheck,c!==!1)?c&&e.grid.view.isVisible(!0)?(a=c.record,b=c.column,e.completeEdit(),b&&!b.getEditor(a)?!1:(e.context=c,c.originalValue=c.value=a.get(b.dataIndex),e.beforeEdit(c)===!1||e.fireEvent("beforeedit",e,c)===!1||c.cancel?!1:(d=e.getEditor(a,b),e.grid.view.cancelFocus(),e.view.scrollCellIntoView(e.getCell(a,b)),d?(e.showEditor(d,c,c.value),!0):!1))):void 0:!1},showEditor:function(a,b,c){var d=this,e=b.record,f=b.column,g=d.grid.getSelectionModel(),h=g.getCurrentPosition(),i=h&&h.view;return i&&i!==d.view?d.lockingPartner.showEditor(a,d.lockingPartner.getEditingContext(h.record,h.columnHeader),c):(d.setEditingContext(b),d.setActiveEditor(a),d.setActiveRecord(e),d.setActiveColumn(f),!g.selectByPosition||h&&h.column===b.colIdx&&h.row===b.rowIdx||g.selectByPosition({row:b.rowIdx,column:b.colIdx,view:d.view}),a.startEdit(d.getCell(e,f),c,b),d.editing=!0,void(d.scroll=d.view.el.getScroll()))},completeEdit:function(){var a=this.getActiveEditor();a&&(a.completeEdit(),this.editing=!1)},setEditingContext:function(a){this.context=a,this.lockingPartner&&(this.lockingPartner.context=a)},setActiveEditor:function(a){this.activeEditor=a,this.lockingPartner&&(this.lockingPartner.activeEditor=a)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a,this.lockingPartner&&(this.lockingPartner.activeColumn=a)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a,this.lockingPartner&&(this.lockingPartner.activeRecord=a)},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,b){var c=this,d=c.editors,e=b.getItemId(),f=d.getByKey(e),g=c.grid.ownerLockable||c.grid;if(!f){if(f=b.getEditor(a),!f)return!1;f instanceof Ext.grid.CellEditor?f.floating=!0:f=new Ext.grid.CellEditor({floating:!0,editorId:e,field:f}),g.add(f),f.on({scope:c,specialkey:c.onSpecialKey,complete:c.onEditComplete,canceledit:c.cancelEdit}),b.on("removed",c.cancelActiveEdit,c),d.add(f)}return b.isTreeColumn&&(f.isForTree=b.isTreeColumn,f.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),f.grid=c.grid,f.editingPlugin=c,f},cancelActiveEdit:function(a){var b=this.context;b&&b.column===a&&this.cancelEdit()},setColumnField:function(a){var b=this.editors.getByKey(a.getItemId());Ext.destroy(b,a.field),this.editors.removeAtKey(a.getItemId()),this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(a,b,c){var d;return c.getKey()===c.TAB&&(c.stopEvent(),a&&a.onEditorTab(c),d=a.up("tablepanel").getSelectionModel(),d.onEditorTab)?d.onEditorTab(a.editingPlugin,c):void 0},onEditComplete:function(a,b,c){var d,e=this,f=e.getActiveColumn(),g=e.context;if(f){if(d=g.record,e.setActiveEditor(null),e.setActiveColumn(null),e.setActiveRecord(null),g.value=b,!e.validateEdit())return;d.isEqual(b,c)||d.set(f.dataIndex,b),g.view.focus(!1,!0),e.fireEvent("edit",e,g),e.editing=!1}},cancelEdit:function(){var a=this,b=a.getActiveEditor();return a.setActiveEditor(null),a.setActiveColumn(null),a.setActiveRecord(null),b?(b.cancelEdit(),a.context.view.focus(),void a.callParent(arguments)):!0},startEditByPosition:function(a){return a.isCellContext||(a=new Ext.grid.CellContext(this.view).setPosition(a)),a.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex()),this.startEdit(a.record,a.columnHeader)}}),Ext.define("Ext.grid.plugin.DivRenderer",{alias:"plugin.divrenderer",extend:"Ext.AbstractPlugin",tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",!0)}},init:function(a){var b=a.getView();b.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),b.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),b.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),Ext.apply(b,this.selectors)}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(a){a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var a=this;a.dragZone&&a.dragZone.unlock(),a.dropZone&&a.dropZone.unlock(),a.callParent()},disable:function(){var a=this;a.dragZone&&a.dragZone.lock(),a.dropZone&&a.dropZone.lock(),a.callParent()},onViewRender:function(a){var b,c=this;c.enableDrag&&(c.containerScroll&&(b=a.getEl()),c.dragZone=new Ext.view.DragZone({view:a,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText,containerScroll:c.containerScroll,scrollEl:b})),c.enableDrop&&(c.dropZone=new Ext.grid.ViewDropZone({view:a,ddGroup:c.dropGroup||c.ddGroup}))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var a=this;a.callParent(arguments),a.clicksToMoveEditor||(a.clicksToMoveEditor=a.clicksToEdit),a.autoCancel=!!a.autoCancel},destroy:function(){Ext.destroy(this.editor),this.callParent(arguments)},startEdit:function(){var a,b=this,c=b.getEditor();return c.beforeEdit()!==!1&&(a=b.callParent(arguments))?(b.context=a,b.lockingPartner&&b.lockingPartner.cancelEdit(),c.startEdit(a.record,a.column,a),!0):!1},cancelEdit:function(){var a=this;return a.editing?(a.getEditor().cancelEdit(),void a.callParent(arguments)):!0},completeEdit:function(){var a=this;a.editing&&a.validateEdit()&&(a.editing=!1,a.fireEvent("edit",a,a.context))},validateEdit:function(){var a,b,c,d=this,e=d.editor,f=d.context,g=f.record,h={},i={},j=e.query(">[isFormField]"),k=j.length;for(a=0;k>a;a++)c=j[a],b=c.name,h[b]=c.getValue(),i[b]=g.get(b);return Ext.apply(f,{newValues:h,originalValues:i}),d.callParent(arguments)&&d.getEditor().completeEdit()},getEditor:function(){var a=this;return a.editor||(a.editor=a.initEditor()),a.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var a,b,c=this,d=c.grid,e=c.view,f=d.headerCt,g=["saveBtnText","cancelBtnText","errorsText","dirtyText"],h=g.length,i={autoCancel:c.autoCancel,errorSummary:c.errorSummary,fields:f.getGridColumns(),hidden:!0,view:e,editingPlugin:c};for(a=0;h>a;a++)b=g[a],Ext.isDefined(c[b])&&(i[b]=c[b]);return i},initEditTriggers:function(){var a=this,b=a.view,c=1===a.clicksToMoveEditor?"click":"dblclick";a.callParent(arguments),a.clicksToMoveEditor!==a.clicksToEdit&&a.mon(b,"cell"+c,a.moveEditorByClick,a),b.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:!0})},startEditByClick:function(){var a=this;a.editing&&a.clicksToMoveEditor!==a.clicksToEdit||a.callParent(arguments)},moveEditorByClick:function(){var a=this;a.editing&&a.superclass.onCellClick.apply(a,arguments)},onColumnAdd:function(a,b){if(b.isHeader){var c,d=this;d.initFieldAccessors(b),c=d.editor,c&&c.onColumnAdd&&c.onColumnAdd(b)}},onColumnRemove:function(a,b){if(b.isHeader){var c=this,d=c.getEditor();d&&d.onColumnRemove&&d.onColumnRemove(a,b),c.removeFieldAccessors(b)}},onColumnResize:function(a,b,c){if(b.isHeader){var d=this,e=d.getEditor();e&&e.onColumnResize&&e.onColumnResize(b,c)}},onColumnHide:function(a,b){var c=this,d=c.getEditor();d&&d.onColumnHide&&d.onColumnHide(b)},onColumnShow:function(a,b){var c=this,d=c.getEditor();d&&d.onColumnShow&&d.onColumnShow(b)},onColumnMove:function(a,b,c,d){var e=this,f=e.getEditor();e.initFieldAccessors(b),f&&f.onColumnMove&&f.onColumnMove(b,c,d)},setColumnField:function(a){var b=this,c=b.getEditor();c.removeField(a),b.callParent(arguments),b.getEditor().setField(a)}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:"Ext.AbstractPlugin",lockableScope:"normal",requires:["Ext.grid.feature.RowBody","Ext.grid.feature.RowWrap"],alias:"plugin.rowexpander",rowBodyTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(a){var b=this.rowExpander;b.recordsExpanded[a.record.internalId]||a.itemClasses.push(b.rowCollapsedCls)},priority:500},setCmp:function(a){var b,c,d=this;d.callParent(arguments),d.recordsExpanded={},d.rowBodyTpl=Ext.XTemplate.getTpl(d,"rowBodyTpl"),b=this.rowBodyTpl,c=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:d.recordsExpanded,rowBodyHiddenCls:d.rowBodyHiddenCls,rowCollapsedCls:d.rowCollapsedCls,setupRowData:d.getRowBodyFeatureData,setup:d.setup,getRowBodyContents:function(a){return b.applyTemplate(a.getData())}},{ftype:"rowwrap",lockableScope:"normal"}],a.features=a.features?Ext.Array.push(c,a.features):c},init:function(a){var b,c,d=this,e=a;d.callParent(arguments),d.grid=a,b=d.view=a.getView(),d.addExpander(),d.bindView(b),b.addRowTpl(d.addCollapsedCls).rowExpander=d,a.ownerLockable&&(e=a.ownerLockable,e.syncRowHeight=!1,c=e.lockedGrid.getView(),d.bindView(c),c.addRowTpl(d.addCollapsedCls).rowExpander=d,e.mon(e,"columnschanged",d.refreshRowHeights,d),e.mon(e.store,"datachanged",d.refreshRowHeights,d)),e.on("beforereconfigure",d.beforeReconfigure,d),a.ownerLockable&&!a.rowLines&&b.on("rowfocus",d.refreshRowHeights,d)},beforeReconfigure:function(a,b,c){var d=this.getHeaderConfig();d.locked=!0,c.unshift(d)},addExpander:function(){var a=this,b=a.grid,c=a.getHeaderConfig();b.ownerLockable&&(b=b.ownerLockable.lockedGrid,b.width+=c.width),b.headerCt.insert(0,c)},getRowBodyFeatureData:function(a,b,c){var d=this;d.self.prototype.setupRowData.apply(d,arguments),c.rowBody=d.getRowBodyContents(a),c.rowBodyCls=d.recordsExpanded[a.internalId]?"":d.rowBodyHiddenCls},setup:function(a,b){var c=this;c.self.prototype.setup.apply(c,arguments),c.grid.ownerLockable||(b.rowBodyColspan-=1)},bindView:function(a){this.expandOnEnter&&a.on("itemkeydown",this.onKeyDown,this),this.expandOnDblClick&&a.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(a,b,c,d,e){if(e.getKey()==e.ENTER)for(var f=a.store,g=a.getSelectionModel().getSelection(),h=g.length,i=0;h>i;i++)d=f.indexOf(g[i]),this.toggleRow(d,g[i])},onDblClick:function(a,b,c,d){this.toggleRow(d,b)},toggleRow:function(a,b){var c,d,e,f=this,g=f.view,h=g.getNode(a),i=Ext.fly(h,"_rowExpander"),j=i.down(f.rowBodyTrSelector,!0),k=i.hasCls(f.rowCollapsedCls),l=k?"removeCls":"addCls";Ext.suspendLayouts(),i[l](f.rowCollapsedCls),Ext.fly(j)[l](f.rowBodyHiddenCls),f.recordsExpanded[b.internalId]=k,g.refreshSize(),f.grid.ownerLockable?(c=f.grid.ownerLockable,e=c.getView(),g=c.lockedGrid.view,d=i.getHeight(),i=Ext.fly(g.getNode(a),"_rowExpander"),i.setHeight(d),i[l](f.rowCollapsedCls),g.refreshSize()):e=g,e.fireEvent(k?"expandbody":"collapsebody",i.dom,b,j),Ext.resumeLayouts(!0)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:!0})},doRefreshRowHeights:function(){var a,b,c,d,e,f,g=this,h=g.recordsExpanded,i=g.grid.ownerLockable.lockedGrid.view,j=g.grid.ownerLockable.normalGrid.view;for(a in h)h.hasOwnProperty(a)&&(b=this.view.store.data.get(a),d=i.getNode(b,!1),c=j.getNode(b,!1),d.style.height=c.style.height="",e=d.offsetHeight,f=c.offsetHeight,f>e?d.style.height=f+"px":e>f&&(c.style.height=e+"px"))},getHeaderConfig:function(){var a=this;return{width:24,lockable:!1,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(b,c){return a.grid.ownerLockable||(c.tdAttr+=' rowspan="2"'),'<div class="'+Ext.baseCSSPrefix+'grid-row-expander"></div>'},processEvent:function(b,c,d,e,f,g,h){return"mousedown"==b&&g.getTarget(".x-grid-row-expander")?(a.toggleRow(e,h),a.selectRowOnExpand):void 0}}}}),Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var a=this;a.source=a.source||{},a.addCls(a.gridCls),a.plugins=a.plugins||[],a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b){return this.self.prototype.startEdit.call(this,b,a.headerCt.child("#"+a.valueField))}})),a.selModel={selType:"cellmodel",onCellSelect:function(a){return 1!=a.column&&(a.column=1),this.self.prototype.onCellSelect.call(this,a)}},a.sourceConfig=Ext.apply({},a.sourceConfig),a.store||(a.propStore=a.store=new Ext.grid.property.Store(a,a.source)),a.configure(a.sourceConfig),a.sortableColumns&&a.store.sort("name","ASC"),a.columns=new Ext.grid.property.HeaderContainer(a,a.store),a.addEvents("beforepropertychange","propertychange"),a.callParent(),a.getView().walkCells=this.walkCells,a.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,a.headerCt.trueText],[!1,a.headerCt.falseText]]})})},a.store.on("update",a.onUpdate,a)},configure:function(a){var b,c,d,e,f=this,g=f.store,h=0,i=f.store.getCount(),j=f.nameField,k=f.valueField;if(f.configureLegacy(a),f.inferTypes)for(;i>h;++h)d=g.getAt(h),b=d.get(j),f.getConfig(b,"type")||(c=d.get(k),e=Ext.isDate(c)?"date":Ext.isNumber(c)?"number":Ext.isBoolean(c)?"boolean":"string",f.setConfig(b,"type",e))},getConfig:function(a,b,c){var d,e=this.sourceConfig[a];return e&&(d=e[b]),d||c},setConfig:function(a,b,c){var d=this.sourceConfig,e=d[a];return e?e.__copied||(e=Ext.apply({__copied:!0},e),d[a]=e):e=d[a]={__copied:!0},e[b]=c,c},configureLegacy:function(a){var b=this;b.copyLegacyObject(a,b.customRenderers,"renderer"),b.copyLegacyObject(a,b.customEditors,"editor"),b.copyLegacyObject(a,b.propertyNames,"displayName")},copyLegacyObject:function(a,b,c){var d;for(d in b)b.hasOwnProperty(d)&&(a[d]||(a[d]={}),a[d][c]=b[d])},onUpdate:function(a,b,c){var d,e,f=this;f.rendered&&c==Ext.data.Model.EDIT&&(d=b.get(f.valueField),e=b.modified.value,f.fireEvent("beforepropertychange",f.source,b.getId(),d,e)!==!1?(f.source&&(f.source[b.getId()]=d),b.commit(),f.fireEvent("propertychange",f.source,b.getId(),d,e)):b.reject())},walkCells:function(a,b,c,d,e,f){return"left"==b?b="up":"right"==b&&(b="down"),a=Ext.view.Table.prototype.walkCells.call(this,a,b,c,d,e,f),a&&!a.column&&(a.column=1),a},getCellEditor:function(a){var b=this,c=a.get(b.nameField),d=a.get(b.valueField),e=b.getConfig(c,"editor"),f=b.getConfig(c,"type"),g=b.editors;if(e)e instanceof Ext.grid.CellEditor||(e instanceof Ext.form.field.Base||(e=Ext.ComponentManager.create(e,"textfield")),e=b.setConfig(c,"editor",new Ext.grid.CellEditor({field:e})));else if(f)switch(f){case"date":e=g.date;break;case"number":e=g.number;break;case"boolean":e=b.editors["boolean"];break;default:e=g.string}else e=Ext.isDate(d)?g.date:Ext.isNumber(d)?g.number:Ext.isBoolean(d)?g["boolean"]:g.string;return e.editorId=c,e},beforeDestroy:function(){var a=this;a.callParent(),a.destroyEditors(a.editors),a.destroyEditors(a.customEditors),delete a.source},destroyEditors:function(a){for(var b in a)a.hasOwnProperty(b)&&Ext.destroy(a[b])},setSource:function(a,b){var c=this;c.source=a,void 0!==b&&(c.sourceConfig=Ext.apply({},b),c.configure(c.sourceConfig)),c.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(a,b,c){this.propStore.setValue(a,b,c)},removeProperty:function(a){this.propStore.remove(a)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(a,b){var c=this;c.grid=a,c.store=b,c.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(a.enableColumnResize)?a.enableColumnResize:c.enableColumnResize,enableColumnMove:Ext.isDefined(a.enableColumnMove)?a.enableColumnMove:c.enableColumnMove,items:[{header:c.nameText,width:a.nameColumnWidth||c.nameWidth,sortable:a.sortableColumns,dataIndex:a.nameField,renderer:Ext.Function.bind(c.renderProp,c),itemId:a.nameField,menuDisabled:!0,tdCls:c.nameColumnCls,innerCls:c.nameColumnInnerCls},{header:c.valueText,renderer:Ext.Function.bind(c.renderCell,c),getEditor:Ext.Function.bind(c.getCellEditor,c),sortable:a.sortableColumns,flex:1,fixed:!0,dataIndex:a.valueField,itemId:a.valueField,menuDisabled:!0}]}])},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,b,c){var d=this,e=d.grid,f=e.getConfig(c.get(e.nameField),"renderer"),g=a;return f?f.apply(d,arguments):(Ext.isDate(a)?g=d.renderDate(a):Ext.isBoolean(a)&&(g=d.renderBool(a)),Ext.util.Format.htmlEncode(g))},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfig(a,"displayName",a)}}),Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(a,b){var c=this;c.grid=a,c.source=b,c.callParent([{data:b,model:Ext.grid.property.Property,proxy:c.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(a){var b,c,d={records:[],success:!0};for(c in a)a.hasOwnProperty(c)&&(b=a[c],this.isEditableValue(b)&&d.records.push(new Ext.grid.property.Property({name:c,value:b},c)));return d.total=d.count=d.records.length,new Ext.data.ResultSet(d)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||null===a}})),this.reader},setSource:function(a){var b=this;b.source=a,b.suspendEvents(),b.removeAll(),b.proxy.data=a,b.load(),b.resumeEvents(),b.fireEvent("datachanged",b),b.fireEvent("refresh",b)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,b,c){var d=this,e=d.getRec(a);e?(e.set("value",b),d.source[a]=b):c&&(d.source[a]=b,e=new Ext.grid.property.Property({name:a,value:b},a),d.add(e))},remove:function(a){var b=this.getRec(a);b&&(this.callParent([b]),delete this.source[a])},getRec:function(a){return this.getById(a)},getSource:function(){return this.source}}),Ext.define("Ext.layout.ClassList",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:!1,constructor:function(c){this.owner=c,this.map=b(this.classes=a(c.el.className))},add:function(a){var b=this;b.map[a]||(b.map[a]=!0,b.classes.push(a),b.dirty||(b.dirty=!0,b.owner.markDirty()))},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(a){var b=this;b.map[a]&&(delete b.map[a],b.classes=Ext.Array.filter(b.classes,function(b){return b!=a}),b.dirty||(b.dirty=!0,b.owner.markDirty()))},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){return e[a]?(delete d.map[a],d.dirty||(d.dirty=!0,d.owner.markDirty()),!1):!0})}}}()),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(a){var b=this,c=b.getKey(a);return b.map[c]||(++b.length,b.items.push(a),b.map[c]=a),a},clear:function(){var a=this,b=a.items;return a.items=[],a.map={},a.length=0,b},contains:function(a){var b=this.getKey(a);return this.map.hasOwnProperty(b)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b,c=this,d=c.getKey(a),e=c.items;return c.map[d]&&(b=Ext.Array.indexOf(e,a),Ext.Array.erase(e,b,1),delete c.map[d],--c.length),a}}),Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=this,q=Ext.layout.SizeModel.sizeModels,r=q.configured,s=q.shrinkWrap;Ext.apply(p,a),b=p.el,p.id=b.id,p.flushedProps={},p.props=f={},p.styles={},h=p.target,h.isComponent?(p.wrapsComponent=!0,p.framing=h.frameSize||null,p.isComponentChild=h.ownerLayout&&h.ownerLayout.isComponentLayout,c=h.lastBox,d=h.ownerCt,d&&(e=d.el&&p.context.items[d.el.id])&&(p.ownerCtContext=e),p.sizeModel=g=h.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]),p.widthModel=m=g.width,p.heightModel=n=g.height,c&&c.invalid===!1&&(k=h.width===(i=c.width),l=h.height===(j=c.height),m===s&&n===s?o=!0:m===r&&k&&(o=n===s||n===r&&l),o&&(p.optOut=!0,f.width=i,f.height=j))):c=b.lastBox,p.lastBox=c},init:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.props,m=k.dirty,n=k.ownerCtContext,o=k.target.ownerLayout,p=!k.state,q=a||p,r=k.heightModel,s=k.widthModel,t=0;if(k.dirty=k.invalid=!1,k.props={},k.remainingChildDimensions=0,k.boxChildren&&(k.boxChildren.length=0),p||(k.clearAllBlocks("blocks"),k.clearAllBlocks("domBlocks")),!k.wrapsComponent)return q;if(h=k.target,k.state={},p)h.beforeLayout&&h.beforeLayout!==Ext.emptyFn&&h.beforeLayout(),!n&&(f=h.ownerCt)&&(n=k.context.items[f.el.id]),n?(k.ownerCtContext=n,k.isBoxParent=h.ownerLayout.isItemBoxParent(k)):k.isTopLevel=!0,k.frameBodyContext=k.getEl("frameBody");else for(n=k.ownerCtContext,k.isTopLevel=!n,c=k.children,d=0,e=c.length;e>d;++d)c[d].init(!0);return k.hasRawContent=!(h.isContainer&&h.items.items.length>0),a?(k.widthModel=k.heightModel=null,g=h.getSizeModel(n&&n.widthModel.pairsByHeightOrdinal[n.heightModel.ordinal]),p&&(k.sizeModel=g),k.widthModel=g.width,k.heightModel=g.height,n&&!k.isComponentChild&&(n.remainingChildDimensions+=2)):l&&(k.recoverProp("x",l,m),k.recoverProp("y",l,m),k.widthModel.calculated?k.recoverProp("width",l,m):"width"in l&&++t,k.heightModel.calculated?k.recoverProp("height",l,m):"height"in l&&++t,n&&!k.isComponentChild&&(n.remainingChildDimensions+=t)),l&&o&&o.manageMargins&&(k.recoverProp("margin-top",l,m),k.recoverProp("margin-right",l,m),k.recoverProp("margin-bottom",l,m),k.recoverProp("margin-left",l,m)),b&&(i=b.heightModel,j=b.widthModel,j&&i&&s&&r&&s.shrinkWrap&&r.shrinkWrap&&j.constrainedMax&&i.constrainedMin&&(i=null),j&&(k.widthModel=j),i&&(k.heightModel=i),b.state&&Ext.apply(k.state,b.state)),q},initContinue:function(a){var b,c=this,d=c.ownerCtContext,e=c.target,f=c.widthModel,g=e.getHierarchyState();return f.fixed?g.inShrinkWrapTable=!1:delete g.inShrinkWrapTable,a&&(d&&f.shrinkWrap?(b=d.isBoxParent?d:d.boxParent,b&&b.addBoxChild(c)):f.natural&&(c.boxParent=d)),a},initDone:function(a){var b=this,c=b.props,d=b.state;0===b.remainingChildDimensions&&(c.containerChildrenSizeDone=!0),a&&(c.containerLayoutDone=!0),b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap&&(b.el.setWidth(1e4),d.blocks=(d.blocks||0)+1)},initAnimation:function(){var a=this,b=a.target,c=a.ownerCtContext;c&&c.isTopLevel?a.animatePolicy=b.ownerLayout.getAnimatePolicy(a):!c&&b.isCollapsingOrExpanding&&b.animCollapse&&(a.animatePolicy=b.componentLayout.getAnimatePolicy(a)),a.animatePolicy&&a.context.queueAnimation(a)},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(a,b,c){var d=this,e=d[a]||(d[a]={}),f=e[c]||(e[c]={});f[b.id]||(f[b.id]=b,++b.blockCount,++d.context.blockCount)},addBoxChild:function(a){var b,c=this,d=a.widthModel;a.boxParent=this,a.measuresBox=d.shrinkWrap?a.hasRawContent:d.natural,a.measuresBox&&(b=c.boxChildren,b?b.push(a):c.boxChildren=[a])},addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;return void 0!==c&&(a.left=c+"px",++e),void 0!==d&&(a.top=d+"px",++e),e},addTrigger:function(a,b){var c=this,d=b?"domTriggers":"triggers",e=c[d]||(c[d]={}),f=c.context,g=f.currentLayout,h=e[a]||(e[a]={});h[g.id]||(h[g.id]=g,++g.triggerCount,h=f.triggers[b?"dom":"data"],(h[g.id]||(h[g.id]=[])).push({item:this,prop:a}),void 0!==c.props[a]&&(b&&c.dirty&&a in c.dirty||++g.firedTriggers))},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;c==a.boxChildren.length&&(b.clearBoxWidth=1,++a.context.progressCount,a.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);return b.width=b.left+b.right,b.height=b.top+b.bottom,b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);return b.width=b.left+b.right,b.height=b.top+b.bottom,b},paddingInfo:function(a){var b=a.frameBodyContext||a,c=b.getStyles(a.paddingNames,a.trblNames);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b,c=this[a];if(c)for(b in c)this.clearBlocks(a,b)},clearBlocks:function(a,b){var c,d,e,f=this[a],g=f&&f[b];if(g){delete f[b],c=this.context;for(e in g)d=g[e],--c.blockCount,--d.blockCount||d.pending||d.done||c.queueLayout(d)}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c,d,e=this[a],f=e&&e[b],g=this.context;if(f)for(d in f)c=f[d],++c.firedTriggers,c.done||c.blockCount||c.pending||g.queueLayout(c)},flush:function(){var a=this,b=a.dirty,c=a.state,d=a.el;a.dirtyCount=0,a.classList&&a.classList.dirty&&a.classList.flush(),"attributes"in a&&(d.set(a.attributes),delete a.attributes),"innerHTML"in a&&(d.innerHTML=a.innerHTML,delete a.innerHTML),c&&c.clearBoxWidth&&(c.clearBoxWidth=0,a.el.setStyle("width",null),--c.blocks||a.context.queueItemLayouts(a)),b&&(delete a.dirty,a.writeProps(b,!0))},flushAnimations:function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.previousSize;if(m){for(a=l.target,b=a.layout&&a.layout.animate,b&&(c=Ext.isNumber(b)?b:b.duration),d=Ext.Object.getKeys(l.animatePolicy),e=Ext.apply({},{from:{},to:{},duration:c||Ext.fx.Anim.prototype.duration},b),f=0,g=0,h=d.length;h>g;g++)i=d[g],j=m[i],k=l.peek(i),j!=k&&(i=l.translateProps[i]||i,e.from[i]=j,e.to[i]=k,++f);f&&(1===l.isCollapsingOrExpanding?a.componentLayout.undoLayout(l):l.writeProps(e.from),l.el.animate(e),Ext.fx.Manager.getFxQueue(l.el.id)[0].on({afteranimate:function(){1===l.isCollapsingOrExpanding?(a.componentLayout.redoLayout(l),a.afterCollapse(!0)):2===l.isCollapsingOrExpanding&&a.afterExpand(!0)}}))}},getBorderInfo:function(){var a=this,b=a.borderInfo;return b||(a.borderInfo=b=a.checkCache("borderInfo")),b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))
},getEl:function(a,b){var c,d,e,f=this;if(a){if(a.dom)d=a;else if(c=f.target,b&&(c=b),d=c[a],"function"==typeof d&&(d=d.call(c),d===f.el))return this;d&&(e=f.context.getEl(f,d))}return e||null},getFrameInfo:function(){var a,b,c=this,d=c.frameInfo;return d||(a=c.framing,b=c.getBorderInfo(),c.frameInfo=d=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b),d},getMarginInfo:function(){var a,b,c,d,e,f=this,g=f.marginInfo;return g||(f.wrapsComponent?(a=f.target,d=a.ownerLayout,e=d?d.id:null,b=d&&d.manageMargins,g=a.margin$,g&&g.ownerId!==e&&(g=null),g||(g=f.parseMargins(a,a.margin)||f.checkCache("marginInfo"),b&&(c=f.parseMargins(a,a.margins,d.defaultMargins),c&&(g={top:g.top+c.top,right:g.right+c.right,bottom:g.bottom+c.bottom,left:g.left+c.left}),f.setProp("margin-top",0),f.setProp("margin-right",0),f.setProp("margin-bottom",0),f.setProp("margin-left",0)),g.ownerId=e,a.margin$=g),g.width=g.left+g.right,g.height=g.top+g.bottom):g=f.checkCache("marginInfo"),f.marginInfo=g),g},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;return b||(a.paddingInfo=b=a.checkCache("paddingInfo")),b},getProp:function(a){var b=this,c=b.props[a];return b.addTrigger(a),c},getDomProp:function(a){var b=this,c=b.dirty&&a in b.dirty?void 0:b.props[a];return b.addTrigger(a,!0),c},getStyle:function(a){var b,c,d=this,e=d.styles;return a in e?c=e[a]:(b=d.styleInfo[a],c=d.el.getStyle(a),b&&b.parseInt&&(c=parseInt(c,10)||0),e[a]=c),c},getStyles:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.styles,m={},n=0,o=a.length;for(b=b||a,c=0;o>c;++c)f=a[c],f in l?(m[b[c]]=l[f],++n,c&&1==n&&(d=a.slice(0,c),e=b.slice(0,c))):n&&((d||(d=[])).push(f),(e||(e=[])).push(b[c]));if(o>n)for(d=d||a,e=e||b,h=k.styleInfo,i=k.el.getStyle(d),c=d.length;c--;)f=d[c],g=h[f],j=i[f],g&&g.parseInt&&(j=parseInt(j,10)||0),m[e[c]]=j,l[f]=j;return m},hasProp:function(a){return null!=this.getProp(a)},hasDomProp:function(a){return null!=this.getDomProp(a)},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox&&(b.boxMeasured=1,a.boxChildMeasured())},parseMargins:function(a,b,c){b===!0&&(b=5);var d,e=typeof b;return"string"==e||"number"==e?d=a.parseBox(b):(b||c)&&(d={top:0,right:0,bottom:0,left:0},c&&Ext.apply(d,this.parseMargins(a,c)),b&&(b=Ext.apply(d,a.parseBox(b)))),d},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d,e=this,f=e.props;a in b&&(f[a]=b[a],c&&a in c&&(d=e.dirty||(e.dirty={}),d[a]=c[a]))},redo:function(a){var b,c,d,e=this;if(e.revertProps(e.props),a&&e.wrapsComponent){if(e.childItems)for(d=0,b=e.childItems,c=b.length;c>d;d++)b[d].redo(a);for(d=0,b=e.children,c=b.length;c>d;d++)b[d].redo()}},removeEl:function(a,b){var c,d,e=this;if(a){if(a.dom)d=a;else if(c=e.target,b&&(c=b),d=c[a],"function"==typeof d&&(d=d.call(c),d===e.el))return this;d&&e.context.removeEl(e,d)}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a)c.hasOwnProperty(b)&&(d[b]=a[b]);this.writeProps(d)},setAttribute:function(a,b){var c=this;c.attributes||(c.attributes={}),c.attributes[a]=b,c.markDirty()},setBox:function(a){var b=this;"left"in a&&b.setProp("x",a.left),"top"in a&&b.setProp("y",a.top),b.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return this.setContentWidth(a,c)+this.setContentHeight(b,c)==2},setProp:function(a,b,c){var d,e,f=this,g=typeof b;return"undefined"==g||"number"===g&&isNaN(b)?0:f.props[a]===b?1:(f.props[a]=b,++f.context.progressCount,c===!1?(f.fireTriggers("domTriggers",a),f.clearBlocks("domBlocks",a)):(e=f.styleInfo[a],e&&(f.dirty||(f.dirty={}),("width"==a||"height"==a)&&(d=f.isBorderBoxValue,null===d&&(f.isBorderBoxValue=d=!!f.el.isBorderBox()),d||(f.borderInfo||f.getBorderInfo(),f.paddingInfo||f.getPaddingInfo())),f.dirty[a]=b,f.markDirty())),f.fireTriggers("triggers",a),f.clearBlocks("blocks",a),1)},setHeight:function(a,b){var c,d,e,f,g,h=this,i=h.target,j=h.ownerCtContext;if(0>a&&(a=0),h.wrapsComponent){if(e=h.collapsedVert?0:i.minHeight||0,a=Ext.Number.constrain(a,e,i.maxHeight),f=h.props.height,!h.setProp("height",a,b))return 0/0;j&&!h.isComponentChild&&isNaN(f)&&(g=--j.remainingChildDimensions,g||j.setProp("containerChildrenSizeDone",!0)),c=h.frameBodyContext,c&&(d=h.getFrameInfo(),c.setHeight(a-d.height,b))}else if(!h.setProp("height",a,b))return 0/0;return a},setWidth:function(a,b){var c,d,e,f,g,h=this,i=h.target,j=h.ownerCtContext;if(0>a&&(a=0),h.wrapsComponent){if(e=h.collapsedHorz?0:i.minWidth||0,a=Ext.Number.constrain(a,e,i.maxWidth),f=h.props.width,!h.setProp("width",a,b))return 0/0;j&&!h.isComponentChild&&isNaN(f)&&(g=--j.remainingChildDimensions,g||j.setProp("containerChildrenSizeDone",!0)),c=h.frameBodyContext,c&&(d=h.getFrameInfo(),c.setWidth(a-d.width,b))}else if(!h.setProp("width",a,b))return 0/0;return a},setSize:function(a,b,c){this.setWidth(a,c),this.setHeight(b,c)},translateProps:{x:"left",y:"top"},undo:function(a){var b,c,d,e=this;if(e.revertProps(e.lastBox),a&&e.wrapsComponent){if(e.childItems)for(d=0,b=e.childItems,c=b.length;c>d;d++)b[d].undo(a);for(d=0,b=e.children,c=b.length;c>d;d++)b[d].undo()}},unsetProp:function(a){var b=this.dirty;delete this.props[a],b&&delete b[a]},writeProps:function(a,b){if(!a||"object"!=typeof a)return void Ext.Logger.warn("writeProps expected dirtyProps to be an object");var c,d,e,f,g,h,i,j,k,l=this,m=l.el,n={},o=0,p=l.styleInfo,q=a.width,r=a.height,s=l.isBorderBoxValue,t=l.target,u=Math.max,v=0,w=0;"displayed"in a&&m.setDisplayed(a.displayed);for(d in a)b&&(l.fireTriggers("domTriggers",d),l.clearBlocks("domBlocks",d),l.flushedProps[d]=1),c=p[d],c&&c.dom&&(n[d]=c.suffix&&(e=parseInt(a[d],10))?e+c.suffix:a[d],++o);("x"in a||"y"in a)&&(t.isComponent?t.setPosition(a.x,a.y):o+=l.addPositionStyles(n,a)),!s&&(q>0||r>0)&&(l.frameBodyContext||(v=l.paddingInfo.width,w=l.paddingInfo.height),q&&(q=u(parseInt(q,10)-(l.borderInfo.width+v),0),n.width=q+"px",++o),r&&(r=u(parseInt(r,10)-(l.borderInfo.height+w),0),n.height=r+"px",++o)),l.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((f=void 0!==q&&l.hasOverflowY)||(g=void 0!==r&&l.hasOverflowX))&&(h=l.isAbsolute,void 0===h&&(h=!1,k=l.target.getTargetEl(),j=k.getStyle("position"),"absolute"==j&&(j=k.getStyle("box-sizing"),h="border-box"==j),l.isAbsolute=h),h&&(i=Ext.getScrollbarSize(),f&&(q=parseInt(q,10)+i.width,n.width=q+"px",++o),g&&(r=parseInt(r,10)+i.height,n.height=r+"px",++o))),o&&m.setStyle(n)}},function(){var a={dom:!0,parseInt:!0,suffix:"px"},b={dom:!0},c={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}}),Ext.define("Ext.layout.Context",{requires:["Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a),b.items={},b.layouts={},b.blockCount=0,b.cycleCount=0,b.flushCount=0,b.calcCount=0,b.animateQueue=b.newQueue(),b.completionQueue=b.newQueue(),b.finalizeQueue=b.newQueue(),b.finishQueue=b.newQueue(),b.flushQueue=b.newQueue(),b.invalidateData={},b.layoutQueue=b.newQueue(),b.invalidQueue=[],b.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a,a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=this,o=a,p=!a.isComponent,q=p?o.length:1;for(d=0;q>d;++d){if(p&&(a=o[d]),c&&a.ownerCt&&(m=this.items[a.ownerCt.el.id],m&&Ext.Array.remove(m.childItems,n.getCmp(a))),!b&&(j=n.invalidQueue,f=j.length))for(n.invalidQueue=i=[],e=0;f>e;++e)k=j[e],l=k.item.target,l==a||l.isDescendant(a)||i.push(k);h=a.componentLayout,n.cancelLayout(h),h.getLayoutItems&&(g=h.getLayoutItems(),g.length&&n.cancelComponent(g,!0)),a.isContainer&&!a.collapsed&&(h=a.layout,n.cancelLayout(h),g=h.getVisibleItems(),g.length&&n.cancelComponent(g,!0))}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a),b.finalizeQueue.remove(a),b.finishQueue.remove(a),b.layoutQueue.remove(a),a.running&&b.layoutDone(a),a.ownerContext=null},clearTriggers:function(a,b){var c,d,e,f=a.id,g=this.triggers[b?"dom":"data"],h=g&&g[f],i=h&&h.length||0;for(c=0;i>c;++c)e=h[c],d=e.item,g=b?d.domTriggers:d.triggers,delete g[e.prop][f]},flush:function(){var a,b=this,c=b.flushQueue.clear(),d=c.length;if(d)for(++b.flushCount,a=0;d>a;++a)c[a].flush()},flushAnimations:function(){var a,b=this,c=b.animateQueue.clear(),d=c.length;if(d){for(a=0;d>a;a++)c[a].target.animate!==!1&&c[a].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var a,b,c,d,e=this,f=e.invalidQueue,g=f&&f.length;if(e.invalidQueue=[],g){for(b=[],d=0;g>d;++d)a=(c=f[d]).item.target,a.container.isDetachedBody||(b.push(a),c.options&&(e.invalidateData[a.id]=c.options));e.invalidate(b,null)}},flushLayouts:function(a,b,c){var d,e,f=this,g=c?f[a].items:f[a].clear(),h=g.length;if(h){for(d=0;h>d;++d)e=g[d],e.running||f.callLayout(e,b);f.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);return c.parent||(c.parent=a,a.children.length?a.children.push(c):a.children=[c]),c},getItem:function(a,b){var c=b.id,d=this.items,e=d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,el:b}));return e},handleFailure:function(){var a,b,c=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(b in c)a=c[b],c.hasOwnProperty(b)&&(a.running=!1,a.ownerContext=null)},invalidate:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this,o=!a.isComponent;for(e=0,i=o?a.length:1;i>e;++e)f=o?a[e]:a,f.rendered&&!f.hidden&&(g=n.getCmp(f),j=f.componentLayout,d=!j.ownerContext,k=f.isContainer&&!f.collapsed?f.layout:null,l=n.invalidateData[g.id],delete n.invalidateData[g.id],m=g.init(b,l),l&&n.processInvalidate(l,g,"before"),j.beforeLayoutCycle&&j.beforeLayoutCycle(g),k&&k.beforeLayoutCycle&&k.beforeLayoutCycle(g),m=g.initContinue(m),c=!0,j.getLayoutItems&&(j.renderChildren(),h=j.getLayoutItems(),h.length&&n.invalidate(h,!0)),k&&(c=!1,k.renderChildren(),h=k.getVisibleItems(),h.length&&n.invalidate(h,!0)),g.initDone(c),n.resetLayout(j,g,d),k&&n.resetLayout(k,g,d),g.initAnimation(),l&&n.processInvalidate(l,g,"after"));n.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=!1,a.isComponentLayout?(b.measuresBox&&b.onBoxMeasured(),b.setProp("done",!0)):b.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this,e=d.currentLayout;d.currentLayout=a.layout||null,a[c](b,a),d.currentLayout=e}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,f=b.layout,g=a[c],h=b[c];return function(c){var i=d.currentLayout;g&&(d.currentLayout=e,g.call(a.scope||a,c,a)),d.currentLayout=f,h.call(b.scope||b,c,b),d.currentLayout=i}},queueInvalidate:function(a,b){var c,d,e,f,g,h=this,i=[],j=h.invalidQueue,k=j.length;for(a.isComponent?a=h.getCmp(c=a):c=a.target,a.invalid=!0;k--;){if(d=j[k],e=d.item.target,c.isDescendant(e))return;if(e==c)return void((f=d.options)?b&&(b.widthModel&&(f.widthModel=b.widthModel),b.heightModel&&(f.heightModel=b.heightModel),(g=f.state)?b.state&&Ext.apply(g,b.state):f.state=b.state,b.before&&(f.before=h.chainFns(f,b,"before")),b.after&&(f.after=h.chainFns(f,b,"after"))):d.options=b);e.isDescendant(c)||i.push(d)}i.push({item:a,options:b}),h.invalidQueue=i},queueItemLayouts:function(a){var b=a.isComponent?a:a.target,c=b.componentLayout;c.pending||c.invalid||c.done||this.queueLayout(c),c=b.layout,!c||c.pending||c.invalid||c.done||this.queueLayout(c)},queueLayout:function(a){this.layoutQueue.add(a),a.pending=!0},removeEl:function(a,b){var c=b.id,d=a.children,e=this.items;d&&Ext.Array.remove(d,e[c]),delete e[c]},resetLayout:function(a,b,c){var d=this;d.currentLayout=a,a.done=!1,a.pending=!0,a.firedTriggers=0,d.layoutQueue.add(a),c?(d.layouts[a.id]=a,a.running=!0,a.finishedLayout&&d.finishQueue.add(a),++d.remainingLayouts,++a.layoutCount,a.ownerContext=b,a.beginCount=0,a.blockCount=0,a.calcCount=0,a.triggerCount=0,a.initialized||a.initLayout(),a.beginLayout(b)):(++a.beginCount,a.running||(++d.remainingLayouts,a.running=!0,a.isComponentLayout&&b.unsetProp("done"),d.completionQueue.remove(a),d.finalizeQueue.remove(a))),a.beginLayoutCycle(b,c)},run:function(){var a=this,b=!1,c=100;for(a.flushInvalidates(),a.state=1,a.totalCount=a.layoutQueue.getCount(),a.flush();(a.remainingLayouts||a.invalidQueue.length)&&c--;){if(a.invalidQueue.length&&a.flushInvalidates(),a.runCycle())b=!1;else if(b){if(!a.invalidQueue.length){a.state=2;break}}else a.flush(),b=!0,a.flushLayouts("completionQueue","completeLayout");a.remainingLayouts||a.invalidQueue.length||(a.flush(),a.flushLayouts("completionQueue","completeLayout"),a.flushLayouts("finalizeQueue","finalizeLayout"))}return a.runComplete()},runComplete:function(){var a=this;return a.state=2,a.remainingLayouts?(a.handleFailure(),!1):(a.flush(),a.flushLayouts("finishQueue","finishedLayout",!0),a.flushLayouts("finishQueue","notifyOwner"),a.flush(),a.flushAnimations(),!0)},runCycle:function(){var a,b=this,c=b.layoutQueue.clear(),d=c.length;for(++b.cycleCount,b.progressCount=0,a=0;d>a;++a)b.runLayout(b.currentLayout=c[a]);return b.currentLayout=null,b.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=!1,c.state.blocks||(a.done=!0,++a.calcCount,++b.calcCount,a.calculate(c),a.done?(b.layoutDone(a),a.completeLayout&&b.queueCompletion(a),a.finalizeLayout&&b.queueFinalize(a)):a.pending||a.invalid||a.blockCount+a.triggerCount-a.firedTriggers||b.queueLayout(a))},setItemSize:function(a,b,c){var d,e,f=a,g=1;for(a.isComposite?(f=a.elements,g=f.length,a=f[0]):a.dom||a.el||(g=f.length,a=f[0]),e=0;g>e;)d=this.get(a),d.setSize(b,c),a=f[++e]}}),Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){a.target.collapsed&&(a.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(a){var b,c=a.target;this.callParent(arguments),c.collapsed&&(a.setContentHeight(0),a.restoreMinHeight=c.minHeight,delete c.minHeight,a.widthModel.shrinkWrap&&(b=c.lastComponentSize,a.setContentWidth(b&&b.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(a){var b=this.owner,c=a.restoreMinHeight;this.callParent(arguments),c&&(b.minHeight=c)},calculateOwnerHeightFromContentHeight:function(a){var b=a.getBorderInfo(),c=a.target.legend;return a.getProp("contentHeight")+a.getPaddingInfo().height+(Ext.isIEQuirks||Ext.isIE8m?a.bodyContext.getPaddingInfo().top:0)+(c?c.getHeight():b.top)+b.bottom},publishInnerHeight:function(a,b){var c=a.target.legend;c&&(b-=c.getHeight()),this.callParent([a,b])},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}}),Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:"Ext.layout.component.field.Field",type:"sliderfield",beginLayout:function(a){this.callParent(arguments),a.endElContext=a.getEl("endEl"),a.innerElContext=a.getEl("innerEl"),a.bodyElContext=a.getEl("bodyEl")},publishInnerHeight:function(a,b){var c,d,e=b-this.measureLabelErrorHeight(a);this.owner.vertical?(c=a.endElContext.getPaddingInfo(),d=a.inputContext.getPaddingInfo(),a.innerElContext.setHeight(e-d.height-c.height)):a.bodyElContext.setHeight(e)},publishInnerWidth:function(a,b){if(!this.owner.vertical){var c=a.endElContext.getPaddingInfo(),d=a.inputContext.getPaddingInfo();a.innerElContext.setWidth(b-d.left-c.right-a.labelContext.getProp("width"))}},beginLayoutFixed:function(){var a=this,b=a.ieInputWidthAdjustment;b&&a.owner.bodyEl.setStyle("padding-right",b+"px"),a.callParent(arguments)}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("left");return a-d+c.left},adjustHeightAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("top");return a-d+c.top},isItemLayoutRoot:function(){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(){return!0},beginLayout:function(a){var b=this,c=b.getTarget();b.callParent(arguments),c.dom!==document.body&&c.position(),b.targetPadding=a.targetContext.getPaddingInfo()},isItemBoxParent:function(){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:this.callParent(arguments)},calculateContentSize:function(a,b){var c,d,e,f,g,h,i,j=this,k=(b||0)|((a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0)),l=1&k||void 0,m=2&k||void 0,n=a.childItems,o=n.length,p=0,q=0,r=0,s=a.props;if(l&&(isNaN(s.contentWidth)?++r:l=void 0),m&&(isNaN(s.contentHeight)?++r:m=void 0),r){for(g=0;o>g;++g)if(e=n[g],d=e.target,f=m&&e.getProp("height"),i=l&&e.getProp("width"),h=e.getMarginInfo(),f+=h.bottom,i+=h.right,p=Math.max(p,(d.y||0)+f),q=Math.max(q,(d.x||0)+i),isNaN(p)&&isNaN(q))return void(j.done=!1);(l||m)&&(c=a.targetContext.getPaddingInfo()),l&&!a.setContentWidth(q+c.width)&&(j.done=!1),m&&!a.setContentHeight(p+c.height)&&(j.done=!1)}}}),Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var a=this;a.callParent(arguments),a.animatePolicy=!a.multi&&a.animate?Ext.apply({},a.defaultAnimatePolicy):null},beforeRenderItems:function(a){for(var b,c=this,d=a.length,e=0,f=c.owner,g=c.collapseFirst,h=Ext.isDefined(g),i=c.getExpanded(!0)[0],j=c.multi;d>e;e++)b=a[e],b.rendered||(j&&b.collapsible===!1||(b.collapsible=!0),b.collapsible&&(h&&(b.collapseFirst=g),c.hideCollapseTool?(b.hideCollapseTool=c.hideCollapseTool,b.titleCollapse=!0):c.titleCollapse&&void 0===b.titleCollapse&&(b.titleCollapse=c.titleCollapse)),delete b.hideHeader,delete b.width,b.title=b.title||"&#160;",b.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),j||(i?b.collapsed=i!==b:b.hasOwnProperty("collapsed")&&b.collapsed===!1?i=b:b.collapsed=!0,f.mon(b,{show:c.onComponentShow,beforeexpand:c.onComponentExpand,beforecollapse:c.onComponentCollapse,scope:c})),f.mon(b,"beforecollapse",c.onComponentCollapse,c),b.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");j||(i?c.activeOnTop&&(i.collapsed=!1,c.configureItem(i),f.items.indexOf(i)>0&&f.insert(0,i)):d&&(a[0].collapsed=!1))},getItemsRenderTree:function(a){return this.beforeRenderItems(a),this.callParent(arguments)},renderItems:function(a){this.beforeRenderItems(a),this.callParent(arguments)},configureItem:function(a){this.callParent(arguments),a.animCollapse=a.border=!1,this.fill&&(a.flex=1)},beginLayout:function(a){this.callParent(arguments),this.updatePanelClasses(a)},updatePanelClasses:function(a){var b,c,d,e=a.visibleItems,f=e.length,g=!0;for(b=0;f>b;b++)c=e[b],d=c.header,d.addCls(Ext.baseCSSPrefix+"accordion-hd"),g?d.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):d.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),b+1==f&&c.collapsed?d.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):d.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),g=c.collapsed},onComponentExpand:function(a){var b,c,d,e,f=this,g=f.owner,h=f.multi,i=(f.animate,!h&&!f.animate&&f.activeOnTop);if(!f.processing){for(f.processing=!0,e=g.deferLayouts,g.deferLayouts=!0,b=h?[]:f.getExpanded(),c=b.length,d=0;c>d;d++)b[d].collapse();i&&(Ext.suspendLayouts(),g.insert(0,a),Ext.resumeLayouts()),g.deferLayouts=e,f.processing=!1}},onComponentCollapse:function(a){var b,c,d,e=this,f=e.owner;return 1===e.owner.items.getCount()?!1:void(e.processing||(e.processing=!0,d=f.deferLayouts,f.deferLayouts=!0,b=a.next()||a.prev(),e.multi?(c=e.getExpanded(),1===c.length&&b.expand()):b&&b.expand(),f.deferLayouts=d,e.processing=!1))},onComponentShow:function(a){this.onComponentExpand(a)},getExpanded:function(a){for(var b,c,d=this.owner.items.items,e=d.length,f=0,g=[];e>f;++f)c=d[f],b=a?c.hasOwnProperty("collapsed")&&c.collapsed===!1:!c.collapsed,b&&g.push(c);return g}}),Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget();a.callParent(),b.collapsed&&a.addCls(a.collapsedClsInternal),a.canResize||a.addCls(a.baseCls+"-noresize"),Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:a.collapsible||b.collapsible}),a.protoEl.unselectable()},onRender:function(){var a,b=this;b.callParent(arguments),b.performCollapse!==!1&&(b.renderData.collapsible&&b.mon(b.collapseEl,"click",b.toggleTargetCmp,b),b.collapseOnDblClick&&b.mon(b.el,"dblclick",b.toggleTargetCmp,b)),b.mon(b.getCollapseTarget(),{collapse:b.onTargetCollapse,expand:b.onTargetExpand,beforeexpand:b.onBeforeTargetExpand,beforecollapse:b.onBeforeTargetCollapse,scope:b}),b.canResize&&(b.tracker=Ext.create(b.getTrackerConfig()),b.relayEvents(b.tracker,["beforedragstart","dragstart","dragend"])),a=b.collapseEl,a&&(a.lastCollapseDirCls=b.collapseDirProps[b.collapseDirection].cls)},getCollapseDirection:function(){var a,b,c,d,e=this,f=e.collapseDirection;return f||(a=e.collapseTarget,a.isComponent&&(f=a.collapseDirection),f||(d=e.ownerCt.layout.type,a.isComponent?(c=e.ownerCt.items,b=Number(c.indexOf(a)===c.indexOf(e)-1)<<1|Number("hbox"===d)):b=Number("prev"===e.collapseTarget)<<1|Number("hbox"===d),f=["bottom","right","top","left"][b]),e.collapseDirection=f),e.setOrientation("top"===f||"bottom"===f?"horizontal":"vertical"),f},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:"prev"===a.collapseTarget?a.previousSibling():a.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;b&&b.setDisplayed(a)},onBeforeTargetExpand:function(){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},onTargetExpand:function(){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var a,b=this,c=b.collapseEl,d=b.collapseDirProps[b.collapseDirection];c&&(a=c.lastCollapseDirCls,a&&c.removeCls(a),c.addCls(c.lastCollapseDirCls=d.cls))},applyOrientation:function(){var a=this,b=a.orientation,c=a.orientationProps[b],d=a.size,e=c.fixedAxis,f=c.stretchedAxis,g=a.baseCls+"-";a[b]=!0,a[c.opposite]=!1,a.hasOwnProperty(e)&&"100%"!==a[e]||(a[e]=d),a.hasOwnProperty(f)&&a[f]!==d||(a[f]="100%"),a.removeCls(g+c.opposite),a.addCls(g+b)},setOrientation:function(a){var b=this;b.orientation!==a&&(b.orientation=a,b.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(){var a,b=this.getCollapseTarget(),c=b.placeholder;Ext.isFunction(b.expand)&&Ext.isFunction(b.collapse)&&(a=c&&!c.hidden?!0:!b.hidden,a&&(b.collapsed?b.expand():b.collapseDirection?b.collapse():b.collapse(this.renderData.collapseDir)))},setSize:function(){var a=this;a.callParent(arguments),Ext.isIE&&a.el&&a.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();return a.xclass="Ext.resizer.BorderSplitterTracker",a}}),Ext.define("Ext.layout.container.Border",{extend:"Ext.layout.container.Container",alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",requires:["Ext.resizer.BorderSplitter","Ext.fx.Anim","Ext.layout.container.border.Region"],targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this,p=o.axisProps[c],q=!p.horizontal,r=p.sizeProp,s=0,t=a.childItems,u=t.length;for(e=0;u>e;++e)if(f=t[e],h=f.target,f.layoutPos={},h.region){if(f.region=i=h.region,f.isCenter=h.isCenter,f.isHorz=h.isHorz,f.isVert=h.isVert,f.weight=h.weight||o.regionWeights[i]||0,b[h.id]=f,h.isCenter){d=f,g=h.flex,a.centerRegion=d;continue}if(q!==f.isVert)continue;f.reverseWeighting=i==p.borderEnd,k=h[r],l=typeof k,h.collapsed||("string"==l&&(j=o.percentageRe.exec(k))?f.percentage=parseInt(j[1],10):h.flex&&(s+=f.flex=h.flex))}return d&&(m=d.target,(n=m.placeholderFor)?g||q!==n.collapsedVertical()||(g=0,d.collapseAxis=c):m.collapsed&&q===m.collapsedVertical()&&(g=0,d.collapseAxis=c)),null==g&&(g=1),s+=g,Ext.apply({before:q?"top":"left",totalFlex:s},p)},beginLayout:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.getLayoutItems(),m=k.padding,n=typeof m,o=!1;for(m?("string"==n||"number"==n)&&(m=Ext.util.Format.parseBox(m)):(m=a.getEl("getTargetEl").getPaddingInfo(),o=!0),a.outerPad=m,a.padOnContainer=o,e=0,d=l.length;d>e;++e)c=l[e],g=k.getSplitterTarget(c),g&&(h=void 0,i=!!c.hidden,g.split?i!==g.hidden&&(h=!g.hidden):g.isCollapsingOrExpanding&&(h=!!g.collapsed),h?c.show():h===!1&&c.hide());for(k.callParent(arguments),l=a.childItems,d=l.length,f={},a.borderAxisHorz=k.beginAxis(a,f,"horz"),a.borderAxisVert=k.beginAxis(a,f,"vert"),e=0;d>e;++e)b=l[e],g=k.getSplitterTarget(b.target),g&&(j=f[g.id],j||(j=a.getEl(g.el,k),j.region=g.region),b.collapseTarget=g=j,b.weight=g.weight,b.reverseWeighting=g.reverseWeighting,g.splitter=b,b.isHorz=g.isHorz,b.isVert=g.isVert);k.sortWeightedItems(l,"reverseWeighting"),k.setupSplitterNeighbors(l)},calculate:function(a){var b,c,d,e,f,g,h=this,i=h.getContainerSize(a),j=a.childItems,k=j.length,l=a.borderAxisHorz,m=a.borderAxisVert,n=a.outerPad,o=a.padOnContainer;for(l.begin=n[h.padOnContainerProp],m.begin=n.top,f=l.end=l.flexSpace=i.width+(o?n[h.padOnContainerProp]:-n[h.padNotOnContainerProp]),g=m.end=m.flexSpace=i.height+(o?n.top:-n.bottom),b=0;k>b;++b)c=j[b],d=c.getMarginInfo(),(c.isHorz||c.isCenter)&&(l.addUnflexed(d.width),f-=d.width),(c.isVert||c.isCenter)&&(m.addUnflexed(d.height),g-=d.height),c.flex||c.percentage||(c.isHorz||c.isCenter&&"horz"===c.collapseAxis?(e=c.getProp("width"),l.addUnflexed(e),c.collapseTarget&&(f-=e)):(c.isVert||c.isCenter&&"vert"===c.collapseAxis)&&(e=c.getProp("height"),m.addUnflexed(e),c.collapseTarget&&(g-=e)));for(b=0;k>b;++b)c=j[b],d=c.getMarginInfo(),c.percentage&&(c.isHorz?(e=Math.ceil(f*c.percentage/100),e=c.setWidth(e),l.addUnflexed(e)):c.isVert&&(e=Math.ceil(g*c.percentage/100),e=c.setHeight(e),m.addUnflexed(e)));for(b=0;k>b;++b)c=j[b],c.isCenter||(h.calculateChildAxis(c,l),h.calculateChildAxis(c,m));h.finishAxis(a,m)+h.finishAxis(a,l)<2?h.done=!1:h.finishPositions(j)},calculateChildAxis:function(a,b){var c,d,e,f,g,h=a.collapseTarget,i="set"+b.sizePropCap,j=b.sizeProp,k=a.getMarginInfo()[j];h?c=h.region:(c=a.region,e=a.flex),d=c==b.borderBegin,d||c==b.borderEnd?(e?(g=Math.ceil(b.flexSpace*(e/b.totalFlex)),g=a[i](g)):g=a.percentage?a.peek(j):a.getProp(j),g+=k,d?(f=b.begin,b.begin+=g):b.end=f=b.end-g):(a[i](b.end-b.begin-k),f=b.begin),a.layoutPos[b.posProp]=f},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;return d&&(d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]),d.layoutPos[b.posProp]=b.begin),Ext.isNumber(c)?1:0},finishPositions:function(a){var b,c,d=a.length,e=this.horzMarginProp;for(b=0;d>b;++b)c=a[b],c.setProp("x",c.layoutPos.x+c.marginInfo[e]),c.setProp("y",c.layoutPos.y+c.marginInfo.top)},getLayoutItems:function(){for(var a,b,c=this.owner,d=c&&c.items&&c.items.items||[],e=d.length,f=[],g=0;e>g;g++)a=d[g],b=a.placeholderFor,!a.hidden&&(a.floated&&2!==a.isCollapsingOrExpanding||b&&2===b.isCollapsingOrExpanding)||f.push(a);return f},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(a){var b=a.collapseTarget;return b&&b.collapsed?b.placeholder||b:b},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},insertSplitter:function(a,b,c,d){var e=a.region,f=Ext.apply({xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:a.splitterResize!==!1,splitterFor:a},d),g=b+("south"===e||"east"===e?0:1);"mini"===a.collapseMode&&(f.collapsedCls=a.collapsedCls),a.splitter=this.owner.add(g,f)},onAdd:function(a,b){var c,d,e,f=this,g=a.placeholderFor,h=a.region;f.callParent(arguments),h?(Ext.apply(a,f.regionFlags[h]),a.initBorderRegion&&a.initBorderRegion(),"center"===h?f.centerRegion=a:(c=a.split,d=!!a.hidden,"object"==typeof c&&(e=c,c=!0),!a.isHorz&&!a.isVert||!c&&"mini"!=a.collapseMode||f.insertSplitter(a,b,d||!c,e)),a.hasOwnProperty("collapseMode")||(a.collapseMode=f.panelCollapseMode),a.hasOwnProperty("animCollapse")||(a.animCollapse="placeholder"!==a.collapseMode?!1:f.panelCollapseAnimate)):g&&(Ext.apply(a,f.regionFlags[g.region]),a.region=g.region,a.weight=g.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(a){var b=this,c=a.region,d=a.splitter;c&&(a.isCenter&&(b.centerRegion=null),delete a.isCenter,delete a.isHorz,delete a.isVert,d&&(b.owner.doRemove(d,!0),delete a.splitter)),b.callParent(arguments)},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(a){var b,c,d,e,f,g,h,i,j,k={},l=a.length,m=this.touchedRegions;
for(b=0;l>b;++b)if(g=a[b].target,h=g.region,g.isCenter)d=g;else if(h){for(j=m[h],c=0,e=j.length;e>c;++c)f=k[j[c]],f&&f.neighbors.push(g);i=g.placeholderFor?g.placeholderFor.splitter:g.splitter,i&&(i.neighbors=[]),k[h]=i}if(d)for(j=m.center,c=0,e=j.length;e>c;++c)f=k[j[c]],f&&f.neighbors.push(d)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b,c,d,e,f=this,g=this.sizePolicies;return a.isCenter?(e=a.placeholderFor,e?e.collapsedVertical()?g.vert:g.horz:a.collapsed?a.collapsedVertical()?g.vert:g.horz:g.flexAll):(b=a.collapseTarget,b?b.isVert?g.vert:g.horz:a.region?(a.isVert?(c=a.height,d=g.vert):(c=a.width,d=g.horz),a.flex||"string"==typeof c&&f.percentageRe.test(c)?g.flexAll:d):f.autoSizePolicy)}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a),Ext.apply(b.vert,a)}),Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var a=this,b=a.getActiveItem();if(b){if(b.hasListeners.beforeactivate&&b.fireEvent("beforeactivate",b)===!1?b=a.activeItem=a.owner.activeItem=null:b.hasListeners.activate&&b.on({boxready:function(){b.fireEvent("activate",b)},single:!0}),!a.deferredRender)return a.callParent(arguments);if(b)return a.getItemsRenderTree([b])}},renderChildren:function(){var a=this,b=a.getActiveItem();a.deferredRender?b&&a.renderItems([b],a.getRenderTarget()):a.callParent()},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return c&&c.parentNode===(b.dom||b)||!1},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||a.owner&&a.owner.activeItem);return a.activeItem=b&&-1!=a.owner.items.indexOf(b)?b:null,a.activeItem},parseActiveItem:function(a){return a&&a.isComponent?a:"number"==typeof a||void 0===a?this.getLayoutItems()[a||0]:this.owner.getComponent(a)},configureItem:function(a){a.hidden=a===this.getActiveItem()?!1:!0,this.callParent(arguments)},onRemove:function(a){var b=this;a===b.activeItem&&(b.activeItem=null)},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;return c===!1?!1:c||b.cardSwitchAnimation},getNext:function(){var a=arguments[0],b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c+1]||(a?b[0]:!1)},next:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getNext(b),a)},getPrev:function(){var a=arguments[0],b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c-1]||(a?b[b.length-1]:!1)},prev:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var b,c=this,d=c.owner,e=c.activeItem,f=d.rendered;return a=c.parseActiveItem(a),b=d.items.indexOf(a),-1==b&&(b=d.items.items.length,Ext.suspendLayouts(),a=d.add(a),Ext.resumeLayouts()),a&&e!=a?a.fireEvent("beforeactivate",a,e)===!1?!1:e&&e.fireEvent("beforedeactivate",e,a)===!1?!1:(f?(Ext.suspendLayouts(),a.rendered||c.renderItem(a,c.getRenderTarget(),d.items.length),e&&(c.hideInactive&&(e.hide(),e.hiddenByLayout=!0),e.fireEvent("deactivate",e,a)),a.hidden&&a.show(),a.hidden||(c.activeItem=a),Ext.resumeLayouts(!0)):c.activeItem=a,a.fireEvent("activate",a,e),c.activeItem):!1}}),Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,isItemShrinkWrap:function(){return!0},getItemSizePolicy:function(a,b){return a.columnWidth&&(b||(b=this.owner.getSizeModel()),!b.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(a,b){var c,d,e,f,g,h,i=this,j=a.targetContext,k=a.childItems,l=k.length,m=0,n=b.gotWidth;if(n===!1)j.domBlock(i,"width"),c=!0;else{if(!n)return!0;d=b.width}for(e=0;l>e;++e)f=k[e],g=f.getMarginInfo().width,f.widthModel.calculated||(h=f.getProp("width"),"number"!=typeof h&&(f.block(i,"width"),c=!0),m+=h+g);if(!c){for(d=m>d?0:d-m,e=0;l>e;++e)f=k[e],f.widthModel.calculated&&(g=f.marginInfo.width,h=f.target.columnWidth,h=Math.floor(h*d)-g,h=f.setWidth(h),m+=h+g);a.setContentWidth(m+a.paddingContext.getPaddingInfo().width)}return!c},setCtSizeIfNeeded:function(a,b){var c=this,d=a.paddingContext.getPaddingInfo();c.callParent(arguments),(Ext.isIEQuirks||Ext.isIE7m)&&c.isShrinkWrapTpl&&d.right&&a.outerCtContext.setProp("width",b.width+d.left)}}),Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:!0,manageOverflow:!0,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var a=this.callParent();return a.tableCls=this.tableCls,a},calculate:function(a){var b,c,d,e=this,f=e.getContainerSize(a,!0),g=0,h=a.sizeModel.height.shrinkWrap;if(h&&(a.hasDomProp("containerChildrenSizeDone")?a.setProp("contentHeight",e.formTable.dom.offsetHeight+a.targetContext.getPaddingInfo().height):e.done=!1),f.gotWidth)for(b=e.formTable.dom.offsetWidth,c=a.childItems,d=c.length;d>g;++g)c[g].setWidth(b,!1);else e.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var a,b,c=this,d=c.callParent(arguments);for(a=0,b=d.length;b>a;a++)d[a]=c.transformItemRenderTree(d[a]);return d},transformItemRenderTree:function(a){return a.tag&&"table"==a.tag?(a.tag="tbody",delete a.cellspacing,delete a.cellpadding,Ext.isIE6&&(a.cn=this.padRow),a):{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:a}}}},isValidParent:function(){return!0},isItemShrinkWrap:function(a){return 2&(a.shrinkWrap===!0?3:a.shrinkWrap||0)},getItemSizePolicy:function(){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(a){var b=this.overflowPadderEl;b&&b.setStyle("display","none"),a.state.overflowAdjust||(a.state.overflowAdjust=this.lastOverflowAdjust)},calculateOverflow:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=a.targetContext,s=q.manageOverflow,t=a.state,u=t.overflowAdjust;!s||t.secondPass||q.reserveScrollbar||(o="auto"===q.getOverflowXStyle(a),p="auto"===q.getOverflowYStyle(a),b.gotWidth||(o=!1),b.gotHeight||(p=!1),(o||p)&&(i=Ext.getScrollbarSize(),j=a.peek("contentWidth"),k=a.peek("contentHeight"),g=r.getPaddingInfo(),j-=g.width,k-=g.height,l=b.width,m=b.height,n=q.getScrollbarsNeeded(l,m,j,k),t.overflowState=n,"number"==typeof c&&(n&=~c),u={width:o&&2&n?i.width:0,height:p&&1&n?i.height:0},(u.width!==q.lastOverflowAdjust.width||u.height!==q.lastOverflowAdjust.height)&&(q.done=!1,a.invalidate({state:{overflowAdjust:u,overflowState:t.overflowState,secondPass:!0}})))),q.done&&(f=a.padElContext||(a.padElContext=a.getEl("overflowPadderEl",q)),f&&(n=t.overflowState,d=a.peek("contentWidth"),e=1,n?(g=r.getPaddingInfo(),h=q.scrollRangeFlags,2&n&&1&h&&(e+=g.bottom),1&n&&4&h&&(d+=g.right),f.setProp("display",""),f.setSize(d,e)):f.setProp("display","none")))},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadder:function(a,b){var c=b.$layout,d=c.owner,e=c.getScrollRangeFlags();c.manageOverflow&&5&e&&(a.push('<div id="',d.id,'-overflowPadderEl" ','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999'),a.push('"></div>'),c.scrollRangeFlags=e)},getContainerSize:function(a,b,c){var d,e,f,g,h=a.targetContext,i=h.getFrameInfo(),j=h.getPaddingInfo(),k=0,l=0,m=c?null:a.state.overflowAdjust;return a.widthModel.shrinkWrap||(++l,f=b?h.getDomProp("width"):h.getProp("width"),d="number"==typeof f,d&&(++k,f-=i.width+j.width,m&&(f-=m.width))),a.heightModel.shrinkWrap||(++l,g=b?h.getDomProp("height"):h.getProp("height"),e="number"==typeof g,e&&(++k,g-=i.height+j.height,m&&(g-=m.height))),{width:f,height:g,needed:l,got:k,gotAll:k==l,gotWidth:d,gotHeight:e}},getOverflowXStyle:function(a){var b=this;return b.overflowXStyle||(b.overflowXStyle=b.owner.scrollFlags.overflowX||a.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){var b=this;return b.overflowYStyle||(b.overflowYStyle=b.owner.scrollFlags.overflowY||a.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:function(){var a=-1;return function(){if(0>a){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),c=b.dom.scrollHeight,d=b.dom.scrollWidth,e={175:0,165:1,170:2,160:3},f={175:0,165:4,170:8,160:12};a=(e[c]||0)|(f[d]||0),b.remove()}return a}}(),initLayout:function(){var a=this,b=Ext.getScrollbarSize().width;a.callParent(),b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")&&(a.owner.scrollFlags.y||a.reserveScrollbar)&&(a.lastOverflowAdjust={width:b,height:0})},setupRenderTpl:function(a){this.callParent(arguments),a.renderPadder=this.doRenderPadder}}),Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",mixins:{queryable:"Ext.Queryable"},activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){var a=this;!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()&&(a.el.addCls(a.activeCls),a.focus(),a.activated=!0,a.fireEvent("activate",a))},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;a.activated&&(a.el.removeCls(a.activeCls),a.blur(),a.hideMenu(),a.activated=!1,a.fireEvent("deactivate",a))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(a=this.up(":not([hidden])"),a&&a.focus())},expandMenu:function(a){var b=this;b.menu&&(b.cancelDeferHide(),0===a?b.doExpandMenu():(clearTimeout(b.expandMenuTimer),b.expandMenuTimer=Ext.defer(b.doExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)))},doExpandMenu:function(){var a=this,b=a.menu;!a.activated||b.rendered&&b.isVisible()||(a.parentMenu.activeChild=b,b.parentItem=a,b.parentMenu=a.parentMenu,b.showBy(a,a.menuAlign))},getRefItems:function(a){var b,c=this.menu;return c&&(b=c.getRefItems(a),b.unshift(c)),b||[]},hideMenu:function(a){var b=this;b.menu&&(clearTimeout(b.expandMenuTimer),b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b))},initComponent:function(){var a,b=this,c=Ext.baseCSSPrefix,d=[c+"menu-item"];b.addEvents("activate","click","deactivate","textchange","iconchange"),b.plain&&d.push(c+"menu-item-plain"),b.cls&&d.push(b.cls),b.cls=d.join(" "),b.menu&&(a=b.menu,delete b.menu,b.setMenu(a)),b.callParent(arguments)},onClick:function(a){var b=this,c=b.clickHideDelay;b.href||a.stopEvent(),b.disabled||(b.hideOnClick&&(c?b.deferHideParentMenusTimer=Ext.defer(b.deferHideParentMenus,c,b):b.deferHideParentMenus()),Ext.callback(b.handler,b.scope||b,[b,a]),b.fireEvent("click",b,a),b.hideOnClick||b.focus())},onRemoved:function(){var a=this;a.activated&&a.parentMenu.activeItem===a&&a.parentMenu.deactivateActiveItem(),a.callParent(arguments),a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;a.rendered&&a.clearTip(),a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer),a.cancelDeferHide(),clearTimeout(a.deferHideParentMenusTimer),a.setMenu(null),a.callParent(arguments)},beforeRender:function(){var a,b,c,d=this,e=Ext.BLANK_IMAGE_URL,f=d.glyph,g=Ext._glyphFontFamily;d.callParent(),"right"===d.iconAlign?(b=d.checkChangeDisabled?d.disabledCls:"",c=Ext.baseCSSPrefix+"menu-item-icon-right "+d.iconCls):(b=(d.iconCls||"")+(d.checkChangeDisabled?" "+d.disabledCls:""),c=d.menu?d.arrowCls:""),"string"==typeof f&&(a=f.split("@"),f=a[0],g=a[1]),Ext.applyIf(d.renderData,{href:d.href||"#",hrefTarget:d.hrefTarget,icon:d.icon,iconCls:b,glyph:f,glyphCls:f?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:g,hasIcon:!!(d.icon||d.iconCls||f),iconAlign:d.iconAlign,plain:d.plain,text:d.text,arrowCls:c,blank:e,tabIndex:d.tabIndex})},onRender:function(){var a=this;a.callParent(arguments),a.tooltip&&a.setTooltip(a.tooltip,!0)},setMenu:function(a,b){var c=this,d=c.menu,e=c.arrowEl;d&&(delete d.parentItem,delete d.parentMenu,delete d.ownerItem,(b===!0||b!==!1&&c.destroyMenu)&&Ext.destroy(d)),a?(c.menu=Ext.menu.Manager.get(a),c.menu.ownerItem=c):c.menu=null,c.rendered&&!c.destroying&&e&&e[c.menu?"addCls":"removeCls"](c.arrowCls)},setHandler:function(a,b){this.handler=a||null,this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;b&&(b.src=a||Ext.BLANK_IMAGE_URL),this.icon=a,this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var b=this,c=b.iconEl,d=b.iconCls;c&&(b.iconCls&&c.removeCls(b.iconCls),a&&c.addCls(a)),b.iconCls=a,b.fireEvent("iconchange",b,d,a)},setText:function(a){var b=this,c=b.textEl||b.el,d=b.text;b.text=a,b.rendered&&(c.update(a||""),b.ownerCt.updateLayout()),b.fireEvent("textchange",b,d,a)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(a,b){var c=this;return c.rendered?(b||c.clearTip(),Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:c.itemEl.id},a)),c.tooltip=a):c.itemEl.dom.setAttribute(c.getTipAttr(),a)):c.tooltip=a,c}}),Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var a=this;a.checked=!!a.checked,a.addEvents("beforecheckchange","checkchange"),a.callParent(arguments),Ext.menu.Manager.registerCheckable(a),a.group&&(a.showCheckbox=!1,a.iconCls||a.icon||a.glyph||(a.iconCls=a.groupCls),a.initialConfig.hideOnClick!==!1&&(a.hideOnClick=!0))},beforeRender:function(){this.callParent(),this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var a=this;a.callParent(),a.checked=!a.checked,a.setChecked(!a.checked,!0),a.checkChangeDisabled&&a.disableCheckChange()},disableCheckChange:function(){var a=this,b=a.checkEl;b&&b.addCls(a.disabledCls),Ext.isIE10p||Ext.isIE9&&Ext.isStrict||!a.rendered||a.el.repaint(),a.checkChangeDisabled=!0},enableCheckChange:function(){var a=this,b=a.checkEl;b&&b.removeCls(a.disabledCls),a.checkChangeDisabled=!1},onClick:function(a){var b=this;b.disabled||b.checkChangeDisabled||b.checked&&b.group||b.setChecked(!b.checked),this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(a,b){var c=this;c.checked===a||!b&&c.fireEvent("beforecheckchange",c,a)===!1||(c.el&&c.el[a?"addCls":"removeCls"](c.checkedCls)[a?"removeCls":"addCls"](c.uncheckedCls),c.checked=a,Ext.menu.Manager.onCheckChange(c,a),b||(Ext.callback(c.checkHandler,c.scope,[c,a]),c.fireEvent("checkchange",c,a)))}}),Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(a){var b=this;b.menu=a.target,b.callParent([Ext.apply({down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up},a)])},down:function(a){var b=this,c=b.menu.focusedItem;return c&&a.getKey()==Ext.EventObject.DOWN&&b.isWhitelisted(c)?!0:void b.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem)b.onClick(a);else if(c&&c.isFormField)return!0},escape:function(){Ext.menu.Manager.hideAll()},focusNextItem:function(a){for(var b,c=this.menu,d=c.items,e=c.focusedItem,f=e?d.indexOf(e):-1,g=f+a,h=d.length,i=0;h>i&&g!==f;){if(0>g?g=h-1:g>=h&&(g=0),b=d.getAt(g),c.canActivateItem(b)){c.setActiveItem(b);break}g+=a,++i}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(){var a=this.menu,b=a.focusedItem;return b&&this.isWhitelisted(b)?!0:(a.hide(),void(a.parentMenu&&a.parentMenu.focus()))},right:function(){var a,b=this.menu,c=b.focusedItem,d=b.activeItem;return c&&this.isWhitelisted(c)?!0:void(d&&(a=b.activeItem.menu,a&&(d.expandMenu(0),a.setActiveItem(a.child(":focusable")))))},tab:function(a){var b=this;a.shiftKey?b.up(a):b.down(a)},up:function(a){var b=this,c=b.menu.focusedItem;return c&&a.getKey()==Ext.EventObject.UP&&b.isWhitelisted(c)?!0:void b.focusNextItem(-1)}}),Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(){var a=this;a.callParent(),a.addCls(a.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu"],d=a.bodyCls?[a.bodyCls]:[],e=a.floating!==!1;a.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(a),a.plain&&c.push(b+"menu-plain"),a.cls=c.join(" "),d.push(b+"menu-body",Ext.dom.Element.unselectableCls),a.bodyCls=d.join(" "),a.layout||(a.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),e?void 0===a.minWidth&&(a.minWidth=a.defaultMinWidth):(a.hidden=!!a.initialConfig.hidden,a.constrain=!1),a.callParent(arguments)},registerWithOwnerCt:function(){this.floating&&(this.ownerCt=null,Ext.WindowManager.register(this))},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var a=this.callParent();return a.hidden=this.hidden,a},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var a=this;a.callParent(arguments),a.showSeparator&&(a.iconSepEl=a.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})),a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a}),a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a),a.enableKeyNav&&(a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()}))},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(a){var b=this,c=b.activeItem,d=b.focusedItem;c&&(c.deactivate(),c.activated||delete b.activeItem),d&&a&&(d.blur(),delete b.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;return"string"==typeof a?a=b.lookupItemFromString(a):Ext.isObject(a)&&(a=b.lookupItemFromObject(a)),a.minWidth=a.minWidth||b.minWidth,a},lookupItemFromObject:function(a){var b,c=this,d=Ext.baseCSSPrefix;return a.isComponent||(a=a.xtype?Ext.ComponentManager.create(a,a.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a)),a.isMenuItem&&(a.parentMenu=c),a.isMenuItem||a.dock||(b=[d+"menu-item-cmp"],c.plain||a.indent===!1&&"no-icon"!==a.iconCls||b.push(d+"menu-item-indent"),a.rendered?a.el.addCls(b):a.cls=(a.cls||"")+" "+b.join(" ")),a},lookupItemFromString:function(a){return"separator"==a||"-"==a?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},onClick:function(a){var b,c=this;return c.disabled?void a.stopEvent():(b="click"===a.type?c.getItemFromEvent(a):c.activeItem,b&&b.isMenuItem&&(b.menu&&c.ignoreParentClicks?a.stopEvent():b.onClick(a)),(!b||b.disabled)&&(b=void 0),void c.fireEvent("click",c,b,a))},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a),a.parentMenu=a.ownerButton=null,a.rendered&&(a.el.un(a.mouseMonitor),Ext.destroy(a.keyNav),a.keyNav=null),a.callParent(arguments)},onMouseLeave:function(a){var b=this;b.deactivateActiveItem(),b.disabled||b.fireEvent("mouseleave",b,a)},onMouseOver:function(a){var b=this,c=a.getRelatedTarget(),d=!b.el.contains(c),e=b.getItemFromEvent(a),f=b.parentMenu,g=b.parentItem;d&&f&&(f.setActiveItem(g),g.cancelDeferHide(),f.mouseMonitor.mouseenter()),b.disabled||(e&&!e.activated&&(b.setActiveItem(e),e.activated&&e.expandMenu&&e.expandMenu()),d&&b.fireEvent("mouseenter",b,a),b.fireEvent("mouseover",b,e,a))},setActiveItem:function(a){var b=this;a&&a!=b.activeItem&&(b.deactivateActiveItem(),b.canActivateItem(a)&&(a.activate?(a.activate(),a.activated&&(b.activeItem=a,b.focusedItem=a,b.focus())):(a.focus(),b.focusedItem=a)),a.el.scrollIntoView(b.layout.getRenderTarget()))},showBy:function(){var a=this;return a.callParent(arguments),a.hidden||a.setVerticalPosition(),a},beforeShow:function(){var a,b=this;b.floating&&(b.savedMaxHeight=b.maxHeight,a=b.container.getViewSize().height,b.maxHeight=Math.min(b.maxHeight||a,a)),b.callParent(arguments)},afterShow:function(){var a=this;a.callParent(arguments),a.floating&&(a.maxHeight=a.savedMaxHeight)},setVerticalPosition:function(){var a,b=this,c=b.getY(),d=c,e=b.getHeight(),f=Ext.Element.getViewportHeight().height,g=b.el.parent(),h=g.getViewSize().height,i=c-g.getScroll().top;g=null,b.floating&&(a=b.maxHeight?b.maxHeight:h-i,e>h?d=c-i:e>a?d=c-(e-a):c+e>f&&(d=f-e)),b.setY(d)}}),Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:!0,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners,Ext.apply(a,{plain:!0,showSeparator:!1,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:a.pickerId,xtype:"colorpicker"},b)}),a.callParent(arguments),a.picker=a.down("colorpicker"),a.relayEvents(a.picker,["select"]),a.hideOnClick&&a.on("select",a.hidePickerOnSelect,a)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:!0,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners,Ext.apply(a,{showSeparator:!1,plain:!0,border:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:a.pickerId,xtype:"datepicker"},b)}),a.callParent(arguments),a.picker=a.down("datepicker"),a.relayEvents(a.picker,["select"]),a.hideOnClick&&a.on("select",a.hidePickerOnSelect,a)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){var a=this;a.addEvents("click"),a.type=a.type||a.id,Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type}),a.tooltip=a.tooltip||a.qtip,a.callParent()},afterRender:function(){var a,b=this;b.callParent(arguments),b.el.on({click:b.onClick,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,scope:b}),b.tooltip&&(Ext.quickTipsActive&&Ext.isObject(b.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:b.id},b.tooltip)):(a="qtip"==b.tooltipType?"data-qtip":"title",b.el.dom.setAttribute(a,b.tooltip)))},getFocusEl:function(){return this.el},setType:function(a){var b=this,c=b.type;return b.type=a,b.rendered?(c&&b.toolEl.removeCls(b.baseCls+"-"+c),b.toolEl.addCls(b.baseCls+"-"+a)):b.renderData.type=a,b},onClick:function(a,b){var c=this;return c.disabled?!1:(c.el.removeCls(c.toolPressedCls),c.el.removeCls(c.toolOverCls),c.stopEvent!==!1&&a.stopEvent(),c.handler?Ext.callback(c.handler,c.scope||c,[a,b,c.ownerCt,c]):c.callback&&Ext.callback(c.callback,c.scope||c,[c.toolOwner||c.ownerCt,c,a]),c.fireEvent("click",c,a),!0)},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(){return this.disabled?!1:void this.el.addCls(this.toolPressedCls)},onMouseOver:function(){return this.disabled?!1:void this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"}),a.unselectable(),a.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(":not([hidden])")},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(":not([hidden])")},onBeforeStart:function(a){var b,c=this,d=c.getPrevCmp(),e=c.getNextCmp(),f=c.getSplitter().collapseEl,g=a.getTarget();return d&&e?f&&g===c.getSplitter().collapseEl.dom?!1:e.collapsed||d.collapsed?!1:(c.prevBox=d.getEl().getBox(),c.nextBox=e.getEl().getBox(),c.constrainTo=b=c.calculateConstrainRegion(),b?b:!1):!1},onStart:function(){var a=this.getSplitter();this.createDragOverlay(),a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var a,b,c,d=this,e=d.getSplitter(),f=e.getWidth(),g=e.defaultSplitMin,h=e.orientation,i=d.prevBox,j=d.getPrevCmp(),k=d.nextBox,l=d.getNextCmp();return"vertical"===h?(c={prevCmp:j,nextCmp:l,prevBox:i,nextBox:k,defaultMin:g,splitWidth:f},a=new Ext.util.Region(i.y,d.getVertPrevConstrainRight(c),i.bottom,d.getVertPrevConstrainLeft(c)),b=new Ext.util.Region(k.y,d.getVertNextConstrainRight(c),k.bottom,d.getVertNextConstrainLeft(c))):(a=new Ext.util.Region(i.y+(j.minHeight||g),i.right,(j.maxHeight?i.y+j.maxHeight:k.bottom-(l.minHeight||g))+f,i.x),b=new Ext.util.Region((l.maxHeight?k.bottom-l.maxHeight:i.y+(j.minHeight||g))-f,k.right,k.bottom-(l.minHeight||g),k.x)),a.intersect(b)},performResize:function(a,b){for(var c,d,e=this,f=e.getSplitter(),g=f.orientation,h=e.getPrevCmp(),i=e.getNextCmp(),j=f.ownerCt,k=j.query(">[flex]"),l=k.length,m="vertical"===g,n=0,o=m?"width":"height",p=0;l>n;n++)c=k[n],d=m?c.getWidth():c.getHeight(),p+=d,c.flex=d;b=m?b[0]:b[1],h&&(d=e.prevBox[o]+b,h.flex?h.flex=d:h[o]=d),i&&(d=e.nextBox[o]-b,i.flex?i.flex=d:i[o]=d),j.updateLayout()},endDrag:function(){var a=this;a.overlay&&(a.overlay.remove(),delete a.overlay),a.callParent(arguments)},onEnd:function(a){var b=this,c=b.getSplitter();c.removeCls(c.baseCls+"-active"),b.performResize(a,b.getResizeOffset())},onDrag:function(){var a=this,b=a.getOffset("dragTarget"),c=a.getSplitter(),d=c.getEl(),e=c.orientation;"vertical"===e?d.setX(a.startRegion.left+b[0]):d.setY(a.startRegion.top+b[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a,b,c,d,e,f,g,h=this,i=h.splitter,j=i.collapseTarget,k=i.defaultSplitMin,l=i.vertical?"Width":"Height",m="min"+l,n="max"+l,o="get"+l,p=i.neighbors,q=p.length,r=j.el.getBox(),s=r.x,t=r.y,u=r.right,v=r.bottom,w=i.vertical?u-s:v-t;for(c=(j[m]||Math.min(w,k))-w,d=j[n],d?d-=w:d=1e9,g=w,a=0;q>a;++a)b=p[a],w=b[o](),e=w-b[n],f=w-(b[m]||Math.min(w,k)),isNaN(e)||e>c&&(c=e),d>f&&(d=f);return 2>d-c?null:(r=new Ext.util.Region(t,u,v,s),h.constraintAdjusters[h.getCollapseDirection()](r,c,d,i),h.dragInfo={minRange:c,maxRange:d,targetSize:g},r)},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b,a.right+=c+d.getWidth()
},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b,a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b,a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b,a[0]=a.x=a.left=a.x-c+d.getWidth()}},onBeforeStart:function(a){var b,c,d=this,e=d.splitter,f=e.collapseTarget,g=e.neighbors,h=d.getSplitter().collapseEl,i=a.getTarget(),j=g.length;if(h&&i===e.collapseEl.dom)return!1;if(f.collapsed)return!1;for(b=0;j>b;++b)if(c=g[b],c.collapsed&&c.isHorz===f.isHorz)return!1;return(d.constrainTo=d.calculateConstrainRegion())?!0:!1},performResize:function(a,b){var c,d=this,e=d.splitter,f=e.getCollapseDirection(),g=e.collapseTarget,h=d.splitAdjusters[e.vertical?"horz":"vert"],i=b[h.index],j=d.dragInfo;("right"==f||"bottom"==f)&&(i=-i),i=Math.min(Math.max(j.minRange,i),j.maxRange),i&&((c=e.ownerCt).suspendLayouts(),h.adjustTarget(g,j.targetSize,i),c.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null,a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null,a.setSize(void 0,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}}),Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var a=this;a.callParent(),a.protoEl.unselectable(),a.addCls(a.baseHandleCls,a.baseHandleCls+"-"+a.region,a.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b,c,d,e=this;a.el||(e.el=a.target.isComponent?a.target.getEl():a.target),this.callParent(arguments),e.preserveRatio&&e.minWidth&&e.minHeight&&(b=e.minWidth/e.el.getWidth(),c=e.minHeight/e.el.getHeight(),c>b?e.minWidth=e.el.getWidth()*c:e.minHeight=e.el.getHeight()*b),e.throttle&&(d=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(e,arguments)},e.throttle),e.resize=function(a,b,c){c?Ext.resizer.ResizeTracker.prototype.resize.apply(e,arguments):d.apply(null,arguments)})},onBeforeStart:function(){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this,b=a.target;return a.dynamic?b:(a.proxy||(a.proxy=a.createProxy(b)),a.proxy.show(),a.proxy)},createProxy:function(a){var b,c=this.proxyCls;return b=a.isComponent?a.getProxy().addCls(c):a.createProxy({tag:"div",cls:c,id:a.id+"-rzproxy"},Ext.getBody()),b.removeCls(Ext.baseCSSPrefix+"proxy-el"),b},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=l.activeResizeHandle.region,n=l.getOffset(l.constrainTo?"dragTarget":null),o=l.startBox,p=0,q=0,r=0,s=0,t=n[0]<0?"right":"left",u=n[1]<0?"down":"up";switch(m=l.convertRegionName(m)){case"south":q=n[1],h=2;break;case"north":q=-n[1],s=-q,h=2;break;case"east":p=n[0],h=1;break;case"west":p=-n[0],r=-p,h=1;break;case"northeast":q=-n[1],s=-q,p=n[0],g=[o.x,o.y+o.height],h=3;break;case"southeast":q=n[1],p=n[0],g=[o.x,o.y],h=3;break;case"southwest":p=-n[0],r=-p,q=n[1],g=[o.x+o.width,o.y],h=3;break;case"northwest":q=-n[1],s=-q,p=-n[0],r=-p,g=[o.x+o.width,o.y+o.height],h=3}if(i={width:o.width+p,height:o.height+q,x:o.x+r,y:o.y+s},d=Ext.Number.snap(i.width,l.widthIncrement),e=Ext.Number.snap(i.height,l.heightIncrement),d!=i.width||e!=i.height){switch(m){case"northeast":i.y-=e-i.height;break;case"north":i.y-=e-i.height;break;case"southwest":i.x-=d-i.width;break;case"west":i.x-=d-i.width;break;case"northwest":i.x-=d-i.width,i.y-=e-i.height}i.width=d,i.height=e}i.width<l.minWidth||i.width>l.maxWidth?(i.width=Ext.Number.constrain(i.width,l.minWidth,l.maxWidth),r&&(i.x=o.x+(o.width-i.width))):l.lastX=i.x,i.height<l.minHeight||i.height>l.maxHeight?(i.height=Ext.Number.constrain(i.height,l.minHeight,l.maxHeight),s&&(i.y=o.y+(o.height-i.height))):l.lastY=i.y,(l.preserveRatio||a.shiftKey)&&(c=l.startBox.width/l.startBox.height,j=Math.min(Math.max(l.minHeight,i.width/c),l.maxHeight),k=Math.min(Math.max(l.minWidth,i.height*c),l.maxWidth),1==h?i.height=j:2==h?i.width=k:(f=Math.abs(g[0]-this.lastXY[0])/Math.abs(g[1]-this.lastXY[1]),f>c?i.height=j:i.width=k,"northeast"==m?i.y=o.y-(i.height-o.height):"northwest"==m?(i.y=o.y-(i.height-o.height),i.x=o.x-(i.width-o.width)):"southwest"==m&&(i.x=o.x-(i.width-o.width)))),0===q&&(u="none"),0===p&&(t="none"),l.resize(i,{horizontal:t,vertical:u},b)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(a,b,c){var d=this,e=d.getResizeTarget(c);e.setBox(a),d.originalTarget&&(d.dynamic||c)&&d.originalTarget.setBox(a)},onEnd:function(a){this.updateDimensions(a,!0),this.proxy&&this.proxy.hide()},convertRegionName:function(a){return a}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.handles,o=0,p=[],q=Ext.dom.Element.unselectableCls;for(m.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(a)||Ext.isElement(a)||a.dom)&&(b=a,a=arguments[1]||{},a.target=b),m.mixins.observable.constructor.call(m,a),b=m.target,b?b.isComponent?(b.addClsWithUI("resizable"),m.el=b.getEl(),b.minWidth&&(m.minWidth=b.minWidth),b.minHeight&&(m.minHeight=b.minHeight),b.maxWidth&&(m.maxWidth=b.maxWidth),b.maxHeight&&(m.maxHeight=b.maxHeight),b.floating&&(m.hasOwnProperty("handles")||(m.handles="n ne e se s sw w nw"))):m.el=m.target=Ext.get(b):m.target=m.el=Ext.get(m.el),d=m.el.dom.tagName.toUpperCase(),("TEXTAREA"==d||"IMG"==d||"TABLE"==d)&&(m.originalTarget=m.target,c=m.el,k=c.getBox(),m.target=m.el=m.el.wrap({cls:m.wrapCls,id:m.el.id+"-rzwrap",style:c.getStyles("margin-top","margin-bottom")}),m.el.setPositioning(c.getPositioning()),c.clearPositioning(),m.el.setBox(k),c.setStyle("position","absolute")),m.el.position(),m.pinned&&m.el.addCls(m.pinnedCls),m.resizeTracker=new Ext.resizer.ResizeTracker({disabled:m.disabled,target:m.target,constrainTo:m.constrainTo,overCls:m.overCls,throttle:m.throttle,originalTarget:m.originalTarget,delegate:"."+m.handleCls,dynamic:m.dynamic,preserveRatio:m.preserveRatio,heightIncrement:m.heightIncrement,widthIncrement:m.widthIncrement,minHeight:m.minHeight,maxHeight:m.maxHeight,minWidth:m.minWidth,maxWidth:m.maxWidth}),m.resizeTracker.on({mousedown:m.onBeforeResize,drag:m.onResize,dragend:m.onResizeEnd,scope:m}),"all"==m.handles&&(m.handles="n s e w ne nw se sw"),n=m.handles=m.handles.split(m.delimiterRe),f=m.possiblePositions,g=n.length,e=m.handleCls+" "+m.handleCls+"-{0}",m.target.isComponent&&(l=m.target.baseCls,e+=" "+l+"-handle "+l+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(e+=" "+l+"-handle-{0}-br")),i=Ext.isIE6?' style="height:'+m.el.getHeight()+'px"':"";g>o;o++)n[o]&&f[n[o]]&&(h=f[n[o]],j="east"===h||"west"===h?i:"",p.push('<div id="',m.el.id,"-",h,'-handle"',' class="',Ext.String.format(e,h)," ",q,'"',' unselectable="on"',j,"></div>"));for(Ext.DomHelper.append(m.el,p.join("")),o=0;g>o;o++)n[o]&&f[n[o]]&&(h=f[n[o]],m[h]=m.el.getById(m.el.id+"-"+h+"-handle"),m[h].region=h,m.transparent&&m[h].setOpacity(0));Ext.isNumber(m.width)&&(m.width=Ext.Number.constrain(m.width,m.minWidth,m.maxWidth)),Ext.isNumber(m.height)&&(m.height=Ext.Number.constrain(m.height,m.minHeight,m.maxHeight)),(null!==m.width||null!==m.height)&&(m.originalTarget&&(m.originalTarget.setWidth(m.width),m.originalTarget.setHeight(m.height)),m.resizeTo(m.width,m.height)),m.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){var c=this.el.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,b)},onResize:function(a,b){var c=this,d=c.el.getBox();return c.forceHandlesHeight(),c.fireEvent("resizedrag",c,d.width,d.height,b)},onResizeEnd:function(a,b){var c=this,d=c.el.getBox();return c.forceHandlesHeight(),c.fireEvent("resize",c,d.width,d.height,b)},resizeTo:function(a,b){var c=this;c.target.setSize(a,b),c.fireEvent("resize",c,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a,b,c=this,d=c.handles,e=d.length,f=c.possiblePositions;for(c.resizeTracker.destroy(),a=0;e>a;a++)(b=c[f[d[a]]])&&b.remove()},forceHandlesHeight:function(){var a,b=this;Ext.isIE6&&(a=b.east,a&&a.setHeight(b.el.getHeight()),a=b.west,a&&a.setHeight(b.el.getHeight()),b.el.repaint())}}),Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.grid.CellContext","Ext.util.KeyNav"],isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(a){var b=this,c=a.ownerCt;b.primaryView=a,b.views=b.views||[],b.views.push(a),b.bindStore(a.getStore(),!0),a.on({cellmousedown:b.onMouseDown,refresh:b.onViewRefresh,scope:b}),c.optimizedColumnMove!==!1&&c.on("columnmove",b.onColumnMove,b),b.enableKeyNav&&b.initKeyNav(a)},initKeyNav:function(a){var b=this;return a.rendered?(a.el.set({tabIndex:-1}),void(b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:!0,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,tab:b.onKeyTab,scope:b}))):void a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:!0})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a){this.doMove("up",a)},onKeyDown:function(a){this.doMove("down",a)},onKeyLeft:function(a){this.doMove("left",a)},onKeyRight:function(a){this.doMove("right",a)},doMove:function(a,b){this.keyNavigation=!0,this.move(a,b),this.keyNavigation=!1},onVetoUIEvent:Ext.emptyFn,select:function(a,b,c){var d,e=this,f=e.getCurrentPosition(),g=e.view.store;(a||0===a)&&(a.isModel?(d=g.indexOf(a),a=-1!==d?{row:d,column:f?f.column:0}:null):"number"==typeof a&&(a={row:a,column:0})),a?e.selectByPosition(a,c):e.deselect()},deselect:function(a,b){this.selectByPosition(null,b)},move:function(a,b){var c,d=this,e=d.getCurrentPosition();return e&&(c=e.view.walkCells(e,a,b,d.preventWrap))?(c.view=e.view,d.setCurrentPosition(c)):void 0},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(a,b){var c=this,d=c.selection;return c.lastSelection=d,d&&(a&&a.record===d.record&&a.columnHeader===d.columnHeader&&a.view===d.view?a=null:c.onCellDeselect(c.selection,b)),a?(c.nextSelection=new Ext.grid.CellContext(c.primaryView).setPosition(a),c.selecting=!0,c.onCellSelect(c.nextSelection,b),c.selecting=!1,c.selection=c.nextSelection):void 0},isCellSelected:function(a,b,c){var d,e=this,f=e.getCurrentPosition();return f&&f.view===a?(d=new Ext.grid.CellContext(a).setPosition({row:b,column:c}),d.record===f.record&&d.columnHeader===f.columnHeader):void 0},onStoreRemove:function(a,b,c){var d,e,f=this,g=f.getCurrentPosition(),h=b.length,i=0;if(f.callParent(arguments),g){if(c[0]>g.row)return;for(d=0;h>d&&(e=c[d],e<g.row);d++)i++;i&&g.setRow(g.row-i)}},onMouseDown:function(a,b,c,d,e,f){-1!==f&&this.setCurrentPosition({view:a,row:e,column:c})},onCellSelect:function(a,b){a&&void 0!==a.row&&a.row>-1&&this.doSelect(a.record,!1,b)},onCellDeselect:function(a,b){a&&void 0!==a.row&&this.doDeselect(a.record,b)},onSelectChange:function(a,b,c,d){var e,f,g,h=this;b?(e=h.nextSelection,f="select"):(e=h.lastSelection||h.noSelection,f="deselect"),g=e.view||h.primaryView,(c||h.fireEvent("before"+f,h,a,e.row,e.column))!==!1&&d()!==!1&&(b?(g.focusRow(a,!0),g.onCellSelect(e)):(g.onCellDeselect(e),delete h.selection),c||h.fireEvent(f,h,a,e.row,e.column))},onKeyTab:function(a){var b,c=this,d=c.getCurrentPosition();d&&(b=d.view.editingPlugin,b&&c.wasEditing?c.onEditorTab(b,a):c.move(a.shiftKey?"left":"right",a))},onEditorTab:function(a,b){var c=this,d=b.shiftKey?"left":"right",e=c.move(d,b);e&&(c.wasEditing=a.startEdit(e.record,e.columnHeader)?!1:!0)},refresh:function(){var a,b=this.getCurrentPosition();b&&-1!==(a=this.store.indexOf(this.selected.last()))&&(b.row=a)},onColumnMove:function(a){var b=a.up("tablepanel");b&&this.onViewRefresh(b.view)},onUpdate:function(a){var b,c=this;c.isSelected(a)&&(b=c.selecting?c.nextSelection:c.selection,c.view.onCellSelect(b))},onViewRefresh:function(a){var b,c,d=this,e=d.getCurrentPosition(),f=a.headerCt;e&&e.view===a&&(b=e.record,c=e.columnHeader,c.isDescendantOf(f)||(c=f.queryById(c.id)||f.down('[text="'+c.text+'"]')||f.down('[dataIndex="'+c.dataIndex+'"]')),c&&-1!==a.store.indexOfId(b.getId())&&d.setCurrentPosition({row:b,column:c,view:a}))},selectByPosition:function(a,b){this.setCurrentPosition(a,b)}}),Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(a){var b=this;a.on({itemmousedown:b.onRowMouseDown,itemclick:b.onRowClick,scope:b}),b.enableKeyNav&&b.initKeyNav(a)},initKeyNav:function(a){var b=this;return a.rendered?(a.el.set({tabIndex:-1}),void(b.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(a,b,c,d,e){return e.record=b,e.recordIndex=d,e},up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,scope:b}))):void a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:!0})},onUpdate:function(a){var b,c=this,d=c.view;d&&c.isSelected(a)&&(b=d.indexOf(a),d.onRowSelect(b),a===c.lastFocused&&d.onRowFocus(b,!0))},getRowsVisible:function(){var a,b,c=!1,d=this.views[0],e=d.all.first();return e&&(a=e.getHeight(),b=d.el.getHeight(),c=Math.floor(b/a)),c},onKeyEnd:function(a){var b=this,c=b.views[0];c.bufferedRenderer?c.bufferedRenderer.scrollTo(b.store.getCount()-1,!1,function(c,d){b.afterKeyNavigate(a,d)}):b.afterKeyNavigate(a,c.getRecord(c.all.getCount()-1))},onKeyHome:function(a){var b=this,c=b.views[0];c.bufferedRenderer?c.bufferedRenderer.scrollTo(0,!1,function(c,d){b.afterKeyNavigate(a,d)}):b.afterKeyNavigate(a,c.getRecord(0))},onKeyPageUp:function(a){var b,c,d=this,e=d.views[0],f=d.getRowsVisible();f&&(e.bufferedRenderer?(b=Math.max(a.recordIndex-f,0),(d.lastKeyEvent||(d.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent),e.bufferedRenderer.scrollTo(b,!1,d.afterBufferedScrollTo,d)):(c=e.walkRecs(a.record,-f),d.afterKeyNavigate(a,c)))},onKeyPageDown:function(a){var b,c,d=this,e=d.views[0],f=d.getRowsVisible();f&&(e.bufferedRenderer?(b=Math.min(a.recordIndex+f,d.store.getCount()-1),(d.lastKeyEvent||(d.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent),e.bufferedRenderer.scrollTo(b,!1,d.afterBufferedScrollTo,d)):(c=e.walkRecs(a.record,f),d.afterKeyNavigate(a,c)))},onKeySpace:function(a){var b=this.lastFocused;b&&this.afterKeyNavigate(a,b)},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this.views[0].walkRecs(a.record,-1);b&&this.afterKeyNavigate(a,b)},onKeyDown:function(a){var b=this.views[0].walkRecs(a.record,1);b&&this.afterKeyNavigate(a,b)},afterBufferedScrollTo:function(a,b){this.afterKeyNavigate(this.lastKeyEvent,b)},scrollByDeltaX:function(a){var b=this.views[0],c=b.up(),d=c.horizontalScroller;d&&d.scrollByDeltaX(a)},onKeyLeft:function(){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(a,b,c,d,e){var f=this;if(-1!==d){if(!f.allowRightMouseSelection(e))return;f.isSelected(b)?f.mousedownAction=!1:(f.mousedownAction=!0,f.processSelection(a,b,c,d,e))}},onVetoUIEvent:function(a,b,c,d,e,f,g){"mousedown"==a&&(this.mousedownAction=!this.isSelected(g))},onRowClick:function(a,b,c,d,e){this.mousedownAction?this.mousedownAction=!1:this.processSelection(a,b,c,d,e)},processSelection:function(a,b,c,d,e){this.selectWithEvent(b,e)},allowRightMouseSelection:function(a){var b=this.ignoreRightMouseSelection&&0!==a.button;return b&&(b=this.hasSelection()),!b},onSelectChange:function(a,b,c,d){var e=this,f=e.views,g=f.length,h=f[0].indexOf(a),i=b?"select":"deselect",j=0;if((c||e.fireEvent("before"+i,e,a,h))!==!1&&d()!==!1){for(;g>j;j++)b?f[j].onRowSelect(h,c):f[j].onRowDeselect(h,c);c||e.fireEvent(i,e,a,h)}},onLastFocusChanged:function(a,b,c){var d,e=this.views,f=e.length,g=0;if(a&&(d=e[0].indexOf(a),-1!=d))for(;f>g;g++)e[g].onRowFocus(d,!1,!0);if(b&&(d=e[0].indexOf(b),-1!=d))for(g=0;f>g;g++)e[g].onRowFocus(d,!0,c);this.callParent(arguments)},onEditorTab:function(a,b){var c=this,d=c.views[0],e=a.getActiveRecord(),f=a.getActiveColumn(),g=d.getPosition(e,f),h=b.shiftKey?"left":"right";do g=d.walkCells(g,h,b,c.preventWrap);while(g&&(!g.columnHeader.getEditor(e)||!a.startEditByPosition(g)))},getCurrentPosition:function(){var a=this.selected.items[0];return a?new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(a),0):void 0},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(a,b){var c,d=this,e=d.store,f=d.getSelection(),g=f[f.length-1],h=d.views[0].indexOf(g)+1;return h===e.getCount()||0===h?c=!1:(d.doSelect(h,a,b),c=!0),c},selectPrevious:function(a,b){var c,d=this,e=d.getSelection(),f=e[0],g=d.views[0].indexOf(f)-1;return 0>g?c=!1:(d.doSelect(g,a,b),c=!0),c},isRowSelected:function(a){return this.isSelected(a)}}),Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",constructor:function(){this.callParent(arguments),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(){var a=this;a.callParent(arguments),a.pruneRemovedNodes&&a.view.mon(a.treeStore,{remove:a.onNodeRemove,scope:a})},onNodeRemove:function(a,b,c){c||this.deselectDeletedRecords([b])},onKeyRight:function(a,b){this.navExpand(a,b)},navExpand:function(a,b){var c=this.getLastFocused(),d=this.view;c&&(c.isExpanded()?this.onKeyDown(a,b):c.isExpandable()&&(d.isTreeView||(d=d.lockingPartner),d.expand(c)))},onKeyLeft:function(a,b){this.navCollapse(a,b)},navCollapse:function(a){var b,c=this,d=this.getLastFocused(),e=this.view;d&&(b=d.parentNode,d.isExpanded()?(e.isTreeView||(e=e.lockingPartner),e.collapse(d)):b&&!b.isRoot()&&(a.shiftKey?(c.selectRange(b,d,a.ctrlKey,"up"),c.setLastFocused(b)):a.ctrlKey?c.setLastFocused(b):c.select(b)))},onKeySpace:function(a){null!=a.record.data.checked?this.toggleCheck(a):this.callParent(arguments)},onKeyEnter:function(a){null!=a.record.data.checked?this.toggleCheck(a):this.callParent(arguments)},toggleCheck:function(a){var b=this.view,c=this.getLastSelected();a.stopEvent(),c&&(b.isTreeView||(b=b.lockingPartner),b.onCheckChange(c))}}),Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:1e4,constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig()),a.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var a=this,b=a.slider,c={};return c[b.vertical?"bottom":b.horizontalProp]=b.calculateThumbPosition(b.normalizeValue(a.value))+"%",{style:c,id:this.id,cls:this.cls}},move:function(a,b){var c,d,e=this,f=e.el,g=e.slider,h=g.vertical?"bottom":g.horizontalProp;a+="%",b?(c={},c[h]=a,Ext.supports.GetPositionPercentage||(d={},d[h]=f.dom.style[h]),new Ext.fx.Anim({target:f,duration:350,from:d,to:c})):f.dom.style[h]=a},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var a=this;a.disabled=!1,a.el&&a.el.removeCls(a.slider.disabledCls)},disable:function(){var a=this;a.disabled=!0,a.el&&a.el.addCls(a.slider.disabledCls)},initEvents:function(){var a=this,b=a.el;a.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(a.onBeforeDragStart,a),onStart:Ext.Function.bind(a.onDragStart,a),onDrag:Ext.Function.bind(a.onDrag,a),onEnd:Ext.Function.bind(a.onDragEnd,a),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),a.tracker.initEl(b)},onBeforeDragStart:function(){return this.disabled?!1:(this.slider.promoteThumb(this),!0)},onDragStart:function(a){var b=this,c=b.slider;c.onDragStart(b,a),b.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),b.dragging=b.slider.dragging=!0,b.dragStartValue=b.value,c.fireEvent("dragstart",c,a,b)},onDrag:function(a){var b,c,d=this,e=d.slider,f=d.index,g=d.getValueFromTracker();void 0!==g&&(d.constrain&&(b=e.thumbs[f+1],c=e.thumbs[f-1],void 0!==c&&g<=c.value&&(g=c.value),void 0!==b&&g>=b.value&&(g=b.value)),e.setValue(f,g,!1),e.fireEvent("drag",e,a,d))},getValueFromTracker:function(){var a=this.slider,b=a.getTrackpoint(this.tracker.getXY());return void 0!==b?a.reversePixelValue(b):void 0},onDragEnd:function(a){var b=this,c=b.slider,d=b.value;c.onDragEnd(b,a),b.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),b.dragging=c.dragging=!1,c.fireEvent("dragend",c,a),b.dragStartValue!=d&&c.fireEvent("changecomplete",c,d,b)},destroy:function(){Ext.destroy(this.tracker)}}),Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(a){var b,c,d=this;switch(d.position||(d.position=a.vertical?d.defaultVerticalPosition:d.defaultHorizontalPosition),d.position){case"top":c=[0,-10],b="b-t?";break;case"bottom":c=[0,10],b="t-b?";break;case"left":c=[-10,0],b="r-l?";break;case"right":c=[10,0],b="l-r?"}d.align||(d.align=b),d.offsets||(d.offsets=c),a.on({scope:d,dragstart:d.onSlide,drag:d.onSlide,dragend:d.hide,destroy:d.destroy})},onSlide:function(a,b,c){var d=this;d.show(),d.update(d.getText(c)),d.el.alignTo(c.el,d.align,d.offsets)},getText:function(a){return String(a.value)}}),Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template","Ext.layout.component.field.Slider"],childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}","{childElCls}",'" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(a,b){for(var c,d,e=b.$comp,f=0,g=e.thumbs,h=g.length;h>f;f++)c=g[f],d=c.getElConfig(),d.id=e.id+"-thumb-"+f,Ext.DomHelper.generateMarkup(d,a)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var a=this,b=Ext.value,c=b(a.values,[b(a.value,b(a.minValue,0))]),d=0,e=c.length;for(a.originalValue=c;e>d;d++)a.addThumb(c[d])},initComponent:function(){var a,b,c,d,e,f=this;if(f.thumbs=[],f.keyIncrement=Math.max(f.increment,f.keyIncrement),f.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),f.callParent(),f.useTips){for(a=Ext.isObject(f.useTips)?Ext.apply({},f.useTips):f.tipText?{getText:f.tipText}:{},e=f.plugins=f.plugins||[],d=e.length,c=0;d>c;c++)if(e[c].isSliderTip){b=!0;break}b||f.plugins.push(new Ext.slider.Tip(a))}},addThumb:function(a){var b=this,c=new Ext.slider.Thumb({ownerCt:b,ownerLayout:b.getComponentLayout(),value:a,slider:b,index:b.thumbs.length,constrain:b.constrainThumbs,disabled:!!b.readOnly});return b.thumbs.push(c),b.rendered&&c.render(),c},promoteThumb:function(a){var b,c,d=this.thumbs,e=d.length;for(c=0;e>c;c++)b=d[c],b==a?b.bringToFront():b.sendToBack()},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{$comp:a,vertical:a.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:a.minValue,maxValue:a.maxValue,value:a.value,childElCls:""})},onRender:function(){var a,b=this,c=b.thumbs,d=c.length,e=0;for(b.callParent(arguments),e=0;d>e;e++)a=c[e],a.el=b.el.getById(b.id+"-thumb-"+e),a.onRender()},initEvents:function(){var a=this;a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(a){var b,c,d,e=this,f=e.vertical,g=e.innerEl;return f?(d="top",b=g.getHeight()):(d=e.horizontalProp,b=g.getWidth()),a=e.transformTrackPoints(g.translatePoints(a)),c=Ext.Number.constrain(a[d],0,b),f?b-c:c},transformTrackPoints:Ext.identityFn,onMouseDown:function(a){var b,c=this,d=!1,e=0,f=c.thumbs,g=f.length;if(!c.disabled){for(;g>e;e++)d=d||a.target==f[e].el.dom;c.clickToChange&&!d&&(b=c.getTrackpoint(a.getXY()),void 0!==b&&c.onClickChange(b)),c.focus()}},onClickChange:function(a){var b,c,d=this;b=d.getNearest(a),b.disabled||(c=b.index,d.setValue(c,Ext.util.Format.round(d.reversePixelValue(a),d.decimalPrecision),void 0,!0))},getNearest:function(a){for(var b,c,d,e=this,f=e.reversePixelValue(a),g=e.getRange()+5,h=null,i=e.thumbs,j=0,k=i.length;k>j;j++)b=e.thumbs[j],c=b.value,d=Math.abs(c-f),Math.abs(g>=d)&&(h=b,g=d);return h},onKeyDown:function(a){var b,c,d=this;if(d.disabled||1!==d.thumbs.length)return void a.preventDefault();switch(b=a.getKey()){case a.UP:case a.RIGHT:a.stopEvent(),c=a.ctrlKey?d.maxValue:d.getValue(0)+d.keyIncrement,d.setValue(0,c,void 0,!0);break;case a.DOWN:case a.LEFT:a.stopEvent(),c=a.ctrlKey?d.minValue:d.getValue(0)-d.keyIncrement,d.setValue(0,c,void 0,!0);break;default:a.preventDefault()}},normalizeValue:function(a){var b=this,c=b.zeroBasedSnapping?"snap":"snapInRange";return a=Ext.Number[c](a,b.increment,b.minValue,b.maxValue),a=Ext.util.Format.round(a,b.decimalPrecision),a=Ext.Number.constrain(a,b.minValue,b.maxValue)},setMinValue:function(a){var b,c,d=this,e=d.thumbs,f=e.length;for(d.minValue=a,d.rendered&&d.inputEl.dom.setAttribute("aria-valuemin",a),c=0;f>c;++c)b=e[c],b.value<a&&d.setValue(c,a,!1);d.syncThumbs()},setMaxValue:function(a){var b,c,d=this,e=d.thumbs,f=e.length;for(d.maxValue=a,d.rendered&&d.inputEl.dom.setAttribute("aria-valuemax",a),c=0;f>c;++c)b=e[c],b.value>a&&d.setValue(c,a,!1);d.syncThumbs()},setValue:function(a,b,c,d){var e,f,g,h,i=this,j=i.thumbs;if(Ext.isArray(a)){for(h=a,c=b,g=0,f=h.length;f>g;++g)e=j[g],e&&i.setValue(g,h[g],c);return i}return e=i.thumbs[a],b=i.normalizeValue(b),b!==e.value&&i.fireEvent("beforechange",i,b,e.value,e)!==!1&&(e.value=b,i.rendered&&(i.inputEl.set({"aria-valuenow":b,"aria-valuetext":b}),e.move(i.calculateThumbPosition(b),Ext.isDefined(c)?c!==!1:i.animate),i.fireEvent("change",i,b,e),i.checkDirty(),d&&i.fireEvent("changecomplete",i,b,e))),i},calculateThumbPosition:function(a){var b=this,c=b.minValue,d=(a-c)/b.getRange()*100;return isNaN(d)&&(d=c),d},getRatio:function(){var a=this,b=a.innerEl,c=a.vertical?b.getHeight():b.getWidth(),d=a.getRange();return 0===d?c:c/d},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+this.getRange()*(a/100)},onDisable:function(){var a,b,c,d=this,e=0,f=d.thumbs,g=f.length;for(d.callParent();g>e;e++)a=f[e],b=a.el,a.disable(),Ext.isIE&&(c=b.getXY(),b.hide(),d.innerEl.addCls(d.disabledCls).dom.disabled=!0,d.thumbHolder||(d.thumbHolder=d.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+d.disabledCls})),d.thumbHolder.show().setXY(c))},onEnable:function(){var a,b,c=this,d=0,e=c.thumbs,f=e.length;for(this.callParent();f>d;d++)a=e[d],b=a.el,a.enable(),Ext.isIE&&(c.innerEl.removeCls(c.disabledCls).dom.disabled=!1,c.thumbHolder&&c.thumbHolder.hide(),b.show(),c.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var a=this.thumbs,b=a.length,c=0;b>c;c++)a[c].move(this.calculateThumbPosition(a[c].value))},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){for(var a=[],b=0,c=this.thumbs,d=c.length;d>b;b++)a.push(c[b].value);return a},getSubmitValue:function(){var a=this;return a.disabled||!a.submitValue?null:a.getValue()},reset:function(){for(var a,b=this,c=[].concat(b.originalValue),d=0,e=c.length;e>d;d++)a=c[d],b.setValue(d,a);b.clearInvalid(),delete b.wasValid},setReadOnly:function(a){var b=this,c=b.thumbs,d=c.length,e=0;for(b.callParent(arguments),a=b.readOnly;d>e;++e)a?c[e].disable():c[e].enable()},beforeDestroy:function(){var a,b=this,c=b.thumbs,d=0,e=c.length;for(Ext.destroy(b.innerEl,b.endEl,b.focusEl);e>d;d++)a=c[d],Ext.destroy(a);b.callParent()}}),Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.util.KeyNav"],isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){var a=this;a.addEvents("activate","deactivate","beforeclose","close"),a.callParent(arguments),a.card&&a.setCard(a.card),a.overCls=["over",a.position+"-over"]},getTemplateArgs:function(){var a=this,b=a.callParent();return b.closable=a.closable,b.closeText=a.closeText,b},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var a=this,b=a.up("tabbar"),c=a.up("tabpanel");a.callParent(),a.addClsWithUI(a.position),a.active&&a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls]),a.syncClosableUI(),a.minWidth||(a.minWidth=b?b.minTabWidth:a.minWidth,!a.minWidth&&c&&(a.minWidth=c.minTabWidth),a.minWidth&&a.iconCls&&(a.minWidth+=25)),a.maxWidth||(a.maxWidth=b?b.maxTabWidth:a.maxWidth,!a.maxWidth&&c&&(a.maxWidth=c.maxTabWidth))},onRender:function(){var a=this;a.setElOrientation(),a.callParent(arguments),a.closable&&a.closeEl.addClsOnOver(a.closeElOverCls),a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;("left"===a||"right"===a)&&this.el.setVertical("right"===a?90:270)},enable:function(){var a=this;return a.callParent(arguments),a.removeClsWithUI(a.position+"-disabled"),a},disable:function(){var a=this;return a.callParent(arguments),a.addClsWithUI(a.position+"-disabled"),a},onDestroy:function(){var a=this;Ext.destroy(a.keyNav),delete a.keyNav,a.callParent(arguments)},setClosable:function(a){var b=this;a=!arguments.length||!!a,b.closable!=a&&(b.closable=a,b.card&&(b.card.closable=a),b.syncClosableUI(),b.rendered&&(b.syncClosableElements(),b.updateLayout()))},syncClosableElements:function(){var a=this,b=a.closeEl;a.closable?(b||(b=a.closeEl=a.btnWrap.insertSibling({tag:"a",cls:a.baseCls+"-close-btn",href:"#",title:a.closeText},"after")),b.addClsOnOver(a.closeElOverCls)):b&&(b.remove(),delete a.closeEl)},syncClosableUI:function(){var a=this,b=[a.closableCls,a.closableCls+"-"+a.position];a.closable?a.addClsWithUI(b):a.removeClsWithUI(b)},setCard:function(a){var b=this;b.card=a,b.setText(b.title||a.title),b.setIconCls(b.iconCls||a.iconCls),b.setIcon(b.icon||a.icon),b.setGlyph(b.glyph||a.glyph)
},onCloseClick:function(){var a=this;if(a.fireEvent("beforeclose",a)!==!1)if(a.tabBar){if(a.tabBar.closeTab(a)===!1)return}else a.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(a){var b=this;b.tabBar&&b.tabBar.onClick(a,b.el)},onDeleteKey:function(){this.closable&&this.onCloseClick()},activate:function(a){var b=this;b.active=!0,b.addClsWithUI([b.activeCls,b.position+"-"+b.activeCls]),a!==!0&&b.fireEvent("activate",b)},deactivate:function(a){var b=this;b.active=!1,b.removeClsWithUI([b.activeCls,b.position+"-"+b.activeCls]),a!==!0&&b.fireEvent("deactivate",b)}}),Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(a){return a=a.browserEvent||a,a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a,new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){return Ext.isObject(b)||(b={x:b,y:b}),this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},isContainedBy:function(a){return a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getRegion()),a.contains(this)},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Header",alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.util.Point"],isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var a=this;a.plain&&a.addCls(a.baseCls+"-plain"),a.addClsWithUI(a.orientation),a.addEvents("change"),a.callParent(arguments),Ext.merge(a.layout,a.initialConfig.layout),a.layout.align="vertical"==a.orientation?"left":"top",a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout),a.remove(a.titleCmp),delete a.titleCmp,Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;a.callParent(),"vertical"===a.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict&&a.el.on({mousemove:a.onMouseMove,scope:a})},afterRender:function(){var a=this.layout;this.callParent(),Ext.isIE9&&Ext.isStrict&&"vertical"===this.orientation&&a.innerCt.on("scroll",function(){a.innerCt.dom.scrollLeft=0})},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},adjustTabPositions:function(){var a,b=this.items.items,c=b.length;if(!Ext.isIE9m)if("right"===this.dock)for(;c--;)a=b[c],a.isVisible()&&a.el.setStyle("left",a.lastBox.width+"px");else if("left"===this.dock)for(;c--;)a=b[c],a.isVisible()&&a.el.setStyle("left",-a.lastBox.height+"px")},getLayout:function(){var a=this;return a.layout.type="horizontal"===a.orientation?"hbox":"vbox",a.callParent(arguments)},onAdd:function(a){a.position=this.dock,this.callParent(arguments)},onRemove:function(a){var b=this;a===b.previousTab&&(b.previousTab=null),b.callParent(arguments)},afterComponentLayout:function(){var a=this,b=a.needsScroll;a.callParent(arguments),b&&a.layout.overflowHandler.scrollToItem(a.activeTab),delete a.needsScroll},onClick:function(a,b){var c,d,e,f,g=this,h=g.tabPanel;a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||("vertical"===g.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict?(f=g.getTabInfoFromPoint(a.getXY()),d=f.tab,e=f.close):(c=a.getTarget("."+Ext.tab.Tab.prototype.baseCls),d=c&&Ext.getCmp(c.id),e=d&&d.closeEl&&b===d.closeEl.dom),e&&a.preventDefault(),d&&d.isDisabled&&!d.isDisabled()&&(d.closable&&e?d.onCloseClick():(h?h.setActiveTab(d.card):g.setActiveTab(d),d.focus())))},onMouseMove:function(a){var b,c,d=this,e=d._overTab;a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(b=d.getTabInfoFromPoint(a.getXY()),c=b.tab,c!==e&&(e&&e.rendered&&(e.onMouseLeave(a),d._overTab=null),c?(c.onMouseEnter(a),d._overTab=c,c.disabled||d.el.setStyle("cursor","pointer")):d.el.setStyle("cursor","default")))},onMouseLeave:function(a){var b=this._overTab;b&&b.rendered&&b.onMouseLeave(a)},getTabInfoFromPoint:function(a){for(var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.items.items,u=t.length,v=s.layout.innerCt,w=v.getXY(),x=new Ext.util.Point(a[0],a[1]),y=0;u>y;y++)if(b=t[y].lastBox,k=w[0]+b.x,l=w[1]-v.dom.scrollTop+b.y,m=b.width,n=b.height,c=new Ext.util.Region(l,k+m,l+n,k),c.contains(x)){r=t[y],d=r.closeEl,d&&(f=d.getXY(),i=d.getWidth(),j=d.getHeight(),void 0===s._isTabReversed&&(s._isTabReversed=p=-1!==r.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),q=p?this._reverseDockNames[s.dock]:s.dock,"right"===q?(g=k+m-(f[1]-l+d.getHeight()),h=l+(f[0]-k)):(g=k+(f[1]-l),h=l+k+n-f[0]-d.getWidth()),o=new Ext.util.Region(h,g+i,h+j,g),e=o.contains(x));break}return{tab:r,close:e}},closeTab:function(a){var b,c=this,d=a.card,e=c.tabPanel;if(d&&d.fireEvent("beforeclose",d)===!1)return!1;if(b=c.findNextActivatable(a),Ext.suspendLayouts(),e&&d){if(delete a.ownerCt,d.fireEvent("close",d),e.remove(d),e.getComponent(d))return a.ownerCt=c,Ext.resumeLayouts(!0),!1;a.fireClose(),c.remove(a)}b&&(e?e.setActiveTab(b.card):c.setActiveTab(b),b.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(a){var b=this;return a.active&&b.items.getCount()>1?b.previousTab&&b.previousTab!==a&&!b.previousTab.disabled?b.previousTab:a.next("tab[disabled=false]")||a.prev("tab[disabled=false]"):void 0},setActiveTab:function(a,b){var c=this;a.disabled||a===c.activeTab||(c.activeTab&&(c.activeTab.isDestroyed?c.previousTab=null:(c.previousTab=c.activeTab,c.activeTab.deactivate())),a.activate(),c.activeTab=a,c.needsScroll=!0,b||(c.fireEvent("change",c,a,a.card),c.updateLayout()))}}),Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>"/>','<tpl if="checked !== null">','<input type="button" role="checkbox" <tpl if="checked">aria-checked="true" </tpl>','class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var a=this;a.origRenderer=a.renderer,a.origScope=a.scope||window,a.renderer=a.treeRenderer,a.scope=a,a.callParent()},treeRenderer:function(a,b,c,d,e,f,g){var h,i=this,j=c.get("cls"),k=i.origRenderer,l=c.data,m=c.parentNode,n=g.rootVisible,o=[];for(j&&(b.tdCls+=" "+j);m&&(n||m.data.depth>0);)h=m.data,o[n?h.depth:h.depth-1]=h.isLast?0:1,m=m.parentNode;return i.getTpl("cellTpl").apply({record:c,baseIconCls:i.iconCls,iconCls:l.iconCls,icon:l.icon,checkboxCls:i.checkboxCls,checked:l.checked,elbowCls:i.elbowCls,expanderCls:i.expanderCls,textCls:i.textCls,leaf:l.leaf,expandable:c.isExpandable(),isLast:l.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:l.href,hrefTarget:l.hrefTarget,lines:o,metaData:b,childCls:i.getChildCls?i.getChildCls()+" ":"",value:k?k.apply(i.origScope,arguments):a})}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){var a=this;a.callParent(arguments),"SINGLE"===a.mode&&a.showHeaderCheckbox!==!0&&(a.showHeaderCheckbox=!1)},beforeViewRender:function(a){var b,c=this;c.callParent(arguments),(!c.hasLockedHeader()||a.headerCt.lockedCt)&&(c.showHeaderCheckbox!==!1&&a.headerCt.on("headerclick",c.onHeaderClick,c),c.addCheckbox(a,!0),b=a.ownerCt,a.headerCt.lockedCt&&(b=b.ownerCt),c.mon(b,"reconfigure",c.onReconfigure,c))},bindComponent:function(){var a=this;a.sortable=!1,a.callParent(arguments)},hasLockedHeader:function(){var a,b=this.views,c=b.length;for(a=0;c>a;a++)if(b[a].headerCt.lockedCt)return!0;return!1},addCheckbox:function(a,b){var c=this,d=c.injectCheckbox,e=a.headerCt;d!==!1&&("first"==d?d=0:"last"==d&&(d=e.getColumnCount()),Ext.suspendLayouts(),a.getStore().buffered&&(c.showHeaderCheckbox=!1),e.add(d,c.getHeaderConfig()),Ext.resumeLayouts()),b!==!0&&a.refresh()},onReconfigure:function(a,b,c){c&&this.addCheckbox(this.views[0])},toggleUiHeader:function(a){var b=this.views[0],c=b.headerCt,d=c.child("gridcolumn[isCheckerHd]"),e=this.checkerOnCls;d&&(a?d.addCls(e):d.removeCls(e))},onHeaderClick:function(a,b,c){if(b.isCheckerHd){c.stopEvent();var d=this,e=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");d.preventFocus=!0,e?d.deselectAll():d.selectAll(),delete d.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==!1;return{isCheckerHd:b,text:"&#160;",clickTargetName:"el",width:a.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},renderer:function(a,b){var c=Ext.baseCSSPrefix;return b.tdCls=c+"grid-cell-special "+c+"grid-cell-row-checker",'<div class="'+c+'grid-row-checker">&#160;</div>'},processSelection:function(a,b,c,d,e){var f,g=this,h=e.getTarget(g.checkSelector);(!g.checkOnly||h)&&(h?(f=g.getSelectionMode(),"SINGLE"!==f&&g.setSelectionMode("SIMPLE"),g.selectWithEvent(b,e),g.setSelectionMode(f)):g.selectWithEvent(b,e))},onSelectChange:function(){this.callParent(arguments),this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var a,b,c,d=this,e=d.store,f=e.getCount(),g=d.views,h=!1,i=0;if(!e.buffered&&f>0){for(a=d.selected,h=!0,c=0,b=a.getCount();b>c&&d.storeHasSelected(a.getAt(c));++c)++i;h=f===i}g&&g.length&&d.toggleUiHeader(h)}}),Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(){var a=arguments,b=a.length;return(1==b||3>=b&&"number"!=typeof a[1])&&(a=Ext.toArray(a),a.unshift(0)),this.callParent(a)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(){var a=this;a.path="/",a.expires=new Date(Ext.Date.now()+6048e5),a.domain=null,a.secure=!1,a.callParent(arguments),a.state=a.readCookies()},set:function(a,b){var c=this;return"undefined"==typeof b||null===b?void c.clear(a):(c.setCookie(a,b),void c.callParent(arguments))},clear:function(a){this.clearCookie(a),this.callParent(arguments)},readCookies:function(){for(var a,b,c,d={},e=document.cookie+";",f=/\s?(.*?)=(.*?);/g,g=this.prefix,h=g.length;null!=(a=f.exec(e));)b=a[1],c=a[2],b&&b.substring(0,h)==g&&(d[b.substr(h)]=this.decodeValue(c));return d},setCookie:function(a,b){var c=this;document.cookie=c.prefix+a+"="+c.encodeValue(b)+(null==c.expires?"":"; expires="+c.expires.toGMTString())+(null==c.path?"":"; path="+c.path)+(null==c.domain?"":"; domain="+c.domain)+(1==c.secure?"; secure":"")},clearCookie:function(a){var b=this;document.cookie=b.prefix+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==b.path?"":"; path="+b.path)+(null==b.domain?"":"; domain="+b.domain)+(1==b.secure?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",alias:"state.localstorage",constructor:function(){var a=this;a.callParent(arguments),a.store=a.getStorageObject(),a.state=a.store?a.readLocalStorage():{}},readLocalStorage:function(){for(var a,b=this.store,c=0,d=b.length,e=this.prefix,f=e.length,g={};d>c;++c)a=b.key(c),a.substring(0,f)==e&&(g[a.substr(f)]=this.decodeValue(b.getItem(a)));return g},set:function(a,b){var c=this;c.clear(a),"undefined"!=typeof b&&null!==b&&(c.store.setItem(c.prefix+a,c.encodeValue(b)),c.callParent(arguments))},clear:function(a){this.store.removeItem(this.prefix+a),this.callParent(arguments)},getStorageObject:function(){return Ext.supports.LocalStorage?window.localStorage:!1}}),Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var a=this,b=[].concat(a.dockedItems||[]),c=a.activeTab||(a.activeTab=0),d=a.tabPosition;a.layout=new Ext.layout.container.Card(Ext.apply({owner:a,deferredRender:a.deferredRender,itemCls:a.itemCls,activeItem:c},a.layout)),a.tabBar=new Ext.tab.Bar(Ext.apply({ui:a.ui,dock:a.tabPosition,orientation:"top"==d||"bottom"==d?"horizontal":"vertical",plain:a.plain,cardLayout:a.layout,tabPanel:a},a.tabBar)),b.push(a.tabBar),a.dockedItems=b,a.addEvents("beforetabchange","tabchange"),a.callParent(arguments),c=a.activeTab=a.getComponent(c),c&&a.tabBar.setActiveTab(c.tab,!0)},setActiveTab:function(a){var b,c=this;return a=c.getComponent(a),a?(b=c.getActiveTab(),b!==a&&c.fireEvent("beforetabchange",c,a,b)===!1?!1:(a.isComponent||(Ext.suspendLayouts(),a=c.add(a),Ext.resumeLayouts()),c.activeTab=a,Ext.suspendLayouts(),c.layout.setActiveItem(a),a=c.activeTab=c.layout.getActiveItem(),a&&a!==b?(c.tabBar.setActiveTab(a.tab),Ext.resumeLayouts(!0),b!==a&&c.fireEvent("tabchange",c,a,b)):Ext.resumeLayouts(!0),a)):void 0},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);return a.activeTab=b&&-1!=a.items.indexOf(b)?b:null,a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(a,b){var c=this,d=a.tabConfig||{},e={xtype:"tab",ui:c.tabBar.ui,card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:c.tabBar,position:c.tabPosition,closeText:a.closeText};d=Ext.applyIf(d,e),a.tab=c.tabBar.insert(b,d),a.on({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow,iconchange:c.onItemIconChange,iconclschange:c.onItemIconClsChange,titlechange:c.onItemTitleChange}),a.isPanel&&(c.removePanelHeader&&(a.rendered?a.header&&a.header.hide():a.header=!1),a.isPanel&&c.border&&a.setBorder(!1))},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){return a!==this.activeTab?(this.setActiveTab(a),!1):void 0},onItemIconChange:function(a,b){a.tab.setIcon(b)},onItemIconClsChange:function(a,b){a.tab.setIconCls(b)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(a){var b,c=this;c.destroying||1==c.items.getCount()?c.activeTab=null:-1!==(b=c.tabBar.items.indexOf(c.tabBar.findNextActivatable(a.tab)))&&c.setActiveTab(b),this.callParent(arguments),delete a.tab.card,delete a.tab},onRemove:function(a){var b=this;a.un({scope:b,enable:b.onItemEnable,disable:b.onItemDisable,beforeshow:b.onItemBeforeShow}),b.destroying||a.tab.ownerCt!==b.tabBar||b.tabBar.remove(a.tab)}}),Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1}),Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(a){a=a||{},void 0===a.animate&&(a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=a.animate,delete a.animate,this.callParent([a])},initComponent:function(){var a,b=this,c=[b.treeCls],d=b.store;b.useArrows&&(c.push(b.arrowCls),b.lines=!1),b.lines?c.push(b.linesCls):b.useArrows||c.push(b.noLinesCls),Ext.isString(d)?d=b.store=Ext.StoreMgr.lookup(d):!d||Ext.isObject(d)&&!d.isStore?d=b.store=new Ext.data.TreeStore(Ext.apply({root:b.root,fields:b.fields,model:b.model,folderSort:b.folderSort},d)):b.root&&(d=b.store=Ext.data.StoreManager.lookup(d),d.setRootNode(b.root),void 0!==b.folderSort&&(d.folderSort=b.folderSort,d.sort())),b.viewConfig=Ext.apply({rootVisible:b.rootVisible,animate:b.enableAnimations,singleExpand:b.singleExpand,node:d.getRootNode(),hideHeaders:b.hideHeaders},b.viewConfig),b.columns||(void 0===b.initialConfig.hideHeaders&&(b.hideHeaders=!0),b.addCls(b.autoWidthCls),b.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":1e4,dataIndex:b.displayField}]),b.cls&&c.push(b.cls),b.cls=c.join(" "),b.callParent(),b.selModel.treeStore=b.store,a=b.getView(),b.relayEvents(a,["checkchange","afteritemexpand","afteritemcollapse"]),a.isLockingView||a.rootVisible||b.getRootNode()||b.setRootNode({expanded:!0})},bindStore:function(a,b){var c=this;c.store=a,c.storeListeners=c.mon(a,{destroyable:!0,load:c.onStoreLoad,rootchange:c.onRootChange,clear:c.onClear,scope:c}),c.storeRelayers=c.relayEvents(a,["beforeload","load"]),c.storeRelayers1=c.mon(a,{destroyable:!0,append:c.createRelayer("itemappend"),remove:c.createRelayer("itemremove"),move:c.createRelayer("itemmove",[0,4]),insert:c.createRelayer("iteminsert"),beforeappend:c.createRelayer("beforeitemappend"),beforeremove:c.createRelayer("beforeitemremove"),beforemove:c.createRelayer("beforeitemmove"),beforeinsert:c.createRelayer("beforeiteminsert"),expand:c.createRelayer("itemexpand",[0,1]),collapse:c.createRelayer("itemcollapse",[0,1]),beforeexpand:c.createRelayer("beforeitemexpand",[0,1]),beforecollapse:c.createRelayer("beforeitemcollapse",[0,1])}),a.ownerTree=c,b||c.view.setRootNode(c.getRootNode())},unbindStore:function(){var a=this,b=a.store;b&&(Ext.destroy(a.storeListeners,a.storeRelayers,a.storeRelayers1),delete b.ownerTree)},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations;d&&(e||Ext.suspendLayouts(),d.expand(!0,a,b||c),e||Ext.resumeLayouts(!0))},collapseAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations,f=c.getView();d&&(e||Ext.suspendLayouts(),b=b||c,f.rootVisible?d.collapse(!0,a,b):d.collapseChildren(!0,a,b),e||Ext.resumeLayouts(!0))},expandPath:function(a,b,c,d,e){{var f,g,h=this,i=h.getRootNode(),j=1;h.getView()}return b=b||h.getRootNode().idProperty,c=c||"/",Ext.isEmpty(a)?void Ext.callback(d,e||h,[!1,null]):(f=a.split(c),i.get(b)!=f[1]?void Ext.callback(d,e||h,[!1,i]):(g=function(){if(++j===f.length)return void Ext.callback(d,e||h,[!0,i]);var a=i.findChild(b,f[j]);return a?(i=a,void i.expand(!1,g)):void Ext.callback(d,e||h,[!1,i])},void i.expand(!1,g)))},selectPath:function(a,b,c,d,e){var f,g,h,i=this;b=b||i.getRootNode().idProperty,c=c||"/",g=a.split(c),h=g.pop(),g.length>1?i.expandPath(g.join(c),b,c,function(a,c){var f=c;return a&&c&&(c=c.findChild(b,h))?(i.getSelectionModel().select(c),void Ext.callback(d,e||i,[!0,c])):void Ext.callback(d,e||i,[!1,f])},i):(f=i.getRootNode(),f.getId()===h?(i.getSelectionModel().select(f),Ext.callback(d,e||i,[!0,f])):Ext.callback(d,e||i,[!1,null]))}}),Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:!1,constructor:function(a){var b,c,d,e=this;Ext.apply(e,a),e.ddGroup||(e.ddGroup="view-dd-zone-"+e.view.id),b=e.view,c=b.ownerCt,d=c?c.getTargetEl().dom:b.el.dom.parentNode,e.callParent([d]),e.ddel=Ext.get(document.createElement("div")),e.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(a,b,c){this.initTarget(a,b,c),this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(a){this.callParent(),a.el.focus()},onItemMouseDown:function(a,b,c,d,e){this.isPreventDrag(e,b,c,d)||(a.focusRow&&a.focusRow(b),this.handleMouseDown(e))},isPreventDrag:function(){return!1},getDragData:function(a){var b=this.view,c=a.getTarget(b.getItemSelector());return c?{copy:b.copy||b.allowCopy&&a.ctrlKey,event:new Ext.EventObjectImpl(a),view:b,ddel:this.ddel,item:c,records:b.getSelectionModel().getSelection(),fromPosition:Ext.fly(c).getXY()}:void 0},onInitDrag:function(a,b){var c=this,d=c.dragData,e=d.view,f=e.getSelectionModel(),g=e.getRecord(d.item);return f.isSelected(g)||f.select(g,!0),d.records=f.getSelection(),c.ddel.update(c.getDragText()),c.proxy.update(c.ddel.dom),c.onStartDrag(a,b),!0},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,1==a?"":"s")},getRepairXY:function(a,b){return b?b.fromPosition:!1}}),Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(a,b){return b.get("allowDrag")===!1||!!a.getTarget(this.view.expanderSelector)},getDragText:function(){var a=this.dragData.records,b=a.length,c=a[0].get(this.displayField),d="s";return 1===b&&c?c:(c||(d=""),Ext.String.format(this.dragText,b,d))},afterRepair:function(){var a,b,c=this,d=c.view,e=d.selectedItemCls,f=c.dragData.records,g=f.length,h=Ext.fly;if(Ext.enableFx&&c.repairHighlight)for(a=0;g>a;a++)b=d.getNode(f[a]),h(b.firstChild).highlight(c.repairHighlightColor,{listeners:{beforeanimate:function(){d.isSelected(b)&&h(b).removeCls(e)},afteranimate:function(){d.isSelected(b)&&h(b).addCls(e)}}});c.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(a){var b=this.view;this.expandProcId=!1,a.isLeaf()||a.isExpanded()||(b.expand(a),this.expandProcId=!1)},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(a,b){var c,d=this.view,e=d.getRecord(b),f=a.getPageY(),g=e.isLeaf(),h=!1,i=Ext.fly(b).getRegion();return e.isRoot()?"append":this.appendOnly?g?!1:"append":(this.allowParentInserts||(h=e.hasChildNodes()&&e.isExpanded()),c=(i.bottom-i.top)/(g?2:3),f>=i.top&&f<i.top+c?"before":!h&&(g||f>=i.bottom-c&&f<=i.bottom)?"after":"append")},isValidDropPoint:function(a,b,c,d,e){if(!a||!e.item)return!1;var f,g,h=this.view,i=h.getRecord(a),j=e.records,k=j.length,l=j.length;if(!(i&&b&&k))return!1;for(f=0;l>f;f++)if(g=j[f],g.isNode&&g.contains(i))return!1;return"append"===b&&i.get("allowDrop")===!1?!1:"append"!=b&&i.parentNode.get("allowDrop")===!1?!1:Ext.Array.contains(j,i)?!1:h.fireEvent("nodedragover",i,b,e,d)!==!1},onNodeOver:function(a,b,c,d){var e=this.getPosition(c,a),f=this.dropNotAllowed,g=this.view,h=g.getRecord(a),i=this.getIndicator(),j=0;return this.cancelExpand(),"append"!=e||this.expandProcId||Ext.Array.contains(d.records,h)||h.isLeaf()||h.isExpanded()||this.queueExpand(h),this.isValidDropPoint(a,e,b,c,d)?(this.valid=!0,this.currentPosition=e,this.overRecord=h,i.setWidth(Ext.fly(a).getWidth()),j=Ext.fly(a).getY()-Ext.fly(g.el).getY()-1,"before"==e?(f=h.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",i.showAt(0,j),b.proxy.show()):"after"==e?(f=h.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",j+=Ext.fly(a).getHeight(),i.showAt(0,j),b.proxy.show()):(f=Ext.baseCSSPrefix+"tree-drop-ok-append",i.hide())):this.valid=!1,this.currentCls=f,f},onNodeOut:function(){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(a,b){return b.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=l.view,n=b?b.parentNode:m.panel.getRootNode(),o=m.getStore().treeStore.model;if(a.copy)for(d=a.records,a.records=[],e=0,f=d.length;f>e;e++)g=d[e],a.records.push(g.isNode?g.copy(void 0,!0):new o(g.data,g.getId()));l.cancelExpand(),"before"==c?(h=n.insertBefore,i=[null,b],b=n):"after"==c?(b.nextSibling?(h=n.insertBefore,i=[null,b.nextSibling]):(h=n.appendChild,i=[null]),b=n):(b.isExpanded()||b.isLoading()||(j=!0),h=b.appendChild,i=[null]),k=function(){var c,d;for(Ext.suspendLayouts(),m.getSelectionModel().clearSelections(),e=0,f=a.records.length;f>e;e++)g=a.records[e],g.isNode||(g=g.isModel?new o(g.data,g.getId()):new o(g),a.records[e]=g),i[0]=g,h.apply(b,i);if(l.sortOnDrop&&b.sort(b.getOwnerTree().store.generateComparator()),Ext.resumeLayouts(!0),Ext.enableFx&&l.dropHighlight)for(c=l.dropHighlightColor,e=0;f>e;e++)d=m.getNode(a.records[e]),d&&Ext.fly(d).highlight(c)},j?b.expand(!1,k):b.isLoading()?b.on({expand:k,delay:1,single:!0}):k()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(a){a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(a){var b,c=this;c.enableDrag&&(c.containerScroll&&(b=a.getEl()),c.dragZone=new Ext.tree.ViewDragZone({view:a,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText,displayField:c.displayField,repairHighlightColor:c.nodeHighlightColor,repairHighlight:c.nodeHighlightOnRepair,scrollEl:b})),c.enableDrop&&(c.dropZone=new Ext.tree.ViewDropZone({view:a,ddGroup:c.dropGroup||c.ddGroup,allowContainerDrops:c.allowContainerDrops,appendOnly:c.appendOnly,allowParentInserts:c.allowParentInserts,expandDelay:c.expandDelay,dropHighlightColor:c.nodeHighlightColor,dropHighlight:c.nodeHighlightOnDrop,sortOnDrop:c.sortOnDrop,containerScroll:c.containerScroll}))}},function(){var a=this.prototype;a.nodeHighlightOnDrop=a.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(a,b){var c=arguments,d=arguments.length,e=d>2?c[2]:null,f=d>3?c[3]:"/",g=d>4?c[4]:null,h=d>5?c[5]:!1;document.cookie=a+"="+escape(b)+(null===e?"":"; expires="+e.toGMTString())+(null===f?"":"; path="+f)+(null===g?"":"; domain="+g)+(h===!0?"; secure":"")},get:function(a){for(var b=a+"=",c=b.length,d=document.cookie.length,e=0,f=0;d>e;){if(f=e+c,document.cookie.substring(e,f)==b)return this.getCookieVal(f);if(e=document.cookie.indexOf(" ",e)+1,0===e)break}return null},clear:function(a,b){this.get(a)&&(b=b||"/",document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+b)},getCookieVal:function(a){var b=document.cookie.indexOf(";",a);return-1==b&&(b=document.cookie.length),unescape(document.cookie.substring(a,b))}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,getGroupString:function(a){return a.get(this.property)}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var a=this;a.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8,a.iframe=null,a.hiddenField=null,a.ready=!1,a.currentToken=null,a.mixins.observable.constructor.call(a)},getHash:function(){var a=window.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null},setHash:function(a){var b=this,c=b.useTopWindow?window.top:window;try{c.location.hash=a}catch(d){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(a){this.currentToken=a,this.fireEvent("change",a)},updateIFrame:function(a){var b,c='<html><body><div id="state">'+Ext.util.Format.htmlEncode(a)+"</div></body></html>";try{return b=this.iframe.contentWindow.document,b.open(),b.write(c),b.close(),!0}catch(d){return!1}},checkIFrame:function(){var a,b,c,d,e=this,f=e.iframe.contentWindow;return f&&f.document?(a=f.document,b=a.getElementById("state"),c=b?b.innerText:null,d=e.getHash(),Ext.TaskManager.start({run:function(){var a=f.document,b=a.getElementById("state"),g=b?b.innerText:null,h=e.getHash();g!==c?(c=g,e.handleStateChange(g),e.setHash(g),d=g,e.doSave()):h!==d&&(d=h,e.updateIFrame(h))},interval:50,scope:e}),e.ready=!0,void e.fireEvent("ready",e)):void Ext.Function.defer(this.checkIFrame,10,this)},startUp:function(){var a,b=this;b.currentToken=b.hiddenField.value||this.getHash(),b.oldIEMode?b.checkIFrame():(a=b.getHash(),Ext.TaskManager.start({run:function(){var c=b.getHash();c!==a&&(a=c,b.handleStateChange(a),b.doSave())},interval:50,scope:b}),b.ready=!0,b.fireEvent("ready",b))},init:function(a,b){var c=this,d=Ext.DomHelper;return c.ready?void Ext.callback(a,b,[c]):Ext.isReady?(c.hiddenField=Ext.getDom(c.fieldId),c.hiddenField||(c.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:c.fieldId}]},!1,!0).firstChild),c.oldIEMode&&(c.iframe=Ext.getDom(c.iframeId),c.iframe||(c.iframe=d.append(c.hiddenField.parentNode,{tag:"iframe",id:c.iframeId,src:Ext.SSL_SECURE_URL}))),c.addEvents("ready","change"),a&&c.on("ready",a,b,{single:!0}),void c.startUp()):void Ext.onReady(function(){c.init(a,b)})},add:function(a,b){var c=this;return b!==!1&&c.getToken()===a?!0:c.oldIEMode?c.updateIFrame(a):(c.setHash(a),!0)
},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});